!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=260)}([function(t,e,n){var r=n(2),i=n(31),o=n(22),s=n(23),a=n(32),u="prototype",l=function(t,e,n){var c,h,f,d,p=t&l.F,y=t&l.G,g=t&l.S,v=t&l.P,m=t&l.B,_=y?r:g?r[e]||(r[e]={}):(r[e]||{})[u],b=y?i:i[e]||(i[e]={}),x=b[u]||(b[u]={});y&&(n=e);for(c in n)h=!p&&_&&_[c]!==undefined,f=(h?_:n)[c],d=m&&h?a(f,r):v&&"function"==typeof f?a(Function.call,f):f,_&&s(_,c,f,t&l.U),b[c]!=f&&o(b,c,d),v&&x[c]!=f&&(x[c]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";e.__esModule=!0,e.VERSION="4.8.2",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){"use strict";function r(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}var o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X,V,Y,z,K,q,Z,Q,J;e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=undefined,o=n(3),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),s=n(17),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),a=n(30),Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return i(a)["default"]}}),u=n(145),Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return i(u)["default"]}}),l=n(215),Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return i(l)["default"]}}),c=n(79),Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return i(c)["default"]}}),h=n(217),Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return i(h)["default"]}}),f=n(216),Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return i(f)["default"]}}),d=n(147),Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return i(d)["default"]}}),p=n(149),Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return i(p)["default"]}}),y=n(566),Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(y)["default"]}}),g=n(153),Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return i(g)["default"]}}),v=n(569),Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return i(v)["default"]}}),m=n(585),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i(m)["default"]}}),_=n(230),Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return i(_)["default"]}}),b=n(231),Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return i(b)["default"]}}),x=n(587),Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return i(x)["default"]}}),w=n(232),Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return i(w)["default"]}}),T=n(589),Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return i(T)["default"]}}),E=n(596),Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(E)["default"]}}),O=n(597),Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return i(O)["default"]}}),S=n(51),Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return i(S)["default"]}}),A=n(228),Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return i(A)["default"]}}),P=n(68),Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return i(P)["default"]}}),C=n(152),Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return i(C)["default"]}}),M=n(223),Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return i(M)["default"]}}),I=n(220),Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return i(I)["default"]}}),R=n(221),Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return i(R)["default"]}}),D=n(224),Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(D)["default"]}}),N=n(82),Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return i(N)["default"]}}),L=n(81),Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return i(L)["default"]}}),k=n(106),Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return i(k)["default"]}}),j=n(108),Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return i(j)["default"]}}),F=n(229),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return i(F)["default"]}}),U=n(226),Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(U)["default"]}}),B=n(227),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return i(B)["default"]}}),G=n(233),Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return i(G)["default"]}}),H=n(234),Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return H.autoDetectRenderer}}),W=n(7),X=r(W),V=n(151),Y=r(V),z=n(16),K=i(z),q=n(80),Z=i(q),Q=n(107),J=i(Q),e.settings=K["default"],e.utils=X,e.ticker=Y,e.CanvasRenderer=Z["default"],e.WebGLRenderer=J["default"]},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function r(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(){return++B}function s(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function a(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function u(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function l(t,e){var n=O["default"].RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):e!==undefined?e:1}function c(t){var e=T.DATA_URI.exec(t);return e?{mediaType:e[1]?e[1].toLowerCase():undefined,subType:e[2]?e[2].toLowerCase():undefined,charset:e[3]?e[3].toLowerCase():undefined,encoding:e[4]?e[4].toLowerCase():undefined,data:e[5]}:undefined}function h(t){var e=T.URL_FILE_EXTENSION.exec(t);return e?e[1].toLowerCase():undefined}function f(t){var e=T.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}function d(){G=!0}function p(t){if(!G){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+T.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+T.VERSION+" - "+t+" - http://www.pixijs.com/");G=!0}}function y(){var t,e,n,r,i={stencil:!0,failIfMajorPerformanceCaveat:!0};try{return!!window.WebGLRenderingContext&&(t=document.createElement("canvas"),e=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),n=!(!e||!e.getContextAttributes().stencil),e&&(r=e.getExtension("WEBGL_lose_context"))&&r.loseContext(),e=null,n)}catch(o){return!1}}function g(t){return 0===t?0:t<0?-1:1}function v(){var t=void 0;for(t in H)H[t].destroy();for(t in W)W[t].destroy()}function m(){var t=void 0;for(t in H)delete H[t];for(t in W)delete W[t]}function _(t,e){return X[e?1:0][t]}function b(t,e){var n,r,i;return 1===e?(255*e<<24)+t:0===e?0:(n=t>>16&255,r=t>>8&255,i=255&t,n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(255*e<<24)+(n<<16)+(r<<8)+i)}function x(t,e,n,r){return n=n||new Float32Array(4),r||r===undefined?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function w(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||r===undefined)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}var T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X;e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=undefined,e.uid=o,e.hex2rgb=s,e.hex2string=a,e.rgb2hex=u,e.getResolutionOfUrl=l,e.decomposeDataUri=c,e.getUrlFileExtension=h,e.getSvgSize=f,e.skipHello=d,e.sayHello=p,e.isWebGLSupported=y,e.sign=g,e.destroyTextureCache=v,e.clearTextureCache=m,e.correctBlendMode=_,e.premultiplyTint=b,e.premultiplyRgba=x,e.premultiplyTintToRgba=w,T=n(3),E=n(16),O=i(E),S=n(62),A=i(S),P=n(554),C=i(P),M=n(555),I=r(M),R=n(146),D=r(R),N=n(556),L=i(N),k=n(557),j=i(k),F=n(148),U=i(F),B=0,G=!1,e.isMobile=D,e.removeItems=L["default"],e.EventEmitter=A["default"],e.pluginTarget=C["default"],e.mixins=I,e.earcut=U["default"],H=e.TextureCache=Object.create(null),W=e.BaseTextureCache=Object.create(null),X=e.premultiplyBlendMode=(0,j["default"])()},function(t,e,n){var r=n(85)("wks"),i=n(53),o=n(2).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r,i,o,s,a,u,l,c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(100),i=n(469),o=n(470),s=n(74),a=n(75),u="_uuid2",l={CONFIG:{version:"work in progress",debug:!1,gameName:"gameName not set",locale:"en",soundRoot:"assets/sounds/",keyMask:575,toPreload:[],fpsLevels:[40,30,20,0],amountOfPlayers:1},Storage:s["default"],SoundManager:new i.SoundManager,Sounds:o["default"],Device:r["default"],init:function(t){return l.CONFIG=c({},l.CONFIG,t),l.Sounds.init(),l.enforcePushState=l.Device.enforcePushState||!1,l.Device.init()},getJoystick:function(){return r["default"].joystick||{x:0,y:0}},useCanvas:function(){var t=s["default"].get(l.CONFIG.gameName+"_canvas");return"string"==typeof t?"on"===t:r["default"].useCanvas},useWebGL:function(){return r["default"].useWebGL||!1},setCanvas:function(t){r["default"].useCanvas=t,s["default"].set(l.CONFIG.gameName+"_canvas",t?"on":"off")},getUUID:function(){var t=s["default"].get(u);return t||(t=a.uuid(),s["default"].set(u,t),t)},exit:function(){return r["default"].exit()}},e["default"]=l},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(160),o=n(36),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(38),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(21)),r(n(196)),r(n(41)),r(n(138)),r(n(486)),r(n(487)),r(n(488)),r(n(489)),r(n(490))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={tizen:"samsung",orsay:"samsung",webos:"lg",netcast:"lg"},r=function(){function t(t,e,n,r){this.uid="",this.preparedUrl="",this.serverUrl="",this.defaultParams={},this.serverUrl=t,this.uid=e,this.name=n,this.appConfig=r}return t.prototype.getUrl=function(){return this.preparedUrl||(this.preparedUrl=this.prepareUrl()),""+this.preparedUrl+this.getRndParam()},t.prototype.getParams=function(){return this.defaultParams},t.prototype.prepareUrl=function(){var t=this.getParams(),e=Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&");return this.serverUrl+"?"+e},t.prototype.getRndParam=function(){return""},t.prototype.getDevice=function(){var t=this.appConfig.device;return n[t]||t},t.prototype.getBundleId=function(){return"es.tvgam."+this.appConfig.gameName},t}();e["default"]=r},function(t,e,n){var r=n(37);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a;e.__esModule=!0,i=n(552),o=r(i),s=n(553),a=r(s),e["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o["default"])(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a["default"])(),MESH_CANVAS_PADDING:0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,l,c,h,f;e.__esModule=!0,i=n(141),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(204),Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return r(o)["default"]}}),s=n(142),Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(205),Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return r(a)["default"]}}),u=n(542),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return r(u)["default"]}}),l=n(543),Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return r(l)["default"]}}),c=n(544),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return r(c)["default"]}}),h=n(143),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return r(h)["default"]}}),f=n(545),Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return r(f)["default"]}})},function(t,e,n){var r,i,o,s,a,u,l,c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(67),i=n(9),o="en",s=function(){function t(){this.vocabularies={}}return t.prototype.getValue=function(t){var e=this.vocabularies[i["default"].CONFIG.locale]||this.vocabularies[o]||{};return e[t]?e[t]:(r["default"].warn("Requested translation not found: "+t+" in "+i["default"].CONFIG.locale),t)},t.prototype.addVocabulary=function(t,e){a.vocabularies[e]=c({},this.vocabularies[e]||{},t)},t}(),a=new s,u=function(t){return a.getValue(t)},e._=u,l=function(t,e){a.addVocabulary(t,e)},e.addVocabulary=l,e["default"]=a},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(525);e["default"]=function(t,e){var n,i,o;return void 0===e&&(e="default"),i=(""+(t||0===t?t:"")).split(""),o=i.length-1,'\n\t\t<span class="graphical-word graphical-word-'+e+'">\n\t\t\t'+i.map(function(t,i){if("\n"===t)return n=null,"<br />";var s=r["default"](t,n,e,o===i);return n=t,s}).join("")+"\n\t\t</span>\n\t"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(13);e["default"]=function(){return""+r.getIntInInterval(1e8,999999999)}},function(t,e,n){var r=n(11),i=n(52);t.exports=n(10)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(22),o=n(25),s=n(53)("src"),a="toString",u=Function[a],l=(""+u).split(a);n(31).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:l.join(e+""))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||u.call(this)})},function(t,e,n){var r=n(0),i=n(4),o=n(37),s=/"/g,a=function(t,e,n,r){var i=o(t)+"",a="<"+e;return""!==n&&(a+=" "+n+'="'+(r+"").replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(71),i=n(37);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(72),i=n(52),o=n(26),s=n(36),a=n(25),u=n(160),l=Object.getOwnPropertyDescriptor;e.f=n(10)?l:function(t,e){if(t=o(t),e=s(e,!0),u)try{return l(t,e)}catch(n){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(25),i=n(15),o=n(112)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Keys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,LEFT:10,RIGHT:11,UP:12,DOWN:13,ENTER:14,RETURN:15,RED:16,GREEN:17,YELLOW:18,BLUE:19,PLAY:20,PAUSE:21,STOP:22,PLAY_PAUSE:23,FF:24,RW:25,EXIT:26,CENTER:27}},function(t,e,n){var r={createContext:n(546),setVertexAttribArrays:n(206),GLBuffer:n(547),GLFramebuffer:n(548),GLShader:n(549),GLTexture:n(207),VertexArrayObject:n(550),shader:n(551)};void 0!==t&&t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(19);t.exports=function(t,e,n){if(r(t),e===undefined)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r,i,o,s,a,u,l,c,h;Object.defineProperty(e,"__esModule",{value:!0}),r=n(9),i=n(101),o=function(){function t(){this.root=null,this.routes={},this.currentRoute=null,this.routeStack=[]}return t.prototype.routeTo=function(t){var e,n,o=t;"game"===o&&"adplayer"!==this.currentRoute&&i.shouldShowAd()&&this.routes.adplayer&&(o="adplayer"),e=this.routes[o],e&&this.root&&(this.currentRoute&&this.routes[this.currentRoute].sceneWillUnmount(),this.routeStack.push(o),this.currentRoute=o,e.mount(this.root)),r["default"].enforcePushState&&window.history&&"function"==typeof window.history.pushState&&(n=window.location.href.split("#")[0],window.history.pushState(null,null,n+"#"+o))},t.prototype.back=function(){var t=this.routeStack[this.routeStack.length-2];t&&(this.routeStack.splice(this.routeStack.length-2,2),this.routeTo(t))},t.prototype.initRoute=function(t,e){(this.routes[t]=e).init()},t.prototype.getCurrentScene=function(){return this.currentRoute?this.routes[this.currentRoute]:null},t}(),s=new o,a=function(t){s.root=t},e.setRoot=a,u=function(t){s.routeTo(t)},e.routeTo=u,l=function(){s.back()},e.routeBack=l,c=function(t,e){s.initRoute(t,e)},e.initRoute=c,h=function(){return s.getCurrentScene()},e.getCurrentScene=h},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(0),i=n(31),o=n(4);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var r=n(32),i=n(71),o=n(15),s=n(12),a=n(129);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||a;return function(e,a,p){for(var y,g,v=o(e),m=i(v),_=r(a,p,3),b=s(m.length),x=0,w=n?d(e,b):u?d(e,0):undefined;b>x;x++)if((f||x in m)&&(y=m[x],g=_(y,x,v),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:w.push(y)}else if(c)return!1;return h?-1:l||c?c:w}}},function(t,e,n){var r,i,o,s,a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},l=this;Object.defineProperty(e,"__esModule",{value:!0}),r=n(13),i=n(196),e.TIMEOUT=5e3,e.IP_KEY="_IP2",e.UNKNOWN_IP="unknown IP",e.IPIFY_URL="https://api.ipify.org/?format=json",o="([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])",e.IP_REGEX="^"+o+"."+o+"."+o+"."+o+"$",s=function(){return"195."+r.getIntInInterval(0,255)+"."+r.getIntInInterval(0,255)+"."+r.getIntInInterval(0,255)},e.getIPfromIpify=function(t){return void 0===t&&(t=i.request),a(l,void 0,void 0,function(){return u(this,function(n){return[2,t(e.IPIFY_URL).then(function(t){try{var n=JSON.parse(t).ip;if("string"!=typeof n||!n.match(e.IP_REGEX))throw Error("Ip not found");return JSON.parse(t).ip}catch(t){return s()}})["catch"](function(){return s()})]})})},e.obtainIPAddress=function(){return a(l,void 0,void 0,function(){var t;return u(this,function(n){return t=new Promise(function(t){setTimeout(function(){t(s())},e.TIMEOUT)}),[2,Promise.race([e.getIPfromIpify(),t]).then(function(t){r.Storage.set(e.IP_KEY,t)})]})})},e.getIPAdress=function(){return r.Storage.get(e.IP_KEY)||e.UNKNOWN_IP}},function(t,e,n){"use strict";(function(t){function r(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S;e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=undefined,i=n(536),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),o=n(5),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),s=n(598),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=n(599),l=r(u),c=n(601),h=r(c),f=n(236),d=r(f),p=n(611),y=r(p),g=n(618),v=r(g),m=n(620),_=r(m),b=n(624),x=r(b),w=n(629),T=r(w),E=n(634),O=r(E),o.utils.mixins.performMixins(),S=_.shared||null,e.accessibility=l,e.extract=h,e.extras=d,e.filters=y,e.interaction=v,e.loaders=_,e.mesh=x,e.particles=T,e.prepare=O,e.loader=S,"function"==typeof a["default"]&&(0,a["default"])(e),t.PIXI=e}).call(e,n(70))},function(t,e,n){(function(t){function n(t,e){var n,r,i=0;for(n=t.length-1;n>=0;n--)r=t[n],"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--);if(e)for(;i--;i)t.unshift("..");return t}function r(t,e){var n,r;if(t.filter)return t.filter(e);for(n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i,o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return o.exec(t).slice(1)};e.resolve=function(){var e,i,o="",s=!1;for(e=arguments.length-1;e>=-1&&!s;e--){if("string"!=typeof(i=e>=0?arguments[e]:t.cwd()))throw new TypeError("Arguments to path.resolve must be strings");i&&(o=i+"/"+o,s="/"===i.charAt(0))}return o=n(r(o.split("/"),function(t){return!!t}),!s).join("/"),(s?"/":"")+o||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===i(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e,n=0;n<t.length&&""===t[n];n++);for(e=t.length-1;e>=0&&""===t[e];e--);return n>e?[]:t.slice(n,e-n+1)}var i,o,s,a,u,l;for(t=e.resolve(t).substr(1),n=e.resolve(n).substr(1),i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(l=[],u=a;u<i.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=s(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=s(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return s(t)[3]},i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(572))},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(157),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X,V,Y,z,K,q,Z,Q,J,$,tt,et,nt,rt,it,ot,st,at,ut,lt,ct,ht,ft,dt,pt,yt,gt,vt,mt,_t,bt,xt,wt,Tt,Et,Ot,St,At,Pt,Ct,Mt,It,Rt,Dt,Nt,Lt,kt,jt,Ft,Ut,Bt,Gt,Ht,Wt,Xt,Vt,Yt;n(10)?(r=n(49),i=n(2),o=n(4),s=n(0),a=n(96),u=n(135),l=n(32),c=n(59),h=n(52),f=n(22),d=n(61),p=n(38),y=n(12),g=n(186),v=n(55),m=n(36),_=n(25),b=n(73),x=n(6),w=n(15),T=n(126),E=n(56),O=n(28),S=n(57).f,A=n(128),P=n(53),C=n(8),M=n(40),I=n(86),R=n(93),D=n(131),N=n(65),L=n(90),k=n(58),j=n(130),F=n(176),U=n(11),B=n(27),G=U.f,H=B.f,W=i.RangeError,X=i.TypeError,V=i.Uint8Array,Y="ArrayBuffer",z="Shared"+Y,K="BYTES_PER_ELEMENT",q="prototype",Z=Array[q],Q=u.ArrayBuffer,J=u.DataView,$=M(0),tt=M(2),et=M(3),nt=M(4),rt=M(5),it=M(6),ot=I(!0),st=I(!1),at=D.values,ut=D.keys,lt=D.entries,ct=Z.lastIndexOf,ht=Z.reduce,ft=Z.reduceRight,dt=Z.join,pt=Z.sort,yt=Z.slice,gt=Z.toString,vt=Z.toLocaleString,mt=C("iterator"),_t=C("toStringTag"),bt=P("typed_constructor"),xt=P("def_constructor"),wt=a.CONSTR,Tt=a.TYPED,Et=a.VIEW,Ot="Wrong length!",St=M(1,function(t,e){return It(R(t,t[xt]),e)}),At=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Pt=!!V&&!!V[q].set&&o(function(){new V(1).set({})}),Ct=function(t,e){var n=p(t);if(n<0||n%e)throw W("Wrong offset!");return n},Mt=function(t){if(x(t)&&Tt in t)return t;throw X(t+" is not a typed array!")},It=function(t,e){if(!(x(t)&&bt in t))throw X("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Dt(R(t,t[xt]),e)},Dt=function(t,e){for(var n=0,r=e.length,i=It(t,r);r>n;)i[n]=e[n++];return i},Nt=function(t,e,n){G(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,r,i,o,s,a=w(t),u=arguments.length,c=u>1?arguments[1]:undefined,h=c!==undefined,f=A(a);if(f!=undefined&&!T(f)){for(s=f.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,n=y(a.length),i=It(this,n);n>e;e++)i[e]=h?c(a[e],e):a[e];return i},kt=function(){for(var t=0,e=arguments.length,n=It(this,e);e>t;)n[t]=arguments[t++];return n},jt=!!V&&o(function(){vt.call(new V(1))}),Ft=function(){return vt.apply(jt?yt.call(Mt(this)):Mt(this),arguments)},Ut={copyWithin:function(t,e){return F.call(Mt(this),t,e,arguments.length>2?arguments[2]:undefined)},every:function(t){return nt(Mt(this),t,arguments.length>1?arguments[1]:undefined)},fill:function(t){return j.apply(Mt(this),arguments)},filter:function(t){return Rt(this,tt(Mt(this),t,arguments.length>1?arguments[1]:undefined))},find:function(t){return rt(Mt(this),t,arguments.length>1?arguments[1]:undefined)},findIndex:function(t){return it(Mt(this),t,arguments.length>1?arguments[1]:undefined)},forEach:function(t){$(Mt(this),t,arguments.length>1?arguments[1]:undefined)},indexOf:function(t){return st(Mt(this),t,arguments.length>1?arguments[1]:undefined)},includes:function(t){return ot(Mt(this),t,arguments.length>1?arguments[1]:undefined)},join:function(t){return dt.apply(Mt(this),arguments)},lastIndexOf:function(t){return ct.apply(Mt(this),arguments)},map:function(t){return St(Mt(this),t,arguments.length>1?arguments[1]:undefined)},reduce:function(t){return ht.apply(Mt(this),arguments)},reduceRight:function(t){return ft.apply(Mt(this),arguments)},reverse:function(){for(var t,e=this,n=Mt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:undefined)},sort:function(t){return pt.call(Mt(this),t)},subarray:function(t,e){var n=Mt(this),r=n.length,i=v(t,r);return new(R(n,n[xt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((e===undefined?r:v(e,r))-i))}},Bt=function(t,e){return Rt(this,yt.call(Mt(this),t,e))},Gt=function(t){var e,n,r,i,o;if(Mt(this),e=Ct(arguments[1],1),n=this.length,r=w(t),i=y(r.length),o=0,i+e>n)throw W(Ot);for(;o<i;)this[e+o]=r[o++]},Ht={entries:function(){return lt.call(Mt(this))},keys:function(){return ut.call(Mt(this))},values:function(){return at.call(Mt(this))}},Wt=function(t,e){return x(t)&&t[Tt]&&"symbol"!=typeof e&&e in t&&+e+""==e+""},Xt=function(t,e){return Wt(t,e=m(e,!0))?h(2,t[e]):H(t,e)},Vt=function(t,e,n){return!(Wt(t,e=m(e,!0))&&x(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?G(t,e,n):(t[e]=n.value,t)},wt||(B.f=Xt,U.f=Vt),s(s.S+s.F*!wt,"Object",{getOwnPropertyDescriptor:Xt,defineProperty:Vt}),o(function(){gt.call({})})&&(gt=vt=function(){return dt.call(this)}),Yt=d({},Ut),d(Yt,Ht),f(Yt,mt,Ht.values),d(Yt,{slice:Bt,set:Gt,constructor:function(){},toString:gt,toLocaleString:Ft}),Nt(Yt,"buffer","b"),Nt(Yt,"byteOffset","o"),Nt(Yt,"byteLength","l"),Nt(Yt,"length","e"),G(Yt,_t,{get:function(){return this[Tt]}}),t.exports=function(t,e,n,u){var l,h,d,p,v,m,_,w,T,A,P,C,M,I,R;u=!!u,l=t+(u?"Clamped":"")+"Array",h="get"+t,d="set"+t,p=i[l],v=p||{},m=p&&O(p),_=!p||!a.ABV,w={},T=p&&p[q],A=function(t,n){var r=t._d;return r.v[h](n*e+r.o,At)},P=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,At)},C=function(t,e){G(t,e,{get:function(){return A(this,e)},set:function(t){return P(this,e,t)},enumerable:!0})},_?(p=n(function(t,n,r,i){var o,s,a,u,h,d,v;if(c(t,p,l,"_d"),o=0,s=0,x(n)){if(!(n instanceof Q||(d=b(n))==Y||d==z))return Tt in n?Dt(p,n):Lt.call(p,n);if(a=n,s=Ct(r,e),v=n.byteLength,i===undefined){if(v%e)throw W(Ot);if((u=v-s)<0)throw W(Ot)}else if((u=y(i)*e)+s>v)throw W(Ot);h=u/e}else h=g(n),u=h*e,a=new Q(u);for(f(t,"_d",{b:a,o:s,l:u,e:h,v:new J(a)});o<h;)C(t,o++)}),T=p[q]=E(Yt),f(T,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&L(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){c(t,p,l);var o;return x(n)?n instanceof Q||(o=b(n))==Y||o==z?i!==undefined?new v(n,Ct(r,e),i):r!==undefined?new v(n,Ct(r,e)):new v(n):Tt in n?Dt(p,n):Lt.call(p,n):new v(g(n))}),$(m!==Function.prototype?S(v).concat(S(m)):S(v),function(t){t in p||f(p,t,v[t])}),p[q]=T,r||(T.constructor=p)),M=T[mt],I=!!M&&("values"==M.name||M.name==undefined),R=Ht.values,f(p,bt,!0),f(T,Tt,l),f(T,Et,!0),f(T,xt,p),(u?new p(1)[_t]==l:_t in T)||G(T,_t,{get:function(){return l}}),w[l]=p,s(s.G+s.W+s.F*(p!=v),w),s(s.S,l,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){v.of.call(p,1)}),l,{from:Lt,of:kt}),K in T||f(T,K,e),s(s.P,l,Ut),k(l),s(s.P+s.F*Pt,l,{set:Gt}),s(s.P+s.F*!I,l,Ht),r||T.toString==gt||(T.toString=gt),s(s.P+s.F*o(function(){new p(1).slice()}),l,{slice:Bt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),l,{toLocaleString:Ft}),N[l]=I?M:R,r||I||f(T,mt,R)}):t.exports=function(){}},function(t,e,n){var r=n(181),i=n(0),o=n(85)("metadata"),s=o.store||(o.store=new(n(184))),a=function(t,e,n){var i,o=s.get(t);if(!o){if(!n)return undefined;s.set(t,o=new r)}if(!(i=o.get(e))){if(!n)return undefined;o.set(e,i=new r)}return i},u=function(t,e,n){var r=a(e,n,!1);return r!==undefined&&r.has(t)},l=function(t,e,n){var r=a(e,n,!1);return r===undefined?undefined:r.get(t)},c=function(t,e,n,r){a(n,r,!0).set(t,e)},h=function(t,e){var n=a(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},f=function(t){return t===undefined||"symbol"==typeof t?t:t+""},d=function(t){i(i.S,"Reflect",t)};t.exports={store:s,map:a,has:u,get:l,set:c,keys:h,key:f,exp:d}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(526);e["default"]=r["default"]},function(t,e,n){var r=n(53)("meta"),i=n(6),o=n(25),s=n(11).f,a=0,u=Object.isExtensible||function(){return!0},l=!n(4)(function(){return u(Object.preventExtensions({}))}),c=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return l&&p.NEED&&u(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e){t.exports=!1},function(t,e,n){var r=n(8)("unscopables"),i=Array.prototype;i[r]==undefined&&n(22)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var u,l,c,h,f,d,p,y,g,v,m,_,b,x;e.__esModule=!0,u=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(68),c=r(l),h=n(220),f=r(h),d=n(221),p=r(d),y=n(62),g=r(y),v=n(17),m=n(7),_=n(16),b=r(_),x=function(t){function e(n,r,s,a,u,l){i(this,e);var c=o(this,t.call(this));if(c.noFrame=!1,r||(c.noFrame=!0,r=new v.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),c.baseTexture=n,c._frame=r,c.trim=a,c.valid=!1,c.requiresUpdate=!1,c._uvs=null,c.orig=s||r,c._rotate=+(u||0),!0===u)c._rotate=2;else if(c._rotate%2!=0)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(c.noFrame&&(r=new v.Rectangle(0,0,n.width,n.height),n.on("update",c.onBaseTextureUpdated,c)),c.frame=r):n.once("loaded",c.onBaseTextureLoaded,c),c.defaultAnchor=l?new v.Point(l.x,l.y):new v.Point(0,0),c._updateID=0,c.transform=null,c.textureCacheIds=[],c}return s(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new v.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(m.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new p["default"]),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,i){var o=m.TextureCache[t];return o||(o=new e(c["default"].fromImage(t,n,r,i)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=m.TextureCache[t];if(!e)throw Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"canvas";return new e(c["default"].fromCanvas(t,n,r))},e.fromVideo=function(t,n){return"string"==typeof t?e.fromVideoUrl(t,n):new e(f["default"].fromVideo(t,n))},e.fromVideoUrl=function(t,n){return new e(f["default"].fromUrl(t,n))},e.from=function(t){var n;return"string"==typeof t?m.TextureCache[t]||(n=null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/),n?e.fromVideoUrl(t):e.fromImage(t)):t instanceof HTMLImageElement?new e(c["default"].from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,b["default"].SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof c["default"]?new e(t):t},e.fromLoader=function(t,n,r){var i=new c["default"](t,undefined,(0,m.getResolutionOfUrl)(n)),o=new e(i);return i.imageUrl=n,r||(r=n),c["default"].addToCache(o.baseTexture,r),e.addToCache(o,r),r!==n&&(c["default"].addToCache(o.baseTexture,n),e.addToCache(o,n)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),m.TextureCache[e],m.TextureCache[e]=t)},e.removeFromCache=function(t){var e,n,r;if("string"==typeof t){if(e=m.TextureCache[t])return n=e.textureCacheIds.indexOf(t),n>-1&&e.textureCacheIds.splice(n,1),delete m.TextureCache[t],e}else if(t&&t.textureCacheIds){for(r=0;r<t.textureCacheIds.length;++r)m.TextureCache[t.textureCacheIds[r]]===t&&delete m.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},u(e,[{key:"frame",get:function(){return this._frame},set:function(t){var e,n,r,i,o,s,a,u,l;if(this._frame=t,this.noFrame=!1,e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,s=n+i>this.baseTexture.height,o||s)throw a=o&&s?"and":"or",u="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,l="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height,Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+l);this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(g["default"]),e["default"]=x,x.EMPTY=new x(new c["default"]),a(x.EMPTY),a(x.EMPTY.baseTexture),x.WHITE=function(){var t,e=document.createElement("canvas");return e.width=10,e.height=10,t=e.getContext("2d"),t.fillStyle="white",t.fillRect(0,0,10,10),new x(new c["default"](e))}(),a(x.WHITE),a(x.WHITE.baseTexture)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(162),i=n(113);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(38),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1),i=n(163),o=n(113),s=n(112)("IE_PROTO"),a=function(){},u="prototype",l=function(){var t,e=n(110)("iframe"),r=o.length,i="<",s=">";for(e.style.display="none",n(114).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),l=t.F;r--;)delete l[u][o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=l(),e===undefined?n:i(n,e)}},function(t,e,n){var r=n(162),i=n(113).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(2),i=n(11),o=n(10),s=n(8)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||r!==undefined&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(32),i=n(174),o=n(126),s=n(1),a=n(12),u=n(128),l={},c={};e=t.exports=function(t,e,n,h,f){var d,p,y,g,v=f?function(){return t}:u(t),m=r(n,h,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=a(t.length);d>_;_++)if((g=e?m(s(p=t[_])[0],p[1]):m(t[_]))===l||g===c)return g}else for(y=v.call(t);!(p=y.next()).done;)if((g=i(y,m,p.value,e))===l||g===c)return g},e.BREAK=l,e.RETURN=c},function(t,e,n){var r=n(23);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)s.call(t,e)&&n.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n,r,i,o=a?a+t:t,s=this._events[o];if(e)return!!s;if(!s)return[];if(s.fn)return[s.fn];for(n=0,r=s.length,i=Array(r);n<r;n++)i[n]=s[n].fn;return i},o.prototype.emit=function(t,e,n,r,i,o){var s,u,l,c,h,f,d=a?a+t:t;if(!this._events[d])return!1;if(s=this._events[d],u=arguments.length,s.fn){switch(s.once&&this.removeListener(t,s.fn,undefined,!0),u){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,n),!0;case 4:return s.fn.call(s.context,e,n,r),!0;case 5:return s.fn.call(s.context,e,n,r,i),!0;case 6:return s.fn.call(s.context,e,n,r,i,o),!0}for(c=1,l=Array(u-1);c<u;c++)l[c-1]=arguments[c];s.fn.apply(s.context,l)}else for(h=s.length,c=0;c<h;c++)switch(s[c].once&&this.removeListener(t,s[c].fn,undefined,!0),u){case 1:s[c].fn.call(s[c].context);break;case 2:s[c].fn.call(s[c].context,e);break;case 3:s[c].fn.call(s[c].context,e,n);break;case 4:s[c].fn.call(s[c].context,e,n,r);break;default:if(!l)for(f=1,l=Array(u-1);f<u;f++)l[f-1]=arguments[f];s[c].fn.apply(s[c].context,l)}return!0},o.prototype.on=function(t,e,n){var r=new i(e,n||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,i){var o,s,u,l,c=a?a+t:t;if(!this._events[c])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[c],this;if(o=this._events[c],o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[c]);else{for(s=0,u=[],l=o.length;s<l;s++)(o[s].fn!==e||i&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[c]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[c]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,t.exports=o},function(t,e,n){var r=n(11).f,i=n(25),o=n(8)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(37),o=n(4),s=n(116),a="["+s+"]",u="​",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(t,e,n){var i={},a=o(function(){return!!s[t]()||u[t]()!=u}),l=i[t]=a?e(f):s[t];n&&(i[n]=l),r(r.P+r.F*a,"String",i)},f=h.trim=function(t,e){return t=i(t)+"",1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e){t.exports={}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n={VERBOSE:0,INFO:1,WARN:2,ERROR:3},e.logLevels=n,r=function(){function t(){}return t.prototype.assert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.clear=function(){},t.prototype.count=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupEnd=function(){},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.profile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.profileEnd=function(){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeStamp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}(),e["default"]=new r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g;e.__esModule=!0,a=n(7),u=n(16),l=r(u),c=n(62),h=r(c),f=n(218),d=r(f),p=n(150),y=r(p),g=function(t){function e(n,r,s){i(this,e);var u=o(this,t.call(this));return u.uid=(0,a.uid)(),u.touched=0,u.resolution=s||l["default"].RESOLUTION,u.width=100,u.height=100,u.realWidth=100,u.realHeight=100,u.scaleMode=r!==undefined?r:l["default"].SCALE_MODE,u.hasLoaded=!1,u.isLoading=!1,u.source=null,u.origSource=null,u.imageType=null,u.sourceScale=1,u.premultipliedAlpha=!0,u.imageUrl=null,u.isPowerOfTwo=!1,u.mipmap=l["default"].MIPMAP_TEXTURES,u.wrapMode=l["default"].WRAP_MODE,u._glTextures={},u._enabled=0,u._virtalBoundId=-1,u._destroyed=!1,u.textureCacheIds=[],n&&u.loadSource(n),u}return s(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=y["default"].isPow2(this.realWidth)&&y["default"].isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e,n,r=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,r&&this.source&&(this.source.onload=null,this.source.onerror=null),e=!this.source,this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),e&&this.emit("loaded",this);else if(!t.getContext&&(this.isLoading=!0,n=this,t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading){if(n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType)return void n._loadSvgSource();n.emit("loaded",n)}},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src)){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),r&&this.emit("loaded",this)):r&&this.emit("error",this)}},e.prototype._updateImageType=function(){var t,e,n;if(this.imageUrl){if(t=(0,a.decomposeDataUri)(this.imageUrl),e=void 0,t&&"image"===t.mediaType){if(n=t.subType.split("+")[0],!(e=(0,a.getUrlFileExtension)("."+n)))throw Error("Invalid image type in data URI.")}else(e=(0,a.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,a.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n,r=(0,a.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions(),n=document.createElement("canvas"),n.width=this.realWidth,n.height=this.realHeight,n._pixiId="canvas_"+(0,a.uid)(),n.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=n,e.addToCache(this,n._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,r,i){var o,s=a.BaseTextureCache[t];return s||(o=new Image,n===undefined&&0!==t.indexOf("data:")?o.crossOrigin=(0,d["default"])(t):n&&(o.crossOrigin="string"==typeof n?n:"anonymous"),s=new e(o,r),s.imageUrl=t,i&&(s.sourceScale=i),s.resolution=(0,a.getResolutionOfUrl)(t),o.src=t,e.addToCache(s,t)),s},e.fromCanvas=function(t,n){var r,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"canvas";return t._pixiId||(t._pixiId=i+"_"+(0,a.uid)()),r=a.BaseTextureCache[t._pixiId],r||(r=new e(t,n),e.addToCache(r,t._pixiId)),r},e.from=function(t,n,r){var i,o;return"string"==typeof t?e.fromImage(t,undefined,n,r):t instanceof HTMLImageElement?(i=t.src,o=a.BaseTextureCache[i],o||(o=new e(t,n),o.imageUrl=i,r&&(o.sourceScale=r),o.resolution=(0,a.getResolutionOfUrl)(i),e.addToCache(o,i)),o):t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e],a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){var e,n,r;if("string"==typeof t){if(e=a.BaseTextureCache[t])return n=e.textureCacheIds.indexOf(t),n>-1&&e.textureCacheIds.splice(n,1),delete a.BaseTextureCache[t],e}else if(t&&t.textureCacheIds){for(r=0;r<t.textureCacheIds.length;++r)delete a.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e}(h["default"]),e["default"]=g},function(t,e,n){"use strict";var r,i,o,s,a,u,l,c,h,f,d;e.__esModule=!0,e.getAvailablePositionInRange=e.getAvailablePositions=e.isPossisionAvailable=e.getIndexofTheLowest=e.getPointInBetween=e.getRandomInRange=e.getOpositeDirection=e.isOpositeDirection=e.isVerticalDirection=e.isHorizontalDirection=e.S_TIME_BREAK=e.SPACING=e.COLLIDER_SIZE=e.MINLEFT=e.MAXLEFT=e.MINTOP=e.MAXTOP=e.SCREEN_HEIGHT=e.SCREEN_WIDTH=e.DOWN=e.UP=e.LEFT=e.RIGHT=undefined,r=n(654),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),o=e.RIGHT=1,s=e.LEFT=2,a=e.UP=3,u=e.DOWN=4,l=e.SCREEN_WIDTH=1280,c=e.SCREEN_HEIGHT=720,e.MAXTOP=c,e.MINTOP=0,e.MAXLEFT=l,e.MINLEFT=0,e.COLLIDER_SIZE=2,h=e.SPACING=10,e.S_TIME_BREAK=.03,e.isHorizontalDirection=function(t){return t===o||t===s},e.isVerticalDirection=function(t){return t===u||t===a},e.isOpositeDirection=function(t,e){return t===o&&e===s||(t===s&&e===o||(t===a&&e===u||t===u&&e===a))},e.getOpositeDirection=function(t){return t===o?s:t===s?o:t===a?u:t===u?a:-69},f=e.getRandomInRange=function(t,e){return Math.round(Math.random()*(e-t)+t)},e.getPointInBetween=function(t,e){return new i["default"](.5*(t.x+e.x),.5*(t.y+e.y))},e.getIndexofTheLowest=function(t){var e,n=0;for(e=1;e<t.length;e++)t[e]<t[n]&&(n=e);return n},d=e.isPossisionAvailable=function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:400,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:880,i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:200,o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:520;return!(t>200&&t<800)&&(!(e>200&&e<520)&&(t>n&&t<r&&e>i&&e<o))},e.getAvailablePositions=function(t){for(var e,n,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1e3,o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:150,s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:600,a=[],u=0;u<t;)e=f(50,l-50),n=f(50,c-50),d(e,n,r,i,o,s)&&(a.push({x:~~(e/h+.5)*h,y:~~(n/h+.5)*h}),u+=1);return a},e.getAvailablePositionInRange=function(t){var e,n,r,o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:100,u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:100,l=[];for(e=0;e<t;e++)n=f(o,a),r=f(s,u),l.push(new i["default"](n,r));return l}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(33),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={},r=function(t){var e,r,i,o,s;try{for(e=t+"=",r=document.cookie.split(";"),i=r.length,o=0;o<i;o+=1){for(s=r[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}}catch(e){return n[t]||null}return null},i=function(t,e){var r,i;try{r=new Date,r.setTime(r.getTime()+31536e6),i="expires="+r.toUTCString(),document.cookie=t+"="+e+"; "+i}catch(r){n[t]=e}},o=function(t){var e;if(window.localStorage&&"function"==typeof window.localStorage.getItem)try{e=window.localStorage.getItem(t)}catch(n){e=r(t)}else e=r(t);try{return e?JSON.parse(e):e}catch(n){return e}},s=function(t,e){var n;try{n=JSON.stringify(e)}catch(r){n=e}if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem(t,n)}catch(r){i(t,n)}else i(t,n)},a={get:function(t){return o(t)},set:function(t,e){return s(t,e)}};e["default"]=a},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var i,o,s,a,u,l,c,h,f,d;Object.defineProperty(e,"__esModule",{value:!0}),i=n(471),e.noop=i["default"],o=n(472),e.getEmptyString=o["default"],s=n(473),e.uuid=s["default"],a=n(474),e.loadObject=a["default"],u=n(475),e.SimpleMath=u["default"],l=n(194),e.floor=l["default"],c=n(476),e.round=c["default"],h=n(137),e.getIntInInterval=h["default"],f=n(477),e.hashCode=f["default"],d=n(478),e.repeat=d["default"],r(n(479)),r(n(137)),r(n(480)),r(n(481))},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y;Object.defineProperty(e,"__esModule",{value:!0}),r=n(29),i=n(524),o=n(75),s=n(198),a=n(35),u=function(t){var e=0===t.className.length?[]:t.className.split(" ");e.push("focused"),t.className=e.join(" ")},l=function(t){var e=0===t.className.length?[]:t.className.split(" ");t.className=e.filter(function(t){return"focused"!==t}).join(" ")},c={currentFocus:null,controlDelegates:{},focus:function(t){var e,n=c.currentFocus,r=document.getElementById(t);r&&(n&&(e=document.getElementById(n))&&l(e),u(r),c.currentFocus=t)}},h=function(t){c.focus(t)},e.focus=h,f=function(t){var e,n,o,u,l=c.currentFocus,h=c.controlDelegates;if(l){if(e=[r.Keys.UP,r.Keys.DOWN,r.Keys.LEFT,r.Keys.RIGHT],n={key:i.getKey(t.keyCode),target:document.getElementById(l),originalEvent:t},o=!0,!n.key)return t.preventDefault(),!1;if(s.isModalShown()&&(o=s.modalOnKeyDown(n)),h[l]&&(o=h[l].onKeyDown(n)),!1!==o&&(u=a.getCurrentScene())&&(o=u.onKeyDown(n)),!1===o||-1!==e.indexOf(n.key))return t.preventDefault(),!1}return!0},d=function(t){return f(t)},e.fakeKeyDown=d,p=function(){return d({keyCode:i.getKeyCode(r.Keys.ENTER)||13,preventDefault:o.noop})},e.fakeEnter=p,y=function(){return d({keyCode:i.getKeyCode(r.Keys.RETURN)||8,preventDefault:o.noop})},e.fakeReturn=y,window.document.addEventListener("keydown",f,!0),window.document.addEventListener("fakeReturn",y,!0),window.document.body.addEventListener("mousedown",function(t){return!(2===t.button&&!y())||(t.preventDefault(),!1)},!0)},function(t,e,n){var r,i,o,s,a,u,l,c,h,f=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(29),i=n(9),o=n(47),s=n(20),a=n(140),u=n(18),l="leaveGameModalYes",c="leaveGameModalNo",h=function(t){function e(){var e=t.call(this)||this;return e.question=u._("sure_leave"),e.yes=u._("yes"),e.no=u._("no"),e.YES_ID=l,e.NO_ID=c,e.initFocus=c,e.focused=null,e.horizontal=!0,e.els=[l,c],e.onClick=e.onClick.bind(e),e.onMouseOver=e.onMouseOver.bind(e),e}return f(e,t),e.prototype.componentDidMount=function(){this.setKeys(),this.refs[l].addEventListener("click",this.onClick,!1),this.refs[c].addEventListener("click",this.onClick,!1),this.refs[l].addEventListener("mouseover",this.onMouseOver,!1),this.refs[c].addEventListener("mouseover",this.onMouseOver,!1),this.focus(this.initFocus)},e.prototype.componentWillUnmount=function(){this.refs[l].removeEventListener("click",this.onClick,!1),this.refs[c].removeEventListener("click",this.onClick,!1),this.refs[l].removeEventListener("mouseover",this.onMouseOver,!1),this.refs[c].removeEventListener("mouseover",this.onMouseOver,!1)},e.prototype.render=function(){return'\n\t\t\t<div class="question">'+s["default"](this.question)+'</div>\n\t\t\t<div class="answers">\n\t\t\t\t<div class="answer" id="'+this.YES_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+s["default"](this.yes)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="answer" id="'+this.NO_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+s["default"](this.no)+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){switch(t.key){case this.backwardKey:this.focus(l);break;case this.forwardKey:this.focus(c);break;case r.Keys.RETURN:a.hideModal(!1);break;case r.Keys.ENTER:a.hideModal(this.focused===l);break;case r.Keys.EXIT:i["default"].Device.exit()}return!1},e.prototype.onClick=function(t){for(var e=t.target;e&&e.id!==l&&e.id!==c;)e=e.parentNode||null;return e&&e.id?a.hideModal(e.id===l):a.hideModal(!1),!1},e.prototype.onMouseOver=function(t){for(var e=t.target;e&&e.id!==l&&e.id!==c;)e=e.parentNode||null;return e&&"string"==typeof e.id&&this.focus(e.id),!1},e.prototype.focus=function(t){if(t!==this.focused)switch(this.focused=t){case l:this.select(this.refs[l]),this.unselect(this.refs[c]);break;case c:this.select(this.refs[c]),this.unselect(this.refs[l])}},e.prototype.select=function(t){t.className+=" focused"},e.prototype.unselect=function(t){t.className=t.className.replace(" focused","")},e.prototype.setKeys=function(){this.horizontal?(this.forwardKey=r.Keys.RIGHT,this.backwardKey=r.Keys.LEFT):(this.forwardKey=r.Keys.DOWN,this.backwardKey=r.Keys.UP)},e.modalType="modal-leave-game",e}(o["default"]),e["default"]=h},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(77),i=n(18),o=function(t){function e(){var n=t.call(this)||this;return e.modalType="modal-quit-game",n.question=i._("sure_quit"),n}return s(e,t),e}(r["default"]),e["default"]=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),u=n(215),l=function(t){return t&&t.__esModule?t:{"default":t}}(u),c=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.children=[],n}return o(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e,n=arguments.length;if(n>1)for(e=0;e<n;e++)this.addChild(arguments[e]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){var n,r;t!==e&&(n=this.getChildIndex(t),r=this.getChildIndex(e),this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r))},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,a.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e,n,r=arguments.length;if(r>1)for(e=0;e<r;e++)this.removeChild(arguments[e]);else{if(-1===(n=this.children.indexOf(t)))return null;t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t,e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,r=arguments[1],i=n,o="number"==typeof r?r:this.children.length,s=o-i,a=void 0;if(s>0&&s<=o){for(a=this.children.splice(i,s),t=0;t<a.length;++t)a[t].parent=null,a[t].transform&&(a[t].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(n),e=0;e<a.length;++e)a[e].emit("removed",this);return a}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){var t,e,n;for(this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,t=0,e=this.children.length;t<e;++t)n=this.children[t],n.visible&&n.updateTransform()},e.prototype.calculateBounds=function(){var t,e;for(this._bounds.clear(),this._calculateBounds(),t=0;t<this.children.length;t++)e=this.children[t],e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds));this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){var e,n,r,i,o;if(t.flush(),e=this._filters,n=this._mask,e){for(this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0,r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}for(n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t),i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){var n,r,i;if(t.prototype.destroy.call(this),n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length),n)for(i=0;i<r.length;++i)r[i].destroy(e)},s(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(l["default"]),e["default"]=c,c.prototype.containerUpdateTransform=c.prototype.updateTransform},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_;e.__esModule=!0,a=n(222),u=r(a),l=n(567),c=r(l),h=n(224),f=r(h),d=n(568),p=r(d),y=n(7),g=n(3),v=n(16),m=r(v),_=function(t){function e(n,r,s){i(this,e);var a=o(this,t.call(this,"Canvas",n,r,s));return a.type=g.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new c["default"](a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,p["default"])(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return s(e,t),e.prototype.render=function(t,e,n,r,i){var o,s,a,u,l;this.view&&(this.renderingToScreen=!e,this.emit("prerender"),o=this.resolution,e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new f["default"](e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext,s=this.context,e||(this._lastObjectRendered=t),i||(a=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform,r?(r.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a),s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=g.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[g.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(n!==undefined?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height))),l=this.context,this.context=s,t.renderCanvas(this),this.context=l,s.restore(),this.resolution=o,this.emit("postrender"))},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=m["default"].SCALE_MODE===g.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(u["default"]),e["default"]=_,y.pluginTarget.mixin(_)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){r(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e["default"]=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift("precision "+e+" float;"),n}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var a,u,l,c;e.__esModule=!0,a=n(30),u=n(16),l=function(t){return t&&t.__esModule?t:{"default":t}}(u),c=function(t){function e(n,o,a,u,c){return r(this,e),i(this,t.call(this,n,s(o,c||l["default"].PRECISION_VERTEX),s(a,c||l["default"].PRECISION_FRAGMENT),undefined,u))}return o(e,t),e}(a.GLShader),e["default"]=c},function(t,e,n){"use strict";var r=n(621)["default"],i=n(155)["default"],o=n(249),s=n(250);r.Resource=i,r.async=o,r.base64=s,t.exports=r,t.exports["default"]=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c,h,f,d;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=n(51),c=function(t){return t&&t.__esModule?t:{"default":t}}(l),h=new u.Point,f=new u.Polygon,d=function(t){function e(n,o,s,a,l){r(this,e);var h=i(this,t.call(this));return h._texture=n||c["default"].EMPTY,h.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=a||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.vertexDirty=0,h.autoUpdate=!0,h.blendMode=u.BLEND_MODES.NORMAL,h.canvasPadding=u.settings.MESH_CANVAS_PADDING,h.drawMode=l||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new u.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return o(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){var n,r,i,o,s,a,u,l,c;if(!this.getBounds().contains(t.x,t.y))return!1;for(this.worldTransform.applyInverse(t,h),n=this.vertices,r=f.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s)if(u=2*i[a],l=2*i[a+1],c=2*i[a+2],r[0]=n[u],r[1]=n[u+1],r[2]=n[l],r[3]=n[l+1],r[4]=n[c],r[5]=n[c+1],f.contains(h.x,h.y))return!0;return!1},e.prototype.destroy=function(e){var n,r;for(n in this._glDatas)r=this._glDatas[n],r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null));this._glDatas=null,t.prototype.destroy.call(this,e)},s(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return u.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=u.utils.hex2rgb(t,this.tintRgb)}}]),e}(u.Container),e["default"]=d,d.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){var r=n(31),i=n(2),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=e!==undefined?e:{})})("versions",[]).push({version:r.version,mode:n(49)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(26),i=n(12),o=n(55);t.exports=function(t){return function(e,n,s){var a,u=r(e),l=i(u.length),c=o(s,l);if(t&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(33);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(6),i=n(33),o=n(8)("match");t.exports=function(t){var e;return r(t)&&((e=t[o])!==undefined?!!e:"RegExp"==i(t))}},function(t,e,n){var r,i=n(8)("iterator"),o=!1;try{r=[7][i](),r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(s){}t.exports=function(t,e){var n,r,s;if(!e&&!o)return!1;n=!1;try{r=[7],s=r[i](),s.next=function(){return{done:n=!0}},r[i]=function(){return s},t(r)}catch(s){}return n}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(22),i=n(23),o=n(4),s=n(37),a=n(8);t.exports=function(t,e,n){var u=a(t),l=n(s,u,""[t]),c=l[0],h=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,c),r(RegExp.prototype,u,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){var r=n(1),i=n(19),o=n(8)("species");t.exports=function(t,e){var n,s=r(t).constructor;return s===undefined||(n=r(s)[o])==undefined?e:i(n)}},function(t,e,n){var r=n(2),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(23),s=n(61),a=n(48),u=n(60),l=n(59),c=n(6),h=n(4),f=n(90),d=n(63),p=n(117);t.exports=function(t,e,n,y,g,v){var m,_,b,x,w,T=r[t],E=T,O=g?"set":"add",S=E&&E.prototype,A={},P=function(t){var e=S[t];o(S,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?undefined:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};return"function"==typeof E&&(v||S.forEach&&!h(function(){(new E).entries().next()}))?(m=new E,_=m[O](v?{}:-0,1)!=m,b=h(function(){m.has(1)}),x=f(function(t){new E(t)}),w=!v&&h(function(){for(var t=new E,e=5;e--;)t[O](e,e);return!t.has(-0)}),x||(E=e(function(e,n){l(e,E,t);var r=p(new T,e,E);return n!=undefined&&u(n,g,r[O],r),r}),E.prototype=S,S.constructor=E),(b||w)&&(P("delete"),P("has"),g&&P("get")),(w||_)&&P(O),v&&S.clear&&delete S.clear):(E=y.getConstructor(e,t,g,O),s(E.prototype,n),a.NEED=!0),d(E,t),A[t]=E,i(i.G+i.W+i.F*(E!=T),A),v||y.setStrong(E,t,g),E}},function(t,e,n){for(var r,i=n(2),o=n(22),s=n(53),a=s("typed_array"),u=s("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,h=0,f=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<f;)(r=i[d[h++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:a,VIEW:u}},function(t,e,n){"use strict";t.exports=n(49)||!n(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(0),i=n(19),o=n(32),s=n(60);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,u=arguments[1];return i(this),e=u!==undefined,e&&i(u),t==undefined?new this:(n=[],e?(r=0,a=o(u,arguments[2],2),s(t,!1,function(t){n.push(a(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(464);e["default"]=r["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(483),i=n(9);e.getStartCountKey=function(){return i["default"].CONFIG.gameName+"_startCount2"},e.getStartCount=function(){var t=i["default"].Storage.get(e.getStartCountKey());return parseInt(t,10)},e.shouldShowAd=function(){return 0<e.adsControl.getAdOccurrence()&&e.getStartCount()>=e.adsControl.getAdOccurrence()},e.raiseStartCount=function(){var t=e.getStartCount();i["default"].Storage.set(e.getStartCountKey(),(t||0===t?t:1)+1)},e.lowerStartCount=function(){var t=e.getStartCount();i["default"].Storage.set(e.getStartCountKey(),(t||1<t?t:1)-1)},e.restartStartCount=function(){i["default"].Storage.set(e.getStartCountKey(),0)},e.initAdsControl=function(){var t={gameName:i["default"].CONFIG.gameName,gameTitle:i["default"].CONFIG.gameTitle,baseUrl:i["default"].CONFIG.baseUrl,platform:i["default"].Device.isHbbTV?"hbbtv":i["default"].Device.getPlatform(),device:i["default"].Device.getDevice(),version:i["default"].CONFIG.version,model:i["default"].Device.getModel(),userAgent:i["default"].Device.getUserAgent(),env:i["default"].CONFIG.env,gaAccount:i["default"].CONFIG.GA_ADS_ACCOUNT},n=i["default"].CONFIG.adsConfigUrl;return e.adsControl=new r.Ads(n,t),e.adsControl.init()}},function(t,e,n){var r,i,o=this&&this.__assign||function(){return(o=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(484),e.GA_ID_DEBUG="UA-122747211-3",e.GA_TRACKER_NAME="ADS_TRACKER",e.GA_DEBUG_TRACKER="ADS_DEBUG_TRACKER",e.SAMPLE_RATE=10,e.PRODUCTION="production",e.adTypes={banner:"banner",video:"pre-roll video",rectangle:"rectangle"},i=function(){function t(t){this.appConfig=t;var n=this.appConfig,i=n.env,s=n.gaAccount,a={};i===e.PRODUCTION&&(a.sampleRate=e.SAMPLE_RATE),r.initGA(s||"",o({name:e.GA_TRACKER_NAME},a)),r.initGA(e.GA_ID_DEBUG,{name:e.GA_DEBUG_TRACKER}),r.ga(e.GA_TRACKER_NAME+".set","checkProtocolTask",null),r.ga(e.GA_DEBUG_TRACKER+".set","checkProtocolTask",null)}return t.prototype.sendError=function(t,n,i){void 0===i&&(i="not specified");var o=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" error",""+o,n||"undefined"),r.ga(e.GA_DEBUG_TRACKER+".send","event",""+i,""+o,""+(n||"undefined"))},t.prototype.sendStart=function(t,n){var i=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" start",""+i,n)},t.prototype.sendSuccess=function(t,n){var i=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" success",""+i,n)},t.prototype.sendMissing=function(t,n){var i=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" missed",""+i,n)},t}(),e.AdsGA=i},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d=this&&this.__assign||function(){return(d=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),i=n(74),o=n(514),s=n(515),a=!1,u=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r?o["default"].apply(void 0,e):(t=window).ga.apply(t,e)},l=function(){s.initRealGAScript(),r=!1},c=function(){r=!0},h=function(t,e){u("create",t,d({storage:"none",clientId:i["default"].get("ga:clientId")},e)),u(function(t){i["default"].set("ga:clientId",t.get("clientId"))})},f=function(t,e){try{a||(window.document.cookie,l())}catch(t){c()}finally{a=!0,h(t,e)}},e.initGA=f,e["default"]=u},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(101),i=n(139),o=n(20),s=n(199),a=n(9),u=n(103),l=n(18),c=n(29),h=n(140),f=n(77),d=n(78),p=n(530),y=n(35),g=n(105),v=n(75),m=1e3,_=!0,b="gameCanvas",x="gameReady",w="gameOver",T="gameLoading",E="gameLoadingDots",O="hasNoHighScore",S="gamePause",A="gameHighscore",P="gameDebug",C="gameFPS",M="gameTargetFPS",I=400,R=function(t){function e(){var e=t.call(this)||this;return e.debug=a["default"].CONFIG.debug,e.animationFrame=null,e.gameRunning=!1,e.targetFps=60,e.fps=60,e.missedFrames=0,e.extraFrames=0,e.usingTimeout=!1,e.lastFrameTime=null,e.now=null,e.gameComponent=null,e.hsComponent=null,e.paused=!1,e.gameEnded=!1,e.hasHighscore=!1,e.isReady=!0,e.isLoaded=!0,e.GameComponentClass=i["default"],e.HighscoreComponentClass=s["default"],e.leaveGameModal=f["default"],e.quitGameModal=d["default"],e.rewardModal=p["default"],e.highscoreShownAt=0,e.maxHighscoreCount=10,e.loadingTime=I,e.maxLoadingDots=5,e.currentLoadingDots=0,e.getAnimationFrame=function(t){setTimeout(function(){t.apply(e,[])},e.getNextFrameTimeout())},e.els=[b,x,w,O,S,T,E,A,P,C,M],e.animationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||e.getAnimationFrame,("Panasonic Viera"===a["default"].Device.device||a["default"].Device.isHbbTV)&&(e.animationFrame=e.getAnimationFrame),e.usingTimeout=e.animationFrame===e.getAnimationFrame,e.gameoverWithReward=e.gameoverWithReward.bind(e),e.pause=e.pause.bind(e),e.setReady=e.setReady.bind(e),e.unpause=e.unpause.bind(e),e.onGameCanvasClick=e.onGameCanvasClick.bind(e),e}return D(e,t),e.prototype.sceneWillMount=function(){r.raiseStartCount(),this.gameRunning=!0,this.lastFrameTime=null,this.now=null,this.paused=!1,this.gameEnded=!1,this.hasHighscore=!1,window.document.addEventListener("gameover",this.gameoverWithReward,!1),window.document.addEventListener("visibilitychange",this.pause,!1)},e.prototype.sceneDidMount=function(){this.hsComponent=new this.HighscoreComponentClass,this.hsComponent.mount(this.refs[A]),this.gameComponent=new this.GameComponentClass,this.gameComponent.mount(this.refs[b]),this.hide(this.refs[w]),this.hide(this.refs[A]),this.paused||this.hide(this.refs[S]),this.isLoaded||this.isReady?this.isReady||(this.gameRunning=!1):this.hide(this.refs[x]),this.debug||this.hide(this.refs[P]),this.frame(),this.refs[S].addEventListener("click",this.unpause,!1),this.refs[b].addEventListener("click",this.onGameCanvasClick,!1),this.refs[x]&&this.refs[x].addEventListener("click",this.setReady,!1)},e.prototype.sceneWillUnmount=function(){this.gameRunning=!1,this.gameComponent&&this.gameComponent.unmount(),this.gameComponent=null,this.hsComponent&&this.hsComponent.unmount(),this.hsComponent=null,window.document.removeEventListener("gameover",this.gameoverWithReward,!1),window.document.removeEventListener("visibilitychange",this.pause,!1),this.refs[S].removeEventListener("click",this.unpause,!1),this.refs[b].removeEventListener("click",this.onGameCanvasClick,!1),this.refs[x]&&this.refs[x].removeEventListener("click",this.setReady,!1)},e.prototype.render=function(){return'\n\t\t<div class="scene game-scene">\n\t\t\t<div id="'+b+'"></div>\n\t\t\t'+this.getReadyHtml()+"\n\t\t\t"+this.getGameOverHtml()+"\n\t\t\t"+this.getPauseHtml()+"\n\t\t\t"+this.getLoadingHtml()+'\n\t\t\t<div id="'+A+'"></div>\n\t\t\t'+this.getDebugFPS()+"\n\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){var e=this;return t.key===c.Keys.RETURN?this.onReturn():t.key===c.Keys.EXIT?(this.pause(_),h.showModal(this.quitGameModal).then(function(t){t?a["default"].Device.exit():e.pause()}),!1):!(this.handleGameComponentOnKeyDown(t)||(this.hasHighscore&&this.hsComponent?(t.key===c.Keys.ENTER&&Date.now()-this.highscoreShownAt>m?this.saveScore(this.getScoreValue(),this.hsComponent?this.hsComponent.getName():""):this.hsComponent.onKeyDown(t),1):this.gameEnded?(this.restart(),1):this.paused?(this.unpause(),1):!this.isReady&&(this.setReady(),1)))},e.prototype.handleGameComponentOnKeyDown=function(t){return!!(this.gameRunning&&this.gameComponent&&this.isReady)&&(this.gameComponent.onKeyDown(t),!0)},e.prototype.getReadyHtml=function(){return this.isReady?"":'\n\t\t\t<div id="'+x+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t'+o["default"](l._("get_ready"),"big")+"<br />\n\t\t\t\t\t"+o["default"](l._("any_to_start"),"big")+"\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t"},e.prototype.getPauseHtml=function(){return'\n\t\t<div id="'+S+'" class="backdrop">\n\t\t\t<h1 class="info">\n\t\t\t\t'+o["default"](l._("paused"),"big")+"<br />\n\t\t\t\t"+o["default"](l._("any_to_continue"),"big")+"\n\t\t\t</h1>\n\t\t</div>\n\t\t"},e.prototype.getGameOverHtml=function(){return'\n\t\t\t<div id="'+w+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t'+o["default"](l._("gameover"),"big")+'<br />\n\t\t\t\t\t<div id="'+e.HAS_NO_HIGHSCORE+'">'+o["default"](l._("any_to_continue"),"big")+"</div>\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t"},e.prototype.getLoadingHtml=function(){return this.isLoaded?"":'\n\t\t\t<div id="'+T+'" class="backdrop">\n\t\t\t\t<div id="loadingWrapper">\n\t\t\t\t\t<div id="'+e.LOADING_DOTS+'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.onReturn=function(){var t=this;return this.gameComponent&&this.gameComponent.onReturn()||(this.pause(_),h.showModal(this.leaveGameModal).then(function(e){e?y.routeTo(t.backRoute):t.pause()})),!1},e.prototype.pause=function(t){void 0===t&&(t=!1),!this.gameEnded&&this.isReady&&(a["default"].SoundManager.pause(),this.gameRunning=!1,(this.paused=!0)!==t&&this.show(this.refs[S]))},e.prototype.unpause=function(){this.gameRunning=!0,a["default"].SoundManager.unPause(),this.paused=!1,this.hide(this.refs[S]),this.lastFrameTime=Date.now()-this.getNextFrameTimeout(),this.frame()},e.prototype.sendGA=function(){setTimeout(function(){u["default"]("send","pageview",a["default"].CONFIG.gameName+"#newgame")},3e3)},e.prototype.getDebugFPS=function(){return this.debug?'\n\t\t<div id="'+P+'">\n\t\t\tFPS: <span id="'+C+'"></span><br />\n\t\t\t<small>Target FPS: <span id="'+M+'"></span></small><br />\n\t\t\t<small>'+(this.usingTimeout?"Using setTimeout":"Using requestAnimationFrame")+"</small>\n\t\t</div>\n\t\t":""},e.prototype.onGameCanvasClick=function(t){this.onKeyDown({key:c.Keys.ENTER,target:this.refs[b],originalEvent:t})},e.prototype.getNextFrameTimeout=function(){switch(this.targetFps){case 20:return 50;case 25:return 40;case 30:return 33;case 35:return 29;case 40:return 25;case 45:return 22;case 50:return 20;case 55:return 18;case 60:default:return 16}},e.prototype.frameTime=function(){return this.now&&this.lastFrameTime?this.now-this.lastFrameTime:this.getNextFrameTimeout()},e.prototype.frame=function(){var t=this;this.now=Date.now(),this.lastFrameTime?this.adjustFps():this.lastFrameTime=this.now,this.step(this.frameTime()),this.gameRunning&&this.animationFrame&&this.animationFrame.apply(this.timeout?this:window,[function(){t.frame&&t.frame.apply(t,[])}]),this.lastFrameTime=this.now},e.prototype.step=function(t){if(!this.isLoaded)return this.gameComponent.loadingStep(),void this.loadingShown(t);this.gameComponent&&this.gameComponent.step(t)},e.prototype.loadingShown=function(t){this.gameComponent.loaded?(this.gameComponent.step(0),this.hide(this.refs[T]),this.isReady||(this.show(this.refs[x]),this.gameRunning=!1),this.isLoaded=!0):(this.loadingTime-=t,this.loadingTime<=0&&(this.currentLoadingDots++,this.currentLoadingDots>this.maxLoadingDots&&(this.currentLoadingDots=0),this.refs[e.LOADING_DOTS].innerHTML=0<this.currentLoadingDots?o["default"](v.repeat(".",this.currentLoadingDots),"big"):"",this.loadingTime=I))},e.prototype.adjustFps=function(){this.fps=~~((9*this.fps+1e3/this.frameTime())/10);var t=this.targetFps-this.fps;t>this.targetFps/2?this.missedFrames++:t<3&&this.extraFrames++,10<this.missedFrames&&20<this.targetFps&&(this.targetFps-=5,this.missedFrames=0),10<this.extraFrames&&this.targetFps<60&&(this.targetFps+=5,this.extraFrames=0),this.debug&&(this.refs[C].innerHTML=this.fps.toString(10),this.refs[M].innerHTML=this.targetFps.toString(10))},e.prototype.restart=function(){r.shouldShowAd()?y.routeTo("game"):(r.raiseStartCount(),this.gameEnded=!1,this.hasHighscore=!1,this.gameRunning=!0,window.ga&&window.ga("send","pageview",a["default"].CONFIG.gameName+"#newgame"),this.gameComponent&&this.gameComponent.unmount(),this.gameComponent=new this.GameComponentClass,this.gameComponent.mount(this.refs[b]),this.lastFrameTime=null,this.frame(),this.hide(this.refs[w]),this.hide(this.refs[A]))},e.prototype.setReady=function(){this.gameRunning=!0,this.isReady=!0,this.hide(this.refs[x]),this.lastFrameTime=Date.now()-this.getNextFrameTimeout(),this.frame()},e.prototype.gameoverWithReward=function(){var t=this;this.gameEnded||(this.pause(!0),this.gameEnded=!0,a["default"].CONFIG.adsConfigUrl&&a["default"].CONFIG.reward&&!e.adRewardPlayed?h.showModal(this.rewardModal).then(function(n){n?(r.lowerStartCount(),e.adRewardPlayed=!0,t.gameComponent&&t.gameComponent.reward(),y.routeTo("adplayer")):t.gameover()}):this.gameover())},e.prototype.gameover=function(){this.pause(!0),this.gameEnded=!0,e.adRewardPlayed=!1,this.show(this.refs[w]),this.gameComponent&&this.getScore()},e.prototype.getScoreValue=function(){return this.gameComponent?this.gameComponent.getScore():0},e.prototype.getScore=function(){var t=this.getScoreValue(),e=a["default"].Storage.get(a["default"].CONFIG.gameName+"_highscore")||[];e.length<this.maxHighscoreCount||e[e.length-1].score<t?(this.show(this.refs[A]),this.hide(this.refs[O]),this.hsComponent.setScore(t),this.hasHighscore=!0,this.highscoreShownAt=Date.now()):(this.hide(this.refs[A]),this.show(this.refs[O]),this.hasHighscore=!1)},e.prototype.saveScore=function(t,e){var n=a["default"].Storage.get(a["default"].CONFIG.gameName+"_highscore")||[];n.push({user:e,score:t}),a["default"].Storage.set("last_used_user",e),a["default"].Storage.set(a["default"].CONFIG.gameName+"_highscore",this.orderedScore(n)),y.routeTo("highscores")},e.prototype.orderedScore=function(t){return t.sort(function(t,e){return t.score<e.score?1:t.score>e.score?-1:0}).slice(0,this.maxHighscoreCount)},e.adRewardPlayed=!1,e.GAME_CANVAS=b,e.GAME_READY=x,e.GAME_OVER=w,e.GAME_LOADING=T,e.LOADING_DOTS=E,e.HAS_NO_HIGHSCORE=O,e.PAUSE=S,e.HIGHSCORE=A,e.DEBUG=P,e.FPS=C,e.TARGET_FPS=M,e}(g["default"]),e["default"]=R},function(t,e,n){var r,i,o,s,a,u,l,c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(47),i=n(9),o=n(35),s=n(29),a=n(140),u=n(78),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visibleMenuItems=[],e.horizontal=!1,e.backRoute="menu",e.quitGameModal=u["default"],e}return c(e,t),e.prototype.init=function(){},e.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.sceneWillMount()},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.sceneDidMount()},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.sceneWillUnmount()},e.prototype.onKeyDown=function(t){switch(t.key){case s.Keys.RETURN:return this.handleBack();case s.Keys.EXIT:return this.handleQuit()}return!0},e.prototype.sceneWillMount=function(){},e.prototype.sceneDidMount=function(){},e.prototype.sceneWillUnmount=function(){},e.prototype.handleQuit=function(){return a.showModal(this.quitGameModal).then(function(t){t&&i["default"].exit()}),!1},e.prototype.handleBack=function(){return o.routeTo(this.backRoute),!1},e.prototype.sendGA=function(){},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.sendGA()},e}(r["default"]),e["default"]=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(81),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(a["default"]),e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k;e.__esModule=!0,a=n(222),u=r(a),l=n(570),c=r(l),h=n(573),f=r(h),d=n(574),p=r(d),y=n(108),g=r(y),v=n(106),m=r(v),_=n(576),b=r(_),x=n(68),w=r(x),T=n(577),E=r(T),O=n(578),S=r(O),A=n(580),P=r(A),C=n(581),M=r(C),I=n(7),R=n(30),D=r(R),N=n(3),L=0,k=function(t){function e(n,r,s){i(this,e);var a=o(this,t.call(this,"WebGL",n,r,s));return a.legacy=a.options.legacy,a.legacy&&(D["default"].VertexArrayObject.FORCE_NATIVE=!0),a.type=N.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new c["default"](a),a.stencilManager=new f["default"](a),a.emptyRenderer=new m["default"](a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,M["default"])(a.options.context),a.gl=a.options.context||D["default"].createContext(a.view,a._contextOptions),a.CONTEXT_UID=L++,a.state=new S["default"](a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,P["default"])(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return s(e,t),e.prototype._initContext=function(){var t,e,n,r,i,o=this.gl;for(o.isContextLost()&&o.getExtension("WEBGL_lose_context")&&o.getExtension("WEBGL_lose_context").restoreContext(),t=o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS),this._activeShader=null,this._activeVao=null,this.boundTextures=Array(t),this.emptyTextures=Array(t),this.textureManager=new b["default"](this),this.filterManager=new p["default"](this),this.textureGC=new E["default"](this),this.state.resetToDefault(),this.rootRenderTarget=new g["default"](o,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),e=new D["default"].GLTexture.fromData(o,null,1,1),n={_glTextures:{}},n._glTextures[this.CONTEXT_UID]={},r=0;r<t;r++)i=new w["default"],i._glTextures[this.CONTEXT_UID]=e,this.boundTextures[r]=n,this.emptyTextures[r]=i,this.bindTexture(null,r);this.emit("context",o),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(n!==undefined?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){u["default"].prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture,r=n._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n,r=void 0;return t?(n=t.baseTexture,n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(t.frame)):r=this.rootRenderTarget,r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){var r,i,o;if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,n)e=e||0;else{for(r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;e===undefined&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}return i=this.gl,o=t._glTextures[this.CONTEXT_UID],o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e,n=this.gl;for(t=t.baseTexture||t,e=0;e<this.boundTextures.length;e++)this.boundTextures[e]===t&&(this.boundTextures[e]=this.emptyTextures[e],n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[e]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new D["default"].VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(u["default"]),e["default"]=k,I.pluginTarget.mixin(k)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,l;e.__esModule=!0,i=n(17),o=n(3),s=n(16),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=n(30),l=function(){function t(e,n,s,l,c,h){r(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=c||a["default"].RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=l!==undefined?l:a["default"].SCALE_MODE,this.root=h,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,s)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}(),e["default"]=l},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X,V,Y,z=t.points;if(0!==z.length){for(n=new o.Point(z[0],z[1]),r=new o.Point(z[z.length-2],z[z.length-1]),n.x===r.x&&n.y===r.y&&(z=z.slice(),z.pop(),z.pop(),r=new o.Point(z[z.length-2],z[z.length-1]),i=r.x+.5*(n.x-r.x),a=r.y+.5*(n.y-r.y),z.unshift(i,a),z.push(i,a)),u=e.points,l=e.indices,c=z.length/2,h=z.length,f=u.length/6,d=t.lineWidth/2,p=(0,s.hex2rgb)(t.lineColor),y=t.lineAlpha,g=p[0]*y,v=p[1]*y,m=p[2]*y,_=z[0],b=z[1],x=z[2],w=z[3],T=0,E=0,O=-(b-w),S=_-x,A=0,P=0,C=0,M=0,I=Math.sqrt(O*O+S*S),O/=I,S/=I,O*=d,S*=d,R=t.lineAlignment,D=2*(1-R),N=2*R,u.push(_-O*D,b-S*D,g,v,m,y),u.push(_+O*N,b+S*N,g,v,m,y),L=1;L<c-1;++L)_=z[2*(L-1)],b=z[2*(L-1)+1],x=z[2*L],w=z[2*L+1],T=z[2*(L+1)],E=z[2*(L+1)+1],O=-(b-w),S=_-x,I=Math.sqrt(O*O+S*S),O/=I,S/=I,O*=d,S*=d,A=-(w-E),P=x-T,I=Math.sqrt(A*A+P*P),A/=I,P/=I,A*=d,P*=d,k=-S+b-(-S+w),j=-O+x-(-O+_),F=(-O+_)*(-S+w)-(-O+x)*(-S+b),U=-P+E-(-P+w),B=-A+x-(-A+T),G=(-A+T)*(-P+w)-(-A+x)*(-P+E),H=k*B-U*j,Math.abs(H)<.1?(H+=10.1,u.push(x-O*D,w-S*D,g,v,m,y),u.push(x+O*N,w+S*N,g,v,m,y)):(W=(j*G-B*F)/H,X=(U*F-k*G)/H,V=(W-x)*(W-x)+(X-w)*(X-w),V>196*d*d?(C=O-A,M=S-P,I=Math.sqrt(C*C+M*M),C/=I,M/=I,C*=d,M*=d,u.push(x-C*D,w-M*D),u.push(g,v,m,y),u.push(x+C*N,w+M*N),u.push(g,v,m,y),u.push(x-C*N*D,w-M*D),u.push(g,v,m,y),h++):(u.push(x+(W-x)*D,w+(X-w)*D),u.push(g,v,m,y),u.push(x-(W-x)*N,w-(X-w)*N),u.push(g,v,m,y)));for(_=z[2*(c-2)],b=z[2*(c-2)+1],x=z[2*(c-1)],w=z[2*(c-1)+1],O=-(b-w),S=_-x,I=Math.sqrt(O*O+S*S),O/=I,S/=I,O*=d,S*=d,u.push(x-O*D,w-S*D),u.push(g,v,m,y),u.push(x+O*N,w+S*N),u.push(g,v,m,y),l.push(f),Y=0;Y<h;++Y)l.push(f++);l.push(f-1)}}function i(t,e){var n,r,i,o,a,u,l,c,h,f,d,p=0,y=t.points;if(0!==y.length)for(n=e.points,r=y.length/2,i=(0,s.hex2rgb)(t.lineColor),o=t.lineAlpha,a=i[0]*o,u=i[1]*o,l=i[2]*o,p=1;p<r;p++)c=y[2*(p-1)],h=y[2*(p-1)+1],f=y[2*p],d=y[2*p+1],n.push(c,h),n.push(a,u,l,o),n.push(f,d),n.push(a,u,l,o)}var o,s;e.__esModule=!0,e["default"]=function(t,e,n){t.nativeLines?i(t,n):r(t,e)},o=n(17),s=n(7)},function(t,e,n){var r=n(6),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(31),o=n(49),s=n(161),a=n(11).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(85)("keys"),i=n(53);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(6),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(32)(Function.call,n(27).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):undefined),check:o}},function(t,e){t.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(6),i=n(115).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(38),i=n(37);t.exports=function(t){var e=i(this)+"",n="",o=r(t);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(38),i=n(37);t.exports=function(t){return function(e,n){var o,s,a=i(e)+"",u=r(n),l=a.length;return u<0||u>=l?t?"":undefined:(o=a.charCodeAt(u),o<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(49),i=n(0),o=n(23),s=n(22),a=n(65),u=n(123),l=n(63),c=n(28),h=n(8)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",y=function(){return this};t.exports=function(t,e,n,g,v,m,_){var b,x,w,T,E,O,S,A,P,C,M,I;if(u(n,e,g),b=function(t){if(!f&&t in E)return E[t];switch(t){case d:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",w=v==p,T=!1,E=t.prototype,O=E[h]||E["@@iterator"]||v&&E[v],S=O||b(v),A=v?w?b("entries"):S:undefined,P="Array"==e?E.entries||O:O,P&&(I=c(P.call(new t)))!==Object.prototype&&I.next&&(l(I,x,!0),r||"function"==typeof I[h]||s(I,h,y)),w&&O&&O.name!==p&&(T=!0,S=function(){return O.call(this)}),r&&!_||!f&&!T&&E[h]||s(E,h,S),a[e]=S,a[x]=y,v)if(C={values:w?S:b(p),keys:m?S:b(d),entries:A},_)for(M in C)M in E||o(E,M,C[M]);else i(i.P+i.F*(f||T),e,C);return C}},function(t,e,n){"use strict";var r=n(56),i=n(52),o=n(63),s={};n(22)(s,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(89),i=n(37);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return i(t)+""}},function(t,e,n){var r=n(8)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e,n){var r=n(65),i=n(8)("iterator"),o=Array.prototype;t.exports=function(t){return t!==undefined&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(11),i=n(52);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(73),i=n(8)("iterator"),o=n(65);t.exports=n(31).getIteratorMethod=function(t){if(t!=undefined)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(353);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(15),i=n(55),o=n(12);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:undefined,n),u=s>2?arguments[2]:undefined,l=u===undefined?n:i(u,n);l>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(50),i=n(177),o=n(65),s=n(26);t.exports=n(122)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o,s=n(32),a=n(167),u=n(114),l=n(110),c=n(2),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,y=c.Dispatch,g=0,v={},m="onreadystatechange",_=function(){var t,e=+this;v.hasOwnProperty(e)&&(t=v[e],delete v[e],t())},b=function(t){_.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==n(33)(h)?r=function(t){h.nextTick(s(_,t,1))}:y&&y.now?r=function(t){y.now(s(_,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r=m in l("script")?function(t){u.appendChild(l("script"))[m]=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,n){var r=n(2),i=n(132).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(33)(s);t.exports=function(){var t,e,n,l,c,h,f=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=undefined,o}}e=undefined,r&&r.enter()};return u?n=function(){s.nextTick(f)}:!o||r.navigator&&r.navigator.standalone?a&&a.resolve?(h=a.resolve(undefined),n=function(){h.then(f)}):n=function(){i.call(r,f)}:(l=!0,c=document.createTextNode(""),new o(f).observe(c,{characterData:!0}),n=function(){c.data=l=!l}),function(r){var i={fn:r,next:undefined};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(e!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(19);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,s=Array(n),a=8*n-e-1,u=(1<<a)-1,l=u>>1,c=23===e?Y(2,-24)-Y(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for(t=V(t),t!=t||t===W?(i=t!=t?1:0,r=u):(r=z(K(t)/q),t*(o=Y(2,-r))<1&&(r--,o*=2),t+=r+l>=1?c/o:c*Y(2,1-l),t*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*Y(2,e),r+=l):(i=t*Y(2,l-1)*Y(2,e),r=0));e>=8;s[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*f,s}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;a>0;c=256*c+t[u],u--,a-=8);for(r=c&(1<<-a)-1,c>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===c)c=1-s;else{if(c===o)return r?NaN:l?-W:W;r+=Y(2,e),c-=s}return(l?-1:1)*r*Y(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function l(t){return r(t,52,8)}function c(t){return r(t,23,4)}function h(t,e,n){R(t[j],e,{get:function(){return this[n]}})}function f(t,e,n,r){var i,o,s,a=+n,u=M(a);if(u+e>t[tt])throw H(F);return i=t[$]._b,o=u+t[et],s=i.slice(o,o+e),r?s:s.reverse()}function d(t,e,n,r,i,o){var s,a,u,l,c=+n,h=M(c);if(h+e>t[tt])throw H(F);for(s=t[$]._b,a=h+t[et],u=r(+i),l=0;l<e;l++)s[a+l]=u[o?l:e-l-1]}var p,y,g,v,m,_,b=n(2),x=n(10),w=n(49),T=n(96),E=n(22),O=n(61),S=n(4),A=n(59),P=n(38),C=n(12),M=n(186),I=n(57).f,R=n(11).f,D=n(130),N=n(63),L="ArrayBuffer",k="DataView",j="prototype",F="Wrong index!",U=b[L],B=b[k],G=b.Math,H=b.RangeError,W=b.Infinity,X=U,V=G.abs,Y=G.pow,z=G.floor,K=G.log,q=G.LN2,Z="buffer",Q="byteLength",J="byteOffset",$=x?"_b":Z,tt=x?"_l":Q,et=x?"_o":J;if(T.ABV){if(!S(function(){U(1)})||!S(function(){new U(-1)})||S(function(){return new U,new U(1.5),new U(NaN),U.name!=L})){for(U=function(t){return A(this,U),new X(M(t))},p=U[j]=X[j],y=I(X),g=0;y.length>g;)(v=y[g++])in U||E(U,v,X[v]);w||(p.constructor=U)}m=new B(new U(2)),_=B[j].setInt8,m.setInt8(0,2147483648),m.setInt8(1,2147483649),!m.getInt8(0)&&m.getInt8(1)||O(B[j],{setInt8:function(t,e){_.call(this,t,e<<24>>24)},setUint8:function(t,e){_.call(this,t,e<<24>>24)}},!0)}else U=function(t){A(this,U,L);var e=M(t);this._b=D.call(Array(e),0),this[tt]=e},B=function(t,e,n){var r,i;if(A(this,B,k),A(t,U,k),r=t[tt],(i=P(e))<0||i>r)throw H("Wrong offset!");if(n=n===undefined?r-i:C(n),i+n>r)throw H("Wrong length!");this[$]=t,this[et]=i,this[tt]=n},x&&(h(U,Q,"_l"),h(B,Z,"_b"),h(B,Q,"_l"),h(B,J,"_o")),O(B[j],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(f(this,4,t,arguments[1]))},getUint32:function(t){return o(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,s,e)},setUint8:function(t,e){d(this,1,t,s,e)},setInt16:function(t,e){d(this,2,t,a,e,arguments[2])},setUint16:function(t,e){d(this,2,t,a,e,arguments[2])},setInt32:function(t,e){d(this,4,t,u,e,arguments[2])},setUint32:function(t,e){d(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,l,e,arguments[2])}});N(U,L),N(B,k),E(B[j],T.VIEW,!0),e[L]=U,e[k]=B},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_;e.__esModule=!0,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u={IDLE:"IDLE",BUFFERING:"BUFFERING",PLAYING:"PLAYING",PAUSED:"PAUSED"},l={SMOOTH_STREAMING:"SMOOTH_STREAMING",WIDEVINE:"WIDEVINE",MPEG_DASH:"MPEG_DASH",MP4:"MP4",HLS:"HLS"},c={PLAYREADY:"PLAYREADY",WIDEVINE:"WIDEVINE",VERIMATRIX:"VERIMATRIX"},h={START_PLAY:"START_PLAY",PLAY:"PLAY",PAUSE:"PAUSE",STOP:"STOP",SEEK:"SEEK",SHOW:"SHOW",HIDE:"HIDE",SET_PLAYBACK_SPEED:"SET_PLAYBACK_SPEED",SET_VIDEO_DIMENSIONS:"SET_VIDEO_DIMENSIONS",SET_AUDIO_TRACK:"SET_AUDIO_TRACK",MUTE:"MUTE",UNMUTE:"UNMUTE",SET_VOLUME:"SET_VOLUME",GET_CURRENT_BITRATE:"GET_CURRENT_BITRATE",GET_VIDEO_RESOLUTION:"GET_VIDEO_RESOLUTION"},f={mediaType:"",isLiveStream:!1,mode4K:!1},d={type:"",option:{}},p={width:1280,height:720,top:0,left:0,seekStep:2e4},y={width:1280,height:720,left:0,top:0},g={url:"",duration:0,currentTime:0,currentState:u.IDLE,prevState:u.IDLE,looping:!1,speed:1,initialStartPosition:0,hasBeenOpened:!1},v={INVALID_NUMBER_OF_PARAMS:"Invalid number of parameters",INVALID_TYPE_OF_PARAM:"Invalid type of parameter, it must be {type}",INVALID_RANGE_OF_PARAM:"Invalid range of parameter, it must be inside range {range}",METHOD_NOT_IMPLEMENTED:"{methodName} method is not implemented",NOT_SPECIFIED_MEDIA_URL:"No video URL specified in Player"},m={SMOOTH_STREAMING:"application/vnd.ms-sstr+xml",WIDEVINE:"video/mp4",MPEG_DASH:"application/dash+xml",MP4:"video/mp4",HLS:"application/vnd.apple.mpegurl"},a=s=function(){function t(){var e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(r(this,t),e=this.validateParamsOfConstructor({config:n},arguments.length))throw Error(e);this.config=o({},p,n),this.eventStack={},this.mediaOption=o({},f),this.drmConfig=o({},d),this.property=o({},g,this.config)}return t.prototype.validateParamsOfConstructor=function(t,e){var n,r=t.config;return e>1?this.getErrMsgInvalidNumberOfParams():"object"!==(void 0===r?"undefined":i(r))?(n={requiredType:"object",parameterName:"config"},this.getErrMsgInvalidTypeOfParam(n)):""},t.prototype["native"]=function(t){arguments.length>1&&arguments[1]!==undefined&&arguments[1];throw Error(this.getErrMsgMethodNotImplemented("native"))},t.prototype.onDurationChange=function(t){"number"!=typeof t||Number.isNaN(t)||(this.property.duration=Math.floor(t),this.trigger("durationchange",this.property.duration))},t.prototype.onTimeUpdate=function(t){var e,n,r;"number"!=typeof t||Number.isNaN(t)||(e=Math.round(t),n=this.mediaOption.isLiveStream,r=this.property.duration,(n||r<=0||e<=r)&&(this.property.currentTime=e,this.trigger("timeupdate",this.property.currentTime)))},t.prototype.onEnd=function(){this.property.looping&&this.property.duration?(this.seek(0),this["native"](t.NATIVE_CMD.PLAY)):(this.setState(t.STATE.IDLE),this.trigger("end",this.property.currentTime))},t.prototype.onError=function(t,e,n){this.trigger("error",t,e,n)},t.prototype.deriveMediaType=function(e){return e.match(/\/manifest/i)?t.MEDIA_TYPE.SMOOTH_STREAMING:e.match(/\.wvm/)?t.MEDIA_TYPE.WIDEVINE:e.match(/\.mpd/)?t.MEDIA_TYPE.MPEG_DASH:e.match(/\.m3u8/)?t.MEDIA_TYPE.HLS:e.match(/\.mp4/)?t.MEDIA_TYPE.MP4:""},t.prototype.determineMimeType=function(t){return m[t]||""},t.prototype.setState=function(e){var n=this.property.currentState;n!==t.STATE.BUFFERING&&(this.property.prevState=n),this.property.currentState=e,this.trigger("statechange",this.property.currentState)},t.prototype.getState=function(){return this.property.currentState},t.prototype.getCurrentTime=function(){return this.property.currentTime},t.prototype.getDuration=function(){return this.property.duration},t.prototype.getPlaybackSpeed=function(){return this.property.speed},t.prototype.reset=function(){this.property=o({},g,this.config),this.mediaOption=o({},f),this.drmConfig=o({},d)},t.prototype.show=function(e,n,r,i){var s,a,u={width:e,height:n,left:r,top:i},l=this.validateParamsOfShow(u,arguments.length);if(l)throw Error(l);s=this.property,a={},a.height="number"==typeof n?n:s.height,a.width="number"==typeof e?e:s.width,a.left="number"==typeof r?r:s.left,a.top="number"==typeof i?i:s.top,o(this.property,a),this["native"](t.NATIVE_CMD.SHOW,a)},t.prototype.validateParamsOfShow=function(t,e){var n,r,i,o,s=t.width,a=t.height,u=t.left,l=t.top;return e>4?this.getErrMsgInvalidNumberOfParams():void 0!==s&&"number"!=typeof s?(n={requiredType:"number or undefined",parameterName:"width"},this.getErrMsgInvalidTypeOfParam(n)):void 0!==a&&"number"!=typeof a?(r={requiredType:"number or undefined",parameterName:"height"},this.getErrMsgInvalidTypeOfParam(r)):void 0!==u&&"number"!=typeof u?(i={requiredType:"number or undefined",parameterName:"left"},this.getErrMsgInvalidTypeOfParam(i)):void 0!==l&&"number"!=typeof l?(o={requiredType:"number or undefined",parameterName:"top"},this.getErrMsgInvalidTypeOfParam(o)):""},t.prototype.hide=function(){this["native"](t.NATIVE_CMD.HIDE)},t.prototype.fullscreen=function(){var t=y.width,e=y.height,n=y.left,r=y.top;this.show(t,e,n,r)},t.prototype.setURL=function(t){this.property.url=t},t.prototype.setLooping=function(t){this.property.looping=t},t.prototype.setInitialStartPosition=function(t){this.property.initialStartPosition=t},t.prototype.open=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=arguments.length>3&&arguments[3]!==undefined&&arguments[3],s={url:e,position:n,mediaOption:r,looping:i},a=this.validateParamsOfOpen(s,arguments.length);if(a)throw Error(a);this.property.url&&this.property.currentState!==t.STATE.IDLE&&this.stop(),this.reset(),this.setURL(e),this.setLooping(i),this.setInitialStartPosition(n),this.property.hasBeenOpened=!0,this.mediaOption=o({},f,r)},t.prototype.validateParamsOfOpen=function(t,e){var n,r,o,s,a=t.url,u=t.position,l=t.mediaOption,c=t.looping;return e>4?this.getErrMsgInvalidNumberOfParams():"string"!=typeof a?(n={requiredType:"string",parameterName:"url"},this.getErrMsgInvalidTypeOfParam(n)):"number"!=typeof u?(r={requiredType:"number",parameterName:"position"},this.getErrMsgInvalidTypeOfParam(r)):"object"!==(void 0===l?"undefined":i(l))?(o={requiredType:"object",parameterName:"mediaOption"},this.getErrMsgInvalidTypeOfParam(o)):"boolean"!=typeof c?(s={requiredType:"boolean",parameterName:"looping"},this.getErrMsgInvalidTypeOfParam(s)):""},t.prototype.setDrm=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this.validateParamsOfSetDrm({drmConfig:t},arguments.length);if(e)throw Error(e);this.drmConfig=o({},d,t)},t.prototype.validateParamsOfSetDrm=function(t,e){var n=t.drmConfig;return e>1?this.getErrMsgInvalidNumberOfParams():"object"!==(void 0===n?"undefined":i(n))?this.getErrMsgInvalidTypeOfParam({requiredType:"object"}):""},t.prototype.play=function(){var e=this.property,n=e.url,r=e.speed,i=e.initialStartPosition;if(!n)throw Error(v.NOT_SPECIFIED_MEDIA_URL);this.show(),1!==r&&this.setPlaybackSpeed(1),this.property.hasBeenOpened?(this.property.hasBeenOpened=!1,this["native"](t.NATIVE_CMD.START_PLAY,{url:n,position:i})):this["native"](t.NATIVE_CMD.PLAY,{})},t.prototype.pause=function(){var e=this["native"](t.NATIVE_CMD.PAUSE);return e&&1!==this.property.speed&&this.setPlaybackSpeed(1),e},t.prototype.stop=function(){this["native"](t.NATIVE_CMD.STOP),this.reset()},t.prototype.seek=function(e){var n,r=this.validateParamsOfSeek({position:e},arguments.length);if(r)throw Error(r);n=e,n<0?n=0:n>this.property.duration&&(n=this.property.duration),this["native"](t.NATIVE_CMD.SEEK,{position:n})},t.prototype.validateParamsOfSeek=function(t,e){var n=t.position;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.jumpForward=function(t){var e,n,r,i,o=this.validateParamsOfJumpForward({skip:t},arguments.length);if(o)throw Error(o);e=this.property,n=e.currentTime,r=e.seekStep,i=t||r,this.seek(n+i)},t.prototype.validateParamsOfJumpForward=function(t,e){var n=t.skip;return e>1?this.getErrMsgInvalidNumberOfParams():void 0!==n&&"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.jumpBackward=function(t){var e,n,r,i,o=this.validateParamsOfJumpBackward({skip:t},arguments.length);if(o)throw Error(o);e=this.property,n=e.currentTime,r=e.seekStep,i=t||r,this.seek(n-i)},t.prototype.validateParamsOfJumpBackward=function(t,e){var n=t.skip;return e>1?this.getErrMsgInvalidNumberOfParams():void 0!==n&&"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.setPlaybackSpeed=function(e){var n=this.validateParamsOfSetPlaybackSpeed({speed:e},arguments.length);if(n)throw Error(n);this.property.speed=e,this["native"](t.NATIVE_CMD.SET_PLAYBACK_SPEED,{speed:this.property.speed})},t.prototype.validateParamsOfSetPlaybackSpeed=function(t,e){var n=t.speed;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.setVideoDimensions=function(e,n){var r=this.validateParamsOfSetVideoDimensions({width:e,height:n},arguments.length);if(r)throw Error(r);this["native"](t.NATIVE_CMD.SET_VIDEO_DIMENSIONS,{width:e,height:n})},t.prototype.validateParamsOfSetVideoDimensions=function(t,e){var n=t.width,r=t.height;return 2!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n||"number"!=typeof r?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):n<0||r<0?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, Infinity]"}):""},t.prototype.setAudioTrack=function(e){var n=this.validateParamsOfSetAudioTrack({index:e},arguments.length);if(n)throw Error(n);this["native"](t.NATIVE_CMD.SET_AUDIO_TRACK,{index:e})},t.prototype.validateParamsOfSetAudioTrack=function(t,e){var n=t.index;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):n<0?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, Infinity]"}):""},t.prototype.mute=function(){this["native"](t.NATIVE_CMD.MUTE)},t.prototype.unmute=function(){this["native"](t.NATIVE_CMD.UNMUTE)},t.prototype.setVolume=function(e){var n=this.validateParamsOfSetVolume({volume:e},arguments.length);if(n)throw Error(n);this["native"](t.NATIVE_CMD.SET_VOLUME,{volume:e})},t.prototype.validateParamsOfSetVolume=function(t,e){var n=t.volume;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):n<0||n>1?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, 1]"}):""},t.prototype.getBitrate=function(){var e=this["native"](t.NATIVE_CMD.GET_CURRENT_BITRATE);return("number"!=typeof e||Number.isNaN(e))&&(e=-1),e},t.prototype.getVideoResolution=function(){var e,n,r,o=this["native"](t.NATIVE_CMD.GET_VIDEO_RESOLUTION);return"object"===(void 0===o?"undefined":i(o))&&null!==o||(o={}),e=o,n=e.width,r=e.height,n="number"!=typeof n||Number.isNaN(n)?-1:n,r="number"!=typeof r||Number.isNaN(r)?-1:r,o={width:n,height:r}},t.prototype.getESN=function(){throw Error(this.getErrMsgMethodNotImplemented("getESN"))},t.prototype.subscribe=function(t,e){this.eventStack[t]||(this.eventStack[t]=[]),-1===this.eventStack[t].indexOf(e)&&this.eventStack[t].push(e)},t.prototype.unsubscribe=function(t,e){var n,r;if(this.eventStack[t]){if(!e)return void(this.eventStack[t]=[]);n=this.eventStack[t],r=n.indexOf(e),-1!==r&&n.splice(r,1)}},t.prototype.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.eventStack[t]&&this.eventStack[t].every(function(t){return!1!==t.apply(undefined,n)})},t.prototype.setDRMVerifyPromise=function(){},t.prototype.getErrMsgInvalidNumberOfParams=function(){return v.INVALID_NUMBER_OF_PARAMS},t.prototype.getErrMsgMethodNotImplemented=function(t){return v.METHOD_NOT_IMPLEMENTED.replace("{methodName}",t)},t.prototype.getErrMsgInvalidTypeOfParam=function(t){var e=t.requiredType,n=t.parameterName,r=v.INVALID_TYPE_OF_PARAM.replace("{type}",e);return n&&(r+=" for the "+n),r},t.prototype.getErrMsgInvalidRangeOfParam=function(t){var e=t.requiredRange;return v.INVALID_RANGE_OF_PARAM.replace("{range}",e)},t}(),Object.defineProperty(s,"STATE",{enumerable:!0,writable:!0,value:u}),Object.defineProperty(s,"MEDIA_TYPE",{enumerable:!0,writable:!0,value:l}),Object.defineProperty(s,"DRM_TYPE",{enumerable:!0,writable:!0,value:c}),Object.defineProperty(s,"NATIVE_CMD",{enumerable:!0,writable:!0,value:h}),_=a,e["default"]=_},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(194),i=function(t,e){return r["default"](Math.random()*(e-t+1))+t};e["default"]=i},function(t,e,n){var r,i,o,s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(485),i=function(){function t(){}return t.prototype.getAndParseVAST=function(t,e){return s(this,void 0,void 0,function(){return a(this,function(n){return[2,new Promise(function(i,o){try{r.parser.parse(t,e,function(t,e){!e&&t&&t.ads||o(e),i(t)})}catch(n){o(n)}})]})})},t}(),e.VASTParser=i,o=function(){function t(t,e,n){this.tracker=new r.tracker(e,n)}return t.prototype.trackImpression=function(){this.tracker.load()},t.prototype.setProgress=function(t){this.tracker.setProgress(t)},t.prototype.errorWithCode=function(t){this.tracker.errorWithCode(t)},t.prototype.skip=function(){this.tracker.skip()},t.prototype.complete=function(){this.tracker.complete()},t}(),e.VASTTracker=o},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(9),i=n(47),o=function(t){function e(){var e=t.call(this)||this;return e.loaded=!0,e.useCanvas=r["default"].useCanvas(),e.useWebGL=r["default"].useWebGL(),e.id="gameWrap",e.DomRenderer=null,e.CanvasRenderer=null,e.els=[e.id],e}return s(e,t),e.prototype.componentWillMount=function(){(this.DomRenderer||this.CanvasRenderer)&&(this.useCanvas&&this.CanvasRenderer?this.renderer=new this.CanvasRenderer:!this.useCanvas&&this.DomRenderer&&(this.renderer=new this.DomRenderer))},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.renderer&&this.renderer.mount(this.refs[this.id])},e.prototype.componentWillUnmount=function(){this.renderer&&this.renderer.unmount()},e.prototype.getScore=function(){return 0},e.prototype.reward=function(){},e.prototype.step=function(t){},e.prototype.loadingStep=function(){},e.prototype.onReturn=function(){return!1},e.prototype.render=function(){return'\n\t\t\t<div id="'+this.id+'"></div>\n\t\t'},e}(i["default"]),e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(198);e.showModal=r.showModal,e.hideModal=r.hideModal,e.isModalShown=r.isModalShown,e.modalOnKeyDown=r.modalOnKeyDown},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;r(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e["default"]=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(141),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a=n(3),u=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1,s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;r(this,t),this.a=e,this.b=n,this.c=i,this.d=o,this.tx=s,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){var n,r;return e=e||new s["default"],n=t.x,r=t.y,e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){var n,r,i;return e=e||new s["default"],n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y,e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e,n,r=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,n=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d),this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),s=Math.atan2(n,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}(),e["default"]=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(3),s=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;r(this,t),this.x=+e,this.y=+n,this.width=+i,this.height=+s,this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}(),e["default"]=s},function(t,e){var n=function(t,e){var n,o,s;if(!r)for(n=Object.keys(i),r={},o=0;o<n.length;++o)s=n[o],r[t[s]]=i[s];return r[e]},r=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=n(17),o=function(){function t(){r(this,t),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(t=t||new i.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,n=s<n?s:n,r=o>r?o:r,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,n=s<n?s:n,r=o>r?o:r,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,n=s<n?s:n,r=o>r?o:r,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,n=s<n?s:n,r=o>r?o:r,i=s>i?s:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,c=o.tx,h=o.ty,f=this.minX,d=this.minY,p=this.maxX,y=this.maxY,g=s*e+u*n+c,v=a*e+l*n+h;f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,y=v>y?v:y,g=s*r+u*n+c,v=a*r+l*n+h,f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,y=v>y?v:y,g=s*e+u*i+c,v=a*e+l*i+h,f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,y=v>y?v:y,g=s*r+u*i+c,v=a*r+l*i+h,f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,y=v>y?v:y,this.minX=f,this.minY=d,this.maxX=p,this.maxY=y},t.prototype.addVertices=function(t,e,n,r){var i,o,s,a,u,l=t.worldTransform,c=l.a,h=l.b,f=l.c,d=l.d,p=l.tx,y=l.ty,g=this.minX,v=this.minY,m=this.maxX,_=this.maxY;for(i=n;i<r;i+=2)o=e[i],s=e[i+1],a=c*o+f*s+p,u=d*s+h*o+y,g=a<g?a:g,v=u<v?u:v,m=a>m?a:m,_=u>_?u:_;this.minX=g,this.minY=v,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n,r,i,o,s=t.minX>e.minX?t.minX:e.minX,a=t.minY>e.minY?t.minY:e.minY,u=t.maxX<e.maxX?t.maxX:e.maxX,l=t.maxY<e.maxY?t.maxY:e.maxY;s<=u&&a<=l&&(n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,this.minX=s<n?s:n,this.minY=a<r?a:r,this.maxX=u>i?u:i,this.maxY=l>o?l:o)},t.prototype.addBoundsArea=function(t,e){var n,r,i,o,s=t.minX>e.x?t.minX:e.x,a=t.minY>e.y?t.minY:e.y,u=t.maxX<e.x+e.width?t.maxX:e.x+e.width,l=t.maxY<e.y+e.height?t.maxY:e.y+e.height;s<=u&&a<=l&&(n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,this.minX=s<n?s:n,this.minY=a<r?a:r,this.maxX=u>i?u:i,this.maxY=l>o?l:o)},t}(),e["default"]=o},function(t,e,n){var r,i,o;/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
!function(n){var s=/iPhone/i,a=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,g=/BB10/i,v=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(t,e){return t.test(e)},w=function(t){var e=t||navigator.userAgent,n=e.split("[FBAN");if("undefined"!=typeof n[1]&&(e=n[0]),n=e.split("Twitter"),"undefined"!=typeof n[1]&&(e=n[0]),this.apple={phone:x(s,e),ipod:x(a,e),tablet:!x(s,e)&&x(u,e),device:x(s,e)||x(a,e)||x(u,e)},this.amazon={phone:x(h,e),tablet:!x(h,e)&&x(f,e),device:x(h,e)||x(f,e)},this.android={phone:x(h,e)||x(l,e),tablet:!x(h,e)&&!x(l,e)&&(x(f,e)||x(c,e)),device:x(h,e)||x(f,e)||x(l,e)||x(c,e)},this.windows={phone:x(d,e),tablet:x(p,e),device:x(d,e)||x(p,e)},this.other={blackberry:x(y,e),blackberry10:x(g,e),opera:x(v,e),firefox:x(_,e),chrome:x(m,e),device:x(y,e)||x(g,e)||x(v,e)||x(_,e)||x(m,e)},this.seven_inch=x(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var t=new w;return t.Class=w,t};void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=w:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=T():(i=[],r=n.isMobile=T(),(o="function"==typeof r?r.apply(e,i):r)!==undefined&&(t.exports=o))}(this)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=n(17),o=function(){function t(){r(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}(),e["default"]=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(t,e,n){"use strict";function r(t,e,n){var r,o,a,u,l,c,f,d,p,y,g,v;if(n=n||2,r=e&&e.length,o=r?e[0]*n:t.length,a=i(t,0,o,n,!0),u=[],!a)return u;if(r&&(a=h(t,e,a,n)),t.length>80*n){for(l=f=t[0],c=d=t[1],v=n;v<o;v+=n)p=t[v],y=t[v+1],p<l&&(l=p),y<c&&(c=y),p>f&&(f=p),y>d&&(d=y);g=Math.max(f-l,d-c),g=0!==g?1/g:0}return s(a,u,n,l,c,g),u}function i(t,e,n,r,i){var o,s;if(i===I(t,e,n,r)>0)for(o=e;o<n;o+=r)s=P(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=P(o,t[o],t[o+1],s);return s&&w(s,s.next)&&(C(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(C(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function s(t,e,n,r,i,h,f){if(t){!f&&h&&y(t,r,i,h);for(var d,p,g=t;t.prev!==t.next;)if(d=t.prev,p=t.next,h?u(t,r,i,h):a(t))e.push(d.i/n),e.push(t.i/n),e.push(p.i/n),C(t),t=p.next,g=p.next;else if((t=p)===g){f?1===f?(t=l(t,e,n),s(t,e,n,r,i,h,2)):2===f&&c(t,e,n,r,i,h):s(o(t),e,n,r,i,h,1);break}}}function a(t){var e,n=t.prev,r=t,i=t.next;if(x(n,r,i)>=0)return!1;for(e=t.next.next;e!==t.prev;){if(_(n.x,n.y,r.x,r.y,i.x,i.y,e.x,e.y)&&x(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function u(t,e,n,r){var i,o,s,a,u,l,c,h,f=t.prev,d=t,p=t.next;if(x(f,d,p)>=0)return!1;for(i=f.x<d.x?f.x<p.x?f.x:p.x:d.x<p.x?d.x:p.x,o=f.y<d.y?f.y<p.y?f.y:p.y:d.y<p.y?d.y:p.y,s=f.x>d.x?f.x>p.x?f.x:p.x:d.x>p.x?d.x:p.x,a=f.y>d.y?f.y>p.y?f.y:p.y:d.y>p.y?d.y:p.y,u=v(i,o,e,n,r),l=v(s,a,e,n,r),c=t.prevZ,h=t.nextZ;c&&c.z>=u&&h&&h.z<=l;){if(c!==t.prev&&c!==t.next&&_(f.x,f.y,d.x,d.y,p.x,p.y,c.x,c.y)&&x(c.prev,c,c.next)>=0)return!1;if(c=c.prevZ,h!==t.prev&&h!==t.next&&_(f.x,f.y,d.x,d.y,p.x,p.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;c&&c.z>=u;){if(c!==t.prev&&c!==t.next&&_(f.x,f.y,d.x,d.y,p.x,p.y,c.x,c.y)&&x(c.prev,c,c.next)>=0)return!1;c=c.prevZ}for(;h&&h.z<=l;){if(h!==t.prev&&h!==t.next&&_(f.x,f.y,d.x,d.y,p.x,p.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function l(t,e,n){var r,i,o=t;do{r=o.prev,i=o.next.next,!w(r,i)&&T(r,o,o.next,i)&&O(r,i)&&O(i,r)&&(e.push(r.i/n),e.push(o.i/n),e.push(i.i/n),C(o),C(o.next),o=t=i),o=o.next}while(o!==t);return o}function c(t,e,n,r,i,a){var u,l,c=t;do{for(u=c.next.next;u!==c.prev;){if(c.i!==u.i&&b(c,u))return l=A(c,u),c=o(c,c.next),l=o(l,l.next),s(c,e,n,r,i,a),void s(l,e,n,r,i,a);u=u.next}c=c.next}while(c!==t)}function h(t,e,n,r){var s,a,u,l,c,h=[];for(s=0,a=e.length;s<a;s++)u=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=i(t,u,l,r,!1),c===c.next&&(c.steiner=!0),h.push(m(c));for(h.sort(f),s=0;s<h.length;s++)d(h[s],n),n=o(n,n.next);return n}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var n=A(e,t);o(n,n.next)}}function p(t,e){var n,r,i,o,s,a,u,l=e,c=t.x,h=t.y,f=-Infinity;do{if(h<=l.y&&h>=l.next.y&&l.next.y!==l.y&&(r=l.x+(h-l.y)*(l.next.x-l.x)/(l.next.y-l.y))<=c&&r>f){if(f=r,r===c){if(h===l.y)return l;if(h===l.next.y)return l.next}n=l.x<l.next.x?l:l.next}l=l.next}while(l!==e);if(!n)return null;if(c===f)return n.prev;for(i=n,o=n.x,s=n.y,a=Infinity,l=n.next;l!==i;)c>=l.x&&l.x>=o&&c!==l.x&&_(h<s?c:f,h,o,s,h<s?f:c,h,l.x,l.y)&&((u=Math.abs(h-l.y)/(c-l.x))<a||u===a&&l.x>n.x)&&O(l,t)&&(n=l,a=u),l=l.next;return n}function y(t,e,n,r){var i=t;do{null===i.z&&(i.z=v(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,g(i)}function g(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1);return t}function v(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function _(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&O(t,e)&&O(e,t)&&S(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function O(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function S(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function A(t,e){var n=new M(t.i,t.x,t.y),r=new M(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function P(t,e,n,r){var i=new M(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(t,e,n,r){var i,o,s=0;for(i=e,o=n-r;i<n;i+=r)s+=(t[o]-t[i])*(t[i+1]+t[o+1]),o=i;return s}t.exports=r,t.exports["default"]=r,r.deviation=function(t,e,n,r){var i,o,s,a,u,l,c,h,f=e&&e.length,d=f?e[0]*n:t.length,p=Math.abs(I(t,0,d,n));if(f)for(i=0,o=e.length;i<o;i++)s=e[i]*n,a=i<o-1?e[i+1]*n:t.length,p-=Math.abs(I(t,s,a,n));for(u=0,i=0;i<r.length;i+=3)l=r[i]*n,c=r[i+1]*n,h=r[i+2]*n,u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]));return 0===p&&0===u?0:Math.abs((u-p)/p)},r.flatten=function(t){var e,n,r,i=t[0][0].length,o={vertices:[],holes:[],dimensions:i},s=0;for(e=0;e<t.length;e++){for(n=0;n<t[e].length;n++)for(r=0;r<i;r++)o.vertices.push(t[e][n][r]);e>0&&(s+=t[e-1].length,o.holes.push(s))}return o}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(17),l=n(7),c=n(3),h=n(51),f=r(h),d=n(79),p=r(d),y=new u.Point,g=function(t){function e(n){i(this,e);var r=o(this,t.call(this));return r._anchor=new u.ObservablePoint(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=c.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||f["default"].EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName="sprite",r}return s(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t,e,n,r,i,o,s,a,u,l,c,h,f,d,p,y;this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID||(this._transformID=this.transform._worldID,this._textureID=this._texture._updateID,t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,y=0,l?(d=l.x-h._x*c.width,f=d+l.width,y=l.y-h._y*c.height,p=y+l.height):(d=-h._x*c.width,f=d+c.width,y=-h._y*c.height,p=y+c.height),u[0]=n*d+i*y+s,u[1]=o*y+r*d+a,u[2]=n*f+i*y+s,u[3]=o*y+r*f+a,u[4]=n*f+i*p+s,u[5]=o*p+r*f+a,u[6]=n*d+i*p+s,u[7]=o*p+r*d+a)},e.prototype.calculateTrimmedVertices=function(){var t,e,n,r,i,o,s,a,u,l,c,h,f,d,p;if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID,t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height,e[0]=o*h+a*d+l,e[1]=u*d+s*h+c,e[2]=o*f+a*d+l,e[3]=u*d+s*f+c,e[4]=o*f+a*p+l,e[5]=u*p+s*f+c,e[6]=o*h+a*p+l,e[7]=u*p+s*h+c},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){var e,n,r,i;return this.worldTransform.applyInverse(t,y),e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0,y.x>=r&&y.x<r+e&&(i=-n*this.anchor.y,y.y>=i&&y.y<i+n)},e.prototype.destroy=function(e){var n,r;t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,n="boolean"==typeof e?e:e&&e.texture,n&&(r="boolean"==typeof e?e:e&&e.baseTexture,this._texture.destroy(!!r)),this._texture=null,this.shader=null},e.from=function(t){return new e(f["default"].from(t))},e.fromFrame=function(t){var n=l.TextureCache[t];if(!n)throw Error('The frameId "'+t+'" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(f["default"].fromImage(t,n,r))},a(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||f["default"].EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(p["default"]),e["default"]=g},function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var i,o=32;e.INT_BITS=o,e.INT_MAX=2147483647,e.INT_MIN=-1<<o-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>o-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,(e|=n)|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1},i=Array(256),function(t){var e,n,r,i;for(e=0;e<256;++e){for(n=e,r=e,i=7,n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";var r,i,o;e.__esModule=!0,e.Ticker=e.shared=undefined,r=n(564),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),o=new i["default"],o.autoStart=!0,o.destroy=function(){},e.shared=o,e.Ticker=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h;e.__esModule=!0,a=n(223),u=r(a),l=n(51),c=r(l),h=function(t){function e(n,r){var s,a,l,c,h,f;return i(this,e),s=null,n instanceof u["default"]||(a=arguments[1],l=arguments[2],c=arguments[3],h=arguments[4],s=arguments[0],r=null,n=new u["default"](a,l,c,h)),f=o(this,t.call(this,n,r)),f.legacyRenderer=s,f.valid=!0,f._updateUvs(),f}return s(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,r,i){return new e(new u["default"](t,n,r,i))},e}(c["default"]),e["default"]=h},function(t,e,n){"use strict";var r,i,o,s;e.__esModule=!0,r=n(7),i=n(225),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s={getTintedTexture:function(t,e){var n,r,i,o,a=t._texture;if(e=s.roundColor(e),n="#"+("00000"+(0|e).toString(16)).substr(-6),a.tintCache=a.tintCache||{},r=a.tintCache[n],i=void 0,r){if(r.tintId===a._updateID)return a.tintCache[n];i=a.tintCache[n]}else i=s.canvas||document.createElement("canvas");return s.tintMethod(a,e,i),i.tintId=a._updateID,s.convertTintToImage?(o=new Image,o.src=i.toDataURL(),a.tintCache[n]=o):(a.tintCache[n]=i,s.canvas=null),i},tintWithMultiply:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var i,o,s,a,u,l,c,h=n.getContext("2d"),f=t._frame.clone(),d=t.baseTexture.resolution;for(f.x*=d,f.y*=d,f.width*=d,f.height*=d,n.width=Math.ceil(f.width),n.height=Math.ceil(f.height),h.save(),h.globalCompositeOperation="copy",h.drawImage(t.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height),h.restore(),i=(0,r.hex2rgb)(e),o=i[0],s=i[1],a=i[2],u=h.getImageData(0,0,f.width,f.height),l=u.data,c=0;c<l.length;c+=4)l[c+0]*=o,l[c+1]*=s,l[c+2]*=a;h.putImageData(u,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,n=(0,r.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,r.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,o["default"])(),tintMethod:0},s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e["default"]=s},function(t,e,n){"use strict";function r(t){var e,n,r=6*t,i=new Uint16Array(r);for(e=0,n=0;e<r;e+=6,n+=4)i[e+0]=n+0,i[e+1]=n+1,i[e+2]=n+2,i[e+3]=n+0,i[e+4]=n+2,i[e+5]=n+3;return i}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function s(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function a(t){return(""+t).replace("object ","")}var u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,u=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(248),c=r(l),h=n(247),f=r(h),d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,y=0,g=200,v=204,m=1223,_=2,b=function(){function t(e,n,r){if(i(this,t),"string"!=typeof e||"string"!=typeof n)throw Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new f["default"],this.onProgress=new f["default"],this.onComplete=new f["default"],this.onAfterMiddleware=new f["default"]}return t.setExtensionLoadType=function(e,n){s(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){s(t._xhrTypeMap,e,n)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var n=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(n)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:d&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){var e,n,r;if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else r=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(a(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(a(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(a(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e,n,r=this.xhr,i="",o="undefined"==typeof r.status?g:r.status;if(""!==r.responseType&&"text"!==r.responseType&&"undefined"!=typeof r.responseType||(i=r.responseText),o===y&&(i.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?o=g:o===m&&(o=v),(o/100|0)!==_)return void this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(s){return void this.abort("Error trying to parse loaded json: "+s)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(e=new DOMParser,this.data=e.parseFromString(i,"text/xml")):(n=document.createElement("div"),n.innerHTML=i,this.data=n),this.type=t.TYPE.XML}catch(s){return void this.abort("Error trying to parse loaded xml: "+s)}else this.data=r.response||i;this.complete()},t.prototype._determineCrossOrigin=function(t,e){var n,r;return 0===t.indexOf("data:")?"":(e=e||window.location,p||(p=document.createElement("a")),p.href=t,t=(0,c["default"])(p.href,{strictMode:!0}),n=!t.port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"",t.host===e.hostname&&n&&r===e.protocol?"":"anonymous")},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t,e,n,r,i=this.url,o="";return this.isDataUrl?(t=i.indexOf("/"),o=i.substring(t+1,i.indexOf(";",t))):(e=i.indexOf("?"),n=i.indexOf("#"),r=Math.min(e>-1?e:i.length,n>-1?n:i.length),i=i.substring(0,r),o=i.substring(i.lastIndexOf(".")+1)),o.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}(),e["default"]=b,b.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},b.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},b.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},b.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},b._loadTypeMap={gif:b.LOAD_TYPE.IMAGE,png:b.LOAD_TYPE.IMAGE,bmp:b.LOAD_TYPE.IMAGE,jpg:b.LOAD_TYPE.IMAGE,jpeg:b.LOAD_TYPE.IMAGE,tif:b.LOAD_TYPE.IMAGE,tiff:b.LOAD_TYPE.IMAGE,webp:b.LOAD_TYPE.IMAGE,tga:b.LOAD_TYPE.IMAGE,svg:b.LOAD_TYPE.IMAGE,"svg+xml":b.LOAD_TYPE.IMAGE,mp3:b.LOAD_TYPE.AUDIO,ogg:b.LOAD_TYPE.AUDIO,wav:b.LOAD_TYPE.AUDIO,mp4:b.LOAD_TYPE.VIDEO,webm:b.LOAD_TYPE.VIDEO},b._xhrTypeMap={xhtml:b.XHR_RESPONSE_TYPE.DOCUMENT,html:b.XHR_RESPONSE_TYPE.DOCUMENT,htm:b.XHR_RESPONSE_TYPE.DOCUMENT,xml:b.XHR_RESPONSE_TYPE.DOCUMENT,tmx:b.XHR_RESPONSE_TYPE.DOCUMENT,svg:b.XHR_RESPONSE_TYPE.DOCUMENT,tsx:b.XHR_RESPONSE_TYPE.DOCUMENT,gif:b.XHR_RESPONSE_TYPE.BLOB,png:b.XHR_RESPONSE_TYPE.BLOB,bmp:b.XHR_RESPONSE_TYPE.BLOB,jpg:b.XHR_RESPONSE_TYPE.BLOB,jpeg:b.XHR_RESPONSE_TYPE.BLOB,tif:b.XHR_RESPONSE_TYPE.BLOB,tiff:b.XHR_RESPONSE_TYPE.BLOB,webp:b.XHR_RESPONSE_TYPE.BLOB,tga:b.XHR_RESPONSE_TYPE.BLOB,json:b.XHR_RESPONSE_TYPE.JSON,text:b.XHR_RESPONSE_TYPE.TEXT,txt:b.XHR_RESPONSE_TYPE.TEXT,ttf:b.XHR_RESPONSE_TYPE.BUFFER,otf:b.XHR_RESPONSE_TYPE.BUFFER},b.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var n,r,i=!1;if(t&&t._textures&&t._textures.length)for(n=0;n<t._textures.length;n++)t._textures[n]instanceof f.Texture&&(r=t._textures[n].baseTexture,-1===e.indexOf(r)&&(e.push(r),i=!0));return i}function o(t,e){return t instanceof f.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function s(t,e){if(t._texture&&t._texture instanceof f.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function a(t,e){return e instanceof f.Text&&(e.updateText(!0),!0)}function u(t,e){if(e instanceof f.TextStyle){var n=e.toFontString();return f.TextMetrics.measureFont(n),!0}return!1}function l(t,e){if(t instanceof f.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function c(t,e){return t instanceof f.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}var h,f,d,p,y,g;e.__esModule=!0,h=n(5),f=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(h),d=n(254),p=function(t){return t&&t.__esModule?t:{"default":t}}(d),y=f.ticker.shared,f.settings.UPLOADS_PER_FRAME=4,g=function(){function t(e){var n=this;r(this,t),this.limiter=new p["default"](f.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(l),this.registerFindHook(c),this.registerFindHook(i),this.registerFindHook(o),this.registerFindHook(s),this.registerUploadHook(a),this.registerUploadHook(u)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,y.addOnce(this.tick,this,f.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){var t,e,n,r,i,o,s;for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){if(t=this.queue[0],e=!1,t&&!t._destroyed)for(n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)y.addOnce(this.tick,this,f.UPDATE_PRIORITY.UTILITY);else for(this.ticking=!1,i=this.completes.slice(0),this.completes.length=0,o=0,s=i.length;o<s;o++)i[o]()},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){var e,n,r;for(e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof f.Container)for(r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&y.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}(),e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B;e.__esModule=!0,e["default"]=e.SPACING=undefined,o=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(35),a=n(255),u=r(a),l=n(158),c=r(l),h=n(256),f=r(h),d=n(69),p=n(257),y=r(p),g=n(159),v=r(g),m=n(258),_=r(m),b=n(657),x=r(b),w=.05,T=e.SPACING=10,E=3,O=4,S=2,A=3,P=5e3,C=100,M=150,I=300,R=300,D=2500,N=10,L=.2,k=2,j=40,F=100,U=2500,B=function(){function t(){var e,n,r=this;for(i(this,t),Object.defineProperty(this,"updateListener",{enumerable:!0,writable:!0,value:new c["default"]}),Object.defineProperty(this,"lifesListener",{enumerable:!0,writable:!0,value:new c["default"]}),Object.defineProperty(this,"scoreUpdateListener",{enumerable:!0,writable:!0,value:new c["default"]}),Object.defineProperty(this,"meteorTime",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(this,"lifes",{enumerable:!0,writable:!0,value:E}),Object.defineProperty(this,"score",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(this,"levelScore",{enumerable:!0,writable:!0,value:P}),Object.defineProperty(this,"magicNumber",{enumerable:!0,writable:!0,value:1}),Object.defineProperty(this,"gameover",{enumerable:!0,writable:!0,value:!1}),this.checkpoints=new x["default"],this.checkpoints.hasCheckpoint()&&(this.checkpoints.loadCheckpoint(this),this.checkpoints.remove()),this.lineControl=new u["default"](this),this.playerControl=new f["default"](this),this.magicNumber=Math.max(this.score/U,1),this.playerControl.directionUpdateListener.add(this.updateActiveLine.bind(this)),this.level=Math.max(Math.round(this.score/D),1),this.planets=[{x:640,y:360}].concat(this.getPlanets(this.magicNumber)),this.meteors=[],e=0;e<N;e++)n=new y["default"](100),n.destroy(),this.meteors.push(n);this.mines=[],this.planets.slice(1).forEach(function(t){r.mines.push(new v["default"](o({},t),7,"mine")),r.mines.push(new v["default"](o({},t),7,"mine"))}),this.planets.slice(2).forEach(function(t){var e=t.x,n=t.y,i=~~((0,d.getRandomInRange)(j,F)/T)*T;r.lineControl.enemylinePolygons.push([{x:e-i,y:n-i},{x:e-i,y:n+i},{x:e+i,y:n+i},{x:e+i,y:n-i}])}),this.satelites=(0,d.getAvailablePositions)(Math.min(this.magicNumber-1,S)).map(function(t){return new _["default"](t,r)}),this.enemies=(0,d.getAvailablePositions)(Math.min(this.magicNumber,O)).map(function(t){return new v["default"](t,100)}),this.meteorInterval=this.getInterval(this.magicNumber),this.meteorSpeedyChance=this.magicNumber}return t.prototype.getInterval=function(t){var e=k-t/10;return Math.max(e,L)},t.prototype.finishLine=function(){this.levelScore-=C,this.scoreUpdateListener.dispatch()},t.prototype.updateScore=function(t){this.score+=t,this.scoreUpdateListener.dispatch()},t.prototype.getPlanets=function(t){return(0,d.getAvailablePositions)(Math.min(t,A)).map(function(t){return{x:~~((t.x+5)/T)*T,y:~~((t.y+5)/T)*T}})},t.prototype.checkCompletion=function(){var t=this;return void 0===this.planets.find(function(e){return!t.lineControl.isInside(e)})},t.prototype.update=function(t){var e,n=Math.ceil(t/w),r=t/n;for(e=0;e<n;e++)this.playerControl.update(r),this.checkPlayerPosition(),this.updateMeteors(r),this.updateEnemies(r),this.updateMines(r),this.updateBullets(r),this.updateListener.dispatch(r)},t.prototype.updateEnemies=function(t){var e=this;this.enemies.forEach(function(n){n.alive&&(n.update(t),n.getCollisionPoints().find(function(t,r){return e.lineControl.isOnLine(t)?(n.antiAngle(r),!0):e.lineControl.isOnActiveLine(t)?(n.destroy(!0),e.damagePlayer(),!0):!!e.lineControl.isInside(t)&&(e.updateScore(I),n.destroy(!0),!0)}))})},t.prototype.updateBullets=function(t){var e=this;this.satelites.forEach(function(n){var r,i;n.alive&&n.update(t),r=n.bullet,r.alive&&(r.update(t),r.getCollisionPoints().find(function(t,n){return e.lineControl.isOnLine(t)&&(r.antiAngle(n),r.position.x=r.backupPosition.x,r.position.y=r.backupPosition.y),!!e.lineControl.isOnActiveLine(t)&&(r.destroy(!0),e.damagePlayer(),!0)}),e.lineControl.isInside(r.position)&&r.destroy(!0),e.satelites.find(function(t){var n=t.position,i=r.moveToSpacing();return e.lineControl.isInside(i)?(r.destroy(),!0):i.x===n.x&&i.y===n.y&&(t.destroy(!0),r.destroy(!0),e.lineControl.removeEnemyPolygon(),!0)}),e.lineControl.isInside(n.moveToSpacing())&&(n.destroy(),e.updateScore(R+I),e.lineControl.removeEnemyPolygon()),i=e.playerControl.moveToSpacing(),n.getCollisionPoints().find(function(t){return t.x===i.x&&t.y===i.y})&&(n.destroy(!0),e.updateScore(R),e.lineControl.removeEnemyPolygon(),e.damagePlayer()))})},t.prototype.updateMines=function(t){var e=this;this.mines.forEach(function(n){n.alive&&(n.update(t),n.getCollisionPoints().find(function(t){return e.lineControl.isOnActiveLine(t)||e.lineControl.isOnLine(t)?(n.destroy(!0),e.damagePlayer(),e.mines.find(function(t){return t.alive})||(e.lifes+=1,e.lifesListener.dispatch()),!0):e.lineControl.isInside(t)?(n.destroy(!0),e.updateScore(M),e.mines.find(function(t){return t.alive})||(e.lifes+=1,e.lifesListener.dispatch()),!0):void 0}))})},t.prototype.updateMeteors=function(t){var e=this;this.meteors.forEach(function(n){n.update(t),n.getCollisionPoints().find(function(t){return e.lineControl.isOnActiveLine(t)?(n.destroy(!0),e.damagePlayer(),!0):e.lineControl.isInside(t)?(n.destroy(),!0):void 0})}),this.handleMeteor(t)},t.prototype.updateActiveLine=function(){if(0===this.lineControl.activeLinePolygon.length)return void this.checkPlayerPosition();this.lineControl.updateActiveLine(o({},this.playerControl.position))},t.prototype.checkPlayerPosition=function(){var t=this,e=this.playerControl.moveToSpacing();if(!this.lineControl.isInside(e)&&0===this.lineControl.activeLinePolygon.length)return void this.lineControl.updateActiveLine(this.lineStart);this.lineControl.isInside(e)||this.lineControl.updateSuperActiveLine(this.playerControl.position.x,this.playerControl.position.y),this.lineControl.isOnActiveLine(e,!1)&&this.damagePlayer(),this.lineControl.isOnEnemyLine(e)&&this.damagePlayer(),this.lineControl.isOnLine(e)&&(this.lineControl.activeLinePolygon.length>0?(this.lineControl.updateActiveLine(e),this.lineControl.joinActiveLine(this.planets.filter(function(e){return t.lineControl.isInside(e)})),this.playerControl.stopMoving(e),this.finishLine(),this.checkCompletion()&&this.nextLevel()):this.lineControl.isInside(this.playerControl.pointInFrontOf())||(this.playerControl.stopMoving(e),this.lineStart=o({},e)))},t.prototype.damagePlayer=function(){this.lifes-=1,this.lifes<0&&this.gameOver(),this.playerControl.init(),this.lineControl.clearActiveLine(),this.lifesListener.dispatch()},t.prototype.handleMeteor=function(t){var e,n;this.meteorTime+=t,this.meteorTime>=this.meteorInterval&&(e=this.meteors.find(function(t){return!t.alive}),e&&(n=(0,d.getRandomInRange)(1,100)<=5*this.meteorSpeedyChance?300:150,e.setDirection((0,d.getRandomInRange)(1,4),n)),this.meteorTime=0)},t.prototype.handleKeyEvent=function(t){this.gameover||this.playerControl.handleKeyEvent(t)},t.prototype.reward=function(){this.checkpoints.saveCheckpoint(this)},t.prototype.nextLevel=function(){var t=this;this.gameover=!0,setTimeout(function(){t.updateScore(t.levelScore),t.reward(),(0,s.routeTo)("game")},1e3)},t.prototype.gameOver=function(){this.gameover=!0,setTimeout(function(){var t=document.createEvent("Event");t.initEvent("gameover",!0,!0),document.dispatchEvent(t)},1e3)},t}(),e["default"]=B},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(652),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s;e.__esModule=!0,i=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(69),s=function(){function t(e,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"enemy";r(this,t),Object.defineProperty(this,"backupPosition",{enumerable:!0,writable:!0,value:{x:0,y:0}}),this.position=e,this.speed=n,this.alive=!0,this.enemyType=i,this.angle=(0,o.getRandomInRange)(0,3)}return t.prototype.destroy=function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];this.alive=!1,e?setTimeout(function(){t.position.x=-100,t.position.y=-100},1900):(this.position.x=-100,this.position.y=-100)},t.prototype.moveToSpacing=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.position,e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=e?t:i({},t);return n.x=~~(n.x/o.SPACING+.5)*o.SPACING,n.y=~~(n.y/o.SPACING+.5)*o.SPACING,n},t.prototype.update=function(t){this.alive&&(this.move(t),this.handleOutOfScreen(),"shot"!==this.enemyType&&(0,o.getRandomInRange)(0,100)<1&&this.randomAngle())},t.prototype.antiAngle=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=0===this.angle&&1===t||1===this.angle&&2===t||3===this.angle&&3===t||2===this.angle&&0===t;this.angle=(this.angle+(e?1:3))%4,this.position.x=this.backupPosition.x,this.position.y=this.backupPosition.y},t.prototype.randomAngle=function(){for(var t=this.angle;t===this.angle;)this.angle=(0,o.getRandomInRange)(0,3);this.position.x=this.backupPosition.x,this.position.y=this.backupPosition.y},t.prototype.getCollisionPoints=function(){var t=this.moveToSpacing();return[{x:t.x-o.SPACING,y:t.y},{x:t.x+o.SPACING,y:t.y},{x:t.x,y:t.y+o.SPACING},{x:t.x,y:t.y-o.SPACING}]},t.prototype.handleOutOfScreen=function(){if(this.alive&&(this.position.y>720||this.position.y<0||this.position.x>1280||this.position.x<0))if("shot"===this.enemyType)this.destroy(!1);else{var t=this.position.y>720?1:0;t=this.position.y<0?3:0,this.antiAngle(t)}},t.prototype.moveBy=function(t){switch(this.backupPosition.x=this.position.x,this.backupPosition.y=this.position.y,this.angle){default:break;case 0:this.position.x+=t,this.position.y+=t;break;case 1:this.position.x-=t,this.position.y+=t;break;case 2:this.position.x-=t,this.position.y-=t;break;case 3:this.position.x+=t,this.position.y-=t}},t.prototype.move=function(t){this.backupPosition.x=this.position.x,this.backupPosition.y=this.position.y;var e=t*this.speed;switch(this.angle){default:break;case 0:this.position.x+=e,this.position.y+=e;break;case 1:this.position.x-=e,this.position.y+=e;break;case 2:this.position.x-=e,this.position.y-=e;break;case 3:this.position.x+=e,this.position.y-=e}},t}(),e["default"]=s},function(t,e,n){t.exports=!n(10)&&!n(4)(function(){return 7!=Object.defineProperty(n(110)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(8)},function(t,e,n){var r=n(25),i=n(26),o=n(86)(!1),s=n(112)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(11),i=n(1),o=n(54);t.exports=n(10)?Object.defineProperties:function(t,e){var n,s,a,u;for(i(t),n=o(e),s=n.length,a=0;s>a;)r.f(t,u=n[a++],e[u]);return t}},function(t,e,n){var r=n(26),i=n(57).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(t,e,n){"use strict";var r=n(54),i=n(87),o=n(72),s=n(15),a=n(71),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n,u,l,c,h,f=s(t),d=arguments.length,p=1,y=i.f,g=o.f;d>p;)for(n=a(arguments[p++]),u=y?r(n).concat(y(n)):r(n),l=u.length,c=0;l>c;)g.call(n,h=u[c++])&&(f[h]=n[h]);return f}:u},function(t,e,n){"use strict";var r=n(19),i=n(6),o=n(167),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e){t.exports=function(t,e,n){var r=n===undefined;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,i=n(64).trim,o=n(116),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(t+"",3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(64).trim;t.exports=1/r(n(116)+"-0")!=-Infinity?function(t){var e=i(t+"",3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(33);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(6),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(119),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126),l=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<u?c*l(i/u/s)*u*s:(e=(1+s/o)*i,n=e-(e-i),n>a||n!=n?c*Infinity:c*n)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw o!==undefined&&r(o.call(t)),s}}},function(t,e,n){var r=n(19),i=n(15),o=n(71),s=n(12);t.exports=function(t,e,n,a,u){var l,c,h,f,d;if(r(e),l=i(t),c=o(l),h=s(l.length),f=u?h-1:0,d=u?-1:1,n<2)for(;;){if(f in c){a=c[f],f+=d;break}if(f+=d,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=d)f in c&&(a=e(a,c[f],f,l));return a}},function(t,e,n){"use strict";var r=n(15),i=n(55),o=n(12);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),l=arguments.length>2?arguments[2]:undefined,c=Math.min((l===undefined?s:i(l,s))-u,s-a),h=1;for(u<a&&a<u+c&&(h=-1,u+=c-1,a+=c-1);c-- >0;)u in n?n[a]=n[u]:delete n[a],a+=h,u+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(91)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var r=n(1),i=n(6),o=n(134);t.exports=function(t,e){var n,s;return r(t),i(e)&&e.constructor===t?e:(n=o.f(t),s=n.resolve,s(e),n.promise)}},function(t,e,n){"use strict";var r=n(182),i=n(66),o="Map";t.exports=n(95)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(11).f,i=n(56),o=n(61),s=n(32),a=n(59),u=n(60),l=n(122),c=n(177),h=n(58),f=n(10),d=n(48).fastKey,p=n(66),y=f?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){a(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=undefined,t._l=undefined,t[y]=0,r!=undefined&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=undefined),delete n[r.i];t._f=t._l=undefined,t[y]=0},"delete":function(t){var n,r,i=p(this,e),o=g(i,t);return o&&(n=o.n,r=o.p,delete i._i[o.i],o.r=!0,r&&(r.n=n),n&&(n.p=r),i._f==o&&(i._f=n),i._l==o&&(i._l=r),i[y]--),!!o},forEach:function(t){var n,r;for(p(this,e),n=s(t,arguments.length>1?arguments[1]:undefined,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(p(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return p(this,e)[y]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:undefined,r:!1},t._f||(t._f=o),r&&(r.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=undefined},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=undefined,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(182),i=n(66),o="Set";t.exports=n(95)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(40)(0),o=n(23),s=n(48),a=n(165),u=n(185),l=n(6),c=n(4),h=n(66),f="WeakMap",d=s.getWeak,p=Object.isExtensible,y=u.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},m={get:function(t){if(l(t)){var e=d(t);return!0===e?y(h(this,f)).get(t):e?e[this._i]:undefined}},set:function(t,e){return u.def(h(this,f),t,e)}},_=t.exports=n(95)(f,v,m,u,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(g),7).get(g)})&&(r=u.getConstructor(v,f),a(r.prototype,m),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];o(e,t,function(e,i){if(l(e)&&!p(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(61),i=n(48).getWeak,o=n(1),s=n(6),a=n(59),u=n(60),l=n(40),c=n(25),h=n(66),f=l(5),d=l(6),p=0,y=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},"delete":function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=p++,t._l=undefined,r!=undefined&&u(r,n,t[o],t)});return r(l.prototype,{"delete":function(t){if(!s(t))return!1;var n=i(t);return!0===n?y(h(this,e))["delete"](t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?y(h(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?y(t).set(e,n):r[t._i]=n,t},ufstore:y}},function(t,e,n){var r=n(38),i=n(12);t.exports=function(t){var e,n;if(t===undefined)return 0;if(e=r(t),n=i(e),e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(57),i=n(87),o=n(1),s=n(2).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function r(t,e,n,l,c,h,f,d){for(var p,y,g=c,v=0,m=!!f&&a(f,d,3);v<l;){if(v in n){if(p=m?m(n[v],v,e):n[v],y=!1,o(p)&&(y=p[u],y=y!==undefined?!!y:i(p)),y&&h>0)g=r(t,e,p,s(p.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=p}g++}v++}return g}var i=n(88),o=n(6),s=n(12),a=n(32),u=n(8)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(12),i=n(118),o=n(37);t.exports=function(t,e,n,s){var a,u,l=o(t)+"",c=l.length,h=n===undefined?" ":n+"",f=r(e);return f<=c||""==h?l:(a=f-c,u=i.call(h,Math.ceil(a/h.length)),u.length>a&&(u=u.slice(0,a)),s?u+l:l+u)}},function(t,e,n){var r=n(54),i=n(26),o=n(72).f;t.exports=function(t){return function(e){for(var n,s=i(e),a=r(s),u=a.length,l=0,c=[];u>l;)o.call(s,n=a[l++])&&c.push(t?[n,s[n]]:s[n]);return c}}},function(t,e,n){var r=n(73),i=n(192);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(60);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===Infinity||t===-Infinity?t:(t-e)*(i-r)/(n-e)+r}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t<<0};e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i={uid:"",tracker:{get:function(){return i.uid}},config:{}},o=function(t,e){void 0===e&&(e={});var n=e.name||"default";e.sampleRate&&r.getIntInInterval(0,100)>e.sampleRate||(i.config[n]={v:1,tid:t},e&&"none"===e.storage?i.uid=e.clientId||r.uuid():i.uid=r.uuid())},s=function(t,e,n){i.config[t]&&(i.config[t][e]=n)},a=function(t,e){var n,r,o,s,a,u,l=i.config,c=i.uid;if(l[t]){for(n=l[t],r=n.v,o=n.tid,s="",s+="v="+r+"&",s+="tid="+o+"&",s+="cid="+c,a=1;l[t]["dimension"+a];)s+="&cd"+a+"="+l[t]["dimension"+a],a+=1;Object.keys(e).forEach(function(t){s+="&"+t+"="+e[t]}),u=new XMLHttpRequest,u.open("POST","http://www.google-analytics.com/collect",!0),u.setRequestHeader("Content-type","application/x-www-form-urlencode"),u.send(s)}},u=function(t,e,n,r,i){var o={t:"event"};e&&(o.ec=e),n&&(o.ea=n),r&&(o.el=r),i&&(o.ev=i),a(t,o)},l=function(t,e,n,r,i,o,s,u){var l={};e&&(l.dl=e),n&&(l.dh=n),r&&(l.dp=r),i&&(l.dt=i),o&&(l.cd=o),s&&(l.cg1=s),u&&(l.linkid=u),a(t,l)},c=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(e){case"event":u.apply(void 0,[t].concat(n));break;case"pageview":l.apply(void 0,[t].concat(n))}};e.mpGA=function(t){var e,n,r,a,u;for(e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if("function"==typeof t)t(i.tracker);else if("string"==typeof t)switch(r=t.split("."),a=r[2===r.length?1:0],u=2===r.length?r[0]:"default",a){case"create":o.apply(void 0,e);break;case"set":s.apply(void 0,[u].concat(e));break;case"send":c.apply(void 0,[u].concat(e))}}},function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},i=this;Object.defineProperty(e,"__esModule",{value:!0}),e.request=function(t,e){return void 0===e&&(e="GET"),n(i,void 0,void 0,function(){return r(this,function(e){return[2,new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){200===r.status?4===r.readyState&&e(r.responseText):n(r.response)},r.send()})]})})}},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E;Object.defineProperty(e,"__esModule",{value:!0}),r=n(100),i=n(67),o="This font does not exist",s="This letter does not exist",a="This font already exists",u={},e.fonts=u,l=function(t,e){return void 0===t&&(t="default"),void 0===e&&(e=!1),t+"--"+(e?"focused":"")},e.getFontName=l,c=function(t,e){var n=u[e].canvas,r=n.getContext("2d"),i=new Image;i.onload=function(){n.width=i.width,n.height=i.height,r.drawImage(i,0,0)},i.src=t},h=function(t,e,n){var r=l(t,e);if(!u[r])throw Error(o);u[r].letters[n.id]=n},e.addLetter=h,f=function(t,e,n,r,i){var a,c=u[l(t,e)];if(!c)throw Error(o);if(!(a=c.letters[r]))throw Error(s);a.kernings[n]=i},e.addKerning=f,d=function(t,e,n,o,s){var h,f=l(e,n);if(u[f])throw Error(a);try{h=document.createElement("canvas")}catch(t){h=null,i["default"].error(t)}if(u[f]={name:f,canvas:h,common:o,info:s,imageURL:t,letters:{}},h&&!r["default"].disableCanvas)try{c(t,f)}catch(t){i["default"].error(t)}},e.addFont=d,p=function(t,e,n,r,i,s,a){var c,h,f,d,p,y,g,v,m,_=u[l(s,a)];if(!_)throw Error(o);return(c=_.letters[r])?c.width<=0||c.height<=0?c.xadvance:(h=c.x,f=c.y,d=c.width,p=c.height,y=e+c.xoffset+(i&&c.kernings[i]?c.kernings[i]:0),g=n+c.yoffset,v=c.width,m=c.height,t.drawImage(_.canvas,h,f,d,p,y,g,v,m),c.xadvance):0},y=function(t,e,n){var r,i,s,a;if(void 0===e&&(e="default"),void 0===n&&(n=!1),!(r=u[l(e,n)]))throw Error(o);return s=(""+t).split(""),a=0,s.forEach(function(t){var e=t.charCodeAt(0),n=r.letters[e]||{};a+=(n.xadvance||0)+(i&&n.kernings&&n.kernings[i]||0),i=e}),a},e.getWordWidth=y,g=function(t,e,n,r,i,o,s){var a,u,l,c;switch(void 0===i&&(i="left"),void 0===o&&(o="default"),void 0===s&&(s=!1),l=(""+r).split(""),i){case"right":u=e-y(r,o,s);break;case"center":u=e-~~(y(r,o,s)/2);break;case"left":default:u=e}c=n,l.forEach(function(e){var n=e.charCodeAt(0);u+=p(t,u,c,n,a,o,s),a=n})},e.drawWord=g,v=function(t,e){var n=t.info||{},r=e.createElement("info");return r.setAttribute("face",t.name),r.setAttribute("size",n.size),r.setAttribute("bold",n.bold),r.setAttribute("italic",n.italic),r.setAttribute("charset",n.charset),r.setAttribute("unicode",n.unicode),r.setAttribute("stretchH",n.stretchH),r.setAttribute("smooth",n.smooth),r.setAttribute("aa",n.aa),r.setAttribute("padding",n.padding),r.setAttribute("spacing",n.spacing),r.setAttribute("outline",n.outline),r},m=function(t,e){var n=t.common||{},r=e.createElement("common");return r.setAttribute("lineHeight",n.lineHeight),r.setAttribute("base",n.base),r.setAttribute("scaleW",n.scaleW),r.setAttribute("scaleH",n.scaleH),r.setAttribute("pages",n.pages),r.setAttribute("packed",n.packed),r},_=function(t,e){var n=e.createElement("pages"),r=e.createElement("page");return r.setAttribute("id","0"),r.setAttribute("file",t.imageURL),n.appendChild(r),n},b=function(t,e){var n=e.createElement("chars");return Object.keys(t.letters).forEach(function(r){var i=t.letters[parseInt(r,10)],o=e.createElement("char");o.setAttribute("id",r),o.setAttribute("x",""+i.x),o.setAttribute("y",""+i.y),o.setAttribute("width",""+i.width),o.setAttribute("height",""+i.height),o.setAttribute("xoffset",""+i.xoffset),o.setAttribute("yoffset",""+i.yoffset),o.setAttribute("xadvance",""+i.xadvance),o.setAttribute("page","0"),o.setAttribute("chnl","15"),n.appendChild(o)}),n},x=function(t,e){var n=e.createElement("kernings");return Object.keys(t.letters).forEach(function(r){var i=t.letters[parseInt(r,10)];Object.keys(i.kernings).forEach(function(t){var o=e.createElement("kerning");o.setAttribute("first",r),o.setAttribute("second",t),o.setAttribute("amount",""+i.kernings[parseInt(t,10)]),n.appendChild(o)})}),n},w=function(t){var e,n,r,i,o=window.document.implementation.createDocument(null,"font",null),s=o.getElementsByTagName("font")[0],a=v(t,o);return s.appendChild(a),e=m(t,o),s.appendChild(e),n=_(t,o),s.appendChild(n),r=b(t,o),s.appendChild(r),i=x(t,o),s.appendChild(i),o},T=function(t,e){void 0===t&&(t="default"),void 0===e&&(e=!1);var n=u[l(t,e)];if(!n)throw Error(o);return n.xml||(n.xml=w(n)),n.xml},e.getXML=T,E=function(t,e){void 0===t&&(t="default"),void 0===e&&(e=!1);var n=u[l(t,e)];if(!n)throw Error(o);return n.canvas},e.getCanvas=E},function(t,e){var n,r,i,o,s,a;Object.defineProperty(e,"__esModule",{value:!0}),n=function(){function t(){var t=this;this.modalRoot=window.document.getElementById("modal"),this.shown=!1,this.component=null,this.promise=null,this.resolve=null,this.reject=null,this.showModal=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.component=new(e.bind.apply(e,[void 0].concat(n))),t.component.mount(t.modalRoot),t.modalRoot.className=e.modalType||"",t.modalRoot.style.display="block",t.shown=!0,t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t.promise},this.hideModal=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.component&&t.shown&&(t.shown=!1,t.modalRoot.style.display="none",t.component.unmount(),t.component=null,"function"==typeof t.resolve&&t.resolve.apply(t,e),t.reject=null,t.resolve=null,t.promise=null)}}return t.prototype.modalOnKeyDown=function(t){return!this.component||(this.component.onKeyDown(t),!1)},t}(),r=new n,i=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r.showModal.apply(r,[t].concat(e))},e.showModal=i,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.hideModal.apply(r,t)},e.hideModal=o,s=function(){return r.shown},e.isModalShown=s,a=function(t){return r.modalOnKeyDown(t)},e.modalOnKeyDown=a},function(t,e,n){var r,i,o,s,a,u,l=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(47),i=n(20),o=n(18),s=n(200),a="hsFormNameInput",u=function(t){function e(){var e=t.call(this)||this;return e.useFocusedFont=!1,e.NameInputClass=s["default"],e.nameInput=null,e.score=0,e.els=[a],e}return l(e,t),e.prototype.getName=function(){return this.nameInput?this.nameInput.getName():""},e.prototype.setScore=function(t){this.score=t},e.prototype.render=function(){return'\n\t\t\t<div id="highscoreForm">\n\t\t\t\t<h1>'+i["default"](o._("new_highscore"))+'</h1>\n\t\t\t\t<div id="'+a+'"></div>\n\t\t\t</div>\n\t\t'},e.prototype.componentDidMount=function(){this.nameInput=new this.NameInputClass(this.useFocusedFont),this.nameInput.mount(this.refs[a])},e.prototype.componentWillUnmout=function(){this.nameInput&&this.nameInput.unmount(),this.nameInput=null},e.prototype.onKeyDown=function(t){return!!this.nameInput&&this.nameInput.onKeyDown(t)},e}(r["default"]),e["default"]=u},function(t,e,n){var r,i,o,s,a,u,l,c,h,f=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(47),i=n(528),o=n(529),s=n(9),a=n(76),u=n(29),l=function(t,e,n){var r=t.split("");return r[n]=e,r.join("")},c="nameInput",h=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.user=s["default"].Storage.get("last_used_user")||"AAA",n.selected=0,n.useFocusedFont=!1,n.useFocusedFont=e,n.els=[c],n.onClick=n.onClick.bind(n),n.onMouseOver=n.onMouseOver.bind(n),n}return f(e,t),e.prototype.componentDidMount=function(){this.refs[c].addEventListener("click",this.onClick,!1),this.refs[c].addEventListener("mouseover",this.onMouseOver,!1)},e.prototype.componentWillUnmount=function(){this.refs[c].removeEventListener("click",this.onClick,!1),this.refs[c].removeEventListener("mouseover",this.onMouseOver,!1)},e.prototype.render=function(){return'\n\t\t\t<div id="'+c+'">\n\t\t\t\t'+this.renderLetter()+"\n\t\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){switch(t.key){case u.Keys.UP:this.previousLetter();break;case u.Keys.DOWN:this.nextLetter();break;case u.Keys.LEFT:this.previousPosition();break;case u.Keys.RIGHT:this.nextPosition()}return!1},e.prototype.onClick=function(t){var e=t.srcElement.className;return-1!==e.indexOf("down")?this.nextLetter():-1!==e.indexOf("up")?this.previousLetter():a.fakeEnter(),this.updateInput(),!1},e.prototype.onMouseOver=function(t){for(var e=this.selected,n=t.srcElement;n&&(!n.id||-1===n.id.indexOf("niLetter"));)n=n.parentElement;if(!n)return!1;switch(n.id){case"niLetter0":this.selected=0;break;case"niLetter1":this.selected=1;break;case"niLetter2":this.selected=2}this.selected!==e&&this.updateInput()},e.prototype.getName=function(){return this.user},e.prototype.previousPosition=function(){0<this.selected&&(this.selected-=1,this.updateInput())},e.prototype.nextPosition=function(){this.selected<2&&(this.selected+=1,this.updateInput())},e.prototype.previousLetter=function(){this.user=l(this.user,i["default"].prevLetter(this.user.charAt(this.selected)),this.selected),this.updateInput()},e.prototype.nextLetter=function(){this.user=l(this.user,i["default"].nextLetter(this.user.charAt(this.selected)),this.selected),this.updateInput()},e.prototype.renderLetter=function(){var t=this;return[0,1,2].map(function(e){return o["default"](t.user.charAt(e),t.selected===e,"niLetter"+e,t.useFocusedFont)}).join("")},e.prototype.updateInput=function(){this.refs[c].innerHTML=this.renderLetter()},e}(r["default"]),e["default"]=h},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(105),i=n(29),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.sceneDidMount=function(){this.setKeys()},e.prototype.onKeyDown=function(e){switch(t.prototype.onKeyDown.call(this,e),e.key){case this.backwardKey:return this.focusPrevMenuItem(e.target);case this.forwardKey:return this.focusNextMenuItem(e.target);case i.Keys.ENTER:return this.enter(e.target);case i.Keys.RETURN:return this.handleBack();case i.Keys.EXIT:return this.handleQuit()}return!0},e.prototype.focusPrevMenuItem=function(t){if(!t)return!0;var e=t.id,n=this.visibleMenuItems[this.visibleMenuItems.indexOf(e)-1];return!n||(this.focus(n),!1)},e.prototype.focusNextMenuItem=function(t){if(!t)return!0;var e=t.id,n=this.visibleMenuItems[this.visibleMenuItems.indexOf(e)+1];return!n||(this.focus(n),!1)},e.prototype.setKeys=function(){this.horizontal?(this.forwardKey=i.Keys.RIGHT,this.backwardKey=i.Keys.LEFT):(this.forwardKey=i.Keys.DOWN,this.backwardKey=i.Keys.UP)},e.prototype.switchVisibility=function(t,e){var n=this.visibleMenuItems.indexOf(e);-1!==n&&(this.visibleMenuItems.splice(n,1),-1===this.visibleMenuItems.indexOf(t)&&this.visibleMenuItems.splice(n,0,t)),this.hide(this.refs[e]),this.show(this.refs[t]),this.focus(t)},e.prototype.enter=function(t){return!1},e}(r["default"]),e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h;e.__esModule=!0,e["default"]=undefined,a=n(78),u=r(a),l=n(20),c=r(l),n(203),h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="question">'+(0,c["default"])(this.question,"shiny")+'</div>\n\t\t\t<div class="answers">\n\t\t\t\t<div class="answer" id="'+this.YES_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+(0,c["default"])(this.yes)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="answer" id="'+this.NO_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+(0,c["default"])(this.no)+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=h},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;r(this,t),this._x=i,this._y=o,this.cb=e,this.scope=n}return t.prototype.clone=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return new t(e||this.cb,n||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}(),e["default"]=o},function(t,e,n){"use strict";function r(t){return t<0?-1:t>0?1:0}var i,o,s,a,u,l,c,h,f;e.__esModule=!0,i=n(142),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c=[],h=[],function(){var t,e,n,i,f,d,p,y,g,v;for(t=0;t<16;t++)for(e=[],h.push(e),n=0;n<16;n++)for(i=r(s[t]*s[n]+u[t]*a[n]),f=r(a[t]*s[n]+l[t]*a[n]),d=r(s[t]*u[n]+u[t]*l[n]),p=r(a[t]*u[n]+l[t]*l[n]),y=0;y<16;y++)if(s[y]===i&&a[y]===f&&u[y]===d&&l[y]===p){e.push(y);break}for(g=0;g<16;g++)v=new o["default"],v.set(s[g],a[g],u[g],l[g],0,0),c.push(v)}(),f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return l[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return h[t][e]},sub:function(t,e){return h[t][f.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,i=c[f.inv(e)];i.tx=n,i.ty=r,t.append(i)}},e["default"]=f},function(t,e){var n=function(t,e,n){var r,i,o,s;if(n){for(i=n.tempAttribState,o=n.attribState,r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++)s=e[r],t.enableVertexAttribArray(s.attribute.location)};t.exports=n},function(t,e){var n,r=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){var e,n,r;this.bind(),e=this.gl,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),n=t.videoWidth||t.width,r=t.videoHeight||t.height,r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r},n=!1,r.prototype.uploadData=function(t,e,r){var i;if(this.bind(),i=this.gl,t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;t!==undefined&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){var n=function(t,e,n,i){var o,s=r(t,t.VERTEX_SHADER,e),a=r(t,t.FRAGMENT_SHADER,n),u=t.createProgram();if(t.attachShader(u,s),t.attachShader(u,a),i)for(o in i)t.bindAttribLocation(u,i[o],o);return t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)||(t.getProgramInfoLog(u),t.deleteProgram(u),u=null),t.deleteShader(s),t.deleteShader(a),u},r=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:null};t.exports=n},function(t,e,n){var r=n(144),i=n(210),o=function(t,e){var n,o,a,u={},l=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(n=0;n<l;n++)o=t.getActiveAttrib(e,n),a=r(t,o.type),u[o.name]={type:a,size:i(a),location:t.getAttribLocation(e,o.name),pointer:s};return u},s=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};t.exports=o},function(t,e){var n=function(t){return r[t]},r={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=n},function(t,e,n){var r=n(144),i=n(212),o=function(t,e){var n,o,s,a,u={},l=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(n=0;n<l;n++)o=t.getActiveUniform(e,n),s=o.name.replace(/\[.*?\]/,""),a=r(t,o.type),u[s]={type:a,size:o.size,location:t.getUniformLocation(e,s),value:i(a,o.size)};return u};t.exports=o},function(t,e){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},r=function(t){var e,n=Array(t);for(e=0;e<n.length;e++)n[e]=!1;return n};t.exports=n},function(t,e){var n=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};t.exports=n},function(t,e){function n(t,e){return function(n){this.data[t].value=n;var r=this.data[t].location;1===e.size?s[e.type](this.gl,r,n):a[e.type](this.gl,r,n)}}function r(t,e){var n,r,i=e;for(n=0;n<t.length-1;n++)r=i[t[n]]||{data:{}},i[t[n]]=r,i=r;return i}var i=function(t,e){var i,s,a,u,l,c,h,f={data:{}};for(f.gl=t,i=Object.keys(e),s=0;s<i.length;s++)a=i[s],u=a.split("."),l=u[u.length-1],c=r(u,f),h=e[a],c.data[l]=h,c.gl=t,Object.defineProperty(c,l,{get:o(l),set:n(l,h)});return f},o=function(t){return function(){return this.data[t].value}},s={"float":function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},"int":function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},a={"float":function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},"int":function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};t.exports=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(62),l=r(u),c=n(3),h=n(16),f=r(h),d=n(216),p=r(d),y=n(217),g=r(y),v=n(145),m=r(v),_=n(17),b=function(t){function e(){var n,r;return i(this,e),n=o(this,t.call(this)),r=f["default"].TRANSFORM_MODE===c.TRANSFORM_MODE.STATIC?p["default"]:g["default"],n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new m["default"],n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return s(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new _.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e,n=this.transform,r=this.parent;return this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),t=this._localBoundsRect),e=this.getBounds(!1,t),this.parent=r,this.transform=n,e},e.prototype.toGlobal=function(t,e){return arguments.length>2&&arguments[2]!==undefined&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1,i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0,s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0,a=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0,u=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},a(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(l["default"]),e["default"]=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(17),u=n(147),l=function(t){return t&&t.__esModule?t:{"default":t}}(u),c=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.position=new a.ObservablePoint(n.onChange,n,0,0),n.scale=new a.ObservablePoint(n.onChange,n,1,1),n.pivot=new a.ObservablePoint(n.onChange,n,0,0),n.skew=new a.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return o(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e,n,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,n=this.worldTransform,n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(l["default"]),e["default"]=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(17),u=n(147),l=function(t){return t&&t.__esModule?t:{"default":t}}(u),c=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.position=new a.Point(0,0),n.scale=new a.Point(1,1),n.skew=new a.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new a.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return o(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e,n,r=this.localTransform;r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),e=t.worldTransform,n=this.worldTransform,n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(l["default"]),e["default"]=c},function(t,e,n){"use strict";function r(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location;return 0===t.indexOf("data:")?"":(n=n||window.location,s||(s=document.createElement("a")),s.href=t,t=o["default"].parse(s.href),e=!t.port&&""===n.port||t.port===n.port,t.hostname===n.hostname&&e&&t.protocol===n.protocol?"":"anonymous")}var i,o,s;e.__esModule=!0,e["default"]=r,i=n(219),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=void 0},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&E.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return E.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T=n(558),E=n(560);e.parse=i,e.resolve=s,e.resolveObject=a,e.format=o,e.Url=r,u=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),d=["'"].concat(f),p=["%","/","?",";","#"].concat(d),y=["/","?","#"],g=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n(561),r.prototype.parse=function(t,e,n){var r,i,o,s,a,l,h,f,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X,V,Y,z;if(!E.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);if(r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g,o[0]=o[0].replace(s,"/"),t=o.join(i),a=t,a=a.trim(),!n&&1===t.split("#").length&&(l=c.exec(a)))return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this;if(h=u.exec(a),h&&(h=h[0],f=h.toLowerCase(),this.protocol=f,a=a.substr(h.length)),(n||h||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(O="//"===a.substr(0,2))||h&&b[h]||(a=a.substr(2),this.slashes=!0)),!b[h]&&(O||h&&!x[h])){for(S=-1,A=0;A<y.length;A++)-1!==(P=a.indexOf(y[A]))&&(-1===S||P<S)&&(S=P);for(M=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==M&&(C=a.slice(0,M),a=a.slice(M+1),this.auth=decodeURIComponent(C)),S=-1,A=0;A<p.length;A++)-1!==(P=a.indexOf(p[A]))&&(-1===S||P<S)&&(S=P);if(-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"",!(I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1]))for(R=this.hostname.split(/\./),A=0,D=R.length;A<D;A++)if((N=R[A])&&!N.match(v)){for(L="",k=0,j=N.length;k<j;k++)N.charCodeAt(k)>127?L+="x":L+=N[k];if(!L.match(v)){F=R.slice(0,A),U=R.slice(A+1),B=N.match(m),B&&(F.push(B[1]),U.unshift(B[2])),U.length&&(a="/"+U.join(".")+a),this.hostname=F.join(".");break}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=T.toASCII(this.hostname)),G=this.port?":"+this.port:"",H=this.hostname||"",this.host=H+G,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!_[f])for(A=0,D=d.length;A<D;A++)W=d[A],-1!==a.indexOf(W)&&(X=encodeURIComponent(W),X===W&&(X=escape(W)),a=a.split(W).join(X));return V=a.indexOf("#"),-1!==V&&(this.hash=a.substr(V),a=a.slice(0,V)),Y=a.indexOf("?"),-1!==Y?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=w.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),x[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(G=this.pathname||"",z=this.search||"",this.path=G+z),this.href=this.format(),this},r.prototype.format=function(){var t,e,n,r,i,o,s=this.auth||"";return s&&(s=encodeURIComponent(s),s=s.replace(/%3A/i,":"),s+="@"),t=this.protocol||"",e=this.pathname||"",n=this.hash||"",r=!1,i="",this.host?r=s+this.host:this.hostname&&(r=s+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&E.isObject(this.query)&&Object.keys(this.query).length&&(i=w.stringify(this.query)),o=this.search||i&&"?"+i||"",t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),t+r+e+o+n},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){var e,n,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,w,T,O,S,A,P,C,M;for(E.isString(t)&&(e=new r,e.parse(t,!1,!0),t=e),n=new r,i=Object.keys(this),o=0;o<i.length;o++)s=i[o],n[s]=this[s];if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(a=Object.keys(t),u=0;u<a.length;u++)"protocol"!==(l=a[u])&&(n[l]=t[l]);return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol]){for(c=Object.keys(t),h=0;h<c.length;h++)f=c[h],n[f]=t[f];return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||b[t.protocol])n.pathname=t.pathname;else{for(d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(p=n.pathname||"",y=n.search||"",n.path=p+y),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}if(g=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=v||g||n.host&&t.pathname,_=m,w=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],T=n.protocol&&!x[n.protocol],T&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),m=m&&(""===d[0]||""===w[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=t.search,n.query=t.query;else if(!E.isNullOrUndefined(t.search))return T&&(n.hostname=n.host=w.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),n.search=t.search,n.query=t.query,E.isNull(n.pathname)&&E.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(S=w.slice(-1)[0],A=(n.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,P=0,C=w.length;C>=0;C--)S=w[C],"."===S?w.splice(C,1):".."===S?(w.splice(C,1),P++):P&&(w.splice(C,1),P--);if(!m&&!_)for(;P--;P)w.unshift("..");return!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push(""),M=""===w[0]||w[0]&&"/"===w[0].charAt(0),T&&(n.hostname=n.host=M?"":w.length?w.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),m=m||n.host&&w.length,m&&!M&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),E.isNull(n.pathname)&&E.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=l.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){e||(t=t.split("?").shift().toLowerCase(),e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}var u,l,c,h,f,d,p,y,g;e.__esModule=!0,u=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(68),c=r(l),h=n(7),f=n(151),d=n(3),p=n(218),y=r(p),g=function(t){function e(n,r){if(i(this,e),!n)throw Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var s=o(this,t.call(this,n,r));return s.width=n.videoWidth,s.height=n.videoHeight,s._autoUpdate=!0,s._isAutoUpdating=!1,s.autoPlay=!0,s.update=s.update.bind(s),s._onCanPlay=s._onCanPlay.bind(s),n.addEventListener("play",s._onPlayStart.bind(s)),n.addEventListener("pause",s._onPlayStop.bind(s)),s.hasLoaded=!1,s.__loaded=!1,s._isSourceReady()?s._onCanPlay():(n.addEventListener("canplay",s._onCanPlay),n.addEventListener("canplaythrough",s._onCanPlay)),s}return s(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(f.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(f.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&f.shared.remove(this.update,this),this.source&&this.source._pixiId&&(c["default"].removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n){t._pixiId||(t._pixiId="video_"+(0,h.uid)());var r=h.BaseTextureCache[t._pixiId];return r||(r=new e(t,n),c["default"].addToCache(r,t._pixiId)),r},e.fromUrl=function(t,n,r){var i,o,s=document.createElement("video");if(s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),i=Array.isArray(t)?t[0].src||t[0]:t.src||t,r===undefined&&0!==i.indexOf("data:")?s.crossOrigin=(0,y["default"])(i):r&&(s.crossOrigin="string"==typeof r?r:"anonymous"),Array.isArray(t))for(o=0;o<t.length;++o)s.appendChild(a(t[o].src||t[o],t[o].mime));else s.appendChild(a(i,t.mime));return s.load(),e.fromVideo(s,n)},u(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(f.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(f.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(c["default"]),e["default"]=g,g.fromUrls=g.fromUrl},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s;e.__esModule=!0,i=n(205),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=function(){function t(){r(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r,i,s,a,u=e.width,l=e.height;n?(r=t.width/2/u,i=t.height/2/l,s=t.x/u+r,a=t.y/l+i,n=o["default"].add(n,o["default"].NW),this.x0=s+r*o["default"].uX(n),this.y0=a+i*o["default"].uY(n),n=o["default"].add(n,2),this.x1=s+r*o["default"].uX(n),this.y1=a+i*o["default"].uY(n),n=o["default"].add(n,2),this.x2=s+r*o["default"].uX(n),this.y2=a+i*o["default"].uY(n),n=o["default"].add(n,2),this.x3=s+r*o["default"].uX(n),this.y3=a+i*o["default"].uY(n)):(this.x0=t.x/u,this.y0=t.y/l,this.x1=(t.x+t.width)/u,this.y1=t.y/l,this.x2=(t.x+t.width)/u,this.y2=(t.y+t.height)/l,this.x3=t.x/u,this.y3=(t.y+t.height)/l),this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}(),e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(7),l=n(17),c=n(3),h=n(16),f=r(h),d=n(79),p=r(d),y=n(152),g=r(y),v=n(62),m=r(v),_=new l.Matrix,b=function(t){function e(n,r,s,a){i(this,e);var h=o(this,t.call(this));return(0,u.sayHello)(n),"number"==typeof r&&(r=Object.assign({width:r,height:s||f["default"].RENDER_OPTIONS.height},a)),r=Object.assign({},f["default"].RENDER_OPTIONS,r),h.options=r,h.type=c.RENDERER_TYPE.UNKNOWN,h.screen=new l.Rectangle(0,0,r.width,r.height),h.view=r.view||document.createElement("canvas"),h.resolution=r.resolution||f["default"].RESOLUTION,h.transparent=r.transparent,h.autoResize=r.autoResize||!1,h.blendModes=null,h.preserveDrawingBuffer=r.preserveDrawingBuffer,h.clearBeforeRender=r.clearBeforeRender,h.roundPixels=r.roundPixels,h._backgroundColor=0,h._backgroundColorRgba=[0,0,0,0],h._backgroundColorString="#000000",h.backgroundColor=r.backgroundColor||h._backgroundColor,h._tempDisplayObjectParent=new p["default"],h._lastObjectRendered=h._tempDisplayObjectParent,h}return s(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,n,r){r=r||t.getLocalBounds();var i=g["default"].create(0|r.width,0|r.height,e,n);return _.tx=-r.x,_.ty=-r.y,this.render(t,i,!1,_,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=c.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},a(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(m["default"]),e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h;e.__esModule=!0,a=n(68),u=r(a),l=n(16),c=r(l),h=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100,s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100,a=arguments[2],u=arguments[3];return i(this,e),n=o(this,t.call(this,null,a)),n.resolution=u||c["default"].RESOLUTION,n.width=Math.ceil(r),n.height=Math.ceil(s),n.realWidth=n.width*n.resolution,n.realHeight=n.height*n.resolution,n.scaleMode=a!==undefined?a:c["default"].SCALE_MODE,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return s(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(u["default"]),e["default"]=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(16),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a=function(){function t(e,n,i){r(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s["default"].RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}(),e["default"]=a},function(t,e,n){"use strict";function r(t){var e,n=document.createElement("canvas");return n.width=6,n.height=1,e=n.getContext("2d"),e.fillStyle=t,e.fillRect(0,0,6,1),n}function i(){var t,e,n,i,o,s;return"undefined"!=typeof document&&(t=r("#ff00ff"),e=r("#ffff00"),n=document.createElement("canvas"),n.width=6,n.height=1,i=n.getContext("2d"),i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0),!!(o=i.getImageData(2,0,1,1))&&(s=o.data,255===s[0]&&0===s[1]&&0===s[2]))}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f;e.__esModule=!0,a=n(227),u=r(a),l=n(17),n(43),c=n(228),h=r(c),f=function(t){function e(n){var r,s;return i(this,e),r=new l.Matrix,s=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n")),n.renderable=!1,s.maskSprite=n,s.maskMatrix=r,s}return s(e,t),e.prototype.apply=function(t,e,n){var r=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new h["default"](i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(i.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,n))},e}(u["default"]),e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d;e.__esModule=!0,o=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(571),a=r(s),u=n(7),l=n(3),c=n(16),h=r(c),f={},d=function(){function t(e,n,r){i(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=l.BLEND_MODES.NORMAL,this.uniformData=r||(0,a["default"])(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},f[this.vertexSrc+this.fragmentSrc]||(f[this.vertexSrc+this.fragmentSrc]=(0,u.uid)()),this.glShaderKey=f[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=h["default"].FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},o(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]),t}(),e["default"]=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(142),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a=new s["default"],u=function(){function t(e,n){r(this,t),this._texture=e,this.mapCoord=new s["default"],this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){var n,r,i,o;for(e===undefined&&(e=t),n=this.mapCoord,r=0;r<t.length;r+=2)i=t[r],o=t[r+1],e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty;return e},t.prototype.update=function(t){var e,n,r,i,o,s,u,l=this._texture;return!(!l||!l.valid)&&(!(!t&&this._lastTextureID===l._updateID)&&(this._lastTextureID=l._updateID,e=l._uvs,this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0),n=l.orig,r=l.trim,r&&(a.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(a)),i=l.baseTexture,o=this.uClampFrame,s=this.clampMargin/i.resolution,u=this.clampOffset,o[0]=(l._frame.x+s+u)/i.width,o[1]=(l._frame.y+s+u)/i.height,o[2]=(l._frame.x+l._frame.width-s+u)/i.width,o[3]=(l._frame.y+l._frame.height-s+u)/i.height,this.uClampOffset[0]=u/i.realWidth,this.uClampOffset[1]=u/i.realHeight,!0))},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}(),e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l;e.__esModule=!0,o=n(30),s=r(o),a=n(154),u=r(a),l=function(){function t(e,n){i(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=(0,u["default"])(1),this.vertexBuffer=s["default"].GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=s["default"].GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new s["default"].VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}(),e["default"]=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t?(0,c.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=i(t[e]);return t}return i(t)}function s(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function a(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var u,l,c,h,f,d;e.__esModule=!0,u=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(3),c=n(7),h={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:l.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},f=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],d=function(){function t(e){r(this,t),this.styleID=0,this.reset(),a(this,e,e)}return t.prototype.clone=function(){var e={};return a(e,this,h),new t(e)},t.prototype.reset=function(){a(this,h,h)},t.prototype.toFontString=function(){var t,e,n="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,r=this.fontFamily;for(Array.isArray(this.fontFamily)||(r=this.fontFamily.split(",")),t=r.length-1;t>=0;t--)e=r[t].trim(),!/([\"\'])[^\'\"]+\1/.test(e)&&f.indexOf(e)<0&&(e='"'+e+'"'),r[t]=e;return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+n+" "+r.join(",")},u(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){s(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}(),e["default"]=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=function(){function t(e,n,i,o,s,a,u,l,c){r(this,t),this.text=e,this.style=n,this.width=i,this.height=o,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=c}return t.measureText=function(e,n,r){var i,o,s,a,u,l,c,h,f,d,p,y,g=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t._canvas;for(r=r===undefined||null===r?n.wordWrap:r,i=n.toFontString(),o=t.measureFont(i),s=g.getContext("2d"),s.font=i,a=r?t.wordWrap(e,n,g):e,u=a.split(/(?:\r\n|\r|\n)/),l=Array(u.length),c=0,h=0;h<u.length;h++)f=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing,l[h]=f,c=Math.max(c,f);return d=c+n.strokeThickness,n.dropShadow&&(d+=n.dropShadowDistance),p=n.lineHeight||o.fontSize+n.strokeThickness,y=Math.max(p,o.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading),n.dropShadow&&(y+=n.dropShadowDistance),new t(e,n,d,y,u,l,p+n.leading,c,o)},t.wordWrap=function(e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t._canvas,v=g.getContext("2d"),m=0,_="",b="",x={},w=n.letterSpacing,T=n.whiteSpace,E=t.collapseSpaces(T),O=t.collapseNewlines(T),S=!E,A=n.wordWrapWidth+w,P=t.tokenize(e);for(r=0;r<P.length;r++){if(i=P[r],t.isNewline(i)){if(!O){b+=t.addLine(_),S=!E,_="",m=0;continue}i=" "}if(!(E&&(o=t.isBreakingSpace(i),s=t.isBreakingSpace(_[_.length-1]),o&&s)))if((a=t.getFromCache(i,w,x,v))>A)if(""!==_&&(b+=t.addLine(_),_="",m=0),t.canBreakWords(i,n.breakWords))for(u=i.split(""),l=0;l<u.length;l++){for(c=u[l],h=1;u[l+h]&&(f=u[l+h],d=c[c.length-1],!t.canBreakChars(d,f,i,l,n.breakWords));)c+=f,h++;l+=c.length-1,p=t.getFromCache(c,w,x,v),p+m>A&&(b+=t.addLine(_),S=!1,_="",m=0),_+=c,m+=p}else _.length>0&&(b+=t.addLine(_),_="",m=0),y=r===P.length-1,b+=t.addLine(i,!y),S=!1,_="",m=0;else a+m>A&&(S=!1,b+=t.addLine(_),_="",m=0),(_.length>0||!t.isBreakingSpace(i)||S)&&(_+=i,m+=a)}return b+=t.addLine(_,!1)},t.addLine=function(e){var n=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];return e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i,o=n[t];return o===undefined&&(i=t.length*e,o=r.measureText(t).width+i,n[t]=o),o},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){var n,r;if("string"!=typeof e)return"";for(n=e.length-1;n>=0&&(r=e[n],t.isBreakingSpace(r));n--)e=e.slice(0,-1);return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n,r,i=[],o="";if("string"!=typeof e)return i;for(n=0;n<e.length;n++)r=e[n],t.isBreakingSpace(r)||t.isNewline(r)?(""!==o&&(i.push(o),o=""),i.push(r)):o+=r;return""!==o&&i.push(o),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.measureFont=function(e){var n,r,i,o,s,a,u,l,c,h,f,d,p,y,g;if(t._fonts[e])return t._fonts[e];for(n={},r=t._canvas,i=t._context,i.font=e,o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*a,a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a),l=i.getImageData(0,0,s,u).data,c=l.length,h=4*s,f=0,d=0,p=!1,f=0;f<a;++f){for(y=0;y<h;y+=4)if(255!==l[d+y]){p=!0;break}if(p)break;d+=h}for(n.ascent=a-f,d=c-h,p=!1,f=u;f>a;--f){for(g=0;g<h;g+=4)if(255!==l[d+g]){p=!0;break}if(p)break;d-=h}return n.descent=f-a,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}(),e["default"]=i,o=document.createElement("canvas"),o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e,n,i,o,s,a,u,l,c){r(this,t),this.lineWidth=e,this.lineAlignment=c,this.nativeLines=u,this.lineColor=n,this.lineAlpha=i,this._lineTint=n,this.fillColor=o,this.fillAlpha=s,this._fillTint=o,this.fill=a,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d;e.__esModule=!0,o=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(234),a=n(79),u=r(a),l=n(151),c=n(16),h=r(c),f=n(3),d=function(){function t(e,n,r,o,a){i(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:n||h["default"].RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!a},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,s.autoDetectRenderer)(e),this.stage=new u["default"],this._ticker=null,this.ticker=e.sharedTicker?l.shared:new l.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,f.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}(),e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){var i=t&&t.forceCanvas;return r!==undefined&&(i=r),!i&&s.isWebGLSupported()?new c["default"](t,e,n):new u["default"](t,e,n)}var o,s,a,u,l,c;e.__esModule=!0,e.autoDetectRenderer=i,o=n(7),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(80),u=r(a),l=n(107),c=r(l)},function(t,e,n){"use strict";e.__esModule=!0,e["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a;e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=undefined,i=n(604),Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(605),Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return r(o)["default"]}}),s=n(606),Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(607),Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return r(a)["default"]}}),n(608),n(609),n(610)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(5),l=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(u),c=n(238),h=r(c),f=n(239),d=r(f),p=n(240),y=r(p),g=function(t){function e(n,r,s,a){var u,c,f;return i(this,e),a=a||5,u=(0,h["default"])(a,!0),c=(0,d["default"])(a),f=o(this,t.call(this,u,c)),f.resolution=s||l.settings.RESOLUTION,f._quality=0,f.quality=r||4,f.strength=n||8,f.firstRun=!0,f}return s(e,t),e.prototype.apply=function(t,e,n,r){var i,o,s,a,u,l,c;if(this.firstRun&&(i=t.renderer.gl,o=(0,y["default"])(i),this.vertexSrc=(0,h["default"])(o,!0),this.fragmentSrc=(0,d["default"])(o),this.firstRun=!1),this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(s=t.getRenderTarget(!0),a=e,u=s,l=0;l<this.passes-1;l++)t.applyFilter(this,a,u,!0),c=u,u=a,a=c;t.applyFilter(this,a,n,r),t.returnRenderTarget(s)}},a(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(l.Filter),e["default"]=g},function(t,e,n){"use strict";function r(t,e){var n,r,o=Math.ceil(t/2),s=i,a="",u=void 0;for(u=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);",n=0;n<t;n++)r=u.replace("%index%",n),r=r.replace("%sampleIndex%",n-(o-1)+".0"),a+=r,a+="\n";return s=s.replace("%blur%",a),s=s.replace("%size%",t)}e.__esModule=!0,e["default"]=r;var i="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},function(t,e,n){"use strict";function r(t){var e,n,r=i[t],s=r.length,a=o,u="",l=void 0;for(e=0;e<t;e++)n="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",e),l=e,e>=s&&(l=t-e-1),n=n.replace("%value%",r[l]),u+=n,u+="\n";return a=a.replace("%blur%",u),a=a.replace("%size%",t)}var i,o;e.__esModule=!0,e["default"]=r,i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},o="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},function(t,e,n){"use strict";function r(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;n>e;)n-=2;return n}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(5),l=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(u),c=n(238),h=r(c),f=n(239),d=r(f),p=n(240),y=r(p),g=function(t){function e(n,r,s,a){var u,c,f;return i(this,e),a=a||5,u=(0,h["default"])(a,!1),c=(0,d["default"])(a),f=o(this,t.call(this,u,c)),f.resolution=s||l.settings.RESOLUTION,f._quality=0,f.quality=r||4,f.strength=n||8,f.firstRun=!0,f}return s(e,t),e.prototype.apply=function(t,e,n,r){var i,o,s,a,u,l,c;if(this.firstRun&&(i=t.renderer.gl,o=(0,y["default"])(i),this.vertexSrc=(0,h["default"])(o,!1),this.fragmentSrc=(0,d["default"])(o),this.firstRun=!1),this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(s=t.getRenderTarget(!0),a=e,u=s,l=0;l<this.passes-1;l++)t.applyFilter(this,a,u,!0),c=u,u=a,a=c;t.applyFilter(this,a,n,r),t.returnRenderTarget(s)}},a(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(l.Filter),e["default"]=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(5),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=function(){function t(){r(this,t),this.global=new s.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},i(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}(),e["default"]=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){r(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e["default"]=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){r(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}(),e["default"]=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,n){"use strict";e.__esModule=!0,e["default"]={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===undefined&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:undefined}},function(t,e,n){"use strict";function r(t,e){t.bitmapFont=a.BitmapText.registerFont(t.data,e)}var i,o,s,a;e.__esModule=!0,e.parse=r,e["default"]=function(){return function(t,e){var n,i,a,u,l,c,h,f,d,p,y;if(!t.data||t.type!==s.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();for(n=t.isDataUrl?"":o.dirname(t.url),t.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),n=n.replace(this.baseUrl,""),n&&"/"!==n.charAt(n.length-1)&&(n+="/"),i=t.data.getElementsByTagName("page"),a={},u=function(n){a[n.metadata.pageFile]=n.texture,Object.keys(a).length===i.length&&(r(t,a),e())},l=0;l<i.length;++l){c=i[l].getAttribute("file"),h=n+c,f=!1;for(d in this.resources)if(p=this.resources[d],p.url===h){p.metadata.pageFile=c,p.texture?u(p):p.onAfterMiddleware.add(u),f=!0;break}f||(y={crossOrigin:t.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t},this.add(h,y,u))}}},i=n(43),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=n(83),a=n(236)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var o,s,a;Object.defineProperty(e,"__esModule",{value:!0}),o=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e,n,i){n===undefined&&(n=!1),r(this,t),this._fn=e,this._once=n,this._thisArg=i,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){r(this,t),this._head=this._tail=undefined}return o(t,[{key:"handlers",value:function(){var t,e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0],n=this._head;if(e)return!!n;for(t=[];n;)t.push(n),n=n._next;return t}},{key:"has",value:function(t){if(!(t instanceof s))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if("function"!=typeof t)throw Error("MiniSignal#add(): First arg must be a Function.");return i(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if("function"!=typeof t)throw Error("MiniSignal#once(): First arg must be a Function.");return i(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}(),a.MiniSignalBinding=s,e["default"]=a,t.exports=e["default"]},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o;for(e=e||{},n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},function(t,e,n){"use strict";function r(){}function i(t,e,n,r){var i=0,o=t.length;!function s(a){if(a||i===o)return void(n&&n(a));r?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()}function o(t){return function(){if(null===t)throw Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function s(t,e){function n(t,e,n){if(null!=n&&"function"!=typeof n)throw Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())return void setTimeout(function(){return a.drain()},1);var i={data:t,callback:"function"==typeof n?n:r};e?a._tasks.unshift(i):a._tasks.push(i),setTimeout(function(){return a.process()},1)}function i(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}var s,a;if(null==e)e=1;else if(0===e)throw Error("Concurrency must not be zero");return s=0,a={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){s=0,a.drain=r,a.started=!1,a._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),s+=1,s===a.concurrency&&a.saturated(),t(e.data,o(i(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}}}e.__esModule=!0,e.eachSeries=i,e.queue=s},function(t,e,n){"use strict";function r(t){for(var e,n,r,o,s="",a=0;a<t.length;){for(e=[0,0,0],n=[0,0,0,0],r=0;r<e.length;++r)a<t.length?e[r]=255&t.charCodeAt(a++):e[r]=0;switch(n[0]=e[0]>>2,n[1]=(3&e[0])<<4|e[1]>>4,n[2]=(15&e[1])<<2|e[2]>>6,n[3]=63&e[2],a-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(o=0;o<n.length;++o)s+=i.charAt(n[o])}return s}e.__esModule=!0,e.encodeBinary=r;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,n){"use strict";function r(t,e){return t.isDataUrl?t.data.meta.image:s["default"].resolve(t.url.replace(e,""),t.data.meta.image)}var i,o,s,a;e.__esModule=!0,e["default"]=function(){return function(t,e){var n,o,s=t.name+"_image";if(!t.data||t.type!==i.Resource.TYPE.JSON||!t.data.frames||this.resources[s])return void e();n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=r(t,this.baseUrl),this.add(s,o,n,function(n){if(n.error)return void e(n.error);var r=new a.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})})}},e.getResourcePath=r,i=n(83),o=n(219),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a=n(5)},function(t,e,n){"use strict";var r,i,o;e.__esModule=!0,e["default"]=function(){return function(t,e){t.data&&t.type===r.Resource.TYPE.IMAGE&&(t.texture=o["default"].fromLoader(t.data,t.url,t.name)),e()}},r=n(83),i=n(51),o=function(t){return t&&t.__esModule?t:{"default":t}}(i)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(84),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(n,o,s){r(this,e);var u=i(this,t.call(this,n));return u._ready=!0,u.verticesX=o||10,u.verticesY=s||10,u.drawMode=a["default"].DRAW_MODES.TRIANGLES,u.refresh(),u}return o(e,t),e.prototype._refresh=function(){var t,e,n,r,i,o,s,a,u,l,c,h=this._texture,f=this.verticesX*this.verticesY,d=[],p=[],y=[],g=[],v=this.verticesX-1,m=this.verticesY-1,_=h.width/v,b=h.height/m;for(t=0;t<f;t++)e=t%this.verticesX,n=t/this.verticesX|0,d.push(e*_,n*b),y.push(e/v,n/m);for(r=v*m,i=0;i<r;i++)o=i%v,s=i/v|0,a=s*this.verticesX+o,u=s*this.verticesX+o+1,l=(s+1)*this.verticesX+o,c=(s+1)*this.verticesX+o+1,g.push(a,u,l),g.push(u,c,l);this.vertices=new Float32Array(d),this.uvs=new Float32Array(y),this.colors=new Float32Array(p),this.indices=new Uint16Array(g),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){a["default"].prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(a["default"]),e["default"]=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){r(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e["default"]=i},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(651),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(653),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s;e.__esModule=!0,i=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(69),s=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;r(this,t),Object.defineProperty(this,"position",{enumerable:!0,writable:!0,value:{x:-100,y:-100}}),this.speed=e,this.destroy()}return t.prototype.updateDirection=function(){this.position.x>0&&this.position.x<1280&&this.position.y<0?this.direction=o.DOWN:this.position.x>0&&this.position.x<1280&&this.position.y>720?this.direction=o.UP:this.position.y>0&&this.position.x<720&&this.position.x<0?this.direction=o.RIGHT:this.position.y>0&&this.position.x<720&&this.position.x>1280&&(this.direction=o.LEFT)},t.prototype.setDirection=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;switch(this.direction=t,this.alive=!0,this.speed=e,this.direction){case o.DOWN:this.position={x:(0,o.getRandomInRange)(0,o.SCREEN_WIDTH),y:-50};break;case o.UP:this.position={x:(0,o.getRandomInRange)(0,o.SCREEN_WIDTH),y:o.SCREEN_HEIGHT+50};break;case o.RIGHT:this.position={x:-50,y:(0,o.getRandomInRange)(0,o.SCREEN_HEIGHT)};break;case o.LEFT:this.position={x:o.SCREEN_WIDTH+50,y:(0,o.getRandomInRange)(0,o.SCREEN_HEIGHT)}}this.position.x=~~((this.position.x+5)/o.SPACING)*o.SPACING,this.position.y=~~((this.position.y+5)/o.SPACING)*o.SPACING},t.prototype.getCollisionPoints=function(){var t=this.moveToSpacing();return[t,{x:t.x+o.SPACING,y:t.y},{x:t.x+o.SPACING,y:t.y+o.SPACING},{x:t.x+o.SPACING,y:t.y-o.SPACING},{x:t.x-o.SPACING,y:t.y+o.SPACING},{x:t.x-o.SPACING,y:t.y},{x:t.x-o.SPACING,y:t.y-o.SPACING}]},t.prototype.destroy=function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];this.alive=!1,e?setTimeout(function(){t.position.x=-100,t.position.y=-100},1900):(this.position.x=-100,this.position.y=-100),this.direction=-1},t.prototype.moveToSpacing=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.position,e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=e?t:i({},t);return 1===this.direction||4===this.direction?(n.x=Math.ceil(n.x/o.SPACING)*o.SPACING,n.y=Math.ceil(n.y/o.SPACING)*o.SPACING):(n.x=Math.floor(n.x/o.SPACING)*o.SPACING,n.y=Math.floor(n.y/o.SPACING)*o.SPACING),n},t.prototype.update=function(t){this.position&&this.direction&&this.alive&&(this.move(t),this.handleOutOfScreen())},t.prototype.handleOutOfScreen=function(){(this.position.y>o.SCREEN_HEIGHT+100||this.position.y<-100||this.position.x>o.SCREEN_WIDTH+100||this.position.x<-100)&&this.destroy()},t.prototype.move=function(t){var e=t*this.speed;switch(this.direction){case o.DOWN:this.position.y+=e;break;case o.UP:this.position.y-=e;break;case o.RIGHT:this.position.x+=e;break;case o.LEFT:this.position.x-=e}},t}(),e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h;e.__esModule=!0,o=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(656),a=r(s),u=n(69),l=n(44),r(l),c=3.5,h=function(){function t(e,n){i(this,t),Object.defineProperty(this,"spawnTime",{enumerable:!0,writable:!0,value:0}),this.position=e,this.gameControl=n,this.alive=!0,this.bullet=new a["default"](o({},e),150,"shot"),this.bullet.destroy(),this.collisions=[this.position,{x:this.position.x+u.SPACING,y:this.position.y},{x:this.position.x+u.SPACING,y:this.position.y+u.SPACING},{x:this.position.x+u.SPACING,y:this.position.y-u.SPACING},{x:this.position.x-u.SPACING,y:this.position.y+u.SPACING},{x:this.position.x-u.SPACING,y:this.position.y},{x:this.position.x-u.SPACING,y:this.position.y-u.SPACING}]}return t.prototype.update=function(t){this.alive&&this.handleSpawn(t)},t.prototype.handleSpawn=function(t){if(this.spawnTime+=t,this.spawnTime>=c&&!this.bullet.alive){var e=this.gameControl.playerControl.position,n=e.x,r=e.y;this.bullet.position.x=this.position.x,this.bullet.position.y=this.position.y,n>this.position.x&&r>this.position.y&&(this.bullet.angle=0),n>this.position.x&&r<this.position.y&&(this.bullet.angle=3),n<this.position.x&&r>this.position.y&&(this.bullet.angle=1),n<this.position.x&&r<this.position.y&&(this.bullet.angle=2),this.bullet.moveBy(u.SPACING),this.bullet.alive=!0,this.spawnTime=0}},t.prototype.destroy=function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];this.alive=!1,e?setTimeout(function(){t.position.x=-100,t.position.y=-100},1900):(this.position.x=-100,this.position.y=-100)},t.prototype.getCollisionPoints=function(){return this.collisions},t.prototype.moveToSpacing=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.position,e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=e?t:o({},t);return n.x=~~(n.x/u.SPACING+.5)*u.SPACING,n.y=~~(n.y/u.SPACING+.5)*u.SPACING,n},t.prototype.bulletOut=function(){var t=this.bullet.position,e=t.x,n=t.y;return e<0||e>u.SCREEN_WIDTH||n<0||n>u.SCREEN_HEIGHT},t}(),e["default"]=h},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(671),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){n(261),t.exports=n(463)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(262),n(459),n(460),t._babelPolyfill)throw Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(70))},function(t,e,n){n(263),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(343),n(344),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(131),n(367),n(368),n(178),n(369),n(370),n(371),n(372),n(373),n(181),n(183),n(184),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),t.exports=n(31)},function(t,e,n){"use strict";var r,i,o,s,a=n(2),u=n(25),l=n(10),c=n(0),h=n(23),f=n(48).KEY,d=n(4),p=n(85),y=n(63),g=n(53),v=n(8),m=n(161),_=n(111),b=n(264),x=n(88),w=n(1),T=n(6),E=n(26),O=n(36),S=n(52),A=n(56),P=n(164),C=n(27),M=n(11),I=n(54),R=C.f,D=M.f,N=P.f,L=a.Symbol,k=a.JSON,j=k&&k.stringify,F="prototype",U=v("_hidden"),B=v("toPrimitive"),G={}.propertyIsEnumerable,H=p("symbol-registry"),W=p("symbols"),X=p("op-symbols"),V=Object[F],Y="function"==typeof L,z=a.QObject,K=!z||!z[F]||!z[F].findChild,q=l&&d(function(){return 7!=A(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(V,e);r&&delete V[e],D(t,e,n),r&&t!==V&&D(V,e,r)}:D,Z=function(t){var e=W[t]=A(L[F]);return e._k=t,e},Q=Y&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},J=function(t,e,n){return t===V&&J(X,e,n),w(t),e=O(e,!0),w(n),u(W,e)?(n.enumerable?(u(t,U)&&t[U][e]&&(t[U][e]=!1),n=A(n,{enumerable:S(0,!1)})):(u(t,U)||D(t,U,S(1,{})),t[U][e]=!0),q(t,e,n)):D(t,e,n)},$=function(t,e){var n,r,i,o;for(w(t),n=b(e=E(e)),r=0,i=n.length;i>r;)J(t,o=n[r++],e[o]);return t},tt=function(t,e){return e===undefined?A(t):$(A(t),e)},et=function(t){var e=G.call(this,t=O(t,!0));return!(this===V&&u(W,t)&&!u(X,t))&&(!(e||!u(this,t)||!u(W,t)||u(this,U)&&this[U][t])||e)},nt=function(t,e){if(t=E(t),e=O(e,!0),t!==V||!u(W,e)||u(X,e)){var n=R(t,e);return!n||!u(W,e)||u(t,U)&&t[U][e]||(n.enumerable=!0),n}},rt=function(t){for(var e,n=N(E(t)),r=[],i=0;n.length>i;)u(W,e=n[i++])||e==U||e==f||r.push(e);return r},it=function(t){for(var e,n=t===V,r=N(n?X:E(t)),i=[],o=0;r.length>o;)!u(W,e=r[o++])||n&&!u(V,e)||i.push(W[e]);return i};for(Y||(L=function(){var t,e;if(this instanceof L)throw TypeError("Symbol is not a constructor!");return t=g(arguments.length>0?arguments[0]:undefined),e=function(n){this===V&&e.call(X,n),u(this,U)&&u(this[U],t)&&(this[U][t]=!1),q(this,t,S(1,n))},l&&K&&q(V,t,{configurable:!0,set:e}),Z(t)},h(L[F],"toString",function(){return this._k}),C.f=nt,M.f=J,n(57).f=P.f=rt,n(72).f=et,n(87).f=it,l&&!n(49)&&h(V,"propertyIsEnumerable",et,!0),m.f=function(t){return Z(v(t))}),c(c.G+c.W+c.F*!Y,{Symbol:L}),r="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;r.length>i;)v(r[i++]);for(o=I(v.store),s=0;o.length>s;)_(o[s++]);c(c.S+c.F*!Y,"Symbol",{"for":function(t){return u(H,t+="")?H[t]:H[t]=L(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),c(c.S+c.F*!Y,"Object",{create:tt,defineProperty:J,defineProperties:$,getOwnPropertyDescriptor:nt,getOwnPropertyNames:rt,getOwnPropertySymbols:it}),k&&c(c.S+c.F*(!Y||d(function(){var t=L();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(T(e)||t!==undefined)&&!Q(t))return x(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Q(e))return e}),r[1]=e,j.apply(k,r)}}),L[F][B]||n(22)(L[F],B,L[F].valueOf),y(L,"Symbol"),y(Math,"Math",!0),y(a.JSON,"JSON",!0)},function(t,e,n){var r=n(54),i=n(87),o=n(72);t.exports=function(t){var e,n,s,a,u=r(t),l=i.f;if(l)for(e=l(t),n=o.f,s=0;e.length>s;)n.call(t,a=e[s++])&&u.push(a);return u}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(56)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(10),"Object",{defineProperty:n(11).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(10),"Object",{defineProperties:n(163)})},function(t,e,n){var r=n(26),i=n(27).f;n(39)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(15),i=n(28);n(39)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(15),i=n(54);n(39)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(39)("getOwnPropertyNames",function(){return n(164).f})},function(t,e,n){var r=n(6),i=n(48).onFreeze;n(39)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(6),i=n(48).onFreeze;n(39)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(6),i=n(48).onFreeze;n(39)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(6);n(39)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(6);n(39)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(6);n(39)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(165)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(280)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(115).set})},function(t,e,n){"use strict";var r=n(73),i={};i[n(8)("toStringTag")]="z",i+""!="[object z]"&&n(23)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(166)})},function(t,e,n){var r=n(11).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(10)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(6),i=n(28),o=n(8)("hasInstance"),s=Function.prototype;o in s||n(11).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(168);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(169);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r,i,o,s=n(2),a=n(25),u=n(33),l=n(117),c=n(36),h=n(4),f=n(57).f,d=n(27).f,p=n(11).f,y=n(64).trim,g="Number",v=s[g],m=v,_=v.prototype,b=u(n(56)(_))==g,x="trim"in String.prototype,w=function(t){var e,n,r,i,o,s,a,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(l=x?l.trim():y(l,3),43===(e=l.charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=l.slice(2),s=0,a=o.length;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+l};if(!v(" 0o1")||!v("0b1")||v("+0x1")){for(v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(b?h(function(){_.valueOf.call(n)}):u(n)!=g)?l(new m(w(e)),n,v):w(e)},r=n(10)?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),i=0;r.length>i;i++)a(m,o=r[i])&&!a(v,o)&&p(v,o,d(m,o));v.prototype=_,_.constructor=v,n(23)(s,g,v)}},function(t,e,n){"use strict";var r=n(0),i=n(38),o=n(170),s=n(118),a=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h="0",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},p=function(){for(var t,e=6,n="";--e>=0;)""===n&&0!==e&&0===l[e]||(t=l[e]+"",n=""===n?t:n+s.call(h,7-t.length)+t);return n},y=function(t,e,n){return 0===e?n:e%2==1?y(t,e-1,n*t):y(t*t,e/2,n)},g=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,r,a,u=o(this,c),l=i(t),v="",m=h;if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return u+"";if(u<0&&(v="-",u=-u),u>1e-21)if(e=g(u*y(2,69,1))-69,n=e<0?u*y(2,-e,1):u/y(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(y(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),m=p()}else f(0,n),f(1<<-e,0),m=p()+s.call(h,l);return l>0?(a=m.length,m=v+(a<=l?"0."+s.call(h,l-a)+m:m.slice(0,a-l)+"."+m.slice(a-l))):m=v+m,m}})},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(170),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,undefined)})||!i(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return t===undefined?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(171)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(171),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(169);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(168);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(172),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(Infinity)==Infinity),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(119);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(120);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(173)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,u=0;s<a;)n=i(arguments[s++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===Infinity?Infinity:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(172)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(119)})},function(t,e,n){var r=n(0),i=n(120),o=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(120),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==Infinity?1:n==Infinity?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(55),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(26),o=n(12);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(e[a++]+""),a<r&&s.push(arguments[a]+"");return s.join("")}})},function(t,e,n){"use strict";n(64)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(121)(!0);n(122)(String,"String",function(t){this._t=t+"",this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:undefined,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(121)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(124),s="endsWith",a=""[s];r(r.P+r.F*n(125)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:undefined,r=i(e.length),u=n===undefined?r:Math.min(i(n),r),l=t+"";return a?a.call(e,l,u):e.slice(u-l.length,u)===l}})},function(t,e,n){"use strict";var r=n(0),i=n(124),o="includes";r(r.P+r.F*n(125)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:undefined)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(118)})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(124),s="startsWith",a=""[s];r(r.P+r.F*n(125)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:undefined,e.length)),r=t+"";return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(24)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(24)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(24)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(24)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(24)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(24)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(24)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(24)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(24)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(24)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(24)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(24)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(24)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(36);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),i=n(342);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(4),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){var t,e,n,r;if(!isFinite(i.call(this)))throw RangeError("Invalid time value");return t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),(r=e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(23)(r,o,function(){var t=a.call(this);return t===t?s.call(this):i})},function(t,e,n){var r=n(8)("toPrimitive"),i=Date.prototype;r in i||n(22)(i,r,n(345))},function(t,e,n){"use strict";var r=n(1),i=n(36),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(88)})},function(t,e,n){"use strict";var r=n(32),i=n(0),o=n(15),s=n(174),a=n(126),u=n(12),l=n(127),c=n(128);i(i.S+i.F*!n(90)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:undefined,g=y!==undefined,v=0,m=c(f);if(g&&(y=r(y,p>2?arguments[2]:undefined,2)),m==undefined||d==Array&&a(m))for(e=u(f.length),n=new d(e);e>v;v++)l(n,v,g?y(f[v],v):f[v]);else for(h=m.call(f),n=new d;!(i=h.next()).done;v++)l(n,v,g?s(h,y,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(0),i=n(127);r(r.S+r.F*n(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(26),o=[].join;r(r.P+r.F*(n(71)!=Object||!n(34)(o)),"Array",{join:function(t){return o.call(i(this),t===undefined?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(114),o=n(33),s=n(55),a=n(12),u=[].slice;r(r.P+r.F*n(4)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n,r,i,l,c,h=a(this.length),f=o(this);if(e=e===undefined?h:e,"Array"==f)return u.call(this,t,e);for(n=s(t,h),r=s(e,h),i=a(r-n),l=Array(i),c=0;c<i;c++)l[c]="String"==f?this.charAt(n+c):this[n+c];return l}})},function(t,e,n){"use strict";var r=n(0),i=n(19),o=n(15),s=n(4),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(undefined)})||!s(function(){u.sort(null)})||!n(34)(a)),"Array",{sort:function(t){return t===undefined?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(0),o=n(34)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(6),i=n(88),o=n(8)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=undefined),r(e)&&null===(e=e[o])&&(e=undefined)),e===undefined?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(40)(1);r(r.P+r.F*!n(34)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(2);r(r.P+r.F*!n(34)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(3);r(r.P+r.F*!n(34)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(4);r(r.P+r.F*!n(34)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(175);r(r.P+r.F*!n(34)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(175);r(r.P+r.F*!n(34)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(86)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(34)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26),o=n(38),s=n(12),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(34)(a)),"Array",{lastIndexOf:function(t){var e,n,r;if(u)return a.apply(this,arguments)||0;for(e=i(this),n=s(e.length),r=n-1,arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(176)}),n(50)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(130)}),n(50)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(40)(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(50)(o)},function(t,e,n){"use strict";var r=n(0),i=n(40)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(50)(o)},function(t,e,n){n(58)("Array")},function(t,e,n){var r,i,o,s=n(2),a=n(117),u=n(11).f,l=n(57).f,c=n(89),h=n(91),f=s.RegExp,d=f,p=f.prototype,y=/a/g,g=/a/g,v=new f(y)!==y;if(n(10)&&(!v||n(4)(function(){return g[n(8)("match")]=!1,f(y)!=y||f(g)==g||"/a/i"!=f(y,"i")}))){f=function(t,e){var n=this instanceof f,r=c(t),i=e===undefined;return!n&&r&&t.constructor===f&&i?t:a(v?new d(r&&!i?t.source:t,e):d((r=t instanceof f)?t.source:t,r&&i?h.call(t):e),n?this:p,f)},r=function(t){t in f||u(f,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})};for(i=l(d),o=0;i.length>o;)r(i[o++]);p.constructor=f,f.prototype=p,n(23)(s,"RegExp",f)}n(58)("RegExp")},function(t,e,n){"use strict";var r,i,o,s,a,u;n(178),r=n(1),i=n(91),o=n(10),s="toString",a=/./[s],u=function(t){n(23)(RegExp.prototype,s,t,!0)},n(4)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):undefined)}):a.name!=s&&u(function(){return a.call(this)})},function(t,e,n){n(92)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=n==undefined?undefined:n[e];return i!==undefined?i.call(n,r):RegExp(n)[e](r+"")},n]})},function(t,e,n){n(92)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),s=r==undefined?undefined:r[e];return s!==undefined?s.call(r,o,i):n.call(o+"",r,i)},n]})},function(t,e,n){n(92)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=n==undefined?undefined:n[e];return i!==undefined?i.call(n,r):RegExp(n)[e](r+"")},n]})},function(t,e,n){n(92)("split",2,function(t,e,r){"use strict";var i,o=n(89),s=r,a=[].push,u="split",l="length",c="lastIndex";return"c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[l]||2!="ab"[u](/(?:ab)*/)[l]||4!="."[u](/(.?)(.?)/)[l]||"."[u](/()()/)[l]>1||""[u](/.?/)[l]?(i=/()??/.exec("")[1]===undefined,r=function(t,e){var n,r,u,h,f,d,p,y,g,v,m=this+"";if(t===undefined&&0===e)return[];if(!o(t))return s.call(m,t,e);for(n=[],r=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,h=e===undefined?4294967295:e>>>0,f=RegExp(t.source,r+"g"),i||(d=RegExp("^"+f.source+"$(?!\\s)",r));(p=f.exec(m))&&!((y=p.index+p[0][l])>u&&(n.push(m.slice(u,p.index)),!i&&p[l]>1&&p[0].replace(d,function(){for(v=1;v<arguments[l]-2;v++)arguments[v]===undefined&&(p[v]=undefined)}),p[l]>1&&p.index<m[l]&&a.apply(n,p.slice(1)),g=p[0][l],u=y,n[l]>=h));)f[c]===p.index&&f[c]++;return u===m[l]?!g&&f.test("")||n.push(""):n.push(m.slice(u)),n[l]>h?n.slice(0,h):n}):"0"[u](undefined,0)[l]&&(r=function(t,e){return t===undefined&&0===e?[]:s.call(this,t,e)}),[function(n,i){var o=t(this),s=n==undefined?undefined:n[e];return s!==undefined?s.call(n,o,i):r.call(o+"",n,i)},r]})},function(t,e,n){"use strict";var r,i,o,s,a=n(49),u=n(2),l=n(32),c=n(73),h=n(0),f=n(6),d=n(19),p=n(59),y=n(60),g=n(93),v=n(132).set,m=n(133)(),_=n(134),b=n(179),x=n(94),w=n(180),T="Promise",E=u.TypeError,O=u.process,S=O&&O.versions,A=S&&S.v8||"",P=u[T],C="process"==c(O),M=function(){},I=i=_.f,R=!!function(){var t,e;try{return t=P.resolve(1),e=(t.constructor={})[n(8)("species")]=function(t){t(M,M)},(C||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),D=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{a?(i||(2==t._h&&j(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&(c.exit(),s=!0)),n===e.promise?l(E("Promise-chain cycle")):(o=D(n))?o.call(n,u,l):u(n)):l(r)}catch(h){c&&!s&&c.exit(),l(h)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){v.call(u,function(){var e,n,r,i=t._v,o=k(t);if(o&&(e=b(function(){C?O.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=C||k(t)?2:1),t._a=undefined,o&&e.e)throw e.v})},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){v.call(u,function(){var e;C?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=D(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,l(U,r,1),l(F,r,1))}catch(i){F.call(r,i)}}):(n._v=t,n._s=1,N(n,!1))}catch(r){F.call({_w:n,_d:!1},r)}}};R||(P=function(t){p(this,P,T,"_h"),d(t),r.call(this);try{t(l(U,this,1),l(F,this,1))}catch(e){F.call(this,e)}},r=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1},r.prototype=n(61)(P.prototype,{then:function(t,e){var n=I(g(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?O.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},"catch":function(t){return this.then(undefined,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(U,t,1),this.reject=l(F,t,1)},_.f=I=function(t){return t===P||t===s?new o(t):i(t)}),h(h.G+h.W+h.F*!R,{Promise:P}),n(63)(P,T),n(58)(T),s=n(31)[T],h(h.S+h.F*!R,T,{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!R),T,{resolve:function(t){return w(a&&this===s?P:this,t)}}),h(h.S+h.F*!(R&&n(90)(function(t){P.all(t)["catch"](M)})),T,{all:function(t){var e=this,n=I(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,s=1;y(t,!1,function(t){var a=o++,u=!1;n.push(undefined),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=I(e),r=n.reject,i=b(function(){y(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(185),i=n(66),o="WeakSet";n(95)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(96),o=n(135),s=n(1),a=n(55),u=n(12),l=n(6),c=n(2).ArrayBuffer,h=n(93),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&c.isView,y=f.prototype.slice,g=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,v,{isView:function(t){return p&&p(t)||l(t)&&g in t}}),r(r.P+r.U+r.F*n(4)(function(){return!new f(2).slice(1,undefined).byteLength}),v,{slice:function(t,e){var n,r,i,o,l,c,p;if(y!==undefined&&e===undefined)return y.call(s(this),t);for(n=s(this).byteLength,r=a(t,n),i=a(e===undefined?n:e,n),o=new(h(this,f))(u(i-r)),l=new d(this),c=new d(o),p=0;r<i;)c.setUint8(p++,l.getUint8(r++));return o}}),n(58)(v)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(96).ABV,{DataView:n(135).DataView})},function(t,e,n){n(45)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(45)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(45)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),i=n(19),o=n(1),s=(n(2).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(4)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return s?s(r,e,u):a.call(r,e,u)}})},function(t,e,n){var r=n(0),i=n(56),o=n(19),s=n(1),a=n(6),u=n(4),l=n(166),c=(n(2).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!u(function(){c(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){var n,r,u,d,p;if(o(t),s(e),n=arguments.length<3?t:o(arguments[2]),f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}return r=[null],r.push.apply(r,e),new(l.apply(t,r))}return u=n.prototype,d=i(a(u)?u:Object.prototype),p=Function.apply.call(t,d,e),a(p)?p:d}})},function(t,e,n){var r=n(11),i=n(0),o=n(1),s=n(36);i(i.S+i.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(i){return!1}}})},function(t,e,n){var r=n(0),i=n(27).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(t){var e,n;this._t=i(t),this._i=0,e=this._k=[];for(n in t)e.push(n)};n(123)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:undefined,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,a,c=arguments.length<3?t:arguments[2];return l(t)===c?t[e]:(n=i.f(t,e))?s(n,"value")?n.value:n.get!==undefined?n.get.call(c):undefined:u(a=o(t))?r(a,e,c):void 0}var i=n(27),o=n(28),s=n(25),a=n(0),u=n(6),l=n(1);a(a.S,"Reflect",{get:r})},function(t,e,n){var r=n(27),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(28),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(187)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},function(t,e,n){function r(t,e,n){var u,f,d=arguments.length<4?t:arguments[3],p=o.f(c(t),e);if(!p){if(h(f=s(t)))return r(f,e,n,d);p=l(0)}if(a(p,"value")){if(!1===p.writable||!h(d))return!1;if(u=o.f(d,e)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,i.f(d,e,u)}else i.f(d,e,l(0,n));return!0}return p.set!==undefined&&(p.set.call(d,n),!0)}var i=n(11),o=n(27),s=n(28),a=n(25),u=n(0),l=n(52),c=n(1),h=n(6);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),i=n(115);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},function(t,e,n){"use strict";var r=n(0),i=n(86)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(50)("includes")},function(t,e,n){"use strict";var r=n(0),i=n(188),o=n(15),s=n(12),a=n(19),u=n(129);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(50)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(188),o=n(15),s=n(12),a=n(38),u=n(129);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),r=u(e,0);return i(r,e,e,n,0,t===undefined?1:a(t)),r}}),n(50)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(121)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(189),o=n(94);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(189),o=n(94);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!1)}})},function(t,e,n){"use strict";n(64)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(64)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),i=n(37),o=n(12),s=n(89),a=n(91),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(123)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){var e,n,r;if(i(this),!s(t))throw TypeError(t+" is not a regexp!");return e=this+"",n="flags"in u?t.flags+"":a.call(t),r=RegExp(t.source,~n.indexOf("g")?n:"g"+n),r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){n(111)("asyncIterator")},function(t,e,n){n(111)("observable")},function(t,e,n){var r=n(0),i=n(187),o=n(26),s=n(27),a=n(127);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=s.f,l=i(r),c={},h=0;l.length>h;)(n=u(r,e=l[h++]))!==undefined&&a(c,e,n);return c}})},function(t,e,n){var r=n(0),i=n(190)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(190)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(19),s=n(11);n(10)&&r(r.P+n(97),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(19),s=n(11);n(10)&&r(r.P+n(97),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(36),s=n(28),a=n(27).f;n(10)&&r(r.P+n(97),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(36),s=n(28),a=n(27).f;n(10)&&r(r.P+n(97),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.set}while(n=s(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(191)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(191)("Set")})},function(t,e,n){n(98)("Map")},function(t,e,n){n(98)("Set")},function(t,e,n){n(98)("WeakMap")},function(t,e,n){n(98)("WeakSet")},function(t,e,n){n(99)("Map")},function(t,e,n){n(99)("Set")},function(t,e,n){n(99)("WeakMap")},function(t,e,n){n(99)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),i=n(33);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(0),i=n(193),o=n(173);r(r.S,"Math",{fscale:function(t,e,n,r,s){return o(i(t,e,n,r,s))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,s=n>>>0;return o+(r>>>0)+((i&s|(i|s)&~(i+s>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,s=n>>>0;return o-(r>>>0)-((~i&s|~(i^s)&i-s>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,a=r>>16,u=i>>16,l=(a*s>>>0)+(o*s>>>16);return a*u+(l>>16)+((o*u>>>0)+(l&n)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(193)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,a=r>>>16,u=i>>>16,l=(a*s>>>0)+(o*s>>>16);return a*u+(l>>>16)+((o*u>>>0)+(l&n)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==Infinity:t>0}})},function(t,e,n){"use strict";var r=n(0),i=n(31),o=n(2),s=n(93),a=n(180);r(r.P+r.R,"Promise",{"finally":function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),i=n(134),o=n(179);r(r.S,"Promise",{"try":function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(46),i=n(1),o=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,i(n),o(r))}})},function(t,e,n){var r=n(46),i=n(1),o=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n,r=arguments.length<3?undefined:o(arguments[2]),u=s(i(e),r,!1);return!(u===undefined||!u["delete"](t))&&(!!u.size||(n=a.get(e),n["delete"](r),!!n.size||a["delete"](e)))}})},function(t,e,n){var r=n(46),i=n(1),o=n(28),s=r.has,a=r.get,u=r.key,l=function(t,e,n){var r;return s(t,e,n)?a(t,e,n):(r=o(e),null!==r?l(t,r,n):undefined)};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?undefined:u(arguments[2]))}})},function(t,e,n){var r=n(183),i=n(192),o=n(46),s=n(1),a=n(28),u=o.keys,l=o.key,c=function(t,e){var n,o=u(t,e),s=a(t);return null===s?o:(n=c(s,e),n.length?o.length?i(new r(o.concat(n))):n:o)};o.exp({getMetadataKeys:function(t){return c(s(t),arguments.length<2?undefined:l(arguments[1]))}})},function(t,e,n){var r=n(46),i=n(1),o=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?undefined:s(arguments[2]))}})},function(t,e,n){var r=n(46),i=n(1),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?undefined:s(arguments[1]))}})},function(t,e,n){var r=n(46),i=n(1),o=n(28),s=r.has,a=r.key,u=function(t,e,n){var r;return!!s(t,e,n)||null!==(r=o(e))&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?undefined:a(arguments[2]))}})},function(t,e,n){var r=n(46),i=n(1),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?undefined:s(arguments[2]))}})},function(t,e,n){var r=n(46),i=n(1),o=n(19),s=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(r!==undefined?i:o)(n),s(r))}}})},function(t,e,n){var r=n(0),i=n(133)(),o=n(2).process,s="process"==n(33)(o);r(r.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r,i,o=n(0),s=n(2),a=n(31),u=n(133)(),l=n(8)("observable"),c=n(19),h=n(1),f=n(59),d=n(61),p=n(22),y=n(60),g=y.RETURN,v=function(t){return null==t?undefined:c(t)},m=function(t){var e=t._c;e&&(t._c=undefined,e())},_=function(t){return t._o===undefined},b=function(t){_(t)||(t._o=undefined,m(t))},x=function(t,e){var n,i;h(t),this._c=undefined,this._o=t,t=new r(this);try{n=e(t),i=n,null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:c(n),this._c=n)}catch(o){return void t.error(o)}_(this)&&m(this)};x.prototype=d({},{unsubscribe:function(){b(this)}}),r=function(t){this._s=t},r.prototype=d({},{next:function(t){var e,n,r=this._s;if(!_(r)){e=r._o;try{if(n=v(e.next))return n.call(e,t)}catch(i){try{b(r)}finally{throw i}}}},error:function(t){var e,n,r=this._s;if(_(r))throw t;e=r._o,r._o=undefined;try{if(!(n=v(e.error)))throw t;t=n.call(e,t)}catch(i){try{m(r)}finally{throw i}}return m(r),t},complete:function(t){var e,n,r=this._s;if(!_(r)){e=r._o,r._o=undefined;try{n=v(e.complete),t=n?n.call(e,t):undefined}catch(i){try{m(r)}finally{throw i}}return m(r),t}}}),i=function(t){f(this,i,"Observable","_f")._f=c(t)},d(i.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(t){var e=this;return new(a.Promise||s.Promise)(function(n,r){c(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),d(i,{from:function(t){var e,n="function"==typeof this?this:i,r=v(h(t)[l]);return r?(e=h(r.call(t)),e.constructor===n?e:new n(function(t){return e.subscribe(t)})):new n(function(e){var n=!1;return u(function(){if(!n){try{if(y(t,!1,function(t){if(e.next(t),n)return g})===g)return}catch(r){if(n)throw r;return void e.error(r)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:i)(function(t){var e=!1;return u(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),p(i.prototype,l,function(){return this}),o(o.G,{Observable:i}),n(58)("Observable")},function(t,e,n){var r=n(2),i=n(0),o=n(94),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),i=n(132);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r,i,o,s,a,u,l,c=n(131),h=n(54),f=n(23),d=n(2),p=n(22),y=n(65),g=n(8),v=g("iterator"),m=g("toStringTag"),_=y.Array,b={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};for(r=h(b),i=0;i<r.length;i++)if(o=r[i],s=b[o],a=d[o],(u=a&&a.prototype)&&(u[v]||p(u,v,_),u[m]||p(u,m,o),y[o]=_,s))for(l in c)u[l]||f(u,l,c[l],!0)},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,s=Object.create(o.prototype),a=new d(r||[]);return s._invoke=l(t,n,a),s}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,s){var a,u,l=r(t[e],t,i);if("throw"!==l.type)return a=l.arg,u=a.value,u&&"object"==typeof u&&A.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,s)},function(t){n("throw",t,o,s)}):Promise.resolve(u).then(function(t){a.value=t,o(a)},s);s(l.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function l(t,e,n){var i=v;return function(o,s){var a,u,l;if(i===_)throw Error("Generator is already running");if(i===b){if("throw"===o)throw s;return y()}for(n.method=o,n.arg=s;;){if((a=n.delegate)&&(u=c(a,n))){if(u===x)continue;return u}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===v)throw i=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);if(i=_,l=r(t,e,n),"normal"===l.type){if(i=n.done?b:m,l.arg===x)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=b,n.method="throw",n.arg=l.arg)}}}function c(t,e){var n,i,o=t.iterator[e.method];if(o===g){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=g,c(t,e),"throw"===e.method))return x;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}return n=r(o,t.iterator,e.arg),"throw"===n.type?(e.method="throw",e.arg=n.arg,e.delegate=null,x):(i=n.arg)?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,x):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,x)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){var e,n,r;if(t){if(e=t[C])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,r=function i(){for(;++n<t.length;)if(A.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=g,i.done=!0,i},r.next=r}return{next:y}}function y(){return{value:g,done:!0}}var g,v,m,_,b,x,w,T,E,O,S=Object.prototype,A=S.hasOwnProperty,P="function"==typeof Symbol?Symbol:{},C=P.iterator||"@@iterator",M=P.asyncIterator||"@@asyncIterator",I=P.toStringTag||"@@toStringTag",R="object"==typeof t,D=e.regeneratorRuntime;if(D)return void(R&&(t.exports=D));D=e.regeneratorRuntime=R?t.exports:{},D.wrap=n,v="suspendedStart",m="suspendedYield",_="executing",b="completed",x={},w={},w[C]=function(){return this},T=Object.getPrototypeOf,E=T&&T(T(p([]))),E&&E!==S&&A.call(E,C)&&(w=E),O=s.prototype=i.prototype=Object.create(w),o.prototype=O.constructor=s,s.constructor=o,s[I]=o.displayName="GeneratorFunction",D.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},D.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,I in t||(t[I]="GeneratorFunction")),t.prototype=Object.create(O),t},D.awrap=function(t){return{__await:t}},a(u.prototype),u.prototype[M]=function(){return this},D.AsyncIterator=u,D.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return D.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(O),O[I]="Generator",O[C]=function(){return this},O.toString=function(){return"[object Generator]"},D.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},D.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&A.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){var t,e;if(this.done=!0,t=this.tryEntries[0],e=t.completion,"throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}var n,r,i,o,s,a;if(this.done)throw t;for(n=this,r=this.tryEntries.length-1;r>=0;--r){if(i=this.tryEntries[r],o=i.completion,"root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev)if(s=A.call(i,"catchLoc"),a=A.call(i,"finallyLoc"),s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}},abrupt:function(t,e){var n,r,i,o;for(n=this.tryEntries.length-1;n>=0;--n)if(r=this.tryEntries[n],r.tryLoc<=this.prev&&A.call(r,"finallyLoc")&&this.prev<r.finallyLoc){i=r;break}return i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null),o=i?i.completion:{},o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){var e,n;for(e=this.tryEntries.length-1;e>=0;--e)if(n=this.tryEntries[e],n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),x},"catch":function(t){var e,n,r,i;for(e=this.tryEntries.length-1;e>=0;--e)if(n=this.tryEntries[e],n.tryLoc===t)return r=n.completion,"throw"===r.type&&(i=r.arg,f(n)),i;throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),x}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(70))},function(t,e,n){n(461),t.exports=n(31).RegExp.escape},function(t,e,n){var r=n(0),i=n(462)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return(e+"").replace(t,n)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,l,c,h=n(9),f=r(h),d=n(482),p=r(d),y=n(35),g=n(518),v=r(g);n(519),i=n(520),o=r(i),s=n(521),a=r(s),u=n(697),l=r(u),n(698),n(699),(c=function(){(0,v["default"])(l["default"]),(0,p["default"])(o["default"]).then(function(){(0,a["default"])(),"Xbox One"===f["default"].Device.getPlatform()?(0,y.routeTo)("xboxlive"):(0,y.routeTo)("menu")})})()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(465),i=n(9),o=n(466),s={device:"Foxxum",useCanvas:!0,soundsAllowed:!1,enforcePushState:!0,disableCanvas:!1,historyLength:0,keys:r["default"],init:function(){return new Promise(function(t){s.player=new o["default"](s),t()})},exit:function(){i["default"].CONFIG.exitUrl?window.location=i["default"].CONFIG.exitUrl:window.close()},getDevice:function(){return s.device},getModel:function(){var t,e=window.navigator.userAgent.match(/\(;.*\)/);return e&&1<=e.length&&(t=e[0].substring(2,e[0].length-1).split(";"),2<t.length)?t[0]+" "+t[1]+" "+t[t.length-1]:"unknown foxxum model"},getUserAgent:function(){return window.navigator.userAgent},getPlatform:function(){return s.device}};e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=window,o={};o[i.VK_UP||38]=r.Keys.UP,o[i.VK_DOWN||40]=r.Keys.DOWN,o[i.VK_LEFT||37]=r.Keys.LEFT,o[i.VK_RIGHT||39]=r.Keys.RIGHT,o[i.VK_ENTER||13]=r.Keys.ENTER,o[i.VK_BACK_SPACE||8]=r.Keys.RETURN,o[i.VK_BACK||461]=r.Keys.RETURN,o[i.VK_YELLOW||405]=r.Keys.YELLOW,o[i.VK_0||48]=r.Keys[0],o[i.VK_1||49]=r.Keys[1],o[i.VK_2||50]=r.Keys[2],o[i.VK_3||51]=r.Keys[3],o[i.VK_4||52]=r.Keys[4],o[i.VK_5||53]=r.Keys[5],o[i.VK_6||54]=r.Keys[6],o[i.VK_7||55]=r.Keys[7],o[i.VK_8||56]=r.Keys[8],o[i.VK_9||57]=r.Keys[9],e["default"]=o},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(467),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c,h,f;e.__esModule=!0,e["default"]=undefined,s=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(136),c=function(t){return t&&t.__esModule?t:{"default":t}}(l),h=n(468),u=a=function(t){function e(n){r(this,e);var o=i(this,t.call(this));if(!n)throw Error(h.ERRORS.NO_DEVICE);return o.device=n,o.initialSeek=null,o.onPlayPositionChanged=o.onPlayPositionChanged.bind(o),o.onPlayStateChange=o.onPlayStateChange.bind(o),o.updatePlayerProps=o.updatePlayerProps.bind(o),o}return o(e,t),e.prototype.buildPlayer=function(){this.config=s({},h.CONFIG),this.initVideo(),this.initPlayer()},e.prototype.initVideo=function(){if(this.config&&this.config.name){var t=document.getElementById(this.config.name);try{t.bindToCurrentChannel()}catch(e){}try{t.setFullScreen(!1)}catch(e){}}},e.prototype.initPlayer=function(){var t=document.body;this.config&&this.config.container&&(t=document.getElementById(this.config.container)),this.initAVObject(t,this.config.type)},e.prototype.initAVObject=function(t,e){return t&&(document.getElementById(this.config.id)&&this.destroyPlayer(),this.player=this.createPlayer(t,e)),this.player.onPlayStateChange=this.onPlayStateChange,this.player.onPlayPositionChanged=this.onPlayPositionChanged,this.timer=window.setInterval(this.updatePlayerProps,h.PROPS_UPDATE_INTERVAL),!0},e.prototype.createPlayer=function(t,e){var n,r,i,o,s,a;if(!t)throw Error(h.ERRORS.NO_CONTAINER);return n=this.property,r=n.width,i=n.height,o=n.top,s=n.left,a=document.getElementById(this.config.id)||document.createElement("object"),a.id=this.config.id,a.width=r,a.height=i,a.top=o,a.left=s,a.style.cssText="position: absolute; z-index: -1; top: "+o+"px; left: "+s+"px; width: "+r+"px; height: "+i+"px;",a.setAttribute("type",e||h.VIDEO_TYPES.MP4),a=t.appendChild(a)},e.prototype.destroyPlayer=function(){this.player.onPlayStateChange=null,this.player.onPlayPositionChanged=null,this.player.onPlaySpeedChanged=null,clearInterval(this.timer),this.player.stop();try{this.player.data=null}catch(t){}},e.prototype["native"]=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e,r=c["default"].NATIVE_CMD,i=r.STOP,o=r.PAUSE,s=r.SET_PLAYBACK_SPEED,a=r.SEEK,u=r.PLAY,l=r.MUTE,f=r.UNMUTE,d=r.SET_VOLUME,p=r.GET_CURRENT_BITRATE,y=r.GET_VIDEO_RESOLUTION,g=r.SHOW,v=r.HIDE,m=r.SET_VIDEO_DIMENSIONS,_=r.START_PLAY,b=r.SET_AUDIO_TRACK;if(!t)throw Error(h.ERRORS.UNKNOWN_COMMAND);switch(t){case _:this.nativeStartPlay(n);break;case u:return this.nativePlay();case o:return this.nativePause();case i:return this.nativeStop();case a:return this.nativeSeek(n);case g:this.nativeShow(n);break;case v:this.nativeHide();break;case s:break;case l:case f:case d:return undefined;case m:this.setSize(n.width,n.height);break;case b:case p:case y:return undefined;default:throw Error(h.ERRORS.UNKNOWN_COMMAND)}},e.prototype.nativeStartPlay=function(t){var e=t.url,n=t.position;this.buildPlayer(),this.setSource(e),this.nativePlay(),n&&(this.initialSeek=n)},e.prototype.updatePlayerProps=function(){var t,e,n;this.player&&(t=this.getDuration(),this.property.duration!==t&&null!==t&&this.onDurationChange(t),e=this.getPosition(),this.property.currentTime!==e&&null!==e&&this.onTimeUpdate(e),n=this.getState(),this.playState!==n&&(this.playState=n))},e.prototype.onPlayStateChange=function(t,e){var n=c["default"].STATE,r=n.BUFFERING,i=n.PAUSED,o=n.PLAYING;switch(this.playState=t||this.getState(),this.playState){case h.VIDEO_STATES.STOPPED:this.onEnd();break;case h.VIDEO_STATES.PLAYING:this.setState(o),null!==this.initialSeek&&(this.nativeSeek({position:this.initialSeek}),this.initialSeek=null);break;case h.VIDEO_STATES.PAUSED:this.setState(i);break;case h.VIDEO_STATES.CONNECTING:case h.VIDEO_STATES.BUFFERING:this.setState(r);break;case h.VIDEO_STATES.FINISHED:this.onEnd();break;case h.VIDEO_STATES.ERROR:this.onNativeError(e)}},e.prototype.onPlayPositionChanged=function(t){this.onTimeUpdate(t)},e.prototype.setSource=function(t){try{this.player.data=t}catch(e){}},e.prototype.getSource=function(){return this.player.data},e.prototype.setVolume=function(t){try{return this.player.setVolume(t)}catch(e){return!1}},e.prototype.setFullscreen=function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0];try{this.player.setFullScreen(t)}catch(e){}},e.prototype.setSize=function(t,e){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if(isNaN(t)||isNaN(e)||!this.player)return!1;if(!n&&t%8!=0)throw Error(h.ERRORS.INCORRECT_WIDTH);if(!n&&e%8!=0)throw Error(h.ERRORS.INCORRECT_HEIGHT);try{return this.player.style.width=t+"px",this.player.style.height=e+"px",this.player.width=t,this.player.height=e,!0}catch(r){return!1}},e.prototype.forceSetSize=function(t,e){return this.setSize(t,e,!0)},e.prototype.setPosition=function(t,e){if(isNaN(t)||isNaN(e)||!this.player)return!1;try{return this.player.style.left=t+"px",this.player.style.top=e+"px",this.player.left=t,this.player.top=e,!0}catch(n){return!1}},e.prototype.setBounds=function(t,e,n,r){return this.setPosition(t,e)&&this.setSize(n,r)},e.prototype.getSpeed=function(){try{return this.player.speed}catch(t){return null}},e.prototype.getDuration=function(){try{return this.player.playTime}catch(t){return 0}},e.prototype.getState=function(){try{return this.player.playState}catch(t){}return this.playState},e.prototype.getPosition=function(){try{return~~this.player.playPosition}catch(t){return null}},e.prototype.nativePause=function(){return this.nativePlay(0)},e.prototype.nativePlay=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!this.player)return!1;try{return Number.isNaN(t)?this.player.play(1):this.player.play(t)}catch(e){return!1}},e.prototype.nativeSeek=function(t){var e=t.position,n=e,r=this.player.playTime;if(Number.isNaN(e)||!this.player)return!1;if(Number.isNaN(r))return!1;if(e>r)return!1;e<0&&(n=0);try{return this.player.seek(n)}catch(i){return!1}},e.prototype.nativeStop=function(){try{return this.destroyPlayer()}catch(t){return!1}},e.prototype.release=function(){try{return this.player.release()}catch(t){return!1}},e.prototype.queue=function(t){try{return this.player.queue(t)}catch(e){return!1}},e.prototype.getComponents=function(t){try{return this.player.getComponents(t)}catch(e){return null}},e.prototype.selectComponents=function(t,e){try{this.player.selectComponent(e)}catch(n){}},e.prototype.onNativeError=function(t){var e=t||this.player.error,n=h.ERROR_STATES[e]||h.ERROR_STATES.UNKNOWN;this.onError(e,n)},e.prototype.nativeShow=function(t){var e=t.left,n=t.top,r=t.width,i=t.height;this.player&&this.player.style&&(this.setBounds(e,n,r,i),this.player.style.display="block")},e.prototype.nativeHide=function(){this.player&&this.player.style&&(this.player.style.display="none")},e}(c["default"]),Object.defineProperty(a,"COMPONENT_TYPES",{enumerable:!0,writable:!0,value:h.COMPONENT_TYPES}),Object.defineProperty(a,"VIDEO_TYPES",{enumerable:!0,writable:!0,value:h.VIDEO_TYPES}),f=u,e["default"]=f},function(t,e,n){"use strict";var r;e.__esModule=!0,e.VIDEO_STATES={STOPPED:0,PLAYING:1,PAUSED:2,CONNECTING:3,BUFFERING:4,FINISHED:5,ERROR:6},e.PROPS_UPDATE_INTERVAL=1e3,r=e.VIDEO_TYPES={MP4:"video/mp4",MPEG:"video/mpeg",MP2T:"video/mp2t",MPEG_DASH:"application/mpeg-dash"},e.CONFIG={id:"video",type:r.MP4,name:"video",fullsize:{width:1280,height:720},minsize:{width:1280,height:600},width:1280,height:720,top:0,left:0,fullscreen:!1},e.ERROR_STATES={UNKNOWN:"Unknown error",0:"A/V format not supported",1:"cannot connect to server or connection lost",2:"unidentified error",3:"insufficient resources",4:"content corrupt or invalid",5:"content not available",6:"content not available at given position"},e.COMPONENT_TYPES={0:"COMPONENT_TYPE_VIDEO",1:"COMPONENT_TYPE_AUDIO",2:"COMPONENT_TYPE_SUBTITLE"},e.updatePlayerInterval=1e3,e.ERRORS={NO_DEVICE:"Device not defined.",CANNOT_CREATE_PLAYER:"[PlayerHbbTV] Cannot create a video object!",NO_CONTAINER:"Container is not defined",UNKNOWN_COMMAND:"An unknown player command",INCORRECT_WIDTH:"[AVObject] set size parameter WIDTH must be divisible by 8",INCORRECT_HEIGHT:"[AVObject] set size parameter HEIGHT must be divisible by 8"}},function(t,e,n){var r,i,o,s,a,u,l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(9),i=n(74),o="allowedSounds",s="on",a="off",u=function(){function t(){this.element=this.createAudioElement(),this.enabled=(i["default"].get(o)||a)===s}return t.prototype.play=function(t){var e=t.key,n=t.looping;return l(this,void 0,void 0,function(){return c(this,function(t){return this.enabled?(this.element.src=this.getUrl(e),this.element.loop=n,[2,this.element.play()]):[2]})})},t.prototype.setVolume=function(t){this.element.volume=t},t.prototype.pause=function(){this.element.pause()},t.prototype.unPause=function(){this.element.play()},t.prototype.getSounds=function(){return this.enabled},t.prototype.setSounds=function(t){this.enabled=t,i["default"].set(o,t?s:a)},t.prototype.preload=function(t){return l(this,void 0,void 0,function(){var e=this;return c(this,function(n){return[2,Promise.all(t.map(function(t){return l(e,void 0,void 0,function(){return c(this,function(e){return[2,this.buffer(t)]})})}))]})})},t.prototype.buffer=function(t){return l(this,void 0,void 0,function(){var e=this;return c(this,function(n){return[2,new Promise(function(n){var r=new XMLHttpRequest,i=e.getUrl(t);r.open("GET",i,!0),r.responseType="arraybuffer",r.onload=function(){n()},r.send()})]})})},t.prototype.getUrl=function(t){var e=r["default"].CONFIG,n=e.baseUrl,i=e.soundRoot;return n?""+n+i+t:""+i+t},t.prototype.createAudioElement=function(){var t=document.createElement("audio");return t.controls=!0,t.style.display="none",document.body.appendChild(t),t},t}(),e.SoundManager=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(9),o=n(74),s={},a=function(t){if(h.allowed){var e=r.createBufferSource();e.buffer=s[t],e.connect(r.destination),e.start()}},u=window.AudioContext||window.webkitAudioContext,l=function(){u&&i["default"].Device.soundsAllowed&&i["default"].CONFIG.soundsAllowed&&(r=new u,h.initialized=!0,"function"==typeof h.afterInitialized&&h.afterInitialized())},c=o["default"].get("allowedSounds")||null,h={initialized:!1,afterInitialized:null,allowed:null===c||"on"===c,buffer:function(t){if(r){var e=i["default"].CONFIG,n=e.baseUrl,o=e.soundRoot,a=new XMLHttpRequest,u=n?""+n+o+t:""+o+t;a.open("GET",u,!0),a.responseType="arraybuffer",a.onload=function(){var e=a.response,n=r.decodeAudioData(e,function(e){s[t]=e});n&&"function"==typeof n.then&&n.then(function(e){s[t]=e})},a.send()}},playSound:function(t){r&&s[t]&&a(t)},init:function(){l()},onInitialized:function(t){h.initialized&&"function"==typeof t?t():h.afterInitialized=t},setSounds:function(t){h.allowed=t,o["default"].set("allowedSounds",t?"on":"off")}};e["default"]=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return""};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t,e,n;for(t="",e=0;e<32;e+=1)n=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16);return t};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){var r,i,o=window.document.getElementsByTagName("object");if(o)for(r=0;r<o.length;r+=1)if(o[r]&&o[r].id===t)return o[r];return i=window.document.createElement("object"),i.id=t,"string"==typeof e?i.type=e:"object"==typeof e&&Object.keys(e).forEach(function(t){"style"===t?i.style.cssText=e[t]:i[t]=e[t]}),"object"==typeof n&&Object.keys(n).forEach(function(t){i.setAttribute(t,n[t])}),window.document.body.appendChild(i),i};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=[0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236],r=[1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251],i={PI_8:1,PIx2_8:2,PIx3_8:3,PIx4_8:4,PIx5_8:5,PIx6_8:6,PIx7_8:7,PIx8_8:8,PIx9_8:9,PIx10_8:10,PIx11_8:11,PIx12_8:12,PIx13_8:13,PIx14_8:14,PIx15_8:15,PIx16_8:16,PIx17_8:17,PIx18_8:18,PIx19_8:19,PIx20_8:20,PIx21_8:21,PIx22_8:22,PIx23_8:23,PIx24_8:24,PI_4:2,PIx2_4:4,PIx3_4:6,PIx4_4:8,PIx5_4:10,PIx6_4:12,PIx7_4:14,PIx8_4:16,PIx9_4:18,PIx10_4:20,PIx11_4:22,PIx12_4:24,PI_2:4,PIx2_2:8,PIx3_2:12,PIx4_2:16,PIx5_2:20,PIx6_2:24,PI:8,PIx2:16,PIx3:24,sin:function(t){return n[t]},cos:function(t){return r[t]}};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t+.5<<0};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e=0,n=0,r=t.length;n<r;)e=(e<<5)-e+t.charCodeAt(n+=1)<<0;return e};e["default"]=function(t){return n(t)+2147483647+1+""}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){for(var n="",r=e;0<r;)n+=t,r--;return n};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rangeToRange=function(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r}},function(t,e){function n(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}var r=this&&this.__assign||function(){return(r=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MATH_PI=3.14,e.getDistance=n,e.splitLine=function(t,e,n){void 0===n&&(n=100);for(var i=(e.x-t.x)/n,o=(e.y-t.y)/n,s=[r({},t)],a=1;a<n-1;a+=1)s.push({x:i*a+t.x,y:o*a+t.y});return s.push(r({},e)),s},e.getBezier=function(t,n){var r,i,o,s,a,u=t.a,l=t.b,c=t.c;for(void 0===n&&(n=100),r=e.splitLine(u,c,n),i=e.splitLine(c,l,n),o=[],s=0;s<n;s+=1)a=e.splitLine(r[s],i[s],n),o.push(a[s]);return o},e.movePoint=function(t,e,n){var i=r({},t);return i.y-=Math.sin(e)*n,i.x+=Math.cos(e)*n,i},e.rotatePoint=function(t,e,n){var r=Math.cos(n),i=Math.sin(n);return{x:r*(t.x-e.x)+i*(t.y-e.y)+e.x,y:r*(t.y-e.y)-i*(t.x-e.x)+e.y}},e.toIsometric=function(t){return{x:t.x-t.y,y:(t.x+t.y)/2}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(137),i=function(t){var e,n,i,o;if(!t||0===t.length)return[];if(e=t.slice(),1===t.length)return e;for(o=e.length;0!==o;)n=r["default"](0,o-1),i=e[--o],e[o]=e[n],e[n]=i;return e};e.shuffleArray=i},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d;Object.defineProperty(e,"__esModule",{value:!0}),r=n(67),i=n(101),o=n(9),s=n(103),n(516),a=n(517),e.PRODUCTION="production",u=10,l=function(t){var e=window.document.getElementsByTagName("title"),n=!!e.length,r=n?e[0]:window.document.createElement("title");r.innerText=t,n||window.document.head.appendChild(r)},c=function(t){var e=t.criticalAssets,n=t.baseUrl;return e&&"function"==typeof e.map?Promise.all(e.map(function(t){return new Promise(function(e){var r=new Image;r.onload=function(){e()},r.onerror=function(){e()},r.src=n?""+n+t:t})})):Promise.resolve()},h=function(t,e){var n,r=t.minimalLoaderTime,i=function(){var t=document.getElementById("loading");t&&(t.style.display="none")};if(r&&(n=Date.now()-e)<r)return void setTimeout(i,r-n);i()},f=function(t){return o["default"].init(t).then(function(){if(a["default"](),r["default"].log(o["default"].getUUID()),t.GA_ACCOUNT){var n={};t.env===e.PRODUCTION&&(n.sampleRate=u),s.initGA(t.GA_ACCOUNT,n),s["default"]("set","checkProtocolTask",null),s["default"]("set","dimension1",o["default"].Device.getDevice()),s["default"]("set","dimension2",o["default"].Device.getModel()),s["default"]("set","dimension3",o["default"].Device.getUserAgent()),s["default"]("send","event","Device",o["default"].Device.getDevice()+" "+o["default"].Device.getModel(),o["default"].Device.getPlatform()),s["default"]("send","event","UserAgent",o["default"].Device.getUserAgent(),o["default"].Device.getPlatform())}})},d=function(t){l(t.gameName||"Mautilus Game");var e=Date.now();return new Promise(function(n){Promise.all([c(t),f(t)]).then(function(){return i.initAdsControl()}).then(function(){h(t,e),n()})})},e["default"]=d},function(t,e,n){var r,i,o,s,a,u,l,c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(102),i=n(493),o=n(14),s=n(13),a=n(512),u=n(513),l=function(){function t(t,e){var n=this;this.providers=[],this.sendMissingGA=function(t){n.adsGa.sendMissing(r.adTypes.video,t)},this.sendErrorGA=function(t){n.adsGa.sendError(r.adTypes.video,t)},this.appConfig=e,this.adsParser=new a.AdsParser(this.sendMissingGA,this.sendErrorGA),this.adsGa=new r.AdsGA(this.appConfig),t&&(t.startsWith("{")?this.processConfigFile(t):s.request(t).then(function(t){n.processConfigFile(t)})["catch"](function(t){s.logger.error(t)}))}return t.prototype.init=function(){return c(this,void 0,void 0,function(){return h(this,function(t){return[2,s.obtainIPAddress()]})})},t.prototype.getLinearAd=function(){return c(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return[4,this.adsParser.getAd(this.getConfigs(),{adType:"linear"})];case 1:return(t=e.sent())?[2,{source:t.source,vastTracker:new u["default"](t,this.adsGa)}]:[2,null]}})})},t.prototype.getConfigs=function(){return this.providers.map(function(t){return{name:t.name,url:t.getUrl()}})},t.prototype.getAdOccurrence=function(){return this.adOccurrence},t.prototype.processConfigFile=function(t){var e,n,r,i,o,a,u,l;try{if(e=this.appConfig,n=e.gameName,r=e.platform,i=JSON.parse(t),!i)return;if(!(o=i.games.find(function(t){return t.uniqueId.toLowerCase()===n.toLowerCase()})))return;if(!(a=o.platforms.find(function(t){return t.uniqueId.toLowerCase()===r.toLowerCase()})))return;u=a.adOccurrence,l=a.activeLinearFile,this.providers=this.processProvidersConfig(l||[]),this.adOccurrence=u||0}catch(t){s.logger.warn(t)}},t.prototype.processProvidersConfig=function(t){var e=this;return t.map(function(t){var n=t.name,r=t.subname,s=t.uid,a=t.url;return new(i.PROVIDERS[r||n]||o["default"])(a,s,n||r,e.appConfig)})},t}(),e.Ads=l},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(195)),r(n(102)),r(n(491))},function(t,e,n){"use strict";var r,i,o,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"===a(e)&&void 0!==t?t.exports=n():(i=[],r=n,(o="function"==typeof r?r.apply(e,i):r)!==undefined&&(t.exports=o))}(function(){return function t(e,n,r){function i(a,u){var l,c,h;if(!n[a]){if(!e[a]){if(l="function"==typeof s&&s,!u&&l)return s(a,!0);if(o)return o(a,!0);throw c=Error("Cannot find module '"+a+"'"),c.code="MODULE_NOT_FOUND",c}h=n[a]={exports:{}},e[a][0].call(h.exports,function(t){return i(e[a][1][t]||t)},h,h.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof s&&s,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"===(void 0===t?"undefined":a(t))&&null!==t}function s(t){return void 0===t}((e.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,a,u,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;throw c=Error('Uncaught, unspecified "error" event. ('+e+")"),c.context=e,c}if(s(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,u=0;u<r;u++)l[u].apply(this,a);return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.trace),this},r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;0<a--;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){var r;r=function(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]},e.exports=r},{}],3:[function(t,e,n){var r,i,o;i=t("./parser"),o=t("./util"),r=function(){function t(){}var e,r;return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,r){var o,s,a,u;if(s=+new Date,o=n.extend=function(t,e){var n,r;for(n in e)r=e[n],t[n]=r;return t},r||("function"==typeof e&&(r=e),a={}),a=o(this.options,e),this.totalCallsTimeout<s?(this.totalCalls=1,this.totalCallsTimeout=s+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((u=s-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(u<this.cappingMinimumTimeInterval)return void r(null,Error("VAST call canceled – ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return i.parse(t,a,function(t,e){return r(t,e)})}r(null,Error("VAST call canceled – FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},r=o.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){e(t,n,{get:function(){return r.getItem(n)},set:function(t){return r.setItem(n,t)},configurable:!1,enumerable:!0})}),null==t.lastSuccessfullAd&&(t.lastSuccessfullAd=0),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0),t}(),e.exports=r},{"./parser":12,"./util":18}],4:[function(t,e,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}},e.exports=r},{}],5:[function(t,e,n){var r,i,o,s,a=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=function(t){null==t&&(t={}),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={}},o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return a(e,r),e}(),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return a(e,r),e}(),i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return a(e,r),e}(),e.exports={VASTCreativeLinear:o,VASTCreativeNonLinear:s,VASTCreativeCompanion:i}},{}],6:[function(t,e,n){var r;r=function(){this.attributes={},this.children=[]},e.exports=r},{}],7:[function(t,e,n){var r;r=function(){this.name=null,this.value=null,this.attributes={}},e.exports=r},{}],8:[function(t,e,n){var r;r=function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null},e.exports=r},{}],9:[function(t,e,n){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(t,e,n){var r;r=function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null},e.exports=r},{}],11:[function(t,e,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null},e.exports=r},{}],12:[function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_=[].slice,b=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};o=t("./urlhandler"),v=t("./response"),s=t("./ad"),a=t("./extension"),u=t("./extensionchild"),m=t("./util"),h=t("./creative").VASTCreativeLinear,c=t("./creative").VASTCreativeCompanion,f=t("./creative").VASTCreativeNonLinear,p=t("./mediafile"),d=t("./icon"),l=t("./companionad"),y=t("./nonlinear"),i=t("events").EventEmitter,r={ERRORCODE:900,extensions:[]},g=function(){function t(){}var e,n;return n=null,e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(t,e,r){return r||("function"==typeof e&&(r=e),e={}),n=e.wrapperLimit||10,e.wrapperDepth=0,this._parse(t,null,e,function(t,e){return r(e,t)})},t.load=function(t,e,n){return n||("function"==typeof e&&(n=e),e={}),this.parseXmlDocument(null,[],e,t,n)},t.vent=new i,t.track=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?_.call(arguments,2):[],this.vent.emit("VAST-error",m.merge.apply(m,[r,e].concat(_.call(t)))),m.track(n,e)},t.on=function(t,e){return this.vent.on(t,e)},t.once=function(t,e){return this.vent.once(t,e)},t.off=function(t,e){return this.vent.removeListener(t,e)},t._parse=function(t,n,r,i){var s,a,u,l;for(a=0,u=e.length;a<u;a++)s=e[a],t=s(t);return null==n&&(n=[]),n.push(t),this.vent.emit("resolving",{url:t}),o.get(t,r,(l=this,function(e,o){return l.vent.emit("resolved",{url:t}),null!=e?i(e):l.parseXmlDocument(t,n,r,o,i)}))},t.parseXmlDocument=function(e,r,i,o,s){var a,u,l,c,h,f,d,p,y,g,m,_;if(_=i.wrapperDepth++,m=new v,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return s(Error("Invalid VAST XMLDocument"));for(l=0,h=(y=o.documentElement.childNodes).length;l<h;l++)"Error"===(p=y[l]).nodeName&&m.errorURLTemplates.push(t.parseNodeText(p));for(c=0,f=(g=o.documentElement.childNodes).length;c<f;c++)"Ad"===(p=g[c]).nodeName&&(null!=(a=t.parseAdElement(p))?m.ads.push(a):t.track(m.errorURLTemplates,{ERRORCODE:101}));for(u=function(){var e,n,r,i,o;for(e=n=(i=m.ads).length-1;0<=n;e=n+=-1)if(null!=(a=i[e]).nextWrapperURL)return;if(0===_)if(0===m.ads.length)t.track(m.errorURLTemplates,{ERRORCODE:303});else for(e=r=(o=m.ads).length-1;0<=r;e=r+=-1)((a=o[e]).errorCode||0===a.creatives.length)&&(t.track(a.errorURLTemplates.concat(m.errorURLTemplates),{ERRORCODE:a.errorCode||303},{ERRORMESSAGE:a.errorMessage||""},{extensions:a.extensions},{system:a.system}),m.ads.splice(e,1));return s(null,m)},d=m.ads.length;d--;)null!=(a=m.ads[d]).nextWrapperURL&&function(o){var s;r.length>=n||(s=o.nextWrapperURL,0<=b.call(r,s))?(o.errorCode=302,delete o.nextWrapperURL):(o.nextWrapperURL=t.resolveVastAdTagURI(o.nextWrapperURL,e),t._parse(o.nextWrapperURL,r,i,function(e,n){var r,i,s,a,l;if(delete o.nextWrapperURL,null!=e)return o.errorCode=301,o.errorMessage=e.message,void u();if(null!=(null!=n?n.errorURLTemplates:void 0)&&(m.errorURLTemplates=m.errorURLTemplates.concat(n.errorURLTemplates)),0===n.ads.length)o.creatives=[];else for(r=m.ads.indexOf(o),m.ads.splice(r,1),i=0,s=(a=n.ads).length;i<s;i++)l=a[i],t.mergeWrapperAdData(l,o),m.ads.splice(++r,0,l);return u()}))}(a);return u()},t.resolveVastAdTagURI=function(t,e){return 0===t.indexOf("//")?""+location.protocol+t:-1===t.indexOf("://")?e.slice(0,e.lastIndexOf("/"))+"/"+t:t},t.mergeWrapperAdData=function(t,e){var n,r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w;for(t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),o=0,l=(d=t.creatives).length;o<l;o++)if(r=d[o],null!=(null!=(p=e.trackingEvents)?p[r.type]:void 0))for(i in y=e.trackingEvents[r.type])w=y[i],(n=r.trackingEvents)[i]||(n[i]=[]),r.trackingEvents[i]=r.trackingEvents[i].concat(w);if(null!=(g=e.videoClickTrackingURLTemplates)?g.length:void 0)for(s=0,c=(v=t.creatives).length;s<c;s++)"linear"===(r=v[s]).type&&(r.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));if(null!=(m=e.videoCustomClickURLTemplates)?m.length:void 0)for(a=0,h=(_=t.creatives).length;a<h;a++)"linear"===(r=_[a]).type&&(r.videoCustomClickURLTemplates=r.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates));if(null!=e.videoClickThroughURLTemplate){for(x=[],u=0,f=(b=t.creatives).length;u<f;u++)"linear"===(r=b[u]).type&&null==r.videoClickThroughURLTemplate?x.push(r.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate):x.push(void 0);return x}},t.childByName=function(t,e){var n,r,i,o;for(r=0,i=(o=t.childNodes).length;r<i;r++)if((n=o[r]).nodeName===e)return n},t.childsByName=function(t,e){var n,r,i,o,s;for(r=[],i=0,o=(s=t.childNodes).length;i<o;i++)(n=s[i]).nodeName===e&&r.push(n);return r},t.parseAdElement=function(t){var e,n,r,i,o;for(n=0,r=(i=t.childNodes).length;n<r;n++)if("Wrapper"===(o=(e=i[n]).nodeName)||"InLine"===o){if(this.copyNodeAttribute("id",t,e),this.copyNodeAttribute("sequence",t,e),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},t.parseWrapperElement=function(t){var e,n,r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T;for(e=this.parseInLineElement(t),null!=(T=this.childByName(t,"VASTAdTagURI"))?e.nextWrapperURL=this.parseNodeText(T):null!=(T=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(T,"URL"))),o=0,c=(y=e.creatives).length;o<c;o++)if("linear"===(g=(w=y[o]).type)||"nonlinear"===g){if(null!=w.trackingEvents)for(i in e.trackingEvents||(e.trackingEvents={}),(n=e.trackingEvents)[p=w.type]||(n[p]={}),v=w.trackingEvents)for(x=v[i],(r=e.trackingEvents[w.type])[i]||(r[i]=[]),a=0,h=x.length;a<h;a++)b=x[a],e.trackingEvents[w.type][i].push(b);if(null!=w.videoClickTrackingURLTemplates)for(e.videoClickTrackingURLTemplates||(e.videoClickTrackingURLTemplates=[]),u=0,f=(m=w.videoClickTrackingURLTemplates).length;u<f;u++)s=m[u],e.videoClickTrackingURLTemplates.push(s);if(null!=w.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=w.videoClickThroughURLTemplate),null!=w.videoCustomClickURLTemplates)for(e.videoCustomClickURLTemplates||(e.videoCustomClickURLTemplates=[]),l=0,d=(_=w.videoCustomClickURLTemplates).length;l<d;l++)s=_[l],e.videoCustomClickURLTemplates.push(s)}if(null!=e.nextWrapperURL)return e},t.parseInLineElement=function(t){var e,n,r,i,o,a,u,l,c,h,f,d,p,y,g;for((e=new s).id=t.getAttribute("id")||null,e.sequence=t.getAttribute("sequence")||null,a=0,c=(p=t.childNodes).length;a<c;a++)switch((d=p[a]).nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(d));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(d));break;case"Creatives":for(u=0,h=(y=this.childsByName(d,"Creative")).length;u<h;u++)for(r={id:(i=y[u]).getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(i),sequence:i.getAttribute("sequence")||null,apiFramework:i.getAttribute("apiFramework")||null},l=0,f=(g=i.childNodes).length;l<f;l++)switch((o=g[l]).nodeName){case"Linear":(n=this.parseCreativeLinearElement(o,r))&&e.creatives.push(n);break;case"NonLinearAds":(n=this.parseNonLinear(o,r))&&e.creatives.push(n);break;case"CompanionAds":(n=this.parseCompanionAd(o,r))&&e.creatives.push(n)}break;case"Extensions":this.parseExtension(e.extensions,this.childsByName(d,"Extension"));break;case"AdSystem":e.system={value:this.parseNodeText(d),version:d.getAttribute("version")||null};break;case"AdTitle":e.title=this.parseNodeText(d);break;case"Description":e.description=this.parseNodeText(d);break;case"Advertiser":e.advertiser=this.parseNodeText(d);break;case"Pricing":e.pricing={value:this.parseNodeText(d),model:d.getAttribute("model")||null,currency:d.getAttribute("currency")||null};break;case"Survey":e.survey=this.parseNodeText(d)}return e},t.parseExtension=function(t,e){var n,r,i,o,s,l,c,h,f,d,p,y,g,v,m,_,b,x,w;for(x=[],c=0,p=e.length;c<p;c++){if(s=e[c],r=new a,s.attributes)for(h=0,y=(m=s.attributes).length;h<y;h++)l=m[h],r.attributes[l.nodeName]=l.nodeValue;for(f=0,g=(_=s.childNodes).length;f<g;f++)if(n=_[f],w=this.parseNodeText(n),"#comment"!==n.nodeName&&""!==w){if((i=new u).name=n.nodeName,i.value=w,n.attributes)for(d=0,v=(b=n.attributes).length;d<v;d++)o=b[d],i.attributes[o.nodeName]=o.nodeValue;r.children.push(i)}x.push(t.push(r))}return x},t.parseCreativeLinearElement=function(t,e){var n,r,i,o,s,a,u,l,c,f,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X,V,Y,z,K,q,Z,Q,J,$,tt,et,nt,rt,it,ot,st,at,ut,lt;if((o=new h(e)).duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),null==(it=t.getAttribute("skipoffset"))?o.skipDelay=null:"%"===it.charAt(it.length-1)&&-1!==o.duration?(H=parseInt(it,10),o.skipDelay=o.duration*(H/100)):o.skipDelay=this.parseDuration(it),null!=(lt=this.childByName(t,"VideoClicks"))){for(o.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(lt,"ClickThrough")),l=0,w=(V=this.childsByName(lt,"ClickTracking")).length;l<w;l++)i=V[l],o.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(_=0,T=(Y=this.childsByName(lt,"CustomClick")).length;_<T;_++)s=Y[_],o.videoCustomClickURLTemplates.push(this.parseNodeText(s))}for(null!=(n=this.childByName(t,"AdParameters"))&&(o.adParameters=this.parseNodeText(n)),b=0,O=(K=this.childsByName(t,"TrackingEvents")).length;b<O;b++)for(at=K[b],x=0,S=(q=this.childsByName(at,"Tracking")).length;x<S;x++)if(a=(st=q[x]).getAttribute("event"),ut=this.parseNodeText(st),null!=a&&null!=ut){if("progress"===a){if(!(B=st.getAttribute("offset")))continue;a="%"===B.charAt(B.length-1)?"progress-"+B:"progress-"+Math.round(this.parseDuration(B))}null==(r=o.trackingEvents)[a]&&(r[a]=[]),o.trackingEvents[a].push(ut)}for(D=0,A=(Z=this.childsByName(t,"MediaFiles")).length;D<A;D++)for(j=Z[D],F=0,P=(Q=this.childsByName(j,"MediaFile")).length;F<P;F++)k=Q[F],(L=new p).id=k.getAttribute("id"),L.fileURL=this.parseNodeText(k),L.deliveryType=k.getAttribute("delivery"),L.codec=k.getAttribute("codec"),L.mimeType=k.getAttribute("type"),L.apiFramework=k.getAttribute("apiFramework"),L.bitrate=parseInt(k.getAttribute("bitrate")||0),L.minBitrate=parseInt(k.getAttribute("minBitrate")||0),L.maxBitrate=parseInt(k.getAttribute("maxBitrate")||0),L.width=parseInt(k.getAttribute("width")||0),L.height=parseInt(k.getAttribute("height")||0),(rt=k.getAttribute("scalable"))&&"string"==typeof rt&&("true"===(rt=rt.toLowerCase())?L.scalable=!0:"false"===rt&&(L.scalable=!1)),(N=k.getAttribute("maintainAspectRatio"))&&"string"==typeof N&&("true"===(N=N.toLowerCase())?L.maintainAspectRatio=!0:"false"===N&&(L.maintainAspectRatio=!1)),o.mediaFiles.push(L);if(null!=(v=this.childByName(t,"Icons")))for(U=0,C=(J=this.childsByName(v,"Icon")).length;U<C;U++){for(g=J[U],(c=new d).program=g.getAttribute("program"),c.height=parseInt(g.getAttribute("height")||0),c.width=parseInt(g.getAttribute("width")||0),c.xPosition=this.parseXPosition(g.getAttribute("xPosition")),c.yPosition=this.parseYPosition(g.getAttribute("yPosition")),c.apiFramework=g.getAttribute("apiFramework"),c.offset=this.parseDuration(g.getAttribute("offset")),c.duration=this.parseDuration(g.getAttribute("duration")),G=0,M=($=this.childsByName(g,"HTMLResource")).length;G<M;G++)u=$[G],c.type=u.getAttribute("creativeType")||"text/html",c.htmlResource=this.parseNodeText(u);for(W=0,I=(tt=this.childsByName(g,"IFrameResource")).length;W<I;W++)m=tt[W],c.type=m.getAttribute("creativeType")||0,c.iframeResource=this.parseNodeText(m);for(X=0,R=(et=this.childsByName(g,"StaticResource")).length;X<R;X++)ot=et[X],c.type=ot.getAttribute("creativeType")||0,c.staticResource=this.parseNodeText(ot);if(null!=(y=this.childByName(g,"IconClicks")))for(c.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(y,"IconClickThrough")),nt=0,E=(z=this.childsByName(y,"IconClickTracking")).length;nt<E;nt++)f=z[nt],c.iconClickTrackingURLTemplates.push(this.parseNodeText(f));c.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(g,"IconViewTracking")),o.icons.push(c)}return o},t.parseNonLinear=function(t,e){var n,r,i,o,s,a,u,l,c,h,d,p,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j;for(o=new f(e),u=0,p=(A=this.childsByName(t,"TrackingEvents")).length;u<p;u++)for(k=A[u],c=0,g=(P=this.childsByName(k,"Tracking")).length;c<g;c++)s=(L=P[c]).getAttribute("event"),j=this.parseNodeText(L),null!=s&&null!=j&&(null==(r=o.trackingEvents)[s]&&(r[s]=[]),o.trackingEvents[s].push(j));for(h=0,v=(C=this.childsByName(t,"NonLinear")).length;h<v;h++){for(O=C[h],(E=new y).id=O.getAttribute("id")||null,E.width=O.getAttribute("width"),E.height=O.getAttribute("height"),E.expandedWidth=O.getAttribute("expandedWidth"),E.expandedHeight=O.getAttribute("expandedHeight"),E.scalable=this.parseBoolean(O.getAttribute("scalable")),E.maintainAspectRatio=this.parseBoolean(O.getAttribute("maintainAspectRatio")),E.minSuggestedDuration=this.parseDuration(O.getAttribute("minSuggestedDuration")),E.apiFramework=O.getAttribute("apiFramework"),d=0,m=(M=this.childsByName(O,"HTMLResource")).length;d<m;d++)a=M[d],E.type=a.getAttribute("creativeType")||"text/html",E.htmlResource=this.parseNodeText(a);for(w=0,_=(I=this.childsByName(O,"IFrameResource")).length;w<_;w++)l=I[w],E.type=l.getAttribute("creativeType")||0,E.iframeResource=this.parseNodeText(l);for(T=0,b=(R=this.childsByName(O,"StaticResource")).length;T<b;T++)N=R[T],E.type=N.getAttribute("creativeType")||0,E.staticResource=this.parseNodeText(N);for(null!=(n=this.childByName(O,"AdParameters"))&&(E.adParameters=this.parseNodeText(n)),E.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(O,"NonLinearClickThrough")),S=0,x=(D=this.childsByName(O,"NonLinearClickTracking")).length;S<x;S++)i=D[S],E.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(i));o.variations.push(E)}return o},t.parseCompanionAd=function(t,e){var n,r,i,o,s,a,u,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B;for(a=new c(e),f=0,v=(C=this.childsByName(t,"Companion")).length;f<v;f++){for(s=C[f],(o=new l).id=s.getAttribute("id")||null,o.width=s.getAttribute("width"),o.height=s.getAttribute("height"),o.companionClickTrackingURLTemplates=[],p=0,m=(M=this.childsByName(s,"HTMLResource")).length;p<m;p++)h=M[p],o.type=h.getAttribute("creativeType")||"text/html",o.htmlResource=this.parseNodeText(h);for(y=0,_=(I=this.childsByName(s,"IFrameResource")).length;y<_;y++)d=I[y],o.type=d.getAttribute("creativeType")||0,o.iframeResource=this.parseNodeText(d);for(g=0,b=(R=this.childsByName(s,"StaticResource")).length;g<b;g++){for(j=R[g],o.type=j.getAttribute("creativeType")||0,O=0,x=(D=this.childsByName(s,"AltText")).length;O<x;O++)r=D[O],o.altText=this.parseNodeText(r);o.staticResource=this.parseNodeText(j)}for(S=0,w=(N=this.childsByName(s,"TrackingEvents")).length;S<w;S++)for(U=N[S],A=0,T=(L=this.childsByName(U,"Tracking")).length;A<T;A++)u=(F=L[A]).getAttribute("event"),B=this.parseNodeText(F),null!=u&&null!=B&&(null==(n=o.trackingEvents)[u]&&(n[u]=[]),o.trackingEvents[u].push(B));for(P=0,E=(k=this.childsByName(s,"CompanionClickTracking")).length;P<E;P++)i=k[P],o.companionClickTrackingURLTemplates.push(this.parseNodeText(i));o.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(s,"CompanionClickThrough")),o.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(s,"CompanionClickTracking")),a.variations.push(o)}return a},t.parseDuration=function(t){var e,n,r,i,o;return null==t?-1:m.isNumeric(t)?parseInt(t):3!==(e=t.split(":")).length?-1:(o=e[2].split("."),i=parseInt(o[0]),2===o.length&&(i+=parseFloat("0."+o[1])),r=parseInt(60*e[1]),n=parseInt(60*e[0]*60),isNaN(n)||isNaN(r)||isNaN(i)||3600<r||60<i?-1:n+r+i)},t.parseXPosition=function(t){return"left"===t||"right"===t?t:parseInt(t||0)},t.parseYPosition=function(t){return"top"===t||"bottom"===t?t:parseInt(t||0)},t.parseBoolean=function(t){return"true"===t||"TRUE"===t||"1"===t},t.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()},t.copyNodeAttribute=function(t,e,n){var r;if(r=e.getAttribute(t))return n.setAttribute(t,r)},t.parseCreativeAdIdAttribute=function(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null},t}(),e.exports=g},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(t,e,n){var r;r=function(){this.ads=[],this.errorURLTemplates=[]},e.exports=r},{}],14:[function(t,e,n){var r,i,o,s,a,u,l,c={}.hasOwnProperty;i=t("./client"),l=t("./util"),s=t("./creative").VASTCreativeLinear,a=t("./nonlinear"),o=t("./companionad"),r=t("events").EventEmitter,u=function(t){function e(t,e,n){var r,u,l;for(r in this.ad=t,this.creative=e,this.variation=null!=n?n:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],this._alreadyTriggeredQuartiles={},l=this.creative.trackingEvents)u=l[r],this.trackingEvents[r]=u.slice(0);this.creative instanceof s?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof a?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof o&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){i.lastSuccessfullAd=+new Date})}return function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.off=function(t,e){return this.removeListener(t,e)},e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,n,r,i,o,s,a,u,l;if(-1===(u=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(t<u?this.emit("skip-countdown",u-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&0<this.assetDuration){if(n=[],0<t)for(s in n.push("start"),o=Math.round(t/this.assetDuration*100),n.push("progress-"+o+"%"),n.push("progress-"+Math.round(t)),a=this.quartiles)l=a[s],this.isQuartileReached(s,l,t)&&(n.push(s),this._alreadyTriggeredQuartiles[s]=!0);for(r=0,i=n.length;r<i;r++)e=n[r],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.isQuartileReached=function(t,e,n){var r;return r=!1,e<=n&&!this._alreadyTriggeredQuartiles[t]&&(r=!0),r},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setExpand=function(t){return this.expanded!==t&&this.track(t?"expand":"collapse"),this.expanded=t},e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.stop=function(){},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,n;if((null!=(e=this.clickTrackingURLTemplates)?e.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(n={CONTENTPLAYHEAD:this.progressFormated()}),t=l.resolveURLTemplates([this.clickThroughURLTemplate],n)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var n,r;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),r=this.trackingEvents[t],n=this.emitAlwaysEvents.indexOf(t),null!=r?(this.emit(t,""),this.trackURLs(r)):-1!==n&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],-1<n&&this.emitAlwaysEvents.splice(n,1))},e.prototype.trackURLs=function(t,e){var n;return null==e&&(e={}),this.linear&&(null!=(null!=(n=this.creative.mediaFiles[0])?n.fileURL:void 0)&&(e.ASSETURI=this.creative.mediaFiles[0].fileURL),e.CONTENTPLAYHEAD=this.progressFormated()),l.track(t,e)},e.prototype.progressFormated=function(){var t,e,n,r;return(t=(r=parseInt(this.progress))/3600).length<2&&(t="0"+t),(e=r/60%60).length<2&&(e="0"+e),(n=r%60).length<2&&(n="0"+e),t+":"+e+":"+n+"."+parseInt(100*(this.progress-r))},e}(),e.exports=u},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(t,e,n){var r,i,o;o=t("./urlhandlers/xmlhttprequest"),i=t("./urlhandlers/flash"),r=function(){function e(){}return e.get=function(e,n,r){var s,a;return r||("function"==typeof n&&(r=n),n={}),null!=n.response?(a=n.response,delete n.response,r(null,a)):(null!=(s=n.urlhandler)?s.supported():void 0)?n.urlhandler.get(e,n,r):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,n,r):o.supported()?o.get(e,n,r):i.supported()?i.get(e,n,r):r(Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},e}(),e.exports=r},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(t,e,n){var r;r=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,n){var r,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,(r=this.xdr()).open("GET",t),r.timeout=e.timeout||0,r.withCredentials=e.withCredentials||!1,r.send(),r.onprogress=function(){},r.onload=function(){return i.loadXML(r.responseText),n(null,i)}):n(Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},t}(),e.exports=r},{}],17:[function(t,e,n){var r;r=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=function(){return!!this.xhr()},t.get=function(t,e,n){var r;try{return(r=this.xhr()).open("GET",t),r.timeout=e.timeout||0,r.withCredentials=e.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?n(null,r.responseXML):n(Error("XHRURLHandler: "+r.statusText))},r.send()}catch(t){return n(Error("XHRURLHandler: Unexpected error"))}},t}(),e.exports=r},{}],18:[function(t,e,n){var r,i=[].slice;r=function(){function t(){}return t.track=function(t,e){var n,r,i,o,s,a;for(a=[],o=0,s=(r=this.resolveURLTemplates(t,e)).length;o<s;o++)n=r[o],"undefined"!=typeof window&&null!==window&&(i=new Image,a.push(i.src=n));return a},t.resolveURLTemplates=function(t,e){var n,r,i,o,s,a,u,l;for(null==e&&(e={}),n=[],null!=e.ASSETURI&&(e.ASSETURI=this.encodeURIComponentRFC3986(e.ASSETURI)),null!=e.CONTENTPLAYHEAD&&(e.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(e.CONTENTPLAYHEAD)),null==e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=this.leftpad(""+Math.round(1e8*Math.random())),e.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),e.RANDOM=e.random=e.CACHEBUSTING,r=0,o=t.length;r<o;r++)if(u=t[r]){for(i in e)l=e[i],s="["+i+"]",a="%%"+i+"%%",u=(u=u.replace(s,l)).replace(a,l);n.push(u)}return n},t.encodeURIComponentRFC3986=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.leftpad=function(t){return t.length<8?function(){var e,n,r;for(r=[],e=0,n=8-t.length;0<=n?e<n:n<e;0<=n?e++:e--)r.push("0");return r}().join("")+t:t},t.merge=function(){var t;if(0<(null!=(t=1<=arguments.length?i.call(arguments,0):[])?t.length:void 0))return this.tap({},function(e){var n,r,i,o,s,a;for(o=[],n=0,i=t.length;n<i;n++)a=t[n],o.push(function(){var t;for(r in t=[],a)s=a[r],t.push(e[r]=s);return t}());return o})},t.tap=function(t,e){return e(t),t},t.storage=function(){var t,e;try{e="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){e=null}return(null==e||function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return!0}return!1}(e))&&(t={},e={length:0,getItem:function(e){return t[e]},setItem:function(e,n){t[e]=n,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),e}(),t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}(),e.exports=r},{}]},{},[9])(9)})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParams=function(t){if(!t)return null;var e={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,r){return e[n]=r,""}),e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(13);e.UUID_STORAGE="_uuid2",e.uuid=function(){var t,e,n;for(t="",e=0;e<32;e+=1)n=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16);return t},e.getUUID=function(){var t=r.Storage.get(e.UUID_STORAGE);return t||(t=e.uuid(),r.Storage.set(e.UUID_STORAGE,t),t)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={},r=function(t){var e,r,i,o,s;try{for(e=t+"=",r=document.cookie.split(";"),i=r.length,o=0;o<i;o+=1){for(s=r[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}}catch(e){return n[t]||null}return null},i=function(t,e){var r,i;try{r=new Date,r.setTime(r.getTime()+31536e6),i="expires="+r.toUTCString(),document.cookie=t+"="+e+"; "+i}catch(r){n[t]=e}},o=function(t){var e;if(window.localStorage&&"function"==typeof window.localStorage.getItem)try{e=window.localStorage.getItem(t)}catch(n){e=r(t)}else e=r(t);try{return e?JSON.parse(e):e}catch(n){return e}},s=function(t,e){var n;try{n=JSON.stringify(e)}catch(r){n=e}if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem(t,n)}catch(r){i(t,n)}else i(t,n)};e.Storage={get:function(t){return o(t)},set:function(t,e){s(t,e)}}},function(t,e){var n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),n={VERBOSE:0,INFO:1,WARN:2,ERROR:3},e.logLevels=n,r=function(){function t(){}return t.prototype.assert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.clear=function(){},t.prototype.count=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupEnd=function(){},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.profile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.profileEnd=function(){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeStamp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}(),i=new r,e.logger=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getIntInInterval=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d=this&&this.__assign||function(){return(d=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),i=n(492),o=n(195),s=n(13),a=!1,u=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r?o.mpGA.apply(void 0,e):(t=window).ga.apply(t,e)},e.ga=u,l=function(){i.initRealGAScript(),r=!1},c=function(){r=!0},h=function(t,e){u("create",t,d({storage:"none",clientId:s.Storage.get("ga:clientId")},e)),u(function(t){s.Storage.set("ga:clientId",t.get("clientId"))})},f=function(t,e){try{a||(window.document.cookie,l())}catch(t){c()}finally{a=!0,h(t,e)}},e.initGA=f},function(t,e,n){"use strict";e.__esModule=!0;e.initRealGAScript=function(){var t,e,n,r,i,o,s,a="https:"===window.location.protocol?"https:":"http:";t=window,e=document,n="script",r=a+"//www.google-analytics.com/analytics.js",i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement(n),s=e.getElementsByTagName(n)[0],o.async=!0,o.src=r,s&&s.parentNode&&s.parentNode.insertBefore(o,s)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(494),i=n(495),o=n(496),s=n(497),a=n(498),u=n(499),l=n(500),c=n(501),h=n(502),f=n(503),d=n(504),p=n(505),y=n(506),g=n(507),v=n(508),m=n(509),_=n(510),b=n(511);e.PROVIDERS={StreamKey:p["default"],StreamKeyNew:g["default"],StreamKeyAniview:y["default"],StreamKeySpringServe:v["default"],Adsterra:r["default"],Adtelligent:i["default"],Spotx:d["default"],ImproveDigital:l["default"],SmartyAds:f["default"],FreeWheel:a["default"],iPrima:c["default"],Engageya:s["default"],GoogleAdManager:u["default"],DeliAds:o["default"],Vizio:_["default"],VizioSpotx:b["default"],Phunware:h["default"],TotalMedia:m["default"]}},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(21),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={key:"63cfb6c45f62f91daa4694b4e7cf9673",custom:JSON.stringify({width:"1920",height:"1080"}),vastref:"apps.tvgam.es"},o}return s(e,t),e.prototype.prepareUrl=function(){var t=this,e=Object.keys(this.defaultParams).map(function(e){return e+"="+encodeURIComponent(t.defaultParams[e]).replace(/%22/g,"%27")}).join("&");return this.serverUrl+"?"+e},e.prototype.getRndParam=function(){return"&cb="+i["default"]()},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={width:"1920",height:"1080",device_category:"4"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.baseUrl,r=t.model,o=t.userAgent,a=e||"Game Name",u=this.getBundleId(),c=i.getUUID();return l({},this.defaultParams,{uip:s.getIPAdress(),ua:o,app_name:a,aid:this.uid,app_bundle:u,appuid:u,device_model:r,device_make:this.getDevice(),device_id:c,app_store_url:n?n+"index.html":window.location.href,idfa:c,idfa_md5:"",idfa_sha1:""})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={w:"1920",h:"1080"},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameTitle,o=n.baseUrl,a=n.model,u=n.userAgent;return r||i.logger.warn("[DeliAds] Game title does not exists!"),t=r||"Game Name",e=this.getBundleId(),l({},this.defaultParams,{ip:s.getIPAdress(),ua:u,app_bundle:e,app_name:t,app_store_url:o?o+"index.html":window.location.href,did:i.getUUID(),device_make:this.getDevice(),device_model:a})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={width:"1920",height:"1080"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.baseUrl,r=t.userAgent,o=e||"Game Name",a=this.getBundleId();return l({},this.defaultParams,{app_name:o,bundle_id:a,ifa:i.getUUID(),app_store_url:n?n+"index.html":window.location.href,ip:s.getIPAdress(),ua:r})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={reqType:"AdsSetup",protocolVersion:"2.0"},o}return s(e,t),e.prototype.getParams=function(){var t=this.getBundleId();return a({},this.defaultParams,{zoneId:this.uid,bundle:t,deviceIfa:i.getUUID()})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={env:"vp",gdfp_req:"1",output:"vast",sz:"400x300|640x480|854x480|1024x576|1280x720|1366x768|1600x900|1920x1080",max_ad_duration:"60000",tfcd:"0",npa:"0",vpmute:"0",vpa:"1",vad_format:"linear",vpos:"preroll",idtype:"adid",unviewed_position_start:"1"},o}return a(e,t),e.prototype.getParams=function(){var t=this.appConfig.baseUrl;return u({},this.defaultParams,{iu:this.uid,correlator:""+i.getIntInInterval(1e15,Number.MAX_SAFE_INTEGER),description_url:t?t+"index.html":window.location.href,url:t?t+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&c="+o["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={w:"16",h:"9",minduration:"5",maxduration:"60",player_width:"1920",player_height:"1080",vast_version:"3",video_format_type:"instream"},o}return s(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.baseUrl,n=t.userAgent,r=this.getBundleId();return a({p:this.uid},this.defaultParams,{ifa:i.getUUID(),ua:n,bundle:r,referrer:e?e+"index.html":window.location.href})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return(s=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={keywords:"hbbtv-tv-games"},o}return o(e,t),e.prototype.getParams=function(){return s({},this.defaultParams,{tagid:this.uid})},e}(r["default"]),e["default"]=i},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(21),o=n(41),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={vpw:"1920",vph:"1080",os:"Linux",osv:"",type:"",vpaid:"",age:"",yob:"",gender:"",pchain:""},o}return a(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.baseUrl,n=t.model,r=t.userAgent;return u({plc:this.uid},this.defaultParams,{ip:o.getIPAdress(),ua:r,model:n,make:this.getDevice(),url:e?e+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&cb="+i["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return(s=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={c:"v",m:"v",domain:"tvgam.es"},o}return o(e,t),e.prototype.getParams=function(){return s({},this.defaultParams,{placementId:this.uid})},e}(r["default"]),e["default"]=i},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={VPI:"MP4","app[cat]":"IAB1-23","app[privacypolicy]":"1","device[devicetype]":"3","device[dnt]":"0",player_height:"1080",player_width:"1920"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.baseUrl,r=t.version,o=t.model,a=t.userAgent,u=e||"Game Name",c=this.getBundleId();return e||i.logger.warn("[SpotX] Game title does not exists!"),l({},this.defaultParams,{ip_addr:s.getIPAdress(),"device[ifa]":i.getUUID(),"device[ua]":a,"device[model]":o,"device[make]":this.getDevice(),"app[name]":u,"app[bundle]":c,"app[storeurl]":n?n+"index.html":window.location.href,"app[domain]":n?n+"index.html":window.location.href,"app[ver]":r})},e.prototype.getRndParam=function(){return"&cp="+o["default"]()},e.prototype.getBundleId=function(){return"Vizio"===this.appConfig.device?"es.tvgam.vizio":t.prototype.getBundleId.call(this)},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={pid:"355",output:"vast",execution:"instream",placement:"preroll",playinit:"auto",volume:"100",dnt:"0",gdpr:"0",gdprcs:"",aid:"",aidmd5hex:"",aidsha1hex:"",contentlength:"",contenturl:""},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle,a=n.userAgent,u=n.baseUrl,c=n.version;return o||i.logger.warn("[StreamKey] Game title does not exists!"),t=o||"Game Name",e="es.tvgam.streamkey."+r,l({},this.defaultParams,{width:"1920",height:"1080",sid:this.uid,ua:a,appname:t,bundleid:e,appstoreurl:u?u+"index.html":window.location.href,appversion:c,ip:s.getIPAdress(),contentid:e,contenttitle:t})},e.prototype.getRndParam=function(){return"&rnd="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={AV_CHANNELID:"5c987f9e28a0614d2d4e11d6",AV_WIDTH:"1920",AV_HEIGHT:"1080",AV_LATITUDE:"",AV_LONGITUDE:"",tgt:"0",s2s:"1"},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle,a=n.userAgent,u=n.baseUrl,c=n.model;return o||i.logger.warn("[StreamKey] Game title does not exists!"),t=o||"Game Name",e="es.tvgam.streamkey."+r,l({},this.defaultParams,{AV_PUBLISHERID:this.uid,AV_APPNAME:t,AV_APPSTOREURL:u?u+"index.html":window.location.href,AV_APPPKGNAME:e,AV_IDFA:i.getUUID(),AV_IP:s.getIPAdress(),AV_USERAGENT:a,AV_MAKE:this.getDevice(),AV_MODEL:c})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={pid:"355",output:"vast",env:"4",format:"1"},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle;return n.userAgent,n.baseUrl,n.version,o||i.logger.warn("[StreamKey] Game title does not exists!"),t=o||"Game Name",e="es.tvgam.streamkey."+r,l({},this.defaultParams,{width:"1920",height:"1080",sid:this.uid,ip:s.getIPAdress(),appname:t,bundleid:e,aid:""})},e.prototype.getRndParam=function(){return"&rnd="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=n(41),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={w:"1920",h:"1080",consent:"",gdpr:"0",dnt:"0"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.userAgent,r=t.model,o=t.baseUrl,a=e||"Game Name";return l({},this.defaultParams,{ip:s.getIPAdress(),ua:n,app_bundle:this.getBundleId(),app_name:a,app_store_url:o?o+"index.html":window.location.href,did:i.getUUID(),device_make:this.getDevice(),device_model:r})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={pid:"362",output:"vastvpaid",support:"html5",execution:"instream",placement:"preroll",playinit:"auto",volume:"100",width:"1920",height:"1080",dnt:"0",gdpr:"0",gdprcs:"",aid:"",aidmd5hex:"",aidsha1hex:"",idfamd5hex:"",idfasha1hex:"",loclat:"",loclong:"",loc:"",contentlength:"",contenturl:""},o}return a(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle,s=n.baseUrl,a=n.version;return o||i.logger.warn("[TotalMedia] Game title does not exists!"),t=o||"Game Name",e="es.tvgam."+r,u({},this.defaultParams,{sid:this.uid,appname:t,bundleid:e,appstoreurl:s?s+"index.html":window.location.href,appversion:a,idfa:i.getUUID(),contentid:e,contenttitle:t,contenturl:s?s+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&rnd="+o["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={playerWidth:"1920",playerHeight:"1080",deviceDNT:"0",gdpr:"0",gdpr_consent:""},o}return s(e,t),e.prototype.getParams=function(){return a({},this.defaultParams,{adCode:this.uid,deviceId:i.getUUID()})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(14),i=n(13),o=n(21),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={VPI:"MP4","app[bundle]":"vizio.tvgames","app[name]":"TV Games",player_width:"1920",player_height:"1080"},o}return a(e,t),e.prototype.getParams=function(){return u({},this.defaultParams,{"device[ifa]":i.getUUID()})},e.prototype.getRndParam=function(){return"&cp="+o["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o,s,a,u,l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(13),i=n(138),o={timeout:1e4},s=[{width:1920,height:1080},{width:1280,height:720}],a={linear:["video/mp4"],nonlinear:["image/jpeg"]},u=function(){function t(t,e){this.vastParser=new i.VASTParser,this.missingCallback=t,this.errorCallback=e}return t.prototype.getAd=function(t,e){return l(this,void 0,void 0,function(){var n,r,i,o,s;return c(this,function(a){switch(a.label){case 0:if(!t||!e)return[2,null];n=0,r=t,a.label=1;case 1:if(!(n<r.length))return[3,6];i=r[n],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchVast(i,e)];case 3:return(o=a.sent())?[2,o]:(this.handleMissingAd(i.name),[3,5]);case 4:return s=a.sent(),this.handleErrorAd(i.name,s),[3,5];case 5:return n++,[3,1];case 6:return[2,null]}})})},t.prototype.fetchVast=function(t,e){return l(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return t&&e?[4,this.vastParser.getAndParseVAST(t.url,o)]:[2,null];case 1:return n=r.sent(),[2,this.checkAds(n.ads,t,e)]}})})},t.prototype.checkAds=function(t,e,n){var r,i,o,s,a,u,l,c,h;if(!t||!e||!n)return null;for(r=e.name,i=n.adType,o=0,s=t;o<s.length;o++)for(a=s[o],u=0,l=a.creatives;u<l.length;u++)if(c=l[u],c.type===i&&(h=this.findSource(c,n)))return{name:r,ad:a,creative:c,source:h};return null},t.prototype.findSource=function(t,e){return t&&e?"linear"===e.adType&&"linear"===t.type?this.findMediaFile(t,e):"nonlinear"===e.adType&&"nonlinear"===t.type?this.findImageFile(t,e):"":""},t.prototype.findMediaFile=function(t,e){var n,r,i,o,u,l,c,h,f;if(!t||!t.mediaFiles)return"";for(r=a.linear,e&&e.format&&(r=e.format),i=function(e){if(n=t.mediaFiles.find(function(t){return-1!==r.indexOf(t.mimeType)&&e.width===t.width&&e.height===t.height}))return{value:n.fileURL}},o=0,u=s;o<u.length;o++)if("object"==typeof(l=i(u[o])))return l.value;for(c=0,h=t.mediaFiles;c<h.length;c++)f=h[c],-1!==r.indexOf(f.mimeType)&&(!n||f.width>n.width||f.height>n.height)&&(n=f);return n?n.fileURL:""},t.prototype.findImageFile=function(t,e){var n,r=a.nonlinear;return e&&e.format&&(r=e.format),t&&t.variations?(n=t.variations.find(function(t){return-1!==r.indexOf(t.type)}),n?n.staticResource:""):""},t.prototype.handleMissingAd=function(t){this.missingCallback&&"function"==typeof this.missingCallback&&this.missingCallback(t),r.logger.warn("Missing ad with name "+t)},t.prototype.handleErrorAd=function(t,e){this.errorCallback&&"function"==typeof this.errorCallback&&this.errorCallback(t),r.logger.warn("Error during ad "+t+", "+e)},t}(),e.AdsParser=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(102),i=n(138),o=n(136),s=function(){function t(t,e){this.isSkippable=!1,this.skipDelay=0,this.duration=0,this.ended=!1,this.canSkip=!1,this.impressed=!1;var n=t.ad,o=t.creative,s=t.name,a=o.skipDelay,u=o.duration;this.vastTracker=new i.VASTTracker(null,n,o),this.name=s,this.adsGa=e,this.adType=r.adTypes.video,this.isSkippable=null!==a,this.skipDelay=a||0,this.duration=u||0}return t.prototype.stateChange=function(t){this.impressed||t!==o["default"].STATE.PLAYING||(this.vastTracker.trackImpression(),this.adsGa.sendStart(this.adType,this.name),this.impressed=!0)},t.prototype.onEnd=function(){this.ended||(this.vastTracker.complete(),this.adsGa.sendSuccess(this.adType,this.name),this.ended=!0)},t.prototype.timeUpdate=function(t){this.isSkippable&&this.skipDelay-t<=0&&!this.canSkip&&(this.canSkip=!0),this.vastTracker.setProgress(t)},t.prototype.onSkip=function(){this.vastTracker.skip(),this.adsGa.sendSuccess(this.adType,this.name),this.ended=!0},t.prototype.sendError=function(t,e){this.vastTracker.errorWithCode(t),this.adsGa.sendError(this.adType,this.name,e)},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i={uid:"",tracker:{get:function(){return i.uid}},config:{}},o=function(t,e){void 0===e&&(e={});var n=e.name||"default";e.sampleRate&&r.getIntInInterval(0,100)>e.sampleRate||(i.config[n]={v:1,tid:t},e&&"none"===e.storage?i.uid=e.clientId||r.uuid():i.uid=r.uuid())},s=function(t,e,n){i.config[t]&&(i.config[t][e]=n)},a=function(t,e){var n,r,o,s,a,u,l=i.config,c=i.uid;if(l[t]){for(n=l[t],r=n.v,o=n.tid,s="",s+="v="+r+"&",s+="tid="+o+"&",s+="cid="+c,a=1;l[t]["dimension"+a];)s+="&cd"+a+"="+l[t]["dimension"+a],a+=1;Object.keys(e).forEach(function(t){s+="&"+t+"="+e[t]}),u=new XMLHttpRequest,u.open("POST","http://www.google-analytics.com/collect",!0),u.setRequestHeader("Content-type","application/x-www-form-urlencode"),u.send(s)}},u=function(t,e,n,r,i){var o={t:"event"};e&&(o.ec=e),n&&(o.ea=n),r&&(o.el=r),i&&(o.ev=i),a(t,o)},l=function(t,e,n,r,i,o,s,u){var l={};e&&(l.dl=e),n&&(l.dh=n),r&&(l.dp=r),i&&(l.dt=i),o&&(l.cd=o),s&&(l.cg1=s),u&&(l.linkid=u),a(t,l)},c=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(e){case"event":u.apply(void 0,[t].concat(n));break;case"pageview":l.apply(void 0,[t].concat(n))}},h=function(t){var e,n,r,a,u;for(e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if("function"==typeof t)t(i.tracker);else if("string"==typeof t)switch(r=t.split("."),a=r[2===r.length?1:0],u=2===r.length?r[0]:"default",a){case"create":o.apply(void 0,e);break;case"set":s.apply(void 0,[u].concat(e));break;case"send":c.apply(void 0,[u].concat(e))}};e["default"]=h},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){var t,e,n,r,i,o,s,a="https:"===window.location.protocol?"https:":"http:";t=window,e=document,n="script",r=a+"//www.google-analytics.com/analytics.js",i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement(n),s=e.getElementsByTagName(n)[0],o.async=!0,o.src=r,s&&s.parentNode&&s.parentNode.insertBefore(o,s)};e.initRealGAScript=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(18).addVocabulary({new_game:"New Game",highscores:"High Scores",settings:"Settings",about:"About",sounds:"Sounds",on:"On",off:"Off",render:"Render",canvas:"Canvas",legacy:"Legacy",performance_check:"Performance Check",yes:"Yes",no:"No",quit:"Quit",level:"Level",score:"Score",paused:"Paused",gameover:"Game Over",any_to_continue:"Press any key to continue",new_highscore:"New Highscore!",sure_leave:"Are you sure you want to leave the game?",sure_quit:"Are you sure you want to quit the game?",reward_question:"Do you want to watch an ad to continue?",game_in:"Your game will begin in",skip_ad_in:"You can skip the ad in",skip_ad:"Skip the ad",loading:"Loading",get_ready:"Get ready",any_to_start:"Press any key to start"},"en")},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=[],o=function(t){void 0===t&&(t=r["default"].CONFIG.toPreload);var e=r["default"].CONFIG.baseUrl;t&&"function"==typeof t.forEach&&t.forEach(function(t){var n=new Image;i.push(n),n.src=e?""+e+t:t})};e["default"]=o},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m=this&&this.__assign||function(){return(m=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(197),i=window.CONFIG||{},o=function(t,e,n,i){var o=e.id,s=e.x,a=e.y,u=e.width,l=e.height,c=e.xoffset,h=e.yoffset,f=e.xadvance;return r.addLetter(n,i,m({},e,{kernings:{}})),t+".c-"+o+"{\n\t\tbackground-position:-"+s+"px -"+a+"px;\n\t\twidth:"+u+"px;\n\t\theight:"+l+"px;\n\t\tposition:relative;\n\t\ttop:"+h+"px;\n\t\tleft:"+c+"px;\n\t\tmargin-right:"+(f-u)+"px;\n\t}"},s=function(t,e,n,i){var o=e.first,s=e.second,a=e.amount;return r.addKerning(n,i,o,s,a),t+".c-"+s+".after-"+o+"{margin-left:"+a+"px;}"},a=function(t){var e,n,a=[],u=window.location.href,l=i.baseUrl||-1===u.indexOf("index.html")?t.asset:""+window.location.href.split("index.html")[0]+t.asset;r.addFont(l,t.name,t.focused,t.common,t.info),e=(t.focused?".focused ":"")+".graphical-letter.graphical-letter-"+t.name,a.push(".graphical-word.graphical-word-"+t.name),a.push("{display:inline-block;height:"+(t.common.lineHeight||0)+"px;}"),a.push(".focused .graphical-word.graphical-word-"+t.name),a.push("{display:block}"),a.push(e+"{vertical-align: top;display:inline-block;background-image:url("+l+");}"),t.letters.forEach(function(n){a.push(o(e,n,t.name,t.focused))}),t.kernings.forEach(function(n){a.push(s(e,n,t.name,t.focused))}),n=window.document.createElement("style"),n.innerHTML=a.join(""),window.document.head.appendChild(n)},u=function(t){var e=t.split("\n"),n=[],r=[],i=[],o=[];return e.forEach(function(t){0===t.indexOf("kerning ")?r.push(t):0===t.indexOf("char ")?n.push(t):0===t.indexOf("common ")?i.push(t):0===t.indexOf("info ")&&o.push(t)}),{commonLines:i,letterLines:n,kerningLines:r,infoLines:o}},l=function(t){var e={face:"",size:0,bold:0,italic:0,charset:"",unicode:"",stretchH:100,smooth:1,aa:1,padding:"0,0,0,0",spacing:"0,0,0,0",outline:0};return t&&t.split(" ").forEach(function(t){0===t.indexOf("face=")&&(e.face=t.split("=")[1]),0===t.indexOf("size=")&&(e.size=parseInt(t.split("=")[1],10)),0===t.indexOf("bold=")&&(e.bold=parseInt(t.split("=")[1],10)),0===t.indexOf("italic=")&&(e.italic=parseInt(t.split("=")[1],10)),0===t.indexOf("charset=")&&(e.charset=t.split("=")[1]),0===t.indexOf("unicode=")&&(e.unicode=t.split("=")[1]),0===t.indexOf("stretchH=")&&(e.stretchH=parseInt(t.split("=")[1],10)),0===t.indexOf("smooth=")&&(e.smooth=parseInt(t.split("=")[1],10)),0===t.indexOf("aa=")&&(e.aa=parseInt(t.split("=")[1],10)),0===t.indexOf("padding=")&&(e.padding=t.split("=")[1]),0===t.indexOf("spacing=")&&(e.spacing=t.split("=")[1]),0===t.indexOf("outline=")&&(e.outline=parseInt(t.split("=")[1],10))}),e},e.parseInfoLine=l,c=function(t){var e={lineHeight:0,base:0,scaleW:0,scaleH:0,pages:1,packed:0};return t&&t.split(" ").forEach(function(t){0===t.indexOf("lineHeight=")&&(e.lineHeight=parseInt(t.split("=")[1],10)),0===t.indexOf("base=")&&(e.base=parseInt(t.split("=")[1],10)),0===t.indexOf("scaleW=")&&(e.scaleW=parseInt(t.split("=")[1],10)),0===t.indexOf("scaleH=")&&(e.scaleH=parseInt(t.split("=")[1],10))}),e},e.parseCommonLine=c,h=function(t){var e={};return t.split(" ").forEach(function(t){0===t.indexOf("id=")&&(e.id=parseInt(t.split("=")[1],10)),0===t.indexOf("x=")&&(e.x=parseInt(t.split("=")[1],10)),0===t.indexOf("y=")&&(e.y=parseInt(t.split("=")[1],10)),0===t.indexOf("width=")&&(e.width=parseInt(t.split("=")[1],10)),0===t.indexOf("height=")&&(e.height=parseInt(t.split("=")[1],10)),0===t.indexOf("xoffset=")&&(e.xoffset=parseInt(t.split("=")[1],10)),0===t.indexOf("yoffset=")&&(e.yoffset=parseInt(t.split("=")[1],10)),0===t.indexOf("xadvance=")&&(e.xadvance=parseInt(t.split("=")[1],10))}),e},e.parseLetter=h,f=function(t){return t.map(function(t){return h(t)})},d=function(t){var e={};return t.split(" ").forEach(function(t){0===t.indexOf("first=")&&(e.first=parseInt(t.split("=")[1],10)),0===t.indexOf("second=")&&(e.second=parseInt(t.split("=")[1],10)),0===t.indexOf("amount=")&&(e.amount=parseInt(t.split("=")[1],10))}),e},e.parseKerning=d,p=function(t){return t.map(function(t){return d(t)})},y=function(t,e){var n=i.baseUrl,r=u(e),o=r.infoLines,s=r.commonLines,h=r.letterLines,d=r.kerningLines,y={name:t.name,asset:n?""+n+t.png:t.png,focused:t.focused||!1,letters:f(h),kernings:p(d),common:c(s[0]),info:l(o[0])};a(y)},e.parseFont=y,g=function(t){if(t.fnt){var e=i.baseUrl,n=new XMLHttpRequest,r=e?""+e+t.fnt:t.fnt;n.open("GET",r,!0),n.onreadystatechange=function(){4===n.readyState&&y(t,n.responseText)},n.send()}},v=function(t){t.forEach(function(t){g(t)})},e["default"]=v},function(t,e){},function(t,e,n){"use strict";var r,i,o;e.__esModule=!0,r=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=["assets/logo.png","assets/bg.png","assets/enemy1.png","assets/enemy2.png","assets/enemy3.png","assets/mine.png","assets/space.png","assets/satellite.png","assets/twitter.png","assets/fonts/roboto.png"],o={debug:!1,gameName:"quadrix",locale:"en",keyMask:575,soundsAllowed:!1,toPreload:i,reward:!0,criticalAssets:["assets/logo.png","assets/twitter.png","assets/bg.png","assets/fonts/default.png","assets/fonts/defaultFocused.png","assets/menuFocusDot.png"]},e["default"]=r({},o,window.CONFIG||{})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,l,c,h,f,d,p,y,g,v;e.__esModule=!0,i=n(35),o=n(522),s=r(o),a=n(532),u=r(a),l=n(681),c=r(l),h=n(684),f=r(h),d=n(693),p=r(d),y=n(695),g=r(y),v=function(){(0,i.setRoot)(window.document.getElementById("root"));var t=new s["default"];(0,i.initRoute)("menu",t),(0,i.initRoute)("about",t),(0,i.initRoute)("highscores",t),(0,i.initRoute)("settings",new c["default"]),(0,i.initRoute)("game",new u["default"]),(0,i.initRoute)("performance",new f["default"]),(0,i.initRoute)("xboxlive",new p["default"]),(0,i.initRoute)("adplayer",new g["default"])},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E;e.__esModule=!0,e["default"]=undefined,u=n(523),l=r(u),c=n(76),h=n(29),f=n(9),d=r(f),p=n(20),y=r(p),g=n(18),v=n(202),m=r(v),n(531),a={},a[l["default"].NEW_GAME]=(0,g._)("new_game"),a[l["default"].HIGHSCORES]=(0,g._)("highscores"),a[l["default"].SETTINGS]=(0,g._)("settings"),a[l["default"].ABOUT]=(0,g._)("about"),a[l["default"].QUIT]=(0,g._)("quit"),_=a,b="aboutPart",x="highScorepart",w="twitter",T="spinner",E=function(t){function e(){var n,r;return i(this,e),n=o(this,t.call(this)),Object.defineProperty(n,"quitGameModal",{enumerable:!0,writable:!0,value:m["default"]}),Object.defineProperty(n,"highscores",{enumerable:!0,writable:!0,value:[]}),n.els.push(b),n.els.push(x),n.els.push(w),n.els.push(T),r=[l["default"].NEW_GAME,l["default"].HIGHSCORES,l["default"].SETTINGS,l["default"].ABOUT,l["default"].QUIT],n.mouseInteractive=r,n.visibleMenuItems=r,n}return s(e,t),e.prototype.focusPrevMenuItem=function(e){var n,r,i;return!e||(n=e.id,r=t.prototype.focusPrevMenuItem.call(this,e),i=this.visibleMenuItems[this.visibleMenuItems.indexOf(n)-1],this.specialFocus(i),r)},e.prototype.focusNextMenuItem=function(e){var n,r,i;return!e||(n=e.id,r=t.prototype.focusNextMenuItem.call(this,e),i=this.visibleMenuItems[this.visibleMenuItems.indexOf(n)+1],this.specialFocus(i),r)},e.prototype.specialFocus=function(t){return this.refs[b].style.display="none",this.refs[w].style.display="block",this.refs[x].style.display="none",t===l["default"].ABOUT?(this.refs[b].style.display="block",this.refs[w].style.display="none",!0):t===l["default"].HIGHSCORES&&(this.refs[x].style.display="block",this.refs[w].style.display="none",!0)},e.prototype.enter=function(e){var n=this;return!e||e.id!==l["default"].ABOUT&&e.id!==l["default"].HIGHSCORES&&(e.id===l["default"].NEW_GAME?(this.show(this.refs[T]),setTimeout(function(){t.prototype.enter.call(n,e)},500),!1):t.prototype.enter.call(this,e))},e.prototype.sceneWillMount=function(){this.highscores=d["default"].Storage.get(d["default"].CONFIG.gameName+"_highscore")||[]},e.prototype.afterRender=function(){var t=this;this.els.forEach(function(e){var n=window.document.getElementById(e);n&&(t.refs[e]=n)}),this.mouseInteractive.forEach(function(e){var n=window.document.getElementById(e);n&&(n.addEventListener("mouseover",function(){t.specialFocus(e),(0,c.focus)(e)}),n.addEventListener("click",function(e){t.onKeyDown({key:h.Keys.ENTER,target:n,originalEvent:e})}))}),this.sendGA()},e.prototype.render=function(){return'\n\t\t\t<div class="scene main-menu-scene">\n\t\t\t\t<div class="gamelogo"></div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'"><div class="focusDot"></div>'+(0,y["default"])(_[t.id])+"</li>"}).join("")+'\n\t\t\t\t</ul>\n\t\t\t\t<div id="'+b+'">\n\t\t\t\t\t<p>\n\t\t\t\t\t'+(0,y["default"])((0,g._)("about_1"),"roboto")+"<br />\n\t\t\t\t\t"+(0,y["default"])((0,g._)("about_3"),"roboto")+"<br />\n\t\t\t\t\t"+(0,y["default"])((0,g._)("about_4"),"roboto")+"<br />\n\t\t\t\t\t"+(0,y["default"])((0,g._)("about_5"),"roboto")+"<br />\n\t\t\t\t\t"+(0,y["default"])((0,g._)("about_6"),"roboto")+"<br />\n\t\t\t\t\t"+(0,y["default"])((0,g._)("about_7"),"roboto")+'<br />\n\t\t\t\t\t<div class="version">'+(0,y["default"])(d["default"].CONFIG.version,"roboto")+'</div>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+x+'">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t'+this.highscores.map(function(t,e){return'\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class="center">'+(0,y["default"])(""+(e+1),"roboto")+'</td>\n\t\t\t\t\t\t\t\t\t\t<td class="center">'+(0,y["default"])(" . . . ","roboto")+'</td>\n\t\t\t\t\t\t\t\t\t\t<td class="center">'+(0,y["default"])(""+t.user,"roboto")+'</td>\n\t\t\t\t\t\t\t\t\t\t<td class="center">'+(0,y["default"])(" . . . ","roboto")+'</td>\n\t\t\t\t\t\t\t\t\t\t<td class="right">'+(0,y["default"])(t.score,"roboto")+"</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t"}).join("")+'\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+w+'"></div>\n\t\t\t\t<div id="'+T+'"></div>\n\t\t\t</div>\n\t\t'},e}(l["default"]),e["default"]=E},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(9),i=n(76),o=n(35),s=n(20),a=n(18),u=n(103),l=n(104),c=n(201),h="new_game",f="highscores",d="settings",p="about",y="quit",g=[{id:h,text:a._("new_game")},{id:f,text:a._("highscores")},{id:d,text:a._("settings")},{id:p,text:a._("about")},{id:y,text:a._("quit")}],v=function(t){function e(){var e=t.call(this)||this;return e.MENU_ITEMS=g,e.newGameRoute="game",e.upperCase=!1,e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e}return m(e,t),e.prototype.sceneDidMount=function(){t.prototype.sceneDidMount.call(this),i.focus(h),l["default"].adRewardPlayed=!1},e.prototype.render=function(){return'\n\t\t\t<div class="scene main-menu-scene">\n\t\t\t\t<div class="gamelogo"></div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.renderMenuItems()+"\n\t\t\t\t</ul>\n\t\t\t\t"+this.renderOthers()+"\n\t\t\t</div>\n\t\t"},e.prototype.renderMenuItems=function(){var t=this;return"\n\t\t\t"+this.MENU_ITEMS.map(function(e){return'<li id="'+e.id+'">\n\t\t\t\t\t<span class="select"></span>\n\t\t\t\t\t'+s["default"](t.upperCase?e.text.toUpperCase():e.text)+"\n\t\t\t\t</li>"}).join("")+"\n\t\t"},e.prototype.renderOthers=function(){return""},e.prototype.sendGA=function(){setTimeout(function(){u["default"]("send","pageview",r["default"].CONFIG.gameName)},3e3)},e.prototype.enter=function(e){if(t.prototype.enter.call(this,e),!e)return!0;switch(e.id){case h:o.routeTo(this.newGameRoute);break;case f:o.routeTo("highscores");break;case d:o.routeTo("settings");break;case p:o.routeTo("about");break;case y:this.handleQuit()}return!1},e.prototype.handleBack=function(){return this.handleQuit()},e.NEW_GAME=h,e.HIGHSCORES=f,e.SETTINGS=d,e.ABOUT=p,e.QUIT=y,e}(c["default"]),e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(100);e.getKey=function(t){return r["default"].keys[t]},e.getKeyCode=function(t){return Object.keys(r["default"].keys).map(function(t){return parseInt(t,10)}).find(function(e){return r["default"].keys[e]===t})}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,r){void 0===n&&(n="default");var i=t.charCodeAt(0),o=e?e.charCodeAt(0):null;return'<span class="graphical-letter graphical-letter-'+n+" c-"+i+(o?" after-"+o:"")+'" '+(r?'style="margin-right: 0px"':"")+"></span>"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(76),i=n(29),o=n(527),s=function(){function t(){this.refs={},this.els=[],this.mouseInteractive=[]}return t.prototype.componentWillMount=function(){},t.prototype.render=function(){return""},t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.onKeyDown=function(t){return!1},t.prototype.onClick=function(t){return!1},t.prototype.onMouseOver=function(t){return!1},t.prototype.focus=function(t){r.focus(t)},t.prototype.mount=function(t){this.beforeMount(),t.innerHTML=this.render(),this.afterMount()},t.prototype.unmount=function(){this.componentWillUnmount()},t.prototype.mountAppend=function(t){this.beforeMount(),t.insertAdjacentHTML("beforeend",this.render()),this.afterMount()},t.prototype.updateStyle=function(t,e,n){o.updateStyle(t,e,n)},t.prototype.updateStyles=function(t,e){o.updateStyles(t,e)},t.prototype.hide=function(t){this.updateStyle(t,"display","none")},t.prototype.show=function(t){this.updateStyle(t,"display","block")},t.prototype.hidden=function(t){this.updateStyle(t,"visibility","hidden")},t.prototype.visible=function(t){this.updateStyle(t,"visibility","visible")},t.prototype.afterRender=function(){var t=this;this.els.forEach(function(e){var n=window.document.getElementById(e);n&&(t.refs[e]=n)}),this.mouseInteractive.forEach(function(e){var n=window.document.getElementById(e);n&&(n.addEventListener("mouseover",function(n){n.stopPropagation(),t.focus(e)}),n.addEventListener("click",function(e){t.onKeyDown({key:i.Keys.ENTER,target:n,originalEvent:e})}))})},t.prototype.beforeMount=function(){this.componentWillMount()},t.prototype.afterMount=function(){this.afterRender(),this.componentDidMount()},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(67);e.updateStyle=function(t,e,n){t&&"parentRule"!==e&&"length"!==e?t.style[e]!==n&&(t.style[e]=n):r["default"].error("Updating style of not present element!")},e.updateStyles=function(t,n){if(t){var i=Object.keys(n).filter(function(e){return t.style[e]!==n[e]}),o=2<i.length,s=t.style.display;o&&e.updateStyle(t,"display","none"),i.forEach(function(r){e.updateStyle(t,r,n[r])}),o&&e.updateStyle(t,"display",s)}else r["default"].error("Updating style of not present element!")}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"],nextLetter:function(t){var e=n.alphabet.indexOf(t)+1;return e===n.alphabet.length?n.alphabet[0]:n.alphabet[e]},prevLetter:function(t){var e=n.alphabet.indexOf(t)-1;return e<0?n.alphabet[n.alphabet.length-1]:n.alphabet[e]}};e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);e["default"]=function(t,e,n,i){return'\n\t\t<div id="'+n+'" class="letter-input'+(e?" selected":"")+'">\n\t\t\t<div class="arrow up"></div>\n\t\t\t<div class="'+(i&&e?"focused":"")+'">'+r["default"](t)+'</div>\n\t\t\t<div class="arrow down"></div>\n\t\t</div>\n\t'}},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(77),i=n(18),o=function(t){function e(){var e=t.call(this)||this;return e.initFocus=e.YES_ID,e.question=i._("reward_question"),e}return s(e,t),e}(r["default"]),e["default"]=o},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,e["default"]=undefined,a=n(104),u=r(a),l=n(20),c=r(l),h=n(18),f=n(533),d=r(f),p=n(677),y=r(p),g=n(202),v=r(g),n(678),m=n(679),_=r(m),b=function(t){function e(){var n,r,s,a,u,l;for(i(this,e),a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"GameComponentClass",{enumerable:!0,writable:!0,value:d["default"]}),Object.defineProperty(r,"leaveGameModal",{enumerable:!0,writable:!0,value:y["default"]}),Object.defineProperty(r,"quitGameModal",{enumerable:!0,writable:!0,value:v["default"]}),Object.defineProperty(r,"HighscoreComponentClass",{enumerable:!0,writable:!0,value:_["default"]}),s=n,o(r,s)}return s(e,t),e.prototype.render=function(){return'\n\t\t<div class="scene game-scene">\n\t\t\t<div id="'+u["default"].GAME_CANVAS+'"></div>\n\t\t\t<div id="'+u["default"].GAME_OVER+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t'+(0,c["default"])((0,h._)("gameover"),"shiny")+'<br />\n\t\t\t\t<div id="'+u["default"].HAS_NO_HIGHSCORE+'">\n\t\t\t\t'+(0,c["default"])((0,h._)("pressAny"),"shiny")+"<br />\n\t\t\t\t"+(0,c["default"])((0,h._)("toContinue"),"shiny")+'<br />\n\t\t\t\t</div>\n\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+u["default"].PAUSE+'" class="backdrop">\n\t\t\t\t\t<h1 class="info">\n\t\t\t\t\t\t'+(0,c["default"])((0,h._)("paused"),"shiny")+"<br />\n\t\t\t\t\t\t"+(0,c["default"])((0,h._)("pressAny"),"shiny")+"<br />\n\t\t\t\t\t\t"+(0,c["default"])((0,h._)("toContinue"),"shiny")+'<br />\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+u["default"].HIGHSCORE+'"></div>\n\t\t\t\t<div id="'+u["default"].DEBUG+'">\n\t\t\t\t\tFPS: <span id="'+u["default"].FPS+'"></span><br />\n\t\t\t\t\t<small>Target FPS: <span id="'+u["default"].TARGET_FPS+'"></span></small><br />\n\t\t\t\t\t<small>'+(this.usingTimeout?"Using setTimeout":"Using requestAnimationFrame")+"</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,e["default"]=undefined,a=n(18),u=n(139),l=r(u),c=n(20),h=r(c),f=n(534),n(674),n(675),n(676),d=n(44),p=r(d),y="gameWrap",g="gameScore",v="tmpGameScore",m="render",_="gameReady",b=function(t){function e(){i(this,e);var n=o(this,t.call(this));return Object.defineProperty(n,"els",{enumerable:!0,writable:!0,value:[y,g,v,m,_]}),Object.defineProperty(n,"intro",{enumerable:!0,writable:!0,value:!0}),n.gameControl=new p["default"],n.renderer=new f.Canvas(!n.useWebGL,n.gameControl),n}return s(e,t),e.prototype.componentWillMount=function(){this.renderer=new f.Canvas(!this.useWebGL,this.gameControl)},e.prototype.componentDidMount=function(){this.renderer.mount(this.refs[y])},e.prototype.componentWillUnmount=function(){this.renderer.destroy()},e.prototype.onKeyDown=function(t){if(this.intro)return this.hide(this.refs[_]),void(this.intro=!1);this.gameControl.handleKeyEvent(t)},e.prototype.render=function(){return'\n\t\t\t<div id="'+y+'">\n\t\t\t\t<div id="'+m+'"></div>\n\t\t\t\t<div id="'+v+'"></div>\n\t\t\t\t<div id="'+g+'"></div>\n\t\t\t</div>\n\t\t\t<div id="'+_+'">\n\t\t\t\t<div class="infoTest">\n\t\t\t\t\t<div class="startInfoBlock">\n\t\t\t\t\t\t<div id="player" class="icon"></div>\n\t\t\t\t\t\t<div class="title">'+(0,h["default"])((0,a._)("you"),"shiny")+'</div>\n\t\t\t\t\t\t<div class="description">'+(0,h["default"])((0,a._)("youDescription"),"roboto")+'</div>\n\t\t\t\t\t\t<div class="description2">'+(0,h["default"])((0,a._)("youDescription2"),"roboto")+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="startInfoBlock">\n\t\t\t\t\t\t<div id="enemy1" class="icon"></div>\n\t\t\t\t\t\t<div class="title">'+(0,h["default"])((0,a._)("enemy"),"shiny")+'</div>\n\t\t\t\t\t\t<div class="description">'+(0,h["default"])((0,a._)("enemyDescription"),"roboto")+'</div>\n\t\t\t\t\t\t<div class="description2">'+(0,h["default"])((0,a._)("enemyDescription2"),"roboto")+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="startInfoBlock">\n\t\t\t\t\t\t<div id="mine" class="icon"></div>\n\t\t\t\t\t\t<div class="title">'+(0,h["default"])((0,a._)("mine"),"shiny")+'</div>\n\t\t\t\t\t\t<div class="description">'+(0,h["default"])((0,a._)("mineDescription"),"roboto")+'</div>\n\t\t\t\t\t\t<div class="description2">'+(0,h["default"])((0,a._)("mineDescription2"),"roboto")+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="startInfoBlock">\n\t\t\t\t\t\t<div id="enemy2" class="icon"></div>\n\t\t\t\t\t\t<div class="title">'+(0,h["default"])((0,a._)("enemy2"),"shiny")+'</div>\n\t\t\t\t\t\t<div class="description">'+(0,h["default"])((0,a._)("enemy2Description"),"roboto")+'</div>\n\t\t\t\t\t\t<div class="description2">'+(0,h["default"])((0,a._)("enemy2Description2"),"roboto")+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="startInfoBlock">\n\t\t\t\t\t\t<div id="satelite" class="icon"></div>\n\t\t\t\t\t\t<div class="title">'+(0,h["default"])((0,a._)("satelite"),"shiny")+'</div>\n\t\t\t\t\t\t<div class="description">'+(0,h["default"])((0,a._)("sateliteDescription"),"roboto")+'</div>\n\t\t\t\t\t\t<div class="description2">'+(0,h["default"])((0,a._)("sateliteDescription2"),"roboto")+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="startInfoBlock">\n\t\t\t\t\t\t<div id="enemy3" class="icon"></div>\n\t\t\t\t\t\t<div class="title">'+(0,h["default"])((0,a._)("enemy3"),"shiny")+'</div>\n\t\t\t\t\t\t<div class="description">'+(0,h["default"])((0,a._)("enemy3Description"),"roboto")+'</div>\n\t\t\t\t\t\t<div class="description2">'+(0,h["default"])((0,a._)("enemy3Description2"),"roboto")+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="gameReady">'+(0,h["default"])((0,a._)("gameReady"),"shiny")+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e.prototype.getScore=function(){return this.gameControl.score},e.prototype.reward=function(){this.gameControl.reward()},e.prototype.step=function(t){this.intro||this.gameControl.update(.001*t)},e}(l["default"]),e["default"]=b},function(t,e,n){"use strict";var r,i;e.__esModule=!0,e.Canvas=undefined,r=n(535),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e.Canvas=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H,W,X,V,Y,z,K,q,Z,Q,J;e.__esModule=!0,e["default"]=undefined,o=n(42),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(9),u=r(a),l=n(638),c=r(l),h=n(639),f=r(h),d=n(640),p=r(d),y=n(641),g=r(y),v=n(642),m=r(v),_=n(643),b=r(_),x=n(644),w=r(x),T=n(645),E=r(T),O=n(646),S=r(O),A=n(647),P=r(A),C=n(648),M=r(C),I=n(649),R=r(I),D=n(650),N=r(D),L=n(44),r(L),k=n(659),j=r(k),F=n(662),U=r(F),B=n(664),G=r(B),H=n(667),W=r(H),X=n(668),V=r(X),Y=n(669),z=r(Y),K=n(259),q=r(K),Z=n(672),Q=r(Z),J=function(){function t(e,n){i(this,t),this.forceCanvas=e,this.gameControl=n}return t.prototype.mount=function(t){var e,n,r,i;this.app=new s.Application({width:1280,height:720,antialias:!0,transparent:!0,resolution:1,forceCanvas:this.forceCanvas,legacy:!0}),t.appendChild(this.app.view),e=window.location.href,n="",u["default"].CONFIG.baseUrl?n=u["default"].CONFIG.baseUrl:-1!==e.indexOf("index.html")&&(r=e.split("index.html"),n=r[0]),i=new s.loaders.Loader(n),s.loader=i,i.add("player",c["default"]).add("planet",f["default"]).add("meteor",p["default"]).add("corner",P["default"]).add("mine",b["default"]).add("live",S["default"]).add("enemy",m["default"]).add("space",w["default"]).add("enemyCorner",M["default"]).add("enemySpace",R["default"]).add("satelite",N["default"]).add("shot",g["default"]).add("line",E["default"]).load(this.setup.bind(this))},t.prototype.setup=function(){var t=this;this.app.stage.addChild(new U["default"](this.gameControl.lineControl).initRender()),this.app.stage.addChild(new j["default"](this.gameControl.playerControl).initRender()),this.gameControl.planets.forEach(function(e){t.app.stage.addChild(new G["default"](e,t.gameControl).initRender())}),this.gameControl.meteors.forEach(function(e){t.app.stage.addChild(new z["default"](e,t.gameControl).initRender())}),this.gameControl.enemies.forEach(function(e){t.app.stage.addChild(new q["default"](e,t.gameControl).initRender())}),this.gameControl.mines.forEach(function(e){t.app.stage.addChild(new q["default"](e,t.gameControl).initRender())}),this.gameControl.satelites.forEach(function(e){t.app.stage.addChild(new Q["default"](e,t.gameControl).initRender())}),this.app.stage.addChild(new W["default"](this.gameControl).initRender()),this.app.stage.addChild(new V["default"](this.gameControl).initRender())},t.prototype.destroy=function(){s.utils.clearTextureCache(),s.utils.destroyTextureCache(),this.app.stage.removeChildren(),this.app.stage.destroy(!0),this.app.destroy(!0),s.loader.reset(),this.app=null},t}(),e["default"]=J},function(t,e,n){"use strict";n(537),n(539),n(540),n(541),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){"use strict";var r=n(538),i=function(t){return t&&t.__esModule?t:{"default":t}}(r);Object.assign||(Object.assign=i["default"])},function(t,e,n){"use strict";function r(t){if(null===t||t===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){var t,e,n,r,i;try{if(!Object.assign)return!1;if(t=new String("abc"),t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;return r=Object.getOwnPropertyNames(e).map(function(t){return e[t]}),"0123456789"!==r.join("")?!1:(i={},"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join(""))}catch(o){return!1}}()?Object.assign:function(t,e){var n,a,u,l,c,h=r(t);for(u=1;u<arguments.length;u++){n=Object(arguments[u]);for(l in n)o.call(n,l)&&(h[l]=n[l]);if(i)for(a=i(n),c=0;c<a.length;c++)s.call(n,a[c])&&(h[a[c]]=n[a[c]])}return h}},function(t,e,n){"use strict";(function(t){var e,n,r,i,o,s=16;for(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),t.performance&&t.performance.now||(e=Date.now(),t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}),n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i)o=r[i],t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){var e,r;if("function"!=typeof t)throw new TypeError(t+"is not a function");return e=Date.now(),r=s+n-e,r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(e,n(70))},function(t,e,n){"use strict";Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1})},function(t,e,n){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(143),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=n(3),a=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;r(this,t),this.x=e,this.y=n,this.radius=i,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){var n,r,i;return!(this.radius<=0)&&(n=this.radius*this.radius,r=this.x-t,i=this.y-e,r*=r,i*=i,r+i<=n)},t.prototype.getBounds=function(){return new o["default"](this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),e["default"]=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(143),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=n(3),a=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;r(this,t),this.x=e,this.y=n,this.width=i,this.height=o,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){var n,r;return!(this.width<=0||this.height<=0)&&(n=(t-this.x)/this.width,r=(e-this.y)/this.height,n*=n,r*=r,n+r<=1)},t.prototype.getBounds=function(){return new o["default"](this.x-this.width,this.y-this.height,this.width,this.height)},t}(),e["default"]=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(141),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=n(3),a=function(){function t(){var e,n,i,a,u,l;for(e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if(r(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof o["default"]){for(a=[],u=0,l=n.length;u<l;u++)a.push(n[u].x,n[u].y);n=a}this.closed=!0,this.points=n,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){var n,r,i,o,s,a,u=!1,l=this.points.length/2;for(n=0,r=l-1;n<l;r=n++)i=this.points[2*n],o=this.points[2*n+1],s=this.points[2*r],a=this.points[2*r+1],o>e!=a>e&&t<(e-o)/(a-o)*(s-i)+i&&(u=!u);return u},t}(),e["default"]=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=n(3),o=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:20;r(this,t),this.x=e,this.y=n,this.width=o,this.height=s,this.radius=a,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){var n,r,i;if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;if(n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius,n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(r=e-(this.y+this.height-this.radius),n*n+r*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}(),e["default"]=o},function(t,e){var n=function(t,e){var n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!n)throw Error("This browser does not support webGL. Try using the canvas renderer");return n};t.exports=n},function(t,e){var n=new ArrayBuffer(0),r=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},function(t,e,n){var r=n(207),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var s,a=r.fromData(t,null,e,n);return a.enableNearestScaling(),a.enableWrapClamp(),s=new i(t,e,n),s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var s,a=new r.fromData(t,o,e,n);return a.enableNearestScaling(),a.enableWrapClamp(),s=new i(t,e,n),s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,n){var r=n(208),i=n(209),o=n(211),s=n(213),a=n(214),u=function(t,e,n,u,l){this.gl=t,u&&(e=s(e,u),n=s(n,u)),this.program=r(t,e,n,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,n){function r(t,e){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(n),attribState:Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=n(206);r.prototype.constructor=r,t.exports=r,r.FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){var t,e,n=this.gl,r=null;for(t=0;t<this.attributes.length;t++)e=this.attributes[t],r!==e.buffer&&(e.buffer.bind(),r=e.buffer),n.vertexAttribPointer(e.attribute.location,e.attribute.size,e.type||n.FLOAT,e.normalized||!1,e.stride||0,e.start||0);return i(n,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(208),defaultValue:n(212),extractAttributes:n(209),extractUniforms:n(211),generateUniformAccessObject:n(214),setPrecision:n(213),mapSize:n(210),mapType:n(144)}},function(t,e,n){"use strict";function r(t){return o["default"].tablet||o["default"].phone?4:t}var i,o;e.__esModule=!0,e["default"]=r,i=n(146),o=function(t){return t&&t.__esModule?t:{"default":t}}(i)},function(t,e,n){"use strict";function r(){return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.__esModule=!0,e["default"]={mixin:function(t){r(t)}}},function(t,e,n){"use strict";function r(t,e){var n,r,i;if(t&&e)for(n=Object.keys(e),r=0;r<n.length;++r)i=n[r],Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}function i(t,e){s.push(t,e)}function o(){for(var t=0;t<s.length;t+=2)r(s[t],s[t+1]);s.length=0}e.__esModule=!0,e.mixin=r,e.delayMixin=i,e.performMixins=o;var s=[]},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o=t.length;if(!(e>=o||0===n)){for(n=e+n>o?o-e:n,i=o-n,r=e;r<i;++r)t[r]=t[r+n];t.length=i}}},function(t,e,n){"use strict";function r(){var t,e,n=[],r=[];for(t=0;t<32;t++)n[t]=t,r[t]=t;return n[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,n[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,n[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,r[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,r[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,r[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM,e=[],e.push(r),e.push(n),e}e.__esModule=!0,e["default"]=r;var i=n(3)},function(t,e,n){(function(t,r){var i;!function(o){function s(t){throw new RangeError(I[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n,r,i=t.split("@"),o="";return i.length>1&&(o=i[0]+"@",t=i[1]),t=t.replace(M,"."),n=t.split("."),r=a(n,e).join("."),o+r}function l(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function c(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?D(t/E):t>>1,t+=D(t/e);t>R*w>>1;r+=b)t=D(t/R);return D(r+(R+1)*t/(t+T))}function p(t){var e,n,r,i,o,a,u,l,f,p,y=[],g=t.length,v=0,m=S,T=O;for(n=t.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&s("not-basic"),y.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,a=1,u=b;i>=g&&s("invalid-input"),l=h(t.charCodeAt(i++)),(l>=b||l>D((_-v)/a))&&s("overflow"),v+=l*a,f=u<=T?x:u>=T+w?w:u-T,!(l<f);u+=b)p=b-f,a>D(_/p)&&s("overflow"),a*=p;e=y.length+1,T=d(v-o,e,0==o),D(v/e)>_-m&&s("overflow"),m+=D(v/e),v%=e,y.splice(v++,0,m)}return c(y)}function y(t){var e,n,r,i,o,a,u,c,h,p,y,g,v,m,T,E=[];for(t=l(t),g=t.length,e=S,n=0,o=O,a=0;a<g;++a)(y=t[a])<128&&E.push(N(y));for(r=i=E.length,i&&E.push(A);r<g;){for(u=_,a=0;a<g;++a)(y=t[a])>=e&&y<u&&(u=y);for(v=r+1,u-e>D((_-n)/v)&&s("overflow"),n+=(u-e)*v,e=u,a=0;a<g;++a)if(y=t[a],y<e&&++n>_&&s("overflow"),y==e){for(c=n,h=b;p=h<=o?x:h>=o+w?w:h-o,!(c<p);h+=b)T=c-p,m=b-p,E.push(N(f(p+T%m,0))),c=D(T/m);E.push(N(f(c,0))),o=d(n,v,r==i),n=0,++r}++n,++e}return E.join("")}function g(t){return u(t,function(t){return P.test(t)?p(t.slice(4).toLowerCase()):t})}function v(t){return u(t,function(t){return C.test(t)?"xn--"+y(t):t})}var m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof r&&r);L.global!==L&&L.window!==L&&L.self,_=2147483647,b=36,x=1,w=26,T=38,E=700,O=72,S=128,A="-",P=/^xn--/,C=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=b-x,D=Math.floor,N=String.fromCharCode,m={version:"1.4.1",ucs2:{decode:l,encode:c},decode:p,encode:y,toASCII:v,toUnicode:g},(i=function(){return m}.call(e,n,e,t))!==undefined&&(t.exports=i)}()}).call(e,n(559)(t),n(70))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(562),e.encode=e.stringify=n(563)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){var s,a,u,l,c,h,f,d,p,y,g;if(e=e||"&",n=n||"=",s={},"string"!=typeof t||0===t.length)return s;for(a=/\+/g,t=t.split(e),u=1e3,o&&"number"==typeof o.maxKeys&&(u=o.maxKeys),l=t.length,u>0&&l>u&&(l=u),c=0;c<l;++c)h=t[c].replace(a,"%20"),f=h.indexOf(n),f>=0?(d=h.substr(0,f),p=h.substr(f+1)):(d=h,p=""),y=decodeURIComponent(d),g=decodeURIComponent(p),r(s,y)?i(s[y])?s[y].push(g):s[y]=[s[y],g]:s[y]=g;return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){var n,r;if(t.map)return t.map(e);for(n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i,o,s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=undefined),"object"==typeof t?r(o(t),function(o){var a=encodeURIComponent(s(o))+n;return i(t[o])?r(t[o],function(t){return a+encodeURIComponent(s(t))}).join(e):a+encodeURIComponent(s(t[o]))}).join(e):a?encodeURIComponent(s(a))+n+encodeURIComponent(s(t)):""},i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h;e.__esModule=!0,o=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(16),a=r(s),u=n(3),l=n(565),c=r(l),h=function(){function t(){var e=this;i(this,t),this._head=new c["default"](null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/a["default"].TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new c["default"](t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new c["default"](t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t,e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:performance.now(),r=void 0;if(n>this.lastTime){for(r=this.elapsedMS=n-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),this.deltaTime=r*a["default"].TARGET_FPMS*this.speed,t=this._head,e=t.next;e;)e=e.emit(this.deltaTime);t.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=n},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,a["default"].TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}(),e["default"]=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,o=arguments.length>3&&arguments[3]!==undefined&&arguments[3];r(this,t),this.fn=e,this.context=n,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];return this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous),t=this.next,this.next=e?null:t,this.previous=null,t},t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f;e.__esModule=!0,o=n(80),s=r(o),a=n(3),u=n(17),l=n(153),c=r(l),h=new u.Matrix,f=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e,n,r=t._texture,i=this.renderer,o=r._frame.width,s=r._frame.height,l=t.transform.worldTransform,f=0,d=0;r.orig.width<=0||r.orig.height<=0||!r.baseTexture.source||(i.setBlendMode(t.blendMode),r.valid&&(i.context.globalAlpha=t.worldAlpha,e=r.baseTexture.scaleMode===a.SCALE_MODES.LINEAR,i.smoothProperty&&i.context[i.smoothProperty]!==e&&(i.context[i.smoothProperty]=e),r.trim?(f=r.trim.width/2+r.trim.x-t.anchor.x*r.orig.width,d=r.trim.height/2+r.trim.y-t.anchor.y*r.orig.height):(f=(.5-t.anchor.x)*r.orig.width,d=(.5-t.anchor.y)*r.orig.height),r.rotate&&(l.copy(h),l=h,u.GroupD8.matrixAppendRotationInv(l,r.rotate,f,d),f=0,d=0),f-=o/2,d-=s/2,i.roundPixels?(i.context.setTransform(l.a,l.b,l.c,l.d,l.tx*i.resolution|0,l.ty*i.resolution|0),f|=0,d|=0):i.context.setTransform(l.a,l.b,l.c,l.d,l.tx*i.resolution,l.ty*i.resolution),n=r.baseTexture.resolution,16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=c["default"].getTintedTexture(t,t.tint)),i.context.drawImage(t.tintedTexture,0,0,o*n,s*n,f*i.resolution,d*i.resolution,o*i.resolution,s*i.resolution)):i.context.drawImage(r.baseTexture.source,r._frame.x*n,r._frame.y*n,o*n,s*n,f*i.resolution,d*i.resolution,o*i.resolution,s*i.resolution)))},t.prototype.destroy=function(){this.renderer=null},t}(),e["default"]=f,s["default"].registerPlugin("sprite",f)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=n(3),o=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e,n,r,i=this.renderer;i.context.save(),e=t.alpha,n=t.transform.worldTransform,r=i.resolution,i.context.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t._texture||(this.renderGraphicsShape(t),i.context.clip()),t.worldAlpha=e},t.prototype.renderGraphicsShape=function(t){var e,n,r,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E=this.renderer.context,O=t.graphicsData.length;if(0!==O)for(E.beginPath(),e=0;e<O;e++)if(n=t.graphicsData[e],r=n.shape,n.type===i.SHAPES.POLY){for(o=r.points,E.moveTo(o[0],o[1]),s=1;s<o.length/2;s++)E.lineTo(o[2*s],o[2*s+1]);o[0]===o[o.length-2]&&o[1]===o[o.length-1]&&E.closePath()}else n.type===i.SHAPES.RECT?(E.rect(r.x,r.y,r.width,r.height),E.closePath()):n.type===i.SHAPES.CIRC?(E.arc(r.x,r.y,r.radius,0,2*Math.PI),E.closePath()):n.type===i.SHAPES.ELIP?(a=2*r.width,u=2*r.height,l=r.x-a/2,c=r.y-u/2,h=.5522848,f=a/2*h,d=u/2*h,p=l+a,y=c+u,g=l+a/2,v=c+u/2,E.moveTo(l,v),E.bezierCurveTo(l,v-d,g-f,c,g,c),E.bezierCurveTo(g+f,c,p,v-d,p,v),E.bezierCurveTo(p,v+d,g+f,y,g,y),E.bezierCurveTo(g-f,y,l,v+d,l,v),E.closePath()):n.type===i.SHAPES.RREC&&(m=r.x,_=r.y,b=r.width,x=r.height,w=r.radius,T=Math.min(b,x)/2|0,w=w>T?T:w,E.moveTo(m,_+w),E.lineTo(m,_+x-w),E.quadraticCurveTo(m,_+x,m+w,_+x),E.lineTo(m+b-w,_+x),E.quadraticCurveTo(m+b,_+x,m+b,_+x-w),E.lineTo(m+b,_+w),E.quadraticCurveTo(m+b,_,m+b-w,_),E.lineTo(m+w,_),E.quadraticCurveTo(m,_,m,_+w),E.closePath())},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}(),e["default"]=o},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return(0,s["default"])()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t}var i,o,s;e.__esModule=!0,e["default"]=r,i=n(3),o=n(225),s=function(t){return t&&t.__esModule?t:{"default":t}}(o)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P;e.__esModule=!0,a=n(106),u=r(a),l=n(107),c=r(l),h=n(154),f=r(h),d=n(582),p=r(d),y=n(583),g=r(y),v=n(584),m=r(v),_=n(16),b=r(_),x=n(7),w=n(30),T=r(w),E=n(150),O=r(E),S=0,A=0,P=function(t){function e(n){var r,s,a;for(i(this,e),r=o(this,t.call(this,n)),r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=b["default"].SPRITE_BATCH_SIZE,r.buffers=[],s=1;s<=O["default"].nextPow2(r.size);s*=2)r.buffers.push(new m["default"](4*s*r.vertByteSize));for(r.indices=(0,f["default"])(r.size),r.shader=null,r.currentIndex=0,r.groups=[],a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on("prerender",r.onPrerender,r),r}return s(e,t),e.prototype.onContextChange=function(){var t,e,n,r,i=this.renderer.gl;for(this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),b["default"].SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,g["default"])(this.MAX_TEXTURES,i)),this.shader=(0,p["default"])(i,this.MAX_TEXTURES),this.indexBuffer=T["default"].GLBuffer.createIndexBuffer(i,this.indices,i.STATIC_DRAW),this.renderer.bindVao(null),t=this.shader.attributes,e=0;e<this.vaoMax;e++)n=this.vertexBuffers[e]=T["default"].GLBuffer.createVertexBuffer(i,null,i.STREAM_DRAW),r=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,t.aVertexPosition,i.FLOAT,!1,this.vertByteSize,0).addAttribute(n,t.aTextureCoord,i.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,t.aColor,i.UNSIGNED_BYTE,!0,this.vertByteSize,12),t.aTextureId&&r.addAttribute(n,t.aTextureId,i.FLOAT,!1,this.vertByteSize,16),this.vaos[e]=r;this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){var t,e,n,r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,w,E,P,C,M,I,R,D,N,L,k,j,F,U,B,G,H;if(0!==this.currentIndex){for(t=this.renderer.gl,e=this.MAX_TEXTURES,n=O["default"].nextPow2(this.currentIndex),r=O["default"].log2(n),i=this.buffers[r],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,l=this.boundTextures,c=this.renderer.boundTextures,h=this.renderer.textureGC.count,f=0,d=void 0,p=void 0,y=1,g=0,v=s[0],m=void 0,_=void 0,w=x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode],v.textureCount=0,v.start=0,v.blend=w,S++,E=void 0,E=0;E<e;++E)P=c[E],P._enabled!==S?(l[E]=P,P._virtalBoundId=E,P._enabled=S):l[E]=this.renderer.emptyTextures[E];for(S++,E=0;E<this.currentIndex;++E){if(C=o[E],o[E]=null,d=C._texture.baseTexture,M=x.premultiplyBlendMode[+d.premultipliedAlpha][C.blendMode],w!==M&&(w=M,p=null,g=e,S++),p!==d&&(p=d,d._enabled!==S)){if(g===e&&(S++,v.size=E-v.start,g=0,v=s[y++],v.blend=w,v.textureCount=0,v.start=E),d.touched=h,-1===d._virtalBoundId)for(I=0;I<e;++I)if(R=(I+A)%e,D=l[R],D._enabled!==S){A++,D._virtalBoundId=-1,d._virtalBoundId=R,l[R]=d;break}d._enabled=S,v.textureCount++,v.ids[g]=d._virtalBoundId,v.textures[g++]=d}m=C.vertexData,_=C._texture._uvs.uvsUint32,this.renderer.roundPixels?(N=this.renderer.resolution,a[f]=(m[0]*N|0)/N,a[f+1]=(m[1]*N|0)/N,a[f+5]=(m[2]*N|0)/N,a[f+6]=(m[3]*N|0)/N,a[f+10]=(m[4]*N|0)/N,a[f+11]=(m[5]*N|0)/N,a[f+15]=(m[6]*N|0)/N,a[f+16]=(m[7]*N|0)/N):(a[f]=m[0],a[f+1]=m[1],a[f+5]=m[2],a[f+6]=m[3],a[f+10]=m[4],a[f+11]=m[5],a[f+15]=m[6],a[f+16]=m[7]),u[f+2]=_[0],u[f+7]=_[1],u[f+12]=_[2],u[f+17]=_[3],L=Math.min(C.worldAlpha,1),k=L<1&&d.premultipliedAlpha?(0,x.premultiplyTint)(C._tintRGB,L):C._tintRGB+(255*L<<24),u[f+3]=u[f+8]=u[f+13]=u[f+18]=k,a[f+4]=a[f+9]=a[f+14]=a[f+19]=d._virtalBoundId,f+=20}for(v.size=E-v.start,b["default"].CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,j=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=T["default"].GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,j.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(F,j.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,j.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),j.aTextureId&&U.addAttribute(F,j.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++),E=0;E<e;++E)c[E]._virtalBoundId=-1;for(E=0;E<y;++E){for(B=s[E],G=B.textureCount,H=0;H<G;H++)p=B.textures[H],c[B.ids[H]]!==p&&this.renderer.bindTexture(p,B.ids[H],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(B.blend),t.drawElements(t.TRIANGLES,6*B.size,t.UNSIGNED_SHORT,6*B.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),b["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){var e,n;for(e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();for(this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null,n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(u["default"]),e["default"]=P,c["default"].registerPlugin("sprite",P)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h;e.__esModule=!0,a=n(81),u=r(a),l=n(226),c=r(l),h=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return s(e,t),e.prototype.pushMask=function(t,e){var n,r;e.texture?this.pushSpriteMask(t,e):this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()?(n=e.worldTransform,r=Math.atan2(n.b,n.a),r=Math.round(r*(180/Math.PI)),r%90?this.pushStencilMask(e):this.pushScissorMask(t,e)):this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new c["default"](e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){var n,r,i;e.renderable=!0,n=this.renderer._activeRenderTarget,r=e.getBounds(),r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),i=this.renderer.resolution,this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(u["default"]),e["default"]=h},function(t,e,n){"use strict";function r(t,e,n){var r=i(t),o=i(e);return Object.assign(r,o)}function i(t){var e,n,r,i,o,s,u=RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),l={},c=void 0,h=t.replace(/\s+/g," ").split(/\s*;\s*/);for(e=0;e<h.length;e++)n=h[e].trim(),n.indexOf("uniform")>-1&&(r=n.split(" "),i=r[1],o=r[2],s=1,o.indexOf("[")>-1&&(c=o.split(/\[|]/),o=c[0],s*=+c[1]),o.match(u)||(l[o]={value:a(i,s),name:o,type:i}));return l}var o,s,a;e.__esModule=!0,e["default"]=r,o=n(30),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a=s["default"].shader.defaultValue},function(t,e){function n(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){d&&p&&(d=!1,p.length?f=p.concat(f):y=-1,f.length&&a())}function a(){var t,e;if(!d){for(t=i(s),d=!0,e=f.length;e;){for(p=f,f=[];++y<e;)p&&p[y].run();y=-1,e=f.length}p=null,d=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f,d,p,y,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}(),f=[],d=!1,y=-1,g.nextTick=function(t){var e,n=Array(arguments.length-1);if(arguments.length>1)for(e=1;e<arguments.length;e++)n[e-1]=arguments[e];f.push(new u(t,n)),1!==f.length||d||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=l,g.addListener=l,g.once=l,g.off=l,g.removeListener=l,g.removeAllListeners=l,g.emit=l,g.prependListener=l,g.prependOnceListener=l,g.listeners=function(t){return[]},g.binding=function(t){throw Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw Error("process.chdir is not supported")},g.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(81),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.stencilMaskStack=null,o}return o(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){var e,n;this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer(),e=this.renderer.gl,n=this.stencilMaskStack.length,0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){var t,e;this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t=this.renderer.gl,e=this.stencilMaskStack.pop(),0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){a["default"].prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(a["default"]),e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w;e.__esModule=!0,a=n(81),u=r(a),l=n(108),c=r(l),h=n(229),f=r(h),d=n(17),p=n(82),y=r(p),g=n(575),v=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(g),m=n(150),_=r(m),b=function(){function t(){s(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new d.Rectangle,this.destinationFrame=new d.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),x="screen",w=function(t){function e(n){s(this,e);var r=i(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new f["default"](r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on("prerender",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return o(e,t),e.prototype.pushFilter=function(t,e){var n,r,i,o,s,a,u,l,c,h,f=this.renderer,d=this.filterData;d||(d=this.renderer._activeRenderTarget.filterStack,n=new b,n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=f._activeRenderTarget,this.renderer._activeRenderTarget.filterData=d={index:0,stack:[n]},this.filterData=d),r=d.stack[++d.index],i=d.stack[0].destinationFrame,r||(r=d.stack[d.index]=new b),o=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===f.screen.width&&t.filterArea.height===f.screen.height,s=e[0].resolution,a=0|e[0].padding,u=o?f.screen:t.filterArea||t.getBounds(!0),l=r.sourceFrame,c=r.destinationFrame,l.x=(u.x*s|0)/s,l.y=(u.y*s|0)/s,l.width=(u.width*s|0)/s,l.height=(u.height*s|0)/s,o||(d.stack[0].renderTarget.transform||e[0].autoFit&&l.fit(i),l.pad(a)),c.width=l.width,c.height=l.height,h=this.getPotRenderTarget(f.gl,l.width,l.height,s),r.target=t,r.filters=e,r.resolution=s,r.renderTarget=h,h.setFrame(c,l),f.bindRenderTarget(h),h.clear()},e.prototype.popFilter=function(){var t,e,n,r,i,o=this.filterData,s=o.stack[o.index-1],a=o.stack[o.index];if(this.quad.map(a.renderTarget.size,a.sourceFrame).upload(),t=a.filters,1===t.length)t[0].apply(this,a.renderTarget,s.renderTarget,!1,a),this.freePotRenderTarget(a.renderTarget);else{for(e=a.renderTarget,n=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,a.resolution),n.setFrame(a.destinationFrame,a.sourceFrame),n.clear(),r=0,r=0;r<t.length-1;++r)t[r].apply(this,e,n,!0,a),i=e,e=n,n=i;t[r].apply(this,e,s.renderTarget,!1,a),this.freePotRenderTarget(e),this.freePotRenderTarget(n)}a.clear(),0===--o.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i,o=this.renderer,s=o.gl,a=t.glShaders[o.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new y["default"](this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[o.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[o.CONTEXT_UID]=new y["default"](this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),o.bindVao(null),this.quad.initVao(a)),o.bindVao(this.quad.vao),o.bindRenderTarget(n),r&&(s.disable(s.SCISSOR_TEST),o.clear(),s.enable(s.SCISSOR_TEST)),n===o.maskManager.scissorRenderTarget&&o.maskManager.pushScissorMask(null,o.maskManager.scissorData),o.bindShader(a),i=this.renderer.emptyTextures[0],this.renderer.boundTextures[0]=i,this.syncUniforms(a,t),o.state.setBlendMode(t.blendMode),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),s.bindTexture(s.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n,r,i,o,s,a,u=e.uniformData,l=e.uniforms,c=1,h=void 0;t.uniforms.filterArea&&(h=this.filterData.stack[this.filterData.index],n=t.uniforms.filterArea,n[0]=h.renderTarget.size.width,n[1]=h.renderTarget.size.height,n[2]=h.sourceFrame.x,n[3]=h.sourceFrame.y,t.uniforms.filterArea=n),t.uniforms.filterClamp&&(h=h||this.filterData.stack[this.filterData.index],r=t.uniforms.filterClamp,r[0]=0,r[1]=0,r[2]=(h.sourceFrame.width-1)/h.renderTarget.size.width,r[3]=(h.sourceFrame.height-1)/h.renderTarget.size.height,t.uniforms.filterClamp=r);for(i in u)o=u[i].type,"sampler2d"===o&&0!==l[i]?(l[i].baseTexture?t.uniforms[i]=this.renderer.bindTexture(l[i].baseTexture,c):(t.uniforms[i]=c,s=this.renderer.gl,this.renderer.boundTextures[c]=this.renderer.emptyTextures[c],s.activeTexture(s.TEXTURE0+c),l[i].texture.bind()),c++):"mat3"===o?l[i].a!==undefined?t.uniforms[i]=l[i].toArray(!0):t.uniforms[i]=l[i]:"vec2"===o?l[i].x!==undefined?(a=t.uniforms[i]||new Float32Array(2),a[0]=l[i].x,a[1]=l[i].y,t.uniforms[i]=a):t.uniforms[i]=l[i]:"float"===o?t.uniforms.data[i].value!==u[i]&&(t.uniforms[i]=l[i]):t.uniforms[i]=l[i]},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return v.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return v.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return v.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0],n=this.renderer,r=this.managedFilters;for(n.off("prerender",this.onPrerender,this),t=0;t<r.length;t++)e||r[t].glShaders[n.CONTEXT_UID].destroy(),delete r[t].glShaders[n.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var i,o,s=x;return e*=r,n*=r,e===this._screenWidth&&n===this._screenHeight||(e=_["default"].nextPow2(e),n=_["default"].nextPow2(n),s=(65535&e)<<16|65535&n),this.pool[s]||(this.pool[s]=[]),i=this.pool[s].pop(),i||(o=this.renderer.boundTextures[0],t.activeTexture(t.TEXTURE0),i=new c["default"](t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)),i.resolution=r,i.defaultFrame.width=i.size.width=e/r,i.defaultFrame.height=i.size.height=n/r,i.filterPoolKey=s,i},e.prototype.emptyPool=function(){var t,e,n;for(t in this.pool)if(e=this.pool[t])for(n=0;n<e.length;n++)e[n].destroy(!0);this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){var t,e;if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){if(this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height,t=this.pool[x])for(e=0;e<t.length;e++)t[e].destroy(!0);this.pool[x]=[]}},e}(u["default"]),e["default"]=w},function(t,e,n){"use strict";function r(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r}function i(t,e,n){var r,i,o=t.identity();return o.translate(e.x/n.width,e.y/n.height),r=n.width/e.width,i=n.height/e.height,o.scale(r,i),o}function o(t,e,n,r){var i=r._texture.orig,o=t.set(n.width,0,0,n.height,e.x,e.y),a=r.worldTransform.copy(s.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/i.width,1/i.height),o.translate(r.anchor.x,r.anchor.y),o}e.__esModule=!0,e.calculateScreenSpaceMatrix=r,e.calculateNormalizedScreenSpaceMatrix=i,e.calculateSpriteMatrix=o;var s=n(17)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,l;e.__esModule=!0,i=n(30),o=n(3),s=n(108),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=n(7),l=function(){function t(e){r(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n,r,s,u,l=this.gl,c=!!t._glRenderTargets;if(!t.hasLoaded)return null;if(n=this.renderer.boundTextures,e===undefined)for(e=0,r=0;r<n.length;++r)if(n[r]===t){e=r;break}return n[e]=t,l.activeTexture(l.TEXTURE0+e),s=t._glTextures[this.renderer.CONTEXT_UID],s?c?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):s.upload(t.source):(c?(u=new a["default"](this.gl,t.width,t.height,t.scaleMode,t.resolution),u.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=u,s=u.texture):(s=new i.GLTexture(this.gl,null,null,null,null),s.bind(e),s.premultiplyAlpha=!0,s.upload(t.source)),t._glTextures[this.renderer.CONTEXT_UID]=s,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&s.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?s.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?s.enableWrapRepeat():s.enableWrapMirrorRepeat()):s.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?s.enableNearestScaling():s.enableLinearScaling()),s},t.prototype.destroyTexture=function(t,e){var n,r,i,o;t=t.baseTexture||t,t.hasLoaded&&(n=this.renderer.CONTEXT_UID,r=t._glTextures,i=t._glRenderTargets,r[n]&&(this.renderer.unbindTexture(t),r[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[n],e||-1!==(o=this._managedTextures.indexOf(t))&&(0,u.removeItems)(this._managedTextures,o,1)),i&&i[n]&&(i[n].destroy(),delete i[n]))},t.prototype.removeAll=function(){var t,e;for(t=0;t<this._managedTextures.length;++t)e=this._managedTextures[t],e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]},t.prototype.destroy=function(){var t,e;for(t=0;t<this._managedTextures.length;++t)e=this._managedTextures[t],this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this);this._managedTextures=null},t}(),e["default"]=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(3),o=n(16),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a=function(){function t(e){r(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s["default"].GC_MAX_IDLE,this.checkCountMax=s["default"].GC_MAX_CHECK_COUNT,this.mode=s["default"].GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},t.prototype.run=function(){var t,e,n,r,i=this.renderer.textureManager,o=i._managedTextures,s=!1;for(t=0;t<o.length;t++)e=o[t],!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(i.destroyTexture(e,!0),o[t]=null,s=!0);if(s){for(n=0,r=0;r<o.length;r++)null!==o[r]&&(o[n++]=o[r]);o.length=n}},t.prototype.unload=function(t){var e,n=this.renderer.textureManager;for(t._texture&&t._texture._glRenderTargets&&n.destroyTexture(t._texture,!0),e=t.children.length-1;e>=0;e--)this.unload(t.children[e])},t}(),e["default"]=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,l,c,h;e.__esModule=!0,i=n(579),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=0,a=1,u=2,l=3,c=4,h=function(){function t(e){r(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,o["default"])(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t,e=this.stack[this.stackIndex];for(e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex,t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[s]),this.setDepthTest(t[a]),this.setFrontFace(t[u]),this.setCullFace(t[l]),this.setBlendMode(t[c])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[s]!==t&&(this.activeState[s]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[c]){this.activeState[c]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[a]!==t&&(this.activeState[a]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[l]!==t&&(this.activeState[l]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[u]!==t&&(this.activeState[u]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){var t,e,n;for(t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}(),e["default"]=h},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e}e.__esModule=!0,e["default"]=r;var i=n(3)},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}e.__esModule=!0,e["default"]=r;var i=n(3)},function(t,e,n){"use strict";function r(t){t.getContextAttributes().stencil}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t,e){var n,r,o,u="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",l=a;for(l=l.replace(/%count%/gi,e),l=l.replace(/%forloop%/gi,i(e)),n=new s["default"](t,u,l),r=[],o=0;o<e;o++)r[o]=o;return n.bind(),n.uniforms.uSamplers=r,n}function i(t){var e,n="";for(n+="\n",n+="\n",e=0;e<t;e++)e>0&&(n+="\nelse "),e<t-1&&(n+="if(textureId == "+e+".0)"),n+="\n{",n+="\n\tcolor = texture2D(uSamplers["+e+"], vTextureCoord);",n+="\n}";return n+="\n",n+="\n"}var o,s,a;e.__esModule=!0,e["default"]=r,o=n(82),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),n(43),a="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},function(t,e,n){"use strict";function r(t,e){var n,r,o,u=!e;if(0===t)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(u&&(n=document.createElement("canvas"),n.width=1,n.height=1,e=s["default"].createContext(n)),r=e.createShader(e.FRAGMENT_SHADER);;){if(o=a.replace(/%forloop%/gi,i(t)),e.shaderSource(r,o),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return u&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function i(t){var e,n="";for(e=0;e<t;++e)e>0&&(n+="\nelse "),e<t-1&&(n+="if(test == "+e+".0){}");return n}var o,s,a;e.__esModule=!0,e["default"]=r,o=n(30),s=function(t){return t&&t.__esModule?t:{"default":t}}(o),a="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){r(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(149),l=r(u),c=n(51),h=r(c),f=n(17),d=n(7),p=n(3),y=n(16),g=r(y),v=n(230),m=r(v),_=n(231),b=r(_),x=n(586),w=r(x),T={texture:!0,children:!1,baseTexture:!0},E=function(t){function e(n,r,s){var a,u;return i(this,e),s=s||document.createElement("canvas"),s.width=3,s.height=3,a=h["default"].fromCanvas(s,g["default"].SCALE_MODE,"text"),a.orig=new f.Rectangle,a.trim=new f.Rectangle,u=o(this,t.call(this,a)),h["default"].addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=s,u.context=u.canvas.getContext("2d"),u.resolution=g["default"].RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=n,u.style=r,u.localStyleID=-1,u}return s(e,t),e.prototype.updateText=function(t){var e,n,r,i,o,s,a,u,l,c,h,f,d,p,y,g=this._style;if(this.localStyleID!==g.styleID&&(this.dirty=!0,this.localStyleID=g.styleID),this.dirty||!t){if(this._font=this._style.toFontString(),e=this.context,n=b["default"].measureText(this._text,this._style,this._style.wordWrap,this.canvas),r=n.width,i=n.height,o=n.lines,s=n.lineHeight,a=n.lineWidths,u=n.maxLineWidth,l=n.fontProperties,this.canvas.width=Math.ceil((Math.max(1,r)+2*g.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,i)+2*g.padding)*this.resolution),e.scale(this.resolution,this.resolution),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.font=this._font,e.strokeStyle=g.stroke,e.lineWidth=g.strokeThickness,e.textBaseline=g.textBaseline,e.lineJoin=g.lineJoin,e.miterLimit=g.miterLimit,c=void 0,h=void 0,g.dropShadow)for(e.fillStyle=g.dropShadowColor,e.globalAlpha=g.dropShadowAlpha,e.shadowBlur=g.dropShadowBlur,g.dropShadowBlur>0&&(e.shadowColor=g.dropShadowColor),f=Math.cos(g.dropShadowAngle)*g.dropShadowDistance,d=Math.sin(g.dropShadowAngle)*g.dropShadowDistance,p=0;p<o.length;p++)c=g.strokeThickness/2,h=g.strokeThickness/2+p*s+l.ascent,"right"===g.align?c+=u-a[p]:"center"===g.align&&(c+=(u-a[p])/2),g.fill&&(this.drawLetterSpacing(o[p],c+f+g.padding,h+d+g.padding),g.stroke&&g.strokeThickness&&(e.strokeStyle=g.dropShadowColor,this.drawLetterSpacing(o[p],c+f+g.padding,h+d+g.padding,!0),e.strokeStyle=g.stroke));for(e.shadowBlur=0,e.globalAlpha=1,e.fillStyle=this._generateFillStyle(g,o),y=0;y<o.length;y++)c=g.strokeThickness/2,h=g.strokeThickness/2+y*s+l.ascent,"right"===g.align?c+=u-a[y]:"center"===g.align&&(c+=(u-a[y])/2),g.stroke&&g.strokeThickness&&this.drawLetterSpacing(o[y],c+g.padding,h+g.padding,!0),g.fill&&this.drawLetterSpacing(o[y],c+g.padding,h+g.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r,i,o,s,a=arguments.length>3&&arguments[3]!==undefined&&arguments[3],u=this._style,l=u.letterSpacing;if(0===l)return void(a?this.context.strokeText(t,e,n):this.context.fillText(t,e,n));for(r=String.prototype.split.call(t,""),i=e,o=0,s="";o<t.length;)s=r[o++],a?this.context.strokeText(s,i,n):this.context.fillText(s,i,n),i+=this.context.measureText(s).width+l},e.prototype.updateTexture=function(){var t,e,n,r,i,o=this.canvas;this._style.trim&&(t=(0,w["default"])(o),t.data&&(o.width=t.width,o.height=t.height,this.context.putImageData(t.data,0,0))),e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture,i.hasLoaded=!0,i.resolution=this.resolution,i.realWidth=o.width,i.realHeight=o.height,i.width=o.width/this.resolution,i.height=o.height/this.resolution,e.trim.width=e._frame.width=o.width/this.resolution,e.trim.height=e._frame.height=o.height/this.resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-2*r,e.orig.height=e._frame.height-2*r,this._onTextureUpdate(),i.emit("update",i),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){var n,r,i,o,s,a,u,l,c,h,f,d,y;if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];if(n=void 0,r=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice(),!l.length)for(c=u.length+1,h=1;h<c;++h)l.push(h/c);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL)for(n=this.context.createLinearGradient(s/2,0,s/2,a),r=(u.length+1)*e.length,i=0,f=0;f<e.length;f++)for(i+=1,d=0;d<u.length;d++)o="number"==typeof l[d]?l[d]/e.length+f/e.length:i/r,n.addColorStop(o,u[d]),i++;else for(n=this.context.createLinearGradient(0,a/2,s,a/2),r=u.length+1,i=1,y=0;y<u.length;y++)o="number"==typeof l[y]?l[y]:i/r,n.addColorStop(o,u[y]),i++;return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},T,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},a(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof m["default"]?this._style=t:this._style=new m["default"](t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=(""===t||null===t||t===undefined?" ":t)+"",this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(l["default"]),e["default"]=E},function(t,e,n){"use strict";function r(t){var e=t.width,n=t.height,r=t.getContext("2d"),i=r.getImageData(0,0,e,n),o=i.data,s=o.length,a={top:null,left:null,right:null,bottom:null},u=null,l=void 0,c=void 0,h=void 0;for(l=0;l<s;l+=4)0!==o[l+3]&&(c=l/4%e,h=~~(l/4/e),null===a.top&&(a.top=h),null===a.left?a.left=c:c<a.left&&(a.left=c),null===a.right?a.right=c+1:a.right<c&&(a.right=c+1),null===a.bottom?a.bottom=h:a.bottom<h&&(a.bottom=h));return null!==a.top&&(e=a.right-a.left,n=a.bottom-a.top+1,u=r.getImageData(a.left,a.top,e,n)),{height:n,width:e,data:u}}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I;e.__esModule=!0,a=n(79),u=r(a),l=n(152),c=r(l),h=n(51),f=r(h),d=n(232),p=r(d),y=n(149),g=r(y),v=n(17),m=n(7),_=n(3),b=n(145),x=r(b),w=n(588),T=r(w),E=n(80),O=r(E),S=void 0,A=new v.Matrix,P=new v.Point,C=new Float32Array(4),M=new Float32Array(4),I=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==undefined&&arguments[0];return i(this,e),n=o(this,t.call(this)),n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=_.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new x["default"],n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return s(e,t),e.prototype.clone=function(){var t,n=new e;for(n.renderable=this.renderable,n.fillAlpha=this.fillAlpha,n.lineWidth=this.lineWidth,n.lineColor=this.lineColor,n.lineAlignment=this.lineAlignment,n.tint=this.tint,n.blendMode=this.blendMode,n.isMask=this.isMask,n.boundsPadding=this.boundsPadding,n.dirty=0,n.cachedSpriteDirty=this.cachedSpriteDirty,t=0;t<this.graphicsData.length;++t)n.graphicsData.push(this.graphicsData[t].clone());return n.currentPath=n.graphicsData[n.graphicsData.length-1],n.updateLocalBounds(),n},e.prototype._quadraticCurveLength=function(t,e,n,r,i,o){var s=t-(2*n+i),a=e-(2*r+o),u=(n-2)*t*2,l=(r-2)*e*2,c=4*(s*s+a*a),h=4*(s*u+a*l),f=u*u+l*l,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),y=2*c*p,g=2*Math.sqrt(f),v=h/p;return(y*d+p*h*(d-g)+(4*f*c-h*h)*Math.log((2*p+v+d)/(v+g)))/(4*y)},e.prototype._bezierCurveLength=function(t,e,n,r,i,o,s,a){var u,l=10,c=0,h=0,f=0,d=0,p=0,y=0,g=0,v=0,m=0,_=0,b=0,x=t,w=e;for(u=1;u<=l;++u)h=u/l,f=h*h,d=f*h,p=1-h,y=p*p,g=y*p,v=g*t+3*y*h*n+3*p*f*i+d*s,m=g*e+3*y*h*r+3*p*f*o+d*a,_=x-v,b=w-m,x=v,w=m,c+=Math.sqrt(_*_+b*b);return c},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.5;return this.lineWidth=e,this.lineColor=n,this.lineAlpha=r,this.lineAlignment=i,this.currentPath&&(this.currentPath.shape.points.length?(t=new v.Polygon(this.currentPath.shape.points.slice(-2)),t.closed=!1,this.drawShape(t)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment)),this},e.prototype.moveTo=function(t,e){var n=new v.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){var n=this.currentPath.shape.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||(n.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,n,r,i){var o,s,a,u,l,c,h,f;for(this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0),o=this.currentPath.shape.points,s=0,a=0,0===o.length&&this.moveTo(0,0),u=o[o.length-2],l=o[o.length-1],c=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,l,t,n,r,i)):20,h=1;h<=c;++h)f=h/c,s=u+(t-u)*f,a=l+(n-l)*f,o.push(s+(t+(r-t)*f-s)*f,a+(n+(i-n)*f-a)*f);return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,r,i,o,s){var a,u,l,c;return this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0),a=this.currentPath.shape.points,u=a[a.length-2],l=a[a.length-1],a.length-=2,c=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,l,t,n,r,i,o,s)):20,(0,T["default"])(u,l,t,n,r,i,o,s,c,a),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){var o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A;return this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e),o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,c=r-e,h=n-t,f=Math.abs(u*h-l*c),f<1e-8||0===i?o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e):(d=u*u+l*l,p=c*c+h*h,y=u*c+l*h,g=i*Math.sqrt(d)/f,v=i*Math.sqrt(p)/f,m=g*y/d,_=v*y/p,b=g*h+v*l,x=g*c+v*u,w=l*(v+m),T=u*(v+m),E=h*(g+_),O=c*(g+_),S=Math.atan2(T-x,w-b),A=Math.atan2(O-x,E-b),this.arc(b+t,x+e,i,S,A,l*c>h*u)),this.dirty++,this},e.prototype.arc=function(t,n,r,i,o){var s,a,u,l,c,h,f,d,p,y,g,v,m,b,x,w,T,E,O=arguments.length>5&&arguments[5]!==undefined&&arguments[5];if(i===o)return this;if(!O&&o<=i?o+=_.PI_2:O&&i<=o&&(i+=_.PI_2),s=o-i,a=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/_.PI_2),0===s)return this;for(u=t+Math.cos(i)*r,l=n+Math.sin(i)*r,c=this.currentPath?this.currentPath.shape.points:null,c?(h=Math.abs(c[c.length-2]-u),f=Math.abs(c[c.length-1]-l),h<.001&&f<.001||c.push(u,l)):(this.moveTo(u,l),c=this.currentPath.shape.points),d=s/(2*a),p=2*d,y=Math.cos(d),g=Math.sin(d),v=a-1,m=v%1/v,b=0;b<=v;++b)x=b+m*b,w=d+i+p*x,T=Math.cos(w),E=-Math.sin(w),c.push((y*T+g*E)*r+t,(y*-E+g*T)*r+n);return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new v.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new v.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new v.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new v.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e,n,r=t,i=!0;if(r instanceof v.Polygon&&(i=r.closed,r=r.points),!Array.isArray(r))for(r=Array(arguments.length),e=0;e<r.length;++e)r[e]=arguments[e];return n=new v.Polygon(r),n.closed=i,this.drawShape(n),this},e.prototype.drawStar=function(t,e,n,r,i){var o,s,a,u,l,c,h,f=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;for(i=i||r/2,o=-1*Math.PI/2+f,s=2*n,a=_.PI_2/s,u=[],l=0;l<s;l++)c=l%2?i:r,h=l*a+o,u.push(t+c*Math.cos(h),e+c*Math.sin(h));return this.drawPolygon(u)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===_.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e,n,r,i,o=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new g["default"](new f["default"](f["default"].WHITE))),e=this._spriteRect,n=this.graphicsData[0].fillColor,16777215===this.tint?e.tint=n:this.tint===this._prevRectTint&&n===this._prevRectFillColor||(r=C,i=M,(0,m.hex2rgb)(n,r),(0,m.hex2rgb)(this.tint,i),r[0]*=i[0],r[1]*=i[1],r[2]*=i[2],e.tint=(0,m.rgb2hex)(r),this._prevRectTint=this.tint,this._prevRectFillColor=n),e.alpha=this.graphicsData[0].fillAlpha,e.worldAlpha=this.worldAlpha*e.alpha,e.blendMode=this.blendMode,e._texture._frame.width=o.width,e._texture._frame.height=o.height,e.transform.worldTransform=this.transform.worldTransform,e.anchor.set(-o.x/o.width,-o.y/o.height),e._onAnchorUpdate(),e._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){var e,n,r,i,o;for(this.worldTransform.applyInverse(t,P),e=this.graphicsData,n=0;n<e.length;++n)if(r=e[n],r.fill&&r.shape&&r.shape.contains(P.x,P.y)){if(r.holes)for(i=0;i<r.holes.length;i++)if(o=r.holes[i],o.contains(P.x,P.y))return!1;return!0}return!1},e.prototype.updateLocalBounds=function(){var t,e,n,r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,b,x=Infinity,w=-Infinity,T=Infinity,E=-Infinity;if(this.graphicsData.length)for(t=0,e=0,n=0,r=0,i=0,o=0;o<this.graphicsData.length;o++)if(s=this.graphicsData[o],a=s.type,u=s.lineWidth,t=s.shape,a===_.SHAPES.RECT||a===_.SHAPES.RREC)e=t.x-u/2,n=t.y-u/2,r=t.width+u,i=t.height+u,x=e<x?e:x,w=e+r>w?e+r:w,T=n<T?n:T,E=n+i>E?n+i:E;else if(a===_.SHAPES.CIRC)e=t.x,n=t.y,r=t.radius+u/2,i=t.radius+u/2,x=e-r<x?e-r:x,w=e+r>w?e+r:w,T=n-i<T?n-i:T,E=n+i>E?n+i:E;else if(a===_.SHAPES.ELIP)e=t.x,n=t.y,r=t.width+u/2,i=t.height+u/2,x=e-r<x?e-r:x,w=e+r>w?e+r:w,T=n-i<T?n-i:T,E=n+i>E?n+i:E;else for(l=t.points,c=0,h=0,f=0,d=0,p=0,y=0,g=0,v=0,m=0;m+2<l.length;m+=2)e=l[m],n=l[m+1],c=l[m+2],h=l[m+3],f=Math.abs(c-e),d=Math.abs(h-n),i=u,(r=Math.sqrt(f*f+d*d))<1e-9||(p=(i/r*d+f)/2,y=(i/r*f+d)/2,g=(c+e)/2,v=(h+n)/2,x=g-p<x?g-p:x,w=g+p>w?g+p:w,T=v-y<T?v-y:T,E=v+y>E?v+y:E);else x=0,w=0,T=0,E=0;b=this.boundsPadding,this._localBounds.minX=x-b,this._localBounds.maxX=w+b,this._localBounds.minY=T-b,this._localBounds.maxY=E+b},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new p["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===_.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,r=this.getLocalBounds(),i=c["default"].create(r.width,r.height,t,n);return S||(S=new O["default"]),this.transform.updateLocalTransform(),this.transform.localTransform.copy(A),A.invert(),A.tx-=r.x,A.ty-=r.y,S.render(this,i,!0,A),e=f["default"].fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics"),e.baseTexture.resolution=n,e.baseTexture.update(),e},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){var n,r,i;for(t.prototype.destroy.call(this,e),n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(r in this._webGL)for(i=0;i<this._webGL[r].data.length;++i)this._webGL[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(u["default"]),e["default"]=I,I._SPRITE_TEXTURE=null,I.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,s,a,u){var l,c,h=arguments.length>9&&arguments[9]!==undefined?arguments[9]:[],f=0,d=0,p=0,y=0,g=0;for(h.push(t,e),l=1,c=0;l<=u;++l)c=l/u,f=1-c,d=f*f,p=d*f,y=c*c,g=y*c,h.push(p*t+3*d*c*n+3*f*y*i+g*s,p*e+3*d*c*r+3*f*y*o+g*a);return h}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O;e.__esModule=!0,a=n(7),u=n(3),l=n(106),c=r(l),h=n(107),f=r(h),d=n(590),p=r(d),y=n(591),g=r(y),v=n(592),m=r(v),_=n(593),b=r(_),x=n(594),w=r(x),T=n(595),E=r(T),O=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return s(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new g["default"](this.gl)},e.prototype.destroy=function(){c["default"].prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e,n,r,i,o=this.renderer,s=o.gl,u=void 0,l=t._webGL[this.CONTEXT_UID];for(l&&t.dirty===l.dirty||(this.updateGraphics(t),l=t._webGL[this.CONTEXT_UID]),e=this.primitiveShader,o.bindShader(e),o.state.setBlendMode(t.blendMode),n=0,r=l.data.length;n<r;n++)u=l.data[n],i=u.shader,o.bindShader(i),i.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),i.uniforms.tint=(0,a.hex2rgb)(t.tint),i.uniforms.alpha=t.worldAlpha,o.bindVao(u.vao),u.nativeLines?s.drawArrays(s.LINES,0,u.points.length/6):u.vao.draw(s.TRIANGLE_STRIP,u.indices.length)},e.prototype.updateGraphics=function(t){var e,n,r,i,o,s,a=this.renderer.gl,l=t._webGL[this.CONTEXT_UID];if(l||(l=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:a,clearDirty:-1,dirty:-1}),l.dirty=t.dirty,t.clearDirty!==l.clearDirty){for(l.clearDirty=t.clearDirty,e=0;e<l.data.length;e++)this.graphicsDataPool.push(l.data[e]);l.data.length=0,l.lastIndex=0}for(n=void 0,r=void 0,i=l.lastIndex;i<t.graphicsData.length;i++)o=t.graphicsData[i],n=this.getWebGLData(l,0),o.nativeLines&&o.lineWidth&&(r=this.getWebGLData(l,0,!0),l.lastIndex++),o.type===u.SHAPES.POLY&&(0,m["default"])(o,n,r),o.type===u.SHAPES.RECT?(0,b["default"])(o,n,r):o.type===u.SHAPES.CIRC||o.type===u.SHAPES.ELIP?(0,E["default"])(o,n,r):o.type===u.SHAPES.RREC&&(0,w["default"])(o,n,r),l.lastIndex++;for(this.renderer.bindVao(null),s=0;s<l.data.length;s++)n=l.data[s],n.dirty&&n.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&(r=this.graphicsDataPool.pop()||new p["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),r.nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(c["default"]),e["default"]=O,f["default"].registerPlugin("graphics",O)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s;e.__esModule=!0,i=n(30),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=function(){function t(e,n,i){r(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o["default"].GLBuffer.createVertexBuffer(e),this.indexBuffer=o["default"].GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new o["default"].VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}(),e["default"]=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(82),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(n){return r(this,e),i(this,t.call(this,n,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}","varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}"))}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){var r,i,o,u,c,h,f,d,p,y,g,v,m,_,b,x,w;if(t.points=t.shape.points.slice(),r=t.points,t.fill&&r.length>=6){for(i=[],o=t.holes,u=0;u<o.length;u++)c=o[u],i.push(r.length/2),r=r.concat(c.points);if(h=e.points,f=e.indices,d=r.length/2,p=(0,a.hex2rgb)(t.fillColor),y=t.fillAlpha,g=p[0]*y,v=p[1]*y,m=p[2]*y,!(_=(0,l["default"])(r,i,2)))return;for(b=h.length/6,x=0;x<_.length;x+=3)f.push(_[x]+b),f.push(_[x]+b),f.push(_[x+1]+b),f.push(_[x+2]+b),f.push(_[x+2]+b);for(w=0;w<d;w++)h.push(r[2*w],r[2*w+1],g,v,m,y)}t.lineWidth>0&&(0,s["default"])(t,e,n)}var o,s,a,u,l;e.__esModule=!0,e["default"]=i,o=n(109),s=r(o),a=n(7),u=n(148),l=r(u)},function(t,e,n){"use strict";function r(t,e,n){var r,i,a,u,l,c,h,f,d,p=t.shape,y=p.x,g=p.y,v=p.width,m=p.height;t.fill&&(r=(0,s.hex2rgb)(t.fillColor),i=t.fillAlpha,a=r[0]*i,u=r[1]*i,l=r[2]*i,c=e.points,h=e.indices,f=c.length/6,c.push(y,g),c.push(a,u,l,i),c.push(y+v,g),c.push(a,u,l,i),c.push(y,g+m),c.push(a,u,l,i),c.push(y+v,g+m),c.push(a,u,l,i),h.push(f,f,f+1,f+2,f+3,f+3)),t.lineWidth&&(d=t.points,t.points=[y,g,y+v,g,y+v,g+m,y,g+m,y,g],(0,o["default"])(t,e,n),t.points=d)}var i,o,s;e.__esModule=!0,e["default"]=r,i=n(109),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=n(7)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){var r,i,o,a,l,f,d,p,y,g,v,m,_,b,x=t.shape,w=x.x,T=x.y,E=x.width,O=x.height,S=x.radius,A=[];if(A.push(w,T+S),s(w,T+O-S,w,T+O,w+S,T+O,A),s(w+E-S,T+O,w+E,T+O,w+E,T+O-S,A),s(w+E,T+S,w+E,T,w+E-S,T,A),s(w+S,T,w,T,w,T+S+1e-10,A),t.fill){for(r=(0,h.hex2rgb)(t.fillColor),i=t.fillAlpha,o=r[0]*i,a=r[1]*i,l=r[2]*i,f=e.points,d=e.indices,p=f.length/6,y=(0,u["default"])(A,null,2),g=0,v=y.length;g<v;g+=3)d.push(y[g]+p),d.push(y[g]+p),d.push(y[g+1]+p),d.push(y[g+2]+p),d.push(y[g+2]+p);for(m=0,_=A.length;m<_;m++)f.push(A[m],A[++m],o,a,l,i)}t.lineWidth&&(b=t.points,t.points=A,(0,c["default"])(t,e,n),t.points=b)}function o(t,e,n){return t+(e-t)*n}function s(t,e,n,r,i,s){var a,u,l=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[],c=20,h=l,f=0,d=0,p=0,y=0,g=0,v=0;for(a=0,u=0;a<=c;++a)u=a/c,f=o(t,n,u),d=o(e,r,u),p=o(n,i,u),y=o(r,s,u),g=o(f,p,u),v=o(d,y,u),h.push(g,v);return h}var a,u,l,c,h;e.__esModule=!0,e["default"]=i,a=n(148),u=r(a),l=n(109),c=r(l),h=n(7)},function(t,e,n){"use strict";function r(t,e,n){var r,i,u,l,c,h,f,d,p,y,g,v,m,_=t.shape,b=_.x,x=_.y,w=void 0,T=void 0;if(t.type===s.SHAPES.CIRC?(w=_.radius,T=_.radius):(w=_.width,T=_.height),0!==w&&0!==T){if(r=Math.floor(30*Math.sqrt(_.radius))||Math.floor(15*Math.sqrt(_.width+_.height)),i=2*Math.PI/r,t.fill){for(u=(0,a.hex2rgb)(t.fillColor),l=t.fillAlpha,c=u[0]*l,h=u[1]*l,f=u[2]*l,d=e.points,p=e.indices,y=d.length/6,p.push(y),g=0;g<r+1;g++)d.push(b,x,c,h,f,l),d.push(b+Math.sin(i*g)*w,x+Math.cos(i*g)*T,c,h,f,l),p.push(y++,y++);p.push(y-1)}if(t.lineWidth){for(v=t.points,t.points=[],m=0;m<r;m++)t.points.push(b+Math.sin(i*-m)*w,x+Math.cos(i*-m)*T);t.points.push(t.points[0],t.points[1]),(0,o["default"])(t,e,n),t.points=v}}}var i,o,s,a;e.__esModule=!0,e["default"]=r,i=n(109),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=n(3),a=n(7)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(80),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s=n(3),a=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e,n,r,i,o,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O=this.renderer,S=O.context,A=t.worldAlpha,P=t.transform.worldTransform,C=O.resolution;for(S.setTransform(P.a*C,P.b*C,P.c*C,P.d*C,P.tx*C,P.ty*C),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),O.setBlendMode(t.blendMode),e=0;e<t.graphicsData.length;e++)if(n=t.graphicsData[e],r=n.shape,i=n._fillTint,o=n._lineTint,S.lineWidth=n.lineWidth,n.type===s.SHAPES.POLY){for(S.beginPath(),this.renderPolygon(r.points,r.closed,S),a=0;a<n.holes.length;a++)this.renderPolygon(n.holes[a].points,!0,S);n.fill&&(S.globalAlpha=n.fillAlpha*A,S.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),S.fill()),n.lineWidth&&(S.globalAlpha=n.lineAlpha*A,S.strokeStyle="#"+("00000"+(0|o).toString(16)).substr(-6),S.stroke())}else n.type===s.SHAPES.RECT?((n.fillColor||0===n.fillColor)&&(S.globalAlpha=n.fillAlpha*A,S.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),S.fillRect(r.x,r.y,r.width,r.height)),n.lineWidth&&(S.globalAlpha=n.lineAlpha*A,S.strokeStyle="#"+("00000"+(0|o).toString(16)).substr(-6),S.strokeRect(r.x,r.y,r.width,r.height))):n.type===s.SHAPES.CIRC?(S.beginPath(),S.arc(r.x,r.y,r.radius,0,2*Math.PI),S.closePath(),n.fill&&(S.globalAlpha=n.fillAlpha*A,S.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),S.fill()),n.lineWidth&&(S.globalAlpha=n.lineAlpha*A,S.strokeStyle="#"+("00000"+(0|o).toString(16)).substr(-6),S.stroke())):n.type===s.SHAPES.ELIP?(u=2*r.width,l=2*r.height,c=r.x-u/2,h=r.y-l/2,S.beginPath(),f=.5522848,d=u/2*f,p=l/2*f,y=c+u,g=h+l,v=c+u/2,m=h+l/2,S.moveTo(c,m),S.bezierCurveTo(c,m-p,v-d,h,v,h),S.bezierCurveTo(v+d,h,y,m-p,y,m),S.bezierCurveTo(y,m+p,v+d,g,v,g),S.bezierCurveTo(v-d,g,c,m+p,c,m),S.closePath(),n.fill&&(S.globalAlpha=n.fillAlpha*A,S.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),S.fill()),n.lineWidth&&(S.globalAlpha=n.lineAlpha*A,S.strokeStyle="#"+("00000"+(0|o).toString(16)).substr(-6),S.stroke())):n.type===s.SHAPES.RREC&&(_=r.x,b=r.y,x=r.width,w=r.height,T=r.radius,E=Math.min(x,w)/2|0,T=T>E?E:T,S.beginPath(),S.moveTo(_,b+T),S.lineTo(_,b+w-T),S.quadraticCurveTo(_,b+w,_+T,b+w),S.lineTo(_+x-T,b+w),S.quadraticCurveTo(_+x,b+w,_+x,b+w-T),S.lineTo(_+x,b+T),S.quadraticCurveTo(_+x,b,_+x-T,b),S.lineTo(_+T,b),S.quadraticCurveTo(_,b,_,b+T),S.closePath(),(n.fillColor||0===n.fillColor)&&(S.globalAlpha=n.fillAlpha*A,S.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),S.fill()),n.lineWidth&&(S.globalAlpha=n.lineAlpha*A,S.strokeStyle="#"+("00000"+(0|o).toString(16)).substr(-6),S.stroke()))},t.prototype.updateGraphicsTint=function(t){var e,n,r,i,o,s,a;for(t._prevTint=t.tint,t.canvasTintDirty=t.dirty,e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i)o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor,o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}(),e["default"]=a,o["default"].registerPlugin("graphics",a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(5),s=n(7),a=function(){function t(e,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;r(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,s.getResolutionOfUrl)(t,null);return null===n&&(n=e!==undefined?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n,r,i,s,a,u,l,c=e,h=t.BATCH_SIZE,f=this.baseTexture.sourceScale;c-e<h&&c<this._frameKeys.length;)n=this._frameKeys[c],r=this._frames[n],i=r.frame,i&&(s=null,a=null,u=!1!==r.trimmed&&r.sourceSize?r.sourceSize:r.frame,l=new o.Rectangle(0,0,Math.floor(u.w*f)/this.resolution,Math.floor(u.h*f)/this.resolution),s=r.rotated?new o.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.h*f)/this.resolution,Math.floor(i.w*f)/this.resolution):new o.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution),!1!==r.trimmed&&r.spriteSourceSize&&(a=new o.Rectangle(Math.floor(r.spriteSourceSize.x*f)/this.resolution,Math.floor(r.spriteSourceSize.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution)),this.textures[n]=new o.Texture(this.baseTexture,s,l,a,r.rotated?2:0,r.anchor),o.Texture.addToCache(this.textures[n],n)),c++},t.prototype._processAnimations=function(){var t,e,n,r,i,o,s=this.data.animations||{};for(t in s)for(this.animations[t]=[],e=s[t],n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){if(n){if(r>=e.length)break;i=e[r++]}else{if(r=e.next(),r.done)break;i=r.value}o=i,this.animations[t].push(this.textures[o])}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];for(t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},t}(),e["default"]=a},function(t,e,n){"use strict";function r(t){if(!o[t]){var e=Error().stack;void 0===e||(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed),o[t]=!0}}function i(t){var e,n,i,o,s,a,u=t.mesh,l=t.particles,c=t.extras,h=t.filters,f=t.prepare,d=t.loaders,p=t.interaction;for(Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return r("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return r("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return r("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),u.Mesh}},Rope:{get:function(){return r("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),u.Rope}},ParticleContainer:{get:function(){return r("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),l.ParticleContainer}},MovieClip:{get:function(){return r("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),c.AnimatedSprite}},TilingSprite:{get:function(){return r("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),c.TilingSprite}},BitmapText:{get:function(){return r("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),c.BitmapText}},blendModes:{get:function(){return r("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return r("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return r("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return r("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return r("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return r("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return r("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}}),e=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],n=function(n){var i=e[n];Object.defineProperty(t[i.parent],"DEFAULT",{get:function(){return r("PIXI."+i.parent+".DEFAULT has been deprecated, please use PIXI.settings."+i.target),t.settings[i.target]},set:function(e){r("PIXI."+i.parent+".DEFAULT has been deprecated, please use PIXI.settings."+i.target),t.settings[i.target]=e}})},i=0;i<e.length;i++)n(i);Object.defineProperties(t.settings,{PRECISION:{get:function(){return r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),c.AnimatedSprite&&Object.defineProperties(c,{MovieClip:{get:function(){return r("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),c.AnimatedSprite}}}),c&&Object.defineProperties(c,{TextureTransform:{get:function(){return r("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,n){return r("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return r("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return r("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,n,i){this.legacyRenderer.render(t,this,n,e,!i),r("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return r("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return r("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return r("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return r("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,r("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},c.BitmapText&&(c.BitmapText.prototype.setText=function(t){this.text=t,r("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,r("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return r("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return r("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return r("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return r("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,r("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return r("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return r("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),e=e||{},e instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){r("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){var e,n,i,o,s;for(r("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal",e=t.split(" "),n=-1,this._fontSize=26,i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){n=i,this._fontSize=e[i];break}for(this._fontWeight="normal",o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){for(this._fontFamily="",s=n+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,r("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),r("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return r("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(h,{AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return r("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return r("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),h.AlphaFilter}}}),t.utils.uuid=function(){return r("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return r("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply},o=!0,Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(r("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),o=t},get:function(){return o}}),f.BasePrepare&&(f.BasePrepare.prototype.register=function(t,e){return r("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),f.canvas&&Object.defineProperty(f.canvas,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),f.webgl&&Object.defineProperty(f.webgl,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),d.Loader&&(s=d.Resource,a=d.Loader,Object.defineProperties(s.prototype,{isJson:{get:function(){return r("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===s.TYPE.JSON}},isXml:{get:function(){return r("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===s.TYPE.XML}},isImage:{get:function(){return r("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===s.TYPE.IMAGE}},isAudio:{get:function(){return r("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===s.TYPE.AUDIO}},isVideo:{get:function(){return r("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===s.TYPE.VIDEO}}}),Object.defineProperties(a.prototype,{before:{get:function(){return r("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return r("The after() method is deprecated, please use use()."),this.use}}})),p.interactiveTarget&&Object.defineProperty(p.interactiveTarget,"defaultCursor",{set:function(t){r("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return r("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),p.InteractionManager&&(Object.defineProperty(p.InteractionManager,"defaultCursorStyle",{set:function(t){r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles["default"]=t},get:function(){return r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles["default"]}}),Object.defineProperty(p.InteractionManager,"currentCursorStyle",{set:function(t){r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}e.__esModule=!0,e["default"]=i;var o={}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o;e.__esModule=!0,i=n(235),Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(600),Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return r(o)["default"]}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,o=n(5),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(146),u=r(a),l=n(235),c=r(l),s.utils.mixins.delayMixin(s.DisplayObject.prototype,c["default"]),h=9,f=100,d=0,p=0,y=2,g=1,v=-1e3,m=-1e3,_=2,b=function(){function t(e){i(this,t),!u["default"].tablet&&!u["default"].phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=f+"px",n.style.height=f+"px",n.style.position="absolute",n.style.top=d+"px",n.style.left=p+"px",n.style.zIndex=y,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=g+"px",e.style.height=g+"px",e.style.position="absolute",e.style.top=v+"px",e.style.left=m+"px",e.style.zIndex=_,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){var e,n;if(t.visible)for(t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId),e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])},t.prototype.update=function(){var t,e,n,r,i,o,a,u;if(this.renderer.renderingToScreen){for(this.updateAccessibleObjects(this.renderer._lastObjectRendered),t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,r=this.div,r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px",i=0;i<this.children.length;i++)o=this.children[i],o.renderId!==this.renderId?(o._accessibleActive=!1,s.utils.removeItems(this.children,i,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,i--,0===this.children.length&&this.deactivate()):(r=o._accessibleDiv,a=o.hitArea,u=o.worldTransform,o.hitArea?(r.style.left=(u.tx+a.x*u.a)*e+"px",r.style.top=(u.ty+a.y*u.d)*n+"px",r.style.width=a.width*u.a*e+"px",r.style.height=a.height*u.d*n+"px"):(a=o.getBounds(),this.capHitArea(a),r.style.left=a.x*e+"px",r.style.top=a.y*n+"px",r.style.width=a.width*e+"px",r.style.height=a.height*n+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint)));this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=f+"px",e.style.height=f+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=y,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){t.keyCode===h&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),e["default"]=b,s.WebGLRenderer.registerPlugin("accessibility",b),s.CanvasRenderer.registerPlugin("accessibility",b)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o;e.__esModule=!0,i=n(602),Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(603),Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return r(o)["default"]}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u;e.__esModule=!0,i=n(5),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=new o.Rectangle,a=4,u=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e,n,r,i,u,l,c=this.renderer,h=void 0,f=void 0,d=void 0,p=!1,y=void 0,g=!1;return t&&(t instanceof o.RenderTexture?y=t:(y=this.renderer.generateTexture(t),g=!0)),y?(h=y.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],f=h.resolution,d=y.frame,p=!1):(h=this.renderer.rootRenderTarget,f=h.resolution,p=!0,d=s,d.width=h.size.width,d.height=h.size.height),e=d.width*f,n=d.height*f,r=new o.CanvasRenderTarget(e,n,1),h&&(c.bindRenderTarget(h),i=new Uint8Array(a*e*n),u=c.gl,u.readPixels(d.x*f,d.y*f,e,n,u.RGBA,u.UNSIGNED_BYTE,i),l=r.context.getImageData(0,0,e,n),l.data.set(i),r.context.putImageData(l,0,0),p&&(r.context.scale(1,-1),r.context.drawImage(r.canvas,0,-n))),g&&y.destroy(!0),r.canvas},t.prototype.pixels=function(t){var e,n,r,i,u=this.renderer,l=void 0,c=void 0,h=void 0,f=void 0,d=!1;return t&&(t instanceof o.RenderTexture?f=t:(f=this.renderer.generateTexture(t),d=!0)),f?(l=f.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],c=l.resolution,h=f.frame):(l=this.renderer.rootRenderTarget,c=l.resolution,h=s,h.width=l.size.width,h.height=l.size.height),e=h.width*c,n=h.height*c,r=new Uint8Array(a*e*n),l&&(u.bindRenderTarget(l),i=u.gl,i.readPixels(h.x*c,h.y*c,e,n,i.RGBA,i.UNSIGNED_BYTE,r)),d&&f.destroy(!0),r},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}(),e["default"]=u,o.WebGLRenderer.registerPlugin("extract",u)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(5),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=new o.Rectangle,a=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e,n,r,i,a=this.renderer,u=void 0,l=void 0,c=void 0,h=void 0;return t&&(h=t instanceof o.RenderTexture?t:a.generateTexture(t)),h?(u=h.baseTexture._canvasRenderTarget.context,l=h.baseTexture._canvasRenderTarget.resolution,c=h.frame):(u=a.rootContext,c=s,c.width=this.renderer.width,c.height=this.renderer.height),e=c.width*l,n=c.height*l,r=new o.CanvasRenderTarget(e,n,1),i=u.getImageData(c.x*l,c.y*l,e,n),r.context.putImageData(i,0,0),r.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,r=void 0,i=void 0,a=void 0;return t&&(a=t instanceof o.RenderTexture?t:e.generateTexture(t)),a?(n=a.baseTexture._canvasRenderTarget.context,r=a.baseTexture._canvasRenderTarget.resolution,i=a.frame):(n=e.rootContext,i=s,i.width=e.width,i.height=e.height),n.getImageData(0,0,i.width*r,i.height*r).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}(),e["default"]=a,o.CanvasRenderer.registerPlugin("extract",a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=function(t){function e(n,o){r(this,e);var s=i(this,t.call(this,n[0]instanceof u.Texture?n[0]:n[0].texture));return s._textures=null,s._durations=null,s.textures=n,s._autoUpdate=!1!==o,s.animationSpeed=1,s.loop=!0,s.onComplete=null,s.onFrameChange=null,s.onLoop=null,s._currentTime=0,s.playing=!1,s}return o(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&u.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&u.ticker.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e,n,r=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){for(e=this._currentTime%1*this._durations[this.currentFrame],e+=r/60*1e3;e<0;)this._currentTime--,e+=this._durations[this.currentFrame];for(n=Math.sign(this.animationSpeed*t),this._currentTime=Math.floor(this._currentTime);e>=this._durations[this.currentFrame];)e-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=e/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){var n,r=[];for(n=0;n<t.length;++n)r.push(u.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){var n,r=[];for(n=0;n<t.length;++n)r.push(u.Texture.fromImage(t[n]));return new e(r)},s(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof u.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(u.Sprite),e["default"]=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c,h,f;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=n(153),c=function(t){return t&&t.__esModule?t:{"default":t}}(l),h=new u.Point,f=function(t){function e(n){var o,s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100,a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;return r(this,e),o=i(this,t.call(this,n)),o.tileTransform=new u.TransformStatic,o._width=s,o._height=a,o._canvasPattern=null,o.uvTransform=n.transform||new u.TextureMatrix(n),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return o(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e,n,r,i,o,s,a,l,h,f,d=this._texture;d.baseTexture.hasLoaded&&(e=t.context,n=this.worldTransform,r=t.resolution,i=d.baseTexture,o=i.resolution,s=this.tilePosition.x/this.tileScale.x%d._frame.width*o,a=this.tilePosition.y/this.tileScale.y%d._frame.height*o,this._textureID===this._texture._updateID&&this.cachedTint===this.tint||(this._textureID=this._texture._updateID,l=new u.CanvasRenderTarget(d._frame.width,d._frame.height,o),16777215!==this.tint?(this.tintedTexture=c["default"].getTintedTexture(this,this.tint),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(i.source,-d._frame.x*o,-d._frame.y*o),this.cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")),e.globalAlpha=this.worldAlpha,e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t.setBlendMode(this.blendMode),e.fillStyle=this._canvasPattern,e.scale(this.tileScale.x/o,this.tileScale.y/o),h=this.anchor.x*-this._width,f=this.anchor.y*-this._height,this.uvRespectAnchor?(e.translate(s,a),e.fillRect(-s+h,-a+f,this._width/this.tileScale.x*o,this._height/this.tileScale.y*o)):(e.translate(s+h,a+f),e.fillRect(-s,-a,this._width/this.tileScale.x*o,this._height/this.tileScale.y*o)))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){var e,n,r,i;return this.worldTransform.applyInverse(t,h),e=this._width,n=this._height,r=-e*this.anchor._x,h.x>=r&&h.x<r+e&&(i=-n*this.anchor._y,h.y>=i&&h.y<i+n)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(u.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=u.utils.TextureCache[t];if(!i)throw Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,o){return new e(u.Texture.fromImage(t,i,o),n,r)},s(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(u.Sprite),e["default"]=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c;e.__esModule=!0,s=n(5),a=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(s),u=n(3),n(43),l=new a.Matrix,c=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new a.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e,n,r,i,o,s,c,h,f,d,p,y=this.renderer,g=this.quad;y.bindVao(g.vao),e=g.vertices,e[0]=e[6]=t._width*-t.anchor.x,e[1]=e[3]=t._height*-t.anchor.y,e[2]=e[4]=t._width*(1-t.anchor.x),e[5]=e[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(e=g.uvs,e[0]=e[6]=-t.anchor.x,e[1]=e[3]=-t.anchor.y,e[2]=e[4]=1-t.anchor.x,e[5]=e[7]=1-t.anchor.y),g.upload(),n=t._texture,r=n.baseTexture,i=t.tileTransform.localTransform,o=t.uvTransform,s=r.isPowerOfTwo&&n.frame.width===r.width&&n.frame.height===r.height,s&&(r._glTextures[y.CONTEXT_UID]?s=r.wrapMode!==u.WRAP_MODES.CLAMP:r.wrapMode===u.WRAP_MODES.CLAMP&&(r.wrapMode=u.WRAP_MODES.REPEAT)),c=s?this.simpleShader:this.shader,y.bindShader(c),h=n.width,f=n.height,d=t._width,p=t._height,l.set(i.a*h/d,i.b*h/p,i.c*f/d,i.d*f/p,i.tx/d,i.ty/p),l.invert(),s?l.prepend(o.mapCoord):(c.uniforms.uMapCoord=o.mapCoord.toArray(!0),c.uniforms.uClampFrame=o.uClampFrame,c.uniforms.uClampOffset=o.uClampOffset),c.uniforms.uTransform=l.toArray(!0),c.uniforms.uColor=a.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,c.uniforms.uColor,r.premultipliedAlpha),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=y.bindTexture(n),y.setBlendMode(a.utils.correctBlendMode(t.blendMode,r.premultipliedAlpha)),g.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(a.ObjectRenderer),e["default"]=c,a.WebGLRenderer.registerPlugin("tilingSprite",c)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(5),l=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(u),c=n(204),h=r(c),f=n(7),d=n(16),p=r(d),y=function(t){function e(n){var r,s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return i(this,e),r=o(this,t.call(this)),r._textWidth=0,r._textHeight=0,r._glyphs=[],r._font={tint:s.tint!==undefined?s.tint:16777215,align:s.align||"left",name:null,size:0},r.font=s.font,r._text=n,r._maxWidth=0,r._maxLineHeight=0,r._letterSpacing=0,r._anchor=new h["default"](function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}return s(e,t),e.prototype.updateText=function(){var t,n,r,i,o,s,a,u,c,h,f,d,p,y,g=e.fonts[this._font.name],v=this._font.size/g.size,m=new l.Point,_=[],b=[],x=this.text.replace(/(?:\r\n|\r)/g,"\n"),w=x.length,T=this._maxWidth*g.size/this._font.size,E=null,O=0,S=0,A=0,P=-1,C=0,M=0,I=0;for(t=0;t<w;t++)n=x.charCodeAt(t),r=x.charAt(t),/(?:\s)/.test(r)&&(P=t,C=O),"\r"!==r&&"\n"!==r?(i=g.chars[n])&&(E&&i.kerning[E]&&(m.x+=i.kerning[E]),_.push({texture:i.texture,line:A,charCode:n,position:new l.Point(m.x+i.xOffset+this._letterSpacing/2,m.y+i.yOffset)}),m.x+=i.xAdvance+this._letterSpacing,O=m.x,I=Math.max(I,i.yOffset+i.texture.height),E=n,-1!==P&&T>0&&m.x>T&&(++M,l.utils.removeItems(_,1+P-M,1+t-P),t=P,P=-1,b.push(C),S=Math.max(S,C),A++,m.x=0,m.y+=g.lineHeight,E=null)):(b.push(O),S=Math.max(S,O),++A,++M,m.x=0,m.y+=g.lineHeight,E=null);for(o=x.charAt(x.length-1),"\r"!==o&&"\n"!==o&&(/(?:\s)/.test(o)&&(O=C),b.push(O),S=Math.max(S,O)),s=[],a=0;a<=A;a++)u=0,"right"===this._font.align?u=S-b[a]:"center"===this._font.align&&(u=(S-b[a])/2),s.push(u);for(c=_.length,h=this.tint,f=0;f<c;f++)d=this._glyphs[f],d?d.texture=_[f].texture:(d=new l.Sprite(_[f].texture),this._glyphs.push(d)),d.position.x=(_[f].position.x+s[_[f].line])*v,d.position.y=_[f].position.y*v,d.scale.x=d.scale.y=v,d.tint=h,d.parent||this.addChild(d);for(p=c;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);if(this._textWidth=S*v,this._textHeight=(m.y+g.lineHeight)*v,0!==this.anchor.x||0!==this.anchor.y)for(y=0;y<c;y++)this._glyphs[y].x-=this._textWidth*this.anchor.x,this._glyphs[y].y-=this._textHeight*this.anchor.y;this._maxLineHeight=I*v},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r,i,o,s,a,u,c,h,d,y,g,v,m,_,b,x={},w=t.getElementsByTagName("info")[0],T=t.getElementsByTagName("common")[0],E=t.getElementsByTagName("page"),O=(0,f.getResolutionOfUrl)(E[0].getAttribute("file"),p["default"].RESOLUTION),S={};for(x.font=w.getAttribute("face"),x.size=parseInt(w.getAttribute("size"),10),x.lineHeight=parseInt(T.getAttribute("lineHeight"),10)/O,x.chars={},n instanceof l.Texture&&(n=[n]),r=0;r<E.length;r++)i=E[r].getAttribute("id"),o=E[r].getAttribute("file"),S[i]=n instanceof Array?n[r]:n[o];for(s=t.getElementsByTagName("char"),a=0;a<s.length;a++)u=s[a],c=parseInt(u.getAttribute("id"),10),h=u.getAttribute("page")||0,d=new l.Rectangle(parseInt(u.getAttribute("x"),10)/O+S[h].frame.x/O,parseInt(u.getAttribute("y"),10)/O+S[h].frame.y/O,parseInt(u.getAttribute("width"),10)/O,parseInt(u.getAttribute("height"),10)/O),x.chars[c]={xOffset:parseInt(u.getAttribute("xoffset"),10)/O,yOffset:parseInt(u.getAttribute("yoffset"),10)/O,xAdvance:parseInt(u.getAttribute("xadvance"),10)/O,kerning:{},texture:new l.Texture(S[h].baseTexture,d),page:h};for(y=t.getElementsByTagName("kerning"),g=0;g<y.length;g++)v=y[g],m=parseInt(v.getAttribute("first"),10)/O,_=parseInt(v.getAttribute("second"),10)/O,b=parseInt(v.getAttribute("amount"),10)/O,x.chars[_]&&(x.chars[_].kerning[m]=b);return e.fonts[x.font]=x,x},a(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=""+t||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(l.Container),e["default"]=y,y.fonts={}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=n(5),a=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(s),u=n(51),l=r(u),c=n(68),h=r(c),f=n(7),d=a.DisplayObject,p=new a.Matrix;d.prototype._cacheAsBitmap=!1,d.prototype._cacheData=!1,o=function y(){i(this,y),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null},Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new o),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),d.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},d.prototype._initCachedDisplayObject=function(t){var e,n,r,i,o,s,u,c,d;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.currentRenderer.flush(),n=this.getLocalBounds().clone(),this._filters&&(r=this._filters[0].padding,n.pad(r)),i=t._activeRenderTarget,o=t.filterManager.filterStack,s=a.RenderTexture.create(0|n.width,0|n.height),u="cacheAsBitmap_"+(0,f.uid)(),this._cacheData.textureCacheId=u,h["default"].addToCache(s.baseTexture,u),l["default"].addToCache(s,u),c=p,c.tx=-n.x,c.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,s,!0,c,!0),t.bindRenderTarget(i),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null,d=new a.Sprite(s),d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-n.x/n.width,d.anchor.y=-n.y/n.height,d.alpha=e,d._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d))},d.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},d.prototype._initCachedDisplayObjectCanvas=function(t){var e,n,r,i,o,s,u;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(),n=this.alpha,this.alpha=1,r=t.context,i=a.RenderTexture.create(0|e.width,0|e.height),o="cacheAsBitmap_"+(0,f.uid)(),this._cacheData.textureCacheId=o,h["default"].addToCache(i.baseTexture,o),l["default"].addToCache(i,o),s=p,this.transform.localTransform.copy(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null,u=new a.Sprite(i),u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u._bounds=this._bounds,u.alpha=n,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=u,this.containsPoint=u.containsPoint.bind(u))},d.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},d.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},d.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,h["default"].removeFromCache(this._cacheData.textureCacheId),l["default"].removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},d.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){"use strict";var r=n(5),i=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(r);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){"use strict";var r=n(5),i=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(r);i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new i.Point,e=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,l,c,h;e.__esModule=!0,i=n(612),Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(613),Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return r(o)["default"]}}),s=n(614),Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(615),Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return r(a)["default"]}}),u=n(237),Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return r(u)["default"]}}),l=n(241),Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return r(l)["default"]}}),c=n(616),Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return r(c)["default"]}}),h=n(617),Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return r(h)["default"]}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(5),a=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(s),n(43),u=function(t){function e(){return r(this,e),i(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return o(e,t),e}(a.Filter),e["default"]=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),n(43),l=function(t){function e(){var n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.5,s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Math.random();return r(this,e),n=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n")),n.noise=o,n.seed=s,n}return o(e,t),s(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(u.Filter),e["default"]=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),n(43),l=function(t){function e(n,o){var s,a;return r(this,e),s=new u.Matrix,n.renderable=!1,a=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n")),a.maskSprite=n,a.maskMatrix=s,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=s,a.uniforms.scale={x:1,y:1},null!==o&&o!==undefined||(o=20),a.scale=new u.Point(o,o),a}return o(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},s(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(u.Filter),e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p;e.__esModule=!0,a=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(5),l=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(u),c=n(237),h=r(c),f=n(241),d=r(f),p=function(t){function e(n,r,s,a){i(this,e);var u=o(this,t.call(this));return u.blurXFilter=new h["default"](n,r,s,a),u.blurYFilter=new d["default"](n,r,s,a),u.padding=0,u.resolution=s||l.settings.RESOLUTION,u.quality=r||4,u.blur=n||8,u}return s(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},a(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(l.Filter),e["default"]=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),n(43),l=function(t){function e(){r(this,e);var n=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return o(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){var n,r,i,o,s,a,u,l,c,h,f,d,p,y,g;t=(t||0)/180*Math.PI,n=Math.cos(t),r=Math.sin(t),i=Math.sqrt,o=1/3,s=i(o),a=n+(1-n)*o,u=o*(1-n)-s*r,l=o*(1-n)+s*r,c=o*(1-n)+s*r,h=n+o*(1-n),f=o*(1-n)-s*r,d=o*(1-n)-s*r,p=o*(1-n)+s*r,y=n+o*(1-n),g=[a,u,l,0,0,c,h,f,0,0,d,p,y,0,0,0,0,0,1,0],this._loadMatrix(g,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,n,r,i){var o,s,a,u,l,c,h;t=t||.2,e=e||.15,n=n||16770432,r=r||3375104,o=(n>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=(r>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,s,a,t,0,u,l,c,e,0,o-u,s-l,a-c,0,0],this._loadMatrix(h,i)},e.prototype.night=function(t,e){t=t||.1;var n=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},s(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter),e["default"]=l,l.prototype.grayscale=l.prototype.greyscale},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),n(43),l=function(t){function e(){var n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return r(this,e),n=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n")),n.alpha=o,n.glShaderKey="alpha",n}return o(e,t),s(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter),e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u;e.__esModule=!0,i=n(242),Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(619),Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return r(o)["default"]}}),s=n(245),Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(244),Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return r(a)["default"]}}),u=n(243),Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return r(u)["default"]}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w;e.__esModule=!0,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(5),l=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(u),c=n(242),h=r(c),f=n(243),d=r(f),p=n(244),y=r(p),g=n(62),v=r(g),m=n(245),_=r(m),l.utils.mixins.delayMixin(l.DisplayObject.prototype,_["default"]),b=1,x={target:null,data:{global:null}},w=function(t){function e(n,r){i(this,e);var s=o(this,t.call(this));return r=r||{},s.renderer=n,s.autoPreventDefault=r.autoPreventDefault===undefined||r.autoPreventDefault,s.interactionFrequency=r.interactionFrequency||10,s.mouse=new h["default"],s.mouse.identifier=b,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[b]=s.mouse,s.interactionDataPool=[],s.eventData=new d["default"],s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={"default":"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new l.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return s(e,t),e.prototype.hitTest=function(t,e){return x.target=null,x.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(x,e,null,!0),x.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(l.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){var e,n,r;if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(e in this.activeInteractionData)this.activeInteractionData.hasOwnProperty(e)&&(n=this.activeInteractionData[e],n.originalEvent&&"touch"!==n.pointerType&&(r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n),this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)));this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":a(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r,i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},r=navigator.isCocoonJS?this.resolution:1/this.resolution,t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*r,t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*r},e.prototype.processInteractive=function(t,e,n,r,i){var o,s,a,u,l,c,h,f;if(!e||!e.visible)return!1;if(o=t.data.global,i=e.interactive||i,s=!1,a=i,u=!0,e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,u=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint(o)||(r=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(l=e.children,c=l.length-1;c>=0;c--)if(h=l[c],f=this.processInteractive(t,h,n,r,a)){if(!h.parent)continue;a=!1,f&&(t.target&&(r=!1),s=!0)}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),n&&n(t,e,!!s))),s},e.prototype.onPointerDown=function(t){var e,n,r,i,o,s,a;if(!this.supportsTouchEvents||"touch"!==t.pointerType)for(e=this.normalizeToPointerData(t),this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault(),n=e.length,r=0;r<n;r++)i=e[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o),s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType?this.emit("touchstart",s):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(a=2===i.button,this.emit(a?"rightdown":"mousedown",this.eventData))},e.prototype.processPointerDown=function(t,e,n){var r,i=t.data,o=t.data.identifier;n&&(e.trackedPointers[o]||(e.trackedPointers[o]=new y["default"](o)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(r=2===i.button,r?e.trackedPointers[o].rightDown=!0:e.trackedPointers[o].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)))},e.prototype.onPointerComplete=function(t,e,n){var r,i,o,s,a,u=this.normalizeToPointerData(t),l=u.length,c=t.target!==this.interactionDOMElement?"outside":"";for(r=0;r<l;r++)i=u[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o),s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,n,e||!c),this.emit(e?"pointercancel":"pointerup"+c,s),"mouse"===i.pointerType||"pen"===i.pointerType?(a=2===i.button,this.emit(a?"rightup"+c:"mouseup"+c,s)):"touch"===i.pointerType&&(this.emit(e?"touchcancel":"touchend"+c,s),this.releaseInteractionDataForPointerId(i.pointerId,o))},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;e.trackedPointers[r]!==undefined&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r,i,o,s,a=t.data,u=t.data.identifier,l=e.trackedPointers[u],c="touch"===a.pointerType,h="mouse"===a.pointerType||"pen"===a.pointerType,f=!1;h&&(r=2===a.button,i=y["default"].FLAGS,o=r?i.RIGHT_DOWN:i.LEFT_DOWN,s=l!==undefined&&l.flags&o,n?(this.dispatchEvent(e,r?"rightup":"mouseup",t),s&&(this.dispatchEvent(e,r?"rightclick":"click",t),f=!0)):s&&this.dispatchEvent(e,r?"rightupoutside":"mouseupoutside",t),l&&(r?l.rightDown=!1:l.leftDown=!1)),n?(this.dispatchEvent(e,"pointerup",t),c&&this.dispatchEvent(e,"touchend",t),l&&(h&&!f||this.dispatchEvent(e,"pointertap",t),c&&(this.dispatchEvent(e,"tap",t),l.over=!1))):l&&(this.dispatchEvent(e,"pointerupoutside",t),c&&this.dispatchEvent(e,"touchendoutside",t)),l&&l.none&&delete e.trackedPointers[u]},e.prototype.onPointerMove=function(t){var e,n,r,i,o,s,a;if(!this.supportsTouchEvents||"touch"!==t.pointerType){for(e=this.normalizeToPointerData(t),"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null),n=e.length,r=0;r<n;r++)i=e[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o),s.data.originalEvent=t,a="touch"!==i.pointerType||this.moveWhenInside,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s);"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){var e,n,r,i;this.supportsTouchEvents&&"touch"===t.pointerType||(e=this.normalizeToPointerData(t),n=e[0],"mouse"===n.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),r=this.getInteractionDataForPointerId(n),i=this.configureInteractionEventForDOMEvent(this.eventData,n,r),i.data.originalEvent=n,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===n.pointerType||"pen"===n.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier))},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[i];n&&!s&&(s=e.trackedPointers[i]=new y["default"](i)),s!==undefined&&(n&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),n=e[0],r=this.getInteractionDataForPointerId(n),i=this.configureInteractionEventForDOMEvent(this.eventData,n,r);i.data.originalEvent=n,"mouse"===n.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===b||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:(n=this.interactionDataPool.pop()||new h["default"],n.identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e,n,r,i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(e=0,n=t.changedTouches.length;e<n;e++)r=t.changedTouches[e],"undefined"==typeof r.button&&(r.button=t.touches.length?1:0),"undefined"==typeof r.buttons&&(r.buttons=t.touches.length?1:0),"undefined"==typeof r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),"undefined"==typeof r.width&&(r.width=r.radiusX||1),"undefined"==typeof r.height&&(r.height=r.radiusY||1),"undefined"==typeof r.tiltX&&(r.tiltX=0),"undefined"==typeof r.tiltY&&(r.tiltY=0),"undefined"==typeof r.pointerType&&(r.pointerType="touch"),"undefined"==typeof r.pointerId&&(r.pointerId=r.identifier||0),"undefined"==typeof r.pressure&&(r.pressure=r.force||.5),r.twist=0,r.tangentialPressure=0,"undefined"==typeof r.layerX&&(r.layerX=r.offsetX=r.clientX),"undefined"==typeof r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,i.push(r);else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?i.push(t):("undefined"==typeof t.isPrimary&&(t.isPrimary=!0),"undefined"==typeof t.width&&(t.width=1),"undefined"==typeof t.height&&(t.height=1),"undefined"==typeof t.tiltX&&(t.tiltX=0),"undefined"==typeof t.tiltY&&(t.tiltY=0),"undefined"==typeof t.pointerType&&(t.pointerType="mouse"),"undefined"==typeof t.pointerId&&(t.pointerId=b),"undefined"==typeof t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,i.push(t));return i},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(v["default"]),e["default"]=w,l.WebGLRenderer.registerPlugin("interaction",w),l.CanvasRenderer.registerPlugin("interaction",w)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,l,c,h,f,d;e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=undefined,i=n(246),Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return r(i)["default"]}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return i.parse}}),o=n(251),Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return r(o)["default"]}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}}),s=n(252),Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(83),Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return a.Resource}}),u=n(233),l=r(u),c=n(622),h=r(c),e.Loader=h["default"],f=new h["default"],f.destroy=function(){},e.shared=f,d=l["default"].prototype,d._loader=null,Object.defineProperty(d,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?f:new h["default"]}return this._loader}}),d._parentDestroy=d.destroy,d.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p,y,g,v;e.__esModule=!0,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(247),u=r(a),l=n(248),c=r(l),h=n(249),f=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(h),d=n(155),p=r(d),y=100,g=/(#[\w-]+)?$/,v=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;i(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=f.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new u["default"],this.onError=new u["default"],this.onLoad=new u["default"],this.onStart=new u["default"],this.onComplete=new u["default"]}return t.prototype.add=function(t,e,n,r){var i,s,a,u,l,c,h;if(Array.isArray(t)){for(i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===(void 0===t?"undefined":o(t))&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[t])throw Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new p["default"](t,e,n),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(s=n.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);for(l=s.progressChunk*(a.length+1),c=l/(a.length+2),s.children.push(this.resources[t]),s.progressChunk=c,h=0;h<a.length;++h)a[h].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){var t,e;this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(t in this.resources)e=this.resources[t],e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort();return this.resources={},this},t.prototype.load=function(t){var e,n,r;if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(e=this._queue._tasks.length,n=100/e,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e,n=(0,c["default"])(t,{strictMode:!0}),r=void 0;return r=n.protocol||!n.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(e=g.exec(r)[0],r=r.substr(0,r.length-e.length),-1!==r.indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=e),r},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,f.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=y,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),f.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},s(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}(),e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y,g,v,m,_,b;e.__esModule=!0,a=n(83),u=r(a),l=n(623),c=n(62),h=r(c),f=n(252),d=r(f),p=n(251),y=r(p),g=n(246),v=r(g),m=function(t){function e(n,r){var s,a;for(i(this,e),s=o(this,t.call(this,n,r)),h["default"].call(s),a=0;a<e._pixiMiddleware.length;++a)s.use(e._pixiMiddleware[a]());return s.onStart.add(function(t){return s.emit("start",t)}),s.onProgress.add(function(t,e){return s.emit("progress",t,e)}),s.onError.add(function(t,e,n){return s.emit("error",t,e,n)}),s.onLoad.add(function(t,e){return s.emit("load",t,e)}),s.onComplete.add(function(t,e){return s.emit("complete",t,e)}),s}return s(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(u["default"]),e["default"]=m;for(_ in h["default"].prototype)m.prototype[_]=h["default"].prototype[_];m._pixiMiddleware=[l.blobMiddlewareFactory,d["default"],y["default"],v["default"]],b=u["default"].Resource,b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return function(t,e){var n,r;if(!t.data)return void e();if(t.xhr&&t.xhrType===a["default"].XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")&&(r=function(){var n=c.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=a["default"].TYPE.IMAGE,t.data.onload=function(){c.revokeObjectURL(n),t.data.onload=null,e()},{v:void 0}}(),"object"===(void 0===r?"undefined":o(r))))return r.v}else if((n=t.xhr.getResponseHeader("content-type"))&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+l["default"].encodeBinary(t.xhr.responseText),t.type=a["default"].TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()});e()}}var o,s,a,u,l,c;e.__esModule=!0,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.blobMiddlewareFactory=i,s=n(155),a=r(s),u=n(250),l=r(u),c=window.URL||window.webkitURL},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,l;e.__esModule=!0,i=n(84),Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(625),Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return r(o)["default"]}}),s=n(626),Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(253),Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return r(a)["default"]}}),u=n(627),Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return r(u)["default"]}}),l=n(628),Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return r(l)["default"]}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p;e.__esModule=!0,a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=n(30),c=r(l),h=n(84),f=r(h),n(43),d=u.Matrix.IDENTITY,p=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.shader=null,r}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e,n,r=this.renderer,i=r.gl,o=t._texture;o.valid&&(e=t._glDatas[r.CONTEXT_UID],e||(r.bindVao(null),e={shader:this.shader,vertexBuffer:c["default"].GLBuffer.createVertexBuffer(i,t.vertices,i.STREAM_DRAW),uvBuffer:c["default"].GLBuffer.createVertexBuffer(i,t.uvs,i.STREAM_DRAW),indexBuffer:c["default"].GLBuffer.createIndexBuffer(i,t.indices,i.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty},e.vao=new c["default"].VertexArrayObject(i).addIndex(e.indexBuffer).addAttribute(e.vertexBuffer,e.shader.attributes.aVertexPosition,i.FLOAT,!1,8,0).addAttribute(e.uvBuffer,e.shader.attributes.aTextureCoord,i.FLOAT,!1,8,0),t._glDatas[r.CONTEXT_UID]=e),r.bindVao(e.vao),t.dirty!==e.dirty&&(e.dirty=t.dirty,e.uvBuffer.upload(t.uvs)),t.indexDirty!==e.indexDirty&&(e.indexDirty=t.indexDirty,e.indexBuffer.upload(t.indices)),t.vertexDirty!==e.vertexDirty&&(e.vertexDirty=t.vertexDirty,e.vertexBuffer.upload(t.vertices)),r.bindShader(e.shader),e.shader.uniforms.uSampler=r.bindTexture(o),r.state.setBlendMode(u.utils.correctBlendMode(t.blendMode,o.baseTexture.premultipliedAlpha)),e.shader.uniforms.uTransform&&(t.uploadUvTransform?e.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):e.shader.uniforms.uTransform=d.toArray(!0)),e.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),e.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,e.shader.uniforms.uColor,o.baseTexture.premultipliedAlpha),n=t.drawMode===f["default"].DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES,e.vao.draw(n,t.indices.length,0))},e}(u.ObjectRenderer),e["default"]=p,u.WebGLRenderer.registerPlugin("mesh",p)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u;e.__esModule=!0,i=n(5),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=n(84),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===a["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){var e,n,r=t.vertices.length/2;for(e=0;e<r-2;e++)n=2*e,this._renderDrawTriangle(t,n,n+2,n+4)},t.prototype._renderTriangles=function(t){var e,n,r,i,o=t.indices,s=o.length;for(e=0;e<s;e+=3)n=2*o[e],r=2*o[e+1],i=2*o[e+2],this._renderDrawTriangle(t,n,r,i)},t.prototype._renderDrawTriangle=function(t,e,n,r){var i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P,C,M,I,R,D,N,L,k=this.renderer.context,j=t.uvs,F=t.vertices,U=t._texture;U.valid&&(i=U.baseTexture,o=i.source,s=i.width,a=i.height,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,t.uploadUvTransform?(p=t._uvTransform.mapCoord,u=(j[e]*p.a+j[e+1]*p.c+p.tx)*i.width,l=(j[n]*p.a+j[n+1]*p.c+p.tx)*i.width,c=(j[r]*p.a+j[r+1]*p.c+p.tx)*i.width,h=(j[e]*p.b+j[e+1]*p.d+p.ty)*i.height,f=(j[n]*p.b+j[n+1]*p.d+p.ty)*i.height,d=(j[r]*p.b+j[r+1]*p.d+p.ty)*i.height):(u=j[e]*i.width,l=j[n]*i.width,c=j[r]*i.width,h=j[e+1]*i.height,f=j[n+1]*i.height,d=j[r+1]*i.height),y=F[e],g=F[n],v=F[r],m=F[e+1],_=F[n+1],b=F[r+1],x=t.canvasPadding/this.renderer.resolution,x>0&&(w=x/Math.abs(t.worldTransform.a),T=x/Math.abs(t.worldTransform.d),E=(y+g+v)/3,O=(m+_+b)/3,S=y-E,A=m-O,P=Math.sqrt(S*S+A*A),y=E+S/P*(P+w),m=O+A/P*(P+T),S=g-E,A=_-O,P=Math.sqrt(S*S+A*A),g=E+S/P*(P+w),_=O+A/P*(P+T),S=v-E,A=b-O,P=Math.sqrt(S*S+A*A),v=E+S/P*(P+w),b=O+A/P*(P+T)),k.save(),k.beginPath(),k.moveTo(y,m),k.lineTo(g,_),k.lineTo(v,b),k.closePath(),k.clip(),C=u*f+h*c+l*d-f*c-h*l-u*d,M=y*f+h*v+g*d-f*v-h*g-y*d,I=u*g+y*c+l*v-g*c-y*l-u*v,R=u*f*v+h*g*c+y*l*d-y*f*c-h*l*v-u*g*d,D=m*f+h*b+_*d-f*b-h*_-m*d,N=u*_+m*c+l*b-_*c-m*l-u*b,L=u*f*b+h*_*c+m*l*d-m*f*c-h*l*b-u*_*d,k.transform(M/C,D/C,I/C,N/C,R/C,L/C),k.drawImage(o,0,0,s*i.resolution,a*i.resolution,0,0,s,a),k.restore(),this.renderer.invalidateBlendMode())},t.prototype.renderMeshFlat=function(t){var e,n,r,i,o,s,a,u,l=this.renderer.context,c=t.vertices,h=c.length/2;for(l.beginPath(),e=1;e<h-2;++e)n=2*e,r=c[n],i=c[n+1],o=c[n+2],s=c[n+3],a=c[n+4],u=c[n+5],l.moveTo(r,i),l.lineTo(o,s),l.lineTo(a,u);l.fillStyle="#FF0000",l.fill(),l.closePath()},t.prototype.destroy=function(){this.renderer=null},t}(),e["default"]=u,o.CanvasRenderer.registerPlugin("mesh",u)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(253),u=function(t){return t&&t.__esModule?t:{"default":t}}(a),l=10,c=function(t){function e(n,o,s,a,u){r(this,e);var c=i(this,t.call(this,n,4,4));return c._origWidth=n.orig.width,c._origHeight=n.orig.height,c._width=c._origWidth,c._height=c._origHeight,c._leftWidth=void 0!==o?o:l,c._rightWidth=void 0!==a?a:l,c._topHeight=void 0!==s?s:l,c._bottomHeight=void 0!==u?u:l,c.refresh(!0),c}return o(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e,n,r,i,o,s,a=t.context;a.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),e=this.worldTransform,n=t.resolution,t.roundPixels?a.setTransform(e.a*n,e.b*n,e.c*n,e.d*n,e.tx*n|0,e.ty*n|0):a.setTransform(e.a*n,e.b*n,e.c*n,e.d*n,e.tx*n,e.ty*n),r=this._texture.baseTexture,i=r.source,o=r.width*r.resolution,s=r.height*r.resolution,this.drawSegment(a,i,o,s,0,1,10,11),this.drawSegment(a,i,o,s,2,3,12,13),this.drawSegment(a,i,o,s,4,5,14,15),this.drawSegment(a,i,o,s,8,9,18,19),this.drawSegment(a,i,o,s,10,11,20,21),this.drawSegment(a,i,o,s,12,13,22,23),this.drawSegment(a,i,o,s,16,17,26,27),this.drawSegment(a,i,o,s,18,19,28,29),this.drawSegment(a,i,o,s,20,21,30,31)},e.prototype.drawSegment=function(t,e,n,r,i,o,s,a){var u=this.uvs,l=this.vertices,c=(u[s]-u[i])*n,h=(u[a]-u[o])*r,f=l[s]-l[i],d=l[a]-l[o];c<1&&(c=1),h<1&&(h=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*n,u[o]*r,c,h,l[i],l[o],f,d)},e.prototype._refresh=function(){var e,n,r,i;t.prototype._refresh.call(this),e=this.uvs,n=this._texture,this._origWidth=n.orig.width,this._origHeight=n.orig.height,r=1/this._origWidth,i=1/this._origHeight,e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},s(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(u["default"]),e["default"]=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(84),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(n,o){r(this,e);var s=i(this,t.call(this,n));return s.points=o,s.vertices=new Float32Array(4*o.length),s.uvs=new Float32Array(4*o.length),s.colors=new Float32Array(2*o.length),s.indices=new Uint16Array(2*o.length),s.autoUpdate=!0,s.refresh(),s}return o(e,t),e.prototype._refresh=function(){var t,e,n,r,i,o,s,a=this.points;if(!(a.length<1)&&this._texture._uvs){for(this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(4*a.length),this.uvs=new Float32Array(4*a.length),this.colors=new Float32Array(2*a.length),this.indices=new Uint16Array(2*a.length)),t=this.uvs,e=this.indices,n=this.colors,t[0]=0,t[1]=0,t[2]=0,t[3]=1,n[0]=1,n[1]=1,e[0]=0,e[1]=1,r=a.length,i=1;i<r;i++)o=4*i,s=i/(r-1),t[o]=s,t[o+1]=0,t[o+2]=s,t[o+3]=1,o=2*i,n[o]=1,n[o+1]=1,o=2*i,e[o]=o,e[o+1]=o+1;this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t,e,n,r,i,o,s,a,u,l,c,h,f=this.points;if(!(f.length<1))for(t=f[0],e=void 0,n=0,r=0,i=this.vertices,o=f.length,s=0;s<o;s++)a=f[s],u=4*s,e=s<f.length-1?f[s+1]:a,r=-(e.x-t.x),n=e.y-t.y,l=10*(1-s/(o-1)),l>1&&(l=1),c=Math.sqrt(n*n+r*r),h=this._texture.height/2,n/=c,r/=c,n*=h,r*=h,i[u]=a.x+n,i[u+1]=a.y+r,i[u+2]=a.x-n,i[u+3]=a.y-r,t=a},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(a["default"]),e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o;e.__esModule=!0,i=n(630),Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(631),Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return r(o)["default"]}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,l,c;e.__esModule=!0,s=function(){function t(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=n(7),c=function(t){function e(){var n,o,s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1500,a=arguments[1],l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:16384,c=arguments.length>3&&arguments[3]!==undefined&&arguments[3];return r(this,e),n=i(this,t.call(this)),o=16384,l>o&&(l=o),l>s&&(l=s),n._properties=[!1,!0,!1,!1,!1],n._maxSize=s,n._batchSize=l,n._glBuffers={},n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=u.BLEND_MODES.NORMAL,n.autoResize=c,n.roundPixels=!0,n.baseTexture=null,n.setProperties(a),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}return o(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){var e,n,r,i,o,s,a,u,l,c,h,f;if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable)for(e=t.context,n=this.worldTransform,r=!0,i=0,o=0,s=0,a=0,t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform(),u=0;u<this.children.length;++u)l=this.children[u],l.visible&&(c=l._texture.frame,e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0?(r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,s=c.width*l.scale.x,a=c.height*l.scale.y):(r||(r=!0),l.displayObjectUpdateTransform(),h=l.worldTransform,t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),i=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,a=c.height),f=l._texture.baseTexture.resolution,e.drawImage(l._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution))},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},s(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,l.hex2rgb)(t,this.tintRgb)}}]),e}(u.Container),e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p;e.__esModule=!0,a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=n(632),c=r(l),h=n(633),f=r(h),d=n(7),p=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.shader=null,r.indexBuffer=null,r.properties=null,r.tempMatrix=new u.Matrix,r.CONTEXT_UID=0,r}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new c["default"](t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e,n,r,i,o,s,a,l,c,h,f=t.children,d=t._maxSize,p=t._batchSize,y=this.renderer,g=f.length;if(0!==g)for(g>d&&(g=d),e=t._glBuffers[y.CONTEXT_UID],e||(e=t._glBuffers[y.CONTEXT_UID]=this.generateBuffers(t)),n=f[0]._texture.baseTexture,this.renderer.setBlendMode(u.utils.correctBlendMode(t.blendMode,n.premultipliedAlpha)),r=y.gl,i=t.worldTransform.copy(this.tempMatrix),i.prepend(y._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=i.toArray(!0),this.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,n.premultipliedAlpha),this.shader.uniforms.uSampler=y.bindTexture(n),o=!1,s=0,a=0;s<g;s+=p,a+=1){if(l=g-s,l>p&&(l=p),a>=e.length){if(!t.autoResize)break;e.push(this._generateOneMoreBuffer(t))}c=e[a],c.uploadDynamic(f,s,l),h=t._bufferUpdateIDs[a]||0,o=o||c._updateID<h,o&&(c._updateID=t._updateID,c.uploadStatic(f,s,l)),y.bindVao(c.vao),c.vao.draw(r.TRIANGLES,6*l)}},e.prototype.generateBuffers=function(t){var e,n=this.renderer.gl,r=[],i=t._maxSize,o=t._batchSize,s=t._properties;for(e=0;e<i;e+=o)r.push(new f["default"](n,this.properties,s,o));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,r=t._properties;return new f["default"](e,this.properties,r,n)},e.prototype.uploadVertices=function(t,e,n,r,i,o){var s,a,u,l,c,h,f,d=0,p=0,y=0,g=0;for(s=0;s<n;++s)a=t[e+s],u=a._texture,l=a.scale.x,c=a.scale.y,h=u.trim,f=u.orig,h?(p=h.x-a.anchor.x*f.width,d=p+h.width,g=h.y-a.anchor.y*f.height,y=g+h.height):(d=f.width*(1-a.anchor.x),p=f.width*-a.anchor.x,y=f.height*(1-a.anchor.y),g=f.height*-a.anchor.y),r[o]=p*l,r[o+1]=g*c,r[o+i]=d*l,r[o+i+1]=g*c,r[o+2*i]=d*l,r[o+2*i+1]=y*c,r[o+3*i]=p*l,r[o+3*i+1]=y*c,o+=4*i},e.prototype.uploadPosition=function(t,e,n,r,i,o){var s,a;for(s=0;s<n;s++)a=t[e+s].position,r[o]=a.x,r[o+1]=a.y,r[o+i]=a.x,r[o+i+1]=a.y,r[o+2*i]=a.x,r[o+2*i+1]=a.y,r[o+3*i]=a.x,r[o+3*i+1]=a.y,o+=4*i},e.prototype.uploadRotation=function(t,e,n,r,i,o){var s,a;for(s=0;s<n;s++)a=t[e+s].rotation,r[o]=a,r[o+i]=a,r[o+2*i]=a,r[o+3*i]=a,o+=4*i},e.prototype.uploadUvs=function(t,e,n,r,i,o){var s,a;for(s=0;s<n;++s)a=t[e+s]._texture._uvs,a?(r[o]=a.x0,r[o+1]=a.y0,r[o+i]=a.x1,r[o+i+1]=a.y1,r[o+2*i]=a.x2,r[o+2*i+1]=a.y2,r[o+3*i]=a.x3,r[o+3*i+1]=a.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)},e.prototype.uploadTint=function(t,e,n,r,i,o){var s,a,u,l,c;for(s=0;s<n;++s)a=t[e+s],u=a._texture.baseTexture.premultipliedAlpha,l=a.alpha,c=l<1&&u?(0,d.premultiplyTint)(a._tintRGB,l):a._tintRGB+(255*l<<24),r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(u.ObjectRenderer),e["default"]=p,u.WebGLRenderer.registerPlugin("particle",p)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,s=n(82),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(n){return r(this,e),i(this,t.call(this,n,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}","varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}"))}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l;e.__esModule=!0,o=n(30),s=r(o),a=n(154),u=r(a),l=function(){function t(e,n,r,o){var s,a;for(i(this,t),this.gl=e,this.size=o,this.dynamicProperties=[],this.staticProperties=[],s=0;s<n.length;++s)a=n[s],a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},r[s]?this.dynamicProperties.push(a):this.staticProperties.push(a);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t,e,n,r,i,o,a,l,c,h,f,d=this.gl,p=0;for(this.indices=(0,u["default"])(this.size),this.indexBuffer=s["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW),this.dynamicStride=0,t=0;t<this.dynamicProperties.length;++t)e=this.dynamicProperties[t],e.offset=p,p+=e.size,this.dynamicStride+=e.size;for(n=new ArrayBuffer(this.size*this.dynamicStride*4*4),this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=s["default"].GLBuffer.createVertexBuffer(d,n,d.STREAM_DRAW),r=0,this.staticStride=0,i=0;i<this.staticProperties.length;++i)o=this.staticProperties[i],o.offset=r,r+=o.size,this.staticStride+=o.size;for(a=new ArrayBuffer(this.size*this.staticStride*4*4),this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=s["default"].GLBuffer.createVertexBuffer(d,a,d.STATIC_DRAW),this.vao=new s["default"].VertexArrayObject(d).addIndex(this.indexBuffer),l=0;l<this.dynamicProperties.length;++l)c=this.dynamicProperties[l],c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,d.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,d.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(h=0;h<this.staticProperties.length;++h)f=this.staticProperties[h],f.unsignedByte?this.vao.addAttribute(this.staticBuffer,f.attribute,d.UNSIGNED_BYTE,!0,4*this.staticStride,4*f.offset):this.vao.addAttribute(this.staticBuffer,f.attribute,d.FLOAT,!1,4*this.staticStride,4*f.offset)},t.prototype.uploadDynamic=function(t,e,n){var r,i;for(r=0;r<this.dynamicProperties.length;r++)i=this.dynamicProperties[r],i.uploadFunction(t,e,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset);this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){var r,i;for(r=0;r<this.staticProperties.length;r++)i=this.staticProperties[r],i.uploadFunction(t,e,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset);this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}(),e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u;e.__esModule=!0,i=n(635),Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return r(i)["default"]}}),o=n(636),Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return r(o)["default"]}}),s=n(156),Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return r(s)["default"]}}),a=n(254),Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return r(a)["default"]}}),u=n(637),Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return r(u)["default"]}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return e instanceof c.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function a(t,e){return e instanceof c.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function u(t,e){return t instanceof c.Graphics&&(e.push(t),!0)}var l,c,h,f,d;e.__esModule=!0,l=n(5),c=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(l),h=n(156),f=function(t){return t&&t.__esModule?t:{"default":t}}(h),d=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.uploadHookHelper=o.renderer,o.registerFindHook(u),o.registerUploadHook(s),o.registerUploadHook(a),o}return o(e,t),e}(f["default"]),e["default"]=d,c.WebGLRenderer.registerPlugin("prepare",d)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n,r,i;return e instanceof u.BaseTexture&&(n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),i=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height),t.ctx.drawImage(n,0,0,r,i,0,0,t.canvas.width,t.canvas.height),!0)}var a,u,l,c,h,f;e.__esModule=!0,a=n(5),u=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(a),l=n(156),c=function(t){return t&&t.__esModule?t:{"default":t}}(l),h=16,f=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.uploadHookHelper=o,o.canvas=document.createElement("canvas"),o.canvas.width=h,o.canvas.height=h,o.ctx=o.canvas.getContext("2d"),o.registerUploadHook(s),o}return o(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(c["default"]),e["default"]=f,u.CanvasRenderer.registerPlugin("prepare",f)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){r(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e["default"]=i},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABOCAYAAABSU1QqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAID0lEQVRo3s2abYxU1RnHf2cW3cnayJIq7ZysFQvfLGva7vUl7lIgqUL82kQBRTBURC0s3dHobvulDWhwNgsNaqQI1lJak6bqh2aJNEgLVZYxvqB88412PVPZmoJpN7O8+PTDfSbevd6Ze+/s5eX/affcO3f+85x7/ud5/s+BBBCRHufcPDJCtVxcWi0XlyS51yQkOFypVIy1dlEG5K4CjgACXJf3Sv9sdH8uAbnvA4uAW51zXVMklwN+A7QDM4DndKx5gsBAnb+bwXpgQeD/hUBv01MsItfqdOQqlQo6LXOttUebiF4ncBhoBTbrd68DJgAv75XebSaCj4buMUB/E+RagV36+dV5r7Q+75V6gft0bJfek5ygiMwGbo+4dLtzbnZKjhsBCyzOe6VttcG8V3oGWAx0ABvSRvBhYFrEeAvwSIroLVQSN+a90r7wdR27AbitWi4uSERQRDqAFQ2+d7lzriMBuXbgLuCmvFd6v959eu1GYLl+JjaCfcClDb77UuChBAGcC6zKe6WTwUHnXJ+I9IVIngRWAd9puIpFZCbwEdAWHNdVHMQ4cI219njS6XbOtQHPAncUCgWA3cCPjTHjaXRwXZhcHbSpriUldzVwELgjMLwUOCAi30pEUETagQdTrM77nXMzEpCbD5SB70Zc/h7whojMTxLBB4HLUxC8PO4HOefWAXuBKxvcdiXwioisrbuTiMhlwMfAFVFPiHgHa/gMmGWt/W+IWB54up4a6DsYhZ3AGmPMRDiCq+uRi8HXgXtD5DqAv8ZIVT2sBP6mUudHUERagQ9V7UkZQYAK8G1rbdU51w38EfhGow80iGAN/wJ+VIvgPY3IJUBBfznAU3HkEuKbwJM5EZmWUHTj8LBz7hJgkOwwlAOWAddk8LBZqmu7dbFNFR8Bv8ulEdsE6LPWngY2ZfCsJ4wxZ3LAA/pCThWfAvcHpKIyhWc5YAdAzhjzd8DTbLdZHAa6rLUHAay1VaA0hecNTtJBY8woME9/eVo8B/zAWjsaGt+mIp4W/wae+cpWZ4yZMMbco8nC6QQPOgP0WmtXasQmQXeWLU0Q3GKM+V/dbMYY8yvgFmCswUPGgB9aa+MIbAU+T0Huc/1M44TVGLMf6ALejLj8FuBZa/fHfZu19j8q3Emx1RhzIlFNYoz5B9CjulbDH4Bua+2xNGKryW0cxqNeiVyohuiulostAZLjxphlQBEoWmuXWGvHA/e3VMvFnpgoHge2JyC4zRhzPC4ffA/YXi0Xp4eiOWitHQz9mOn6xe8mEV3gVIPrp+ptkblQ4XICeB44VC0X5zSo1uYArwO/1c/EvYuj+ty6UqVSF1+T5L3Sq8CfgRGtaaPq3EPAcFSd2wCPA2fryNWmtObRADAKDFfLxdUBcvcCw7oVpbJArLUfAC9EXHrBGPNBavOoWi7O1UKnVVeXqBM1AVyf90pHUm+wzl2r76zRhPULoNMYczS1/aZuU3+gFK3ZZAPNkNMoHgVeDgy93IhcEndrMxB8z15VXZsKNtT5O70/qFN9FfCO3tsZZ9kmnOo9hUJBjDGLM8lCq+Xikmq5uDSrrNY5N09EejhfEJGbReRtEblba5yLByLSISIV+RIfisgaLWUvOLlWERmRaHwiIj9Vx+LcoloutlfLxe4IgjskHmMi8jM1plIjl4DcApWW10Pk1gaK9Ua4AvglcExENqj/mBiNdpJW1anb8P3lkwFy84FXgEuaCMq41iuD9RKEWIK6ze3Cd99vCPrLaja+EWOnJcEpLbg2Jd6LtS3Vi982MPhtg30Bcm3AATUds8IZTSIei9r2cqEdY68mjq3A2oh06tcZkwO/1bEMOCIif9Le4OQIamv0SfwGH8AW7QQFF0XfFIvxNNhT2wanBYgGp1tS+oNZw0ya4rxX2g10arYC0KvJaTBVGtSq7pzpPvCSlrSLGi2S9SovX1kk2uc4SLRb3yzO6iLZGNVFrScznSozVjXw/QDJqzXTzkJmngce13KgKaHeiN8IvCko1Nr32Et0szGJUG8HnogwnJpKWBfiNwRX5b3S2QDJdZpxp/FdngKG0rTPEh2q0A7k3LxXOhBKPHcS32r4TIuurerVNLecm8yM8/j9kOsjLldUN7eFmzznjaCS7NC9udZ6+FgL8Z1RvuEFgXOu2zl3xDl3t7YiMkMuo+eM6B7eh9/ez35LmcI7uBL/fMMsHf4U31AfvWAEnXNfw28gFvHbYGEcxjfWq+d1ip1zM5xzP9eFMFiHHLqqn46Qq57woYlMCDrnZjrnHlNiv8BvwcZhhYp5EK8BQ1G2XlNTrBLyEP5pjLYmZugMfjdgfyCK07UAGwb6815pIjVBPVn0CLCcxsdTkmBMU6hjAZJz8E1QB9zZyC0zEf5dP/6RqJYM1eIt/O7AeGiPH9Y8cAAYynulLyLfQedcl3PuRTUXl2ZMDs0fnw35j/uAn2j9UwL+onXR5Ag65/YAt56nTacY0S0Y4ktz9ATwgGb4fkVVKBTkAu+U4VpoEp+cVk9dwIv4nvG5wm5jTDh6q/HtZfCd3OvyXun3dReJnrh8VBdJlj7fm0BP8IxWaJH0A5ujFompY6vN1v11RUYy06W9v6DMjOC3Ou6sdzw0Vqj1cE2f7rvNCPVp4BbtngaF+hB+s2ggTqiTGpUz1To7KemwNvTOtVTLxZ1RJy2zclTb1YwcS0BuR0Sy0J02WWiW6GVq735Sh9zIxeRRr1HjvIZK7WDYRQMRmaYtiLdF5OYsn/1/yxgH/W5SK2QAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAA6CAYAAABhyH07AAAACXBIWXMAAAsTAAALEwEAmpwYAAAMG0lEQVR42u1dv4/cxhl93wyXvFsJPguQUhiSYzd2IkhJAFcKLDnuXBqIXBhuUthJlb8mVeIUbgQXVuEypS0ZMRAgTWQokRvLlqtIgCxD2rvlcualmBlylkfucrncu5NyBKjTHXlcPr5536/5hic4gO2ff/urLDr+2lvvE8/AdhRwykGB6bsdNbKPOk45SqCOGslPI055WsAdFLlPO045BIDhejxKxD4rOGXDIFf9fR4GqUPi1GIar2WoeRA4ZWCQQ49ybprUIXC2kdi21cgdFKcMBHLTfoebIHVdnKsSOTSxTThlTZBDnMtNELuM1HVxtpFJiDRfgOxI6lo4kw37x1XPYYdzDzovXUpmG4lt58TkajHSQGpvnNJj1MrAyu2rRPZV6To4YzK7ELn4AypiW5S6Ms5kYFXKwKrgIal1IZmLiFRg4zELYZtqBWSLUlfGmRwgmX18qBwCqdJHlYFItuBU/jbbiA2ktqi1M05ZwQxJl2N1QFL7PhyX2g2y9n3tOPua3rrZXRVnG5kkRObVKG3qa7tfQihSfb/EBHfCmaypzrZRKUuO7SMwumG65wVp+HBuWKWyyMSSYTDSMysS3WcLTmnEKQDFPQUpzwlXbTbBnXAmA5MptR0g64ClgUD/bCpCox10ULkA1BCkdiYzIlIacNV/PoclwkRAGIglhAy2NzLBq5K6TtqChtGp/ACrE6taBgfLmIGsgDtyCcBWFq4k9cC3yryKAAIGnH53z0FEQC0wMuLeKGGeAEAhaTGTrRmhSYjxI5yRJaJArHNNJCmIzfCqW9JXndw/IlWNyABat4zkuiJNSWIgV0QaSN2E6W1VZ1BmpEpVI1IJqAhoAjJinqacbCeYjQFAsZgQajeX7RyAFsAQYgFamXcvVrzRIyEQ6WV61UDVoUCm8rv2+4hAQvd1RCBt+X8CYBT9nqpds3d6FGPrgrMpNYmCH+WJVIQoUDTAhMAIZAJiJDCZwO68cOHNay9cePOawO4ITAa6cwiMACagaEJUpHZV+6zyHrqUGAO2ZEXimhx/nUwFR6KaI2feTMXKtAAs3Vcl7mtRKpO0EFH++2UjtY9KZTmZIozIBEQB1BAkoMNZHVcpRaeWVgQiFJ0SKqXDRKHDCaF2OMUQhLhnoJz5pf+o+ZQmUmorzmQA31k3swkrpSU1xTYRavxuPYowHAtUgVDYN+ZLm1RAz+x8ACQC0GEjdIRVA9AGaZLD2G9v/+OPAGCQWYM0AZABMHRYRQhThpUQ50q9GRdvduu+dEHxYZDCgtQCoJjMxO+6wZTGhNqI0FnkmyAx6S5SkIaROUjK0pZrVoFQ5DMJ5ZWpWWEsXUaBRBNja2CmLtrT1kDrQGjAyRDXOwSW/sNQBVj7VNqF1HWL8zGZKjKzAWiKef/YRmjhf55HARDFnc+aUg800q2p05lKQtWsUOoGsyROpYk2SMJ9arrjRgCDOR8JistYtFcpY5UOGeXKilUiwTzAQOaotsdBTvCJs9r187p/7fD5fVUrXYvt7iFT1UysJ1PKwE4cThXj9P5xRmAm87dX4hTQ0p3bOltTU2ljtJ/0lKY3P6W5DUFB2GMSUwDpyxffuLxz5tw7epS9CgBmNr3zw/3vPrl768ZN7J9Cs0Hx4h6cDWZXDkilChRb850ENMjYEo0iMlMBspcuXnl958y5q3q09YrDuff1D//97vq3X938gqU7CeGACwaFUBTRqBQsgAujm2q/C7lpCeWXKdSBIgN5PhwvCcz8ngLIzv/67T+Mnzv9XtMNTH58cO323z/9M4CpV+c0+v9MnIILADOIWKlUu6jOubZCFSiWPj1xBKZ0gVAgMAOQEZJ6Mrd+funt3493Tr/biPPRg4///eWnfyGwByAXsMQqQAHBTBzOPChWCWxMaEOtl415aI9gCC3lrjii1QBGL128crmNTAAYP3f6vZcvvnG5FjzphjRHerqElYMhBUq9pCkwknI3zfB4K8NknKDIwr0KMPrphcuvt5EJAOOd0+++dPHK6xLhTFBkGSbjDI+3Uu6m4gL8uYkO1ZCXLspN1QDWSdqCJADy/JkX31l2gZ0z596p/94CMg9jkxH3Rhkfb2d8cirD5FSC3RMaJvUuQT3/kxevdsB51efaWsOkCXZPZJicyvjkVMbH2yPujdbF2ovQjoVpAaD0KH11qVLcOaqxuF+7Ng+mYyJWhACQhHmSYDY+d+HKR2fPX/pQoxgrmFGFM3tlOc7slYBTwYw0ivHZ85c+PHfhykcJZmNf//U4pRdOhSOxHclm9QV327f1ZPM4+0a5ZMOUUMPUlzWz/E6Sbv1q0fXMbHonSmMap5vCz2SgfqNuOEk/V8lC0kKxmNz76sbvKDo1yKyFtt4fWjObfp2k279cjHPv64DTQhcGifn+9pcfCE1OjCaFpEWFk71wqkEs034yQyTKR/fvfbLsAv6cud9rIfWwNs5kazaVk7tTOfFwivHDAttPDHTuS3n20f171zvgvO5TFWOg8wLbT6YYP5zKiYdTObk7k63ZulhVj1HABWTGpTwDYPbNrc9vTn58cK3t4pMfH1z75tbnN32BwdRqu22kcghFxiW0WBHWTzzPl3U1c9nOpzi5N8V4UiCZhnslMLt768YXk0cPPm7F+ejBx3dv3fiCEc4CyXSK8WSKk3u5bOeumhi3pIBL0pZmo96Qi66Sh5bTZFExIYsqRa6w8IvfXNk5ffaqHmU/82b2P4/u3/vEk5mHvDPKRWc+Dy1KsnvmoaHfpgln1zyUEFf9KqfAAk5Ja4WFyztnzv1Wj7Z8AWXvzqP79657MqcuB0WBKg91ubZI4fNT0zcPfe2t99l3tqXqLHCT0UYcyeFh18t5/OZfn30G4POW0l99t6FkhjDx7bsYiJY+yYE3W9VW/U4KYChQQmc23b3STUX7k+7euvEZgBs1nJZzA5QBpxHAQmAFNKzFEKtWiRYFRWwoxy1qwwzTYHHqkdfOMUuK80Gd4XuDqouBPV3C0rFpqMsk3QdB0h4IioVTUK3oQXhS6af/dIzTkx+K8wFnjNHQzYNyUYC2rEq07mxLPQgSX4Q2EZg8IrPL9FlJZmRam4Kkg0yoooieFhQDoRbCzOfEpCdSa5jU56hw0azOaziLkmBBuKZdMZJfO21pUm1sdi2AIqqcx2R3neCugFZdC3HT2CDBUFNw1KRSQhjNS1Ica+4+/QwFazgTFFmCXaVdaRAGiRFsmziIisg0/lpW5gatS5dkhWBoiDxUmvLOiNTwM9VgjtGQ4thImUVbXrqpzr+Y1KiASx8pxSolXPdemHYKvt0CKDRynWKqzp6/9CcA+P72lx8QuvCEsowLwsDwnYB1dTZ1/i0jcxmhTX6TjVNdbqrO1goAygcDTf1EdbMdB0CxmbVenbajOtnTdUhMapNKBWJZuhWvWsL63iArrrdICWwuNLkS5YihyUWsj2xdAATAODML6021rchuVmfXFeDLOuKGbuOUBX7YRIqN+3Ntg0I7r9TquBRiaRunj+IXtHGKBigpd9OUj8cjzLYBYIbRbi4nJ66NU+ii2fk2zmhQB6X7RuBGMhfiTFb0m+XPo+apcHHju/PCxHf4XYsujdYxuIZG6z5k9o0PYqXC/+uU5IXsSS2boyt3oQtJjWBckPkEcI3WhaQzT5ZhVdaLzaytAmJZmcyhoty6Lw3ExA1dYSmEwRpLITbpOzvhFNCv6KBb1+LMb1CqVGPcEFpyOTHL5cS+pRBSroKo16ZDzXi9rvmuhLaqFCgDhvrNV4SKtFWduKQmjAYyN6HOpSql633xTz34VLDLYqU2nFIGWNWCpkBmX3WuotBFpNajJKn5vENdTjiY6UWlRYSFRSWx+wldZTlhx/Rk9RdPLVkqcBgLftc63nNJ/kYW/Abi28p5HXLNTjjXKSz0Od53au4g1NmKIzzgekqzv/ZbrdRuO76IzHXes9A3KOpK2pF4acaQpDaZ4EXEdjOPw7w0Y6F5WWEl2iZ6ewYjcsD3FA3yWps2IvuY2EU4k6FH8YKbOtAXT23aBMekxgQd9IunOino+NVw3XA+Fa+GWwPsJog9fnnjijiPX6+K/5PXqw4IFh0rKDgMMp81nMevKH/GcB7/EYFnDOfxn/l4xnDKUXgIx3+IZ7jtf/Gm66y5FYNXAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAACyUlEQVRIia3WzW9VRRgG8F9PtG7qhlA3GCBuSCiNHyTYBijUBESNCzfFD7ojmlKDEhbAf6BhQUioRFiWKLIxEE0aF9YUyQ2RGKHWdTFhY02AgAsgfizmPXBbztx7D/gkkzPzznOf587MOfO+XVcGdukAmzCMzViLXtzFNVzFefyAH9sJPdFmfg9GsKVirhtrom2P2Ay+wmd1DVfhOF6L8e/4AtP4DQt4Es8Gdyt2YijamxjD/FLhrootXY+zWBFGB3GmvzH5d+5fw+zgaBGmn2Albkgr/6mV4Xpciv457OpvTN5qZVRh3IMTeCdCG5pNiybuanwX/aN4q64Z9Dcmb+M9HInQVGg/ZHgcy6RD39ffmPynrlmT6b/YH1rLQnuR4Rh2SGe2O37wWAiN3aG5A+PNhm/H81BsSRW6sRcN3IrWiFh3xvQ2DsRwpDTcKL3KV3E6Y7YCF6WzHUBPtIGIXQxOFc6E9hA2FtINAqcz59aNb/BCRlDMfYunlk6EZrmQ4UK6rkgfdRU+aGNW4nm8n5krtTcXWBeDXzPkdzswa8cttdcVWB6DPzPkl2oYvpiJL8Szt8gQHhX32hEKD1a2PMP5uYZh7lh647lQYC4GfRnylzUMc9z770khJU94JUP+HJc7MLsS3CqUn975At/HYGekmKW4gzfwSwuzy3g9uIvQlLZgusAFKVOvFtdPBa7hZXwspa+/ol2K2IbgVGEktGdwocyH4zgmXbR9Le7TWojcOCcl5A8xUW7hhJS3VuLk7OBo1/9g1oWToTkVHovy4RiuS5njSOY865gdDq3roW2p4Ty2Rf8jfD07OPr0I5j14JSUgEmF2Hw530kRdUAqolpWALEjI/hU2sabeFVKXfdRZUjrMnEOf0T8GenCGA6z5yI+pUaZ2IzxEBpqRWrCjJRwJ3KEdoYlmkv9PmllpJXOSbfVtA5K/f8AxcDFCGTQ1WMAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAaCAYAAABLlle3AAACfElEQVRIibWWP2hTURTGf/mD0MHJCkmcHSykHapCu4hODtahuIkiotVJNMEniHRzMLWLoMXqIgEXoYNdtIOCgyFRQat1cZU80Th1SDvE43DPy7t9ef8C+sHlvtxzvvPlHu6952REhDB8njrjfc4AZ4EvwAcdruVaBCZ1lIEnwGq5UQ+NC5CPtPhYBX4Dz4CSrrWBb8B+a80FTgFvkwJmU4iigQ5ZAUvAEUuwARxMIziMKJjdHQOWA+uPgKNqT4VhRAG2gUs6NoHLwJyup0aYaA5YLDfqhRjeMrAPeBjjUwAWNV6iaBWoAOvlRn0mJuhmlEF56xqnOuAgIvY4ICJd8fFHRB6IyEjAL2qMiMh95Xnoaty+n03IiUhTwrEhIuMJguPqF4amxh8QdSIIHrZE5JqIZAJiGRG5qvY4OEHRMdmZ1ji8FJGC8goi8iIlr6s6JKU1Cj9F5KbOw6ApIrk0af3XcPKu62ZirsV/QRa4C7SG5P0Cbuk8DFrAYhboAedJ/5StARPAbZ3XUvK2VafnvUgbwHwKUhU4jl9PXf1dTfGn51WHTLvdLw45TGk6HEL4CpwGPsYEnQCeAmMhthYwjcnqjrfXS/NWgLCEqaVxggCf1G8JsNuRflq9BXunHhzgDuaQXOjMOs8TxAYwulI7CTwG9gI3gJptDxPNAQvAQmfWcYNGC7uJqTSjK7WCbuA61i4hvLT1gEqC4EXgO6aAR+EHprT1goZ8sVgMZXTCA+0C7mE6BzBFfBK4QuD0RsWF4dqVIvDaEvQwB7zCb9ISkVZ0CniPOfZg7ucb/Ps6Dbyz7LFI0/eeAM5huj6v2bZPXwm/2a4AezC9ciT+Amca/osOx0LIAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAADJklEQVRIibXWXW8UVRjA8f+ZM2c2BrtKu8tLBUUuvPQab/UTeIEaE6I0kVJTjBC2hYR025JAGl5DJVBvinwA703AO5QLfOkFKQZaC8YoK5U4sktX5szjxezQ3XZfZqg+NzNncs7zm2fmzJmjqtV/SBNaayqVyoVSqbTkOM7+VIMBN+0AYALYWzt/CIz/n+AJ4GBdewxQtWOicNaAxTEKFP9rsBWWGk0CdsLq0ZG1gkmxOMboUGk7MC0Wx2g7tBX4rFg9OpoUPL1GLI4icLQTeBZIsnqMAMcS9Duysl/9h38O2JcgyUmW77yb5VWnVRwmKuwQLFf4WQqs4HY9j9vzAoQyAFxMMG6YaEnEBS4DuxJhShW0dijP/ET5jxJdO14nKP05gFIK6O8wfghY5wA/J8MoeMbl0Y2bzL39KQu7Ryh/M0Pm1S0gsheYSpBnwSGaTYOdKvOMwb9xk/ldR8DVKM+wMHAU/8p1Mtu3RqhwoU2eD4GT8Ts83wI9EWEu/nezzL1/GIIAk1uP25OFUFj4aAz/6nUy218G5GNEzjfJ8wHwBTR+FivRCZQa8oyL//0sd94dgjDEbM4h1hbFhsMm3x09p74i/tcxyiDC5ArsctxQTf74RYQcin2eZyJsZwEQvN48jg33P7bB6cVgCQfVr7T+/ElpEUJh2/Q42bfeoDp/D1BTKG4TzWzagaAUnnHxf7jFnZ0HUSKY3jwS2ANaqVOPbUANBIjQ+4sgwrZL42Tf3EF1/hdQalXqVUubAKaGzb1TQMFTDDi1+u6YEmv3mI094DjR473yLaY3D2HYHhQRMp5h6fcHzL83DCKYzTlPAnuoBVaPDpoN3S5KcXfPONXb9zBbNiK2EW0Atat54pf5dewi9lEFsymHBPY14HgbLI5JsfYVk19PWFnit4lpggcPcZ7LtAG15u8fZ/nry6t4Wzch1gLcAg4kAPuBu2JDzEsb8L+6RvnaDG53tqHTql2b0hr9YheIxC89AM7UjudaYLuBS09bIujsOpRxIZTWFUaiajq7gEngkybX+xqwDnnSbBOboX3AdJoEz7LzngSyQDUtBvAv0mIloo9Bm6YAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAxElEQVQ4jdXVvQ3CMBCG4deIPtvYokeEJRiRAcgEgETFFJRpKGhMEUckjn/OklPwSSniXB6dZPmsrLWWIYo6sQCbStgiW+p1OkbByh3P8tydosWvzzv6bf84z95LOtaAkRZLYQ10wEWKS2Dj0MY9IjwHGwc1kzURnoJDqI/rUjiFTvEuhsfgkkMTrI3BV+AI9AmwB1rgVgKPeBvBk2gOxv3o41lUAvu4CIXArEjgB4aNyqIlMMC9oBb1u0DqZtV5/F933hcN+C0gkvipRQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUKCRMLyencqAAAAKFJREFUGNOtkLsNwkAQRN/uno6TA5dCREY5RFTgFqjAkUugDXqgDgeWsXy3BEjIn4SAFz/NaEaej7tfrjf6YWaaCktiVOoq0LUNcj6efJwK4yszZ1+JwYR0MFJUQj/MlOzkspYAcnHGV2aaC2Fbt8SdT0t2lB/5vxhi1O8Y3+wRAVNBTdC6CqSDYSq7FNPPPXUV0K5tSFFR24tqQopK1za8AXLSPoZWdT/LAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUKCRAhOX9GvQAAAK1JREFUGNN9kL1tw0AMRh/J00+u8A7pg0zkJouo8iJ2ozEyQ1ZxIdjyUXQRQzjIsF9L4vHjJ3+/Y+x/DpynG5d5oeajM3a5YTwOyPfnV1xmZ7o6xYOIWBebpOTO6FsjnacbxQNfgi2+BNPVmctCqs/VNhEhAooHxQOtDSLCK/TVoLa/XdyS+lbXZzYSRMBUSCboLjfkzjB9zmcq5EeXOh6H/55MnnIlE/rWGE8Dd+VIS5p5G3zJAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAaCAYAAACHD21cAAABvklEQVQ4jZXUzUuUURTH8c/zNI3JWBTVxk2ou17+BYnKRQlBq6IgN4kItWsltLCFtGkjrqSdSLWpRS9g/0LLoIghiCAG1El0kTajPi2eO/Ykd6bpwIV7zvl97+u5N8myTBu7V6vVEszGkqU20ElMhv4zLO8XpG3AEQyEdikmaAeO41Bo492ClzFc8IdDrCNYweN98TTEKp3AKxiMrGIw5KJgGTfQEwF7Qq4cAwcwGoFaNho0f4El+UXHZivOOhu0e+B5+d39y0aCVope3EHSBZgEbW+KIVzoAmrZRQylmJDXZrd2ApMpfqH5H2ATmymm8AiNLqBG0E6lwZnGGKodoGrQTKORFB5ygtN4g1NQq9VauW/ykvuIDJKt9/f3hjxw7JzS4M3jktIcrgXwpWznbt/a23p588+CiiV3ZmftQ9r4NFeXn/TD0CaOrDytlzerKc7GwBWMZT+/V5rVJxt2GzNJ1pw5XH+xUWouV8L+lmPgalj//O765/7mlwV9P145uPW1H/Mht7p3IMU9ygv4NY7ieog9x7r8dWwXhUXbxm28CwPADq4WoRgo7OMBFoN/S+R7bPevLmFBfrdLMcFvAzZ3NZrkgMQAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUKCRsYhY4XfgAAAFBJREFUGNNjYKA2YETm/H99WpKBgcEUyj3NKGr6HEMhVFEHAwODH1RoEwMDQwVMMROSgaZQRQJQ7IdkOopCvABZ4WmodR+geBNUjDTPUB8AAP7FFgoMHrOJAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gURBgkitzIpvAAAAIVJREFUGNNjFOVTZsANmBjwAhTpACGJACEJZBEWOMtfUDJTVJaBgeH/f8aN759DBJm52YV4mFj8hMQzRGWZmJkZGRlNuPi+/P974/sXqOHf/v35i8NuZm52of8MDDe+f/n8758JF+////+nvXq88f0LdLs3vn/OyPifgYEBLsfAwMBIkb8B5p8niZGv2WMAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gURCxEQ9SZzNgAAAH5JREFUGNONj8sRwjAMRN86LoAbDZCBDnAL9ECdmYEOcuRKL/FyiCEeEz570IxW0pOkWzr7dB/JNjZvip0Y+iPabnbugpiykYSbbpUQAaY8F72CdAmBPyRpJkpaCIVae1CIqysbL/5a+xyI9dktuKaGxfz2DITrIb2ST7rsEw/kWS/rdztPugAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAABQElEQVRYhe2YPW7CQBCFPyx63ySlLXpEcglOR80BwgXASDTJKVLSpEhjivUqxn947beJVuyTaMzw9tMwnvF4UZYlYlnDhdI0UZr51NKDpzSTVsFkNIKqFUHVenjXf6y2rWsvx533uKaCyagLaMnv1PnLOCCgjLpMprETRx1ngj08lHjR5Fn/2XH3Wn39fPd+t77sJ53no0YzIFebqkEz4AC8I4ZVguYYyLT6SGFVkynHgKW1axb2FSgc/VpSZLQL0srCZnMPSZg3SYYgrVJMSTRhnc6dm1GXpj1rRUkqgzEmXXEn4A24DvzuSqNOB/x6z508mRoN/64Eag2/BfnfDb+ogOqZ7cvkJCn7aB1WCgn6vb4ANpi6kkGCnxcQZw+ejx/z4s7kqLgzqRV3JrWC+esjqFoRVK2nBnWaOGMVTEZvcWpnEw1dYFkAAAAASUVORK5CYII="},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p,y,g;e.__esModule=!0,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(42),a=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(s),u=n(44),r(u),l=n(157),c=n(158),h=r(c),f=310,d=590,p=410,y=690,g=function(){function t(e){i(this,t),Object.defineProperty(this,"updateListener",{enumerable:!0,writable:!0,value:new h["default"]}),Object.defineProperty(this,"disabledUpdateListener",{enumerable:!0,writable:!0,value:new h["default"]}),Object.defineProperty(this,"activeUpdateListener",{enumerable:!0,writable:!0,value:new h["default"]}),Object.defineProperty(this,"enemyUpdateListener",{enumerable:!0,writable:!0,value:new h["default"]}),Object.defineProperty(this,"activeLineUpdateListener",{enumerable:!0,writable:!0,value:new h["default"]}),Object.defineProperty(this,"activePossition",{enumerable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"linePolygon",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"enemylinePolygons",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"activeLinePolygon",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"disabledLinePolygon",{enumerable:!0,writable:!0,value:[]}),this.init(),this.gameControl=e}return t.prototype.init=function(){this.linePolygon=[{x:d,y:f},{x:d,y:p},{x:y,y:p},{x:y,y:f}],this.savePIXIPolygon(this.linePolygon)},t.prototype.isOnLine=function(t){var e,n,r,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.linePolygon;for(e=0;e<i.length;e++)if(n=i[e],r=i[(e+1)%i.length],this.pointOnLine(t,n,r))return!0;return!1},t.prototype.isOnActiveLine=function(t){var e,n,r,i=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];for(e=0;e<this.activeLinePolygon.length;e++){if(n=this.activeLinePolygon[e],r=this.activeLinePolygon[e+1]||this.activePossition,!i&&r===this.activePossition)return!1;if(this.pointOnLine(t,n,r))return!0}return!1},t.prototype.isOnEnemyLine=function(t){var e=this;return void 0!==this.enemylinePolygons.find(function(n){return e.isOnLine(t,n)})},t.prototype.isOnLineVertical=function(t){var e,n,r;for(e=0;e<this.linePolygon.length;e++)if(n=this.linePolygon[e],r=this.linePolygon[(e+1)%this.linePolygon.length],n.x===r.x&&this.pointOnLine(t,n,r))return!0;return!1},t.prototype.removeEnemyPolygon=function(){this.enemylinePolygons.pop(),this.enemyUpdateListener.dispatch()},t.prototype.savePIXIPolygon=function(t){this.pixiPolygon=new a.Polygon(t.map(function(t){return new a.Point(t.x,t.y)}))},t.prototype.recalculate=function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],n=this.getStartCandidates(),r=[].concat(this.getMustHaves(),this.activeLinePolygon),i=[];return n.find(function(n){return i=t.recalculate2(n,n,[],r),t.checkMustHaves(r,i)&&void 0===e.find(function(e){return t.savePIXIPolygon(i),!t.isInside(e)})}),i=i.filter(function(t,e){var n,r;return 0===e||(n=i[e-1],r=i[(e+1)%i.length],(t.x!==n.x||t.x!==r.x)&&(t.y!==n.y||t.y!==r.y))}),this.savePIXIPolygon(i),i},t.prototype.recalculate2=function(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,r=this,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[],o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[],s=this.getNeighbours(t,o);return i.push(t),e=[],s.find(function(s){if(s===n)return e.push(t),!0;if(r.checkPassed(s,i))return!1;var a=r.recalculate2(s,n,i,o);return a.length>0&&(e=[t].concat(a),!0)}),e.reduce(function(t,e){return t.find(function(t){return e.x===t.x&&e.y===t.y})||t.push(e),t},[])},t.prototype.joinActiveLine=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return 2===this.activeLinePolygon.length&&(this.activeLinePolygon.push(this.activeLinePolygon[1]),this.activeLinePolygon.push(this.activeLinePolygon[0])),this.activeLinePolygon=this.toClockWise(this.activeLinePolygon),this.linePolygon.push(this.linePolygon[0]),this.linePolygon=this.linePolygon.concat(this.activeLinePolygon),this.linePolygon=this.recalculate(t),this.activeLinePolygon=[],this.updateListener.dispatch(),this.activeUpdateListener.dispatch(),this.activeLineUpdateListener.dispatch(),this.linePolygon},t.prototype.updateSuperActiveLine=function(t,e){this.activePossition.x=t,this.activePossition.y=e,this.activeLineUpdateListener.dispatch()},t.prototype.updateActiveLine=function(t){this.activeLinePolygon.push(t),this.activeUpdateListener.dispatch()},t.prototype.clearActiveLine=function(){var t=this;this.disabledLinePolygon=[].concat(this.activeLinePolygon,[this.activePossition]),setTimeout(function(){t.disabledLinePolygon=[],t.disabledUpdateListener.dispatch()},1900),this.activeLinePolygon=[],this.activeUpdateListener.dispatch(),this.disabledUpdateListener.dispatch(),this.activeLineUpdateListener.dispatch()},t.prototype.toClockWise=function(t){var e,n,r,i=0;for(e=0;e<t.length;e++)n=t[e],r=t[(e+1)%t.length],i+=(r.x-n.x)*(r.y+n.y);return i<0?[].concat(t).reverse():t},t.prototype.getNeighbours=function(t){var e,n,r=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],o=this.linePolygon.reduce(function(e,n){var r,i;if(n===t)return e;if(n.y!==t.y&&n.x!==t.x)return e;if(n.y===t.y){if((r=t.x-n.x)<0&&(!e.nextX||r>t.x-e.nextX.x))return e.nextX=n,e;if(r>0&&(!e.prevX||r<t.x-e.prevX.x))return e.prevX=n,e}else{if((i=t.y-n.y)<0&&(!e.nextY||i>t.y-e.nextY.y))return e.nextY=n,e;if(i>0&&(!e.prevY||i<t.y-e.prevY.y))return e.prevY=n,e}return e},{nextX:null,prevY:null,nextY:null,prevX:null}),s=[];return o.nextY&&!s.includes(o.nextY)&&s.push(o.nextY),o.nextX&&!s.includes(o.nextX)&&s.push(o.nextX),o.prevY&&!s.includes(o.prevY)&&s.push(o.prevY),o.prevX&&!s.includes(o.prevX)&&s.push(o.prevX),e=!1,this.linePolygon.forEach(function(n,i){if(n.y===t.y&&n.x===t.x){var o=r.linePolygon[i+1];o&&s.find(function(t){return o.x===t.x&&o.y===t.y})&&(s=s.filter(function(t){return t.x!==o.x||t.y!==o.y}),s.unshift(o),e=!0)}}),n=[],e||s.find(function(t){var e=i.find(function(e){return t.y===e.y&&t.x===e.x});return e&&(s=s.filter(function(t){return t.x!==e.x||t.y!==e.y}),n.push(e)),!1}),[].concat(n,s)},t.prototype.isInside=function(t){return!!this.isOnLine(t)||this.pixiPolygon.contains(t.x,t.y)},t.prototype.pointOnLine=function(t,e,n){return t.x===e.x&&t.y===e.y||(t.x===n.x&&t.y===n.y||(t.x===e.x&&t.x===n.x?e.y<=t.y&&n.y>=t.y||e.y>=t.y&&n.y<=t.y:t.y===e.y&&t.y===n.y&&(e.x>=t.x&&n.x<=t.x||e.x<=t.x&&n.x>=t.x)))},t.prototype.getMostLeftDown=function(){var t,e,n;for(t=0;t<=1280;t+=l.SPACING)if(e=this.getPointByX({x:t,y:0}),0!==e.length&&(n=function(){var t=null;return e.forEach(function(e){(!t||e.y<t.y)&&(t=e)}),{v:t}}(),"object"===(void 0===n?"undefined":o(n))))return n.v;return null},t.prototype.checkMustHaves=function(t,e){return void 0===[].concat(t).find(function(t){return void 0===e.find(function(e){return e.x===t.x&&e.y===t.y})})},t.prototype.checkPassed=function(t,e){return e.find(function(e){return e.x===t.x&&e.y===t.y})},t.prototype.getMustHaves=function(){var t,e,n,r,i,o,s=[],a=720,u=0;for(t=0;t<=1280;t+=l.SPACING)e=this.getPointByX({x:t,y:0}),0!==e.length&&(e.forEach(function(t){t.y<=a&&s.push(t),t.y>=u&&s.push(t)}),e.forEach(function(t){u=t.y>u?t.y:u,a=t.y<a?t.y:a}));for(n=1280,r=0,i=0;i<=720;i+=l.SPACING)o=this.getPointByY({x:0,y:i}),0!==o.length&&(o.forEach(function(t){t.x<=n&&s.push(t),t.x>=r&&s.push(t)}),o.forEach(function(t){r=t.x>r?t.x:r,n=t.x<n?t.x:n}));return s.reduce(function(t,e){return t.includes(e)?t:(t.push(e),t)},[])},t.prototype.getStartCandidates=function(){var t=this.linePolygon.reduce(function(t,e){return"undefined"==typeof t[e.x+e.y]&&(t[e.x+e.y]=[]),t[e.x+e.y].push(e),t},{}),e=[];return Object.keys(t).sort(function(t,e){return parseInt(t,10)-parseInt(e,10)}).forEach(function(n){t[n].forEach(function(t){e.push(t)})}),e},t.prototype.getPoint=function(t){return this.linePolygon.find(function(e){return e.y===t.y&&e.x===t.x})},t.prototype.getPointByY=function(t){return this.linePolygon.filter(function(e){return e.y===t.y&&e!==t})},t.prototype.getPointByX=function(t){return this.linePolygon.filter(function(e){return e.x===t.x&&e!==t})},t}(),e["default"]=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){r(this,t),Object.defineProperty(this,"callbacks",{enumerable:!0,writable:!0,value:[]})}return t.prototype.add=function(t){this.callbacks.push(t)},t.prototype.dispatch=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks.forEach(function(t){t.apply(undefined,e)})},t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p,y,g,v,m;e.__esModule=!0,e["default"]=undefined,o=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(29),a=n(44),r(a),u=n(158),l=r(u),c=640,h=360,f=100,d=720,p=0,y=1280,g=0,v=10,m=function(){function t(e){i(this,t),Object.defineProperty(this,"updateListener",{enumerable:!0,writable:!0,value:new l["default"]}),Object.defineProperty(this,"directionUpdateListener",{enumerable:!0,writable:!0,value:new l["default"]}),Object.defineProperty(this,"moving",{enumerable:!0,writable:!0,value:!1}),this.gameControl=e,this.init()}return t.prototype.init=function(){this.position={x:c,y:h},this.direction="up",this.moving=!1,this.updateListener.dispatch()},t.prototype.handleKeyEvent=function(t){switch(t.key){case s.Keys.LEFT:this.updateDirection("left");break;case s.Keys.RIGHT:this.updateDirection("right");break;case s.Keys.UP:this.updateDirection("up");break;case s.Keys.DOWN:this.updateDirection("down")}},t.prototype.updateDirection=function(t){if(t===this.direction)return void(this.moving=!0);if(this.gameControl.lineControl.activeLinePolygon.length>0){if("up"===t&&"down"===this.direction)return;if("down"===t&&"up"===this.direction)return;if("left"===t&&"right"===this.direction)return;if("right"===t&&"left"===this.direction)return}this.moving=!0,this.direction=t,this.moveToSpacing(this.position,!0),this.directionUpdateListener.dispatch()},t.prototype.pointInFrontOf=function(){var t=this.moveToSpacing();switch(this.direction){case"right":t.x+=v;break;case"left":t.x-=v;break;case"up":t.y-=v;break;case"down":t.y+=v}return t},t.prototype.moveToSpacing=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.position,e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=e?t:o({},t);return"right"===this.direction||"down"===this.direction?(n.x=Math.ceil(n.x/v)*v,n.y=Math.ceil(n.y/v)*v):(n.x=Math.floor(n.x/v)*v,n.y=Math.floor(n.y/v)*v),e&&this.updateListener.dispatch(),n},t.prototype.stopMoving=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.position;this.position.x=t.x,this.position.y=t.y,this.moving=!1,this.updateListener.dispatch()},t.prototype.update=function(t){if(this.moving){switch(this.direction){case"right":this.position.x+=f*t,this.position.x>=y&&(this.position.x=y);break;case"left":this.position.x-=f*t,this.position.x<=g&&(this.position.x=g);break;case"up":this.position.y-=f*t,this.position.y<=p&&(this.position.y=p);break;case"down":this.position.y+=f*t,this.position.y>=d&&(this.position.y=d)}this.updateListener.dispatch()}},t}(),e["default"]=m},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(655),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,i=n(69),o=function(){function t(e,n){r(this,t),this.x=e,this.y=n,this.collider=this.makeCollider(),this.updateCollider()}return t.prototype.getCopy=function(){return new t(this.x,this.y)},t.prototype.makeCollider=function(){return{x:-1,y:-1,x1:-1,y1:-1}},t.prototype.updateCollider=function(){this.collider.x=this.x-i.COLLIDER_SIZE,this.collider.y=this.y-i.COLLIDER_SIZE,this.collider.x1=this.x+i.COLLIDER_SIZE,this.collider.y1=this.y+i.COLLIDER_SIZE},t.prototype.getCollider=function(){return this.updateCollider(),this.collider},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t.prototype.toArray=function(){return[this.x,this.y]},t.prototype.getSpaceBetweenPoints=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},t}(),e["default"]=o},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(159),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,e["default"]=undefined,s=n(658),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(){var n,o,s,a,u,l;for(r(this,e),a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=o=i(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(o,"keys",{enumerable:!0,writable:!0,value:{score:!0,lifes:!0}}),s=n,i(o,s)}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(67),o=n(74),s=function(){function t(t){void 0===t&&(t=r["default"].CONFIG.gameName+"_checkpoint"),this.keys={},this.checkpoint=null,this.checkpointName=t;var e=o["default"].get(t);e&&(this.checkpoint=e)}return t.prototype.hasCheckpoint=function(){return null!==this.checkpoint},t.prototype.saveCheckpoint=function(t){this.checkpoint={},this.process(t,this.checkpoint,this.keys),o["default"].set(this.getCheckpointName(),this.checkpoint)},t.prototype.remove=function(){this.checkpoint=null,o["default"].set(this.getCheckpointName(),null)},t.prototype.loadCheckpoint=function(t){this.checkpoint&&this.process(this.checkpoint,t,this.keys)},t.prototype.getCheckpointName=function(){return this.checkpointName},t.prototype.process=function(t,e,n){var r=this;if("object"!=typeof t||null===t)throw Error("Copy FROM must be an object");if("object"!=typeof e||null===e)throw Error("Copy TO must be an object");Object.keys(n).forEach(function(i){!0===n[i]?e[i]=t[i]:"custom"===n[i]?e[i]=r.customCopy(t[i]):"deep"===n[i]?e[i]=r.deepCopy(t[i]):"array"===n[i]?e[i]=r.deepCopyArray(t[i]):"arrayarray"===n[i]?e[i]=r.deepCopyArrayArray(t[i]):(t[i]=t[i]||{},e[i]=e[i]||{},r.process(t[i],e[i],n[i]))})},t.prototype.customCopy=function(t){return null},t.prototype.deepCopy=function(t){var e,n=this;return t?(e={},Object.keys(t).forEach(function(r){"function"==typeof t[r]?i["default"].warn("Deep copy of a function is not supported"):t[r]instanceof Array?e[r]=n.deepCopyArray(t[r]):"object"!=typeof t[r]||null===t[r]?e[r]=t[r]:e[r]=n.deepCopy(t[r])}),e):null},t.prototype.deepCopyArray=function(t){var e=this;return t.map(function(t){return"function"==typeof t?(i["default"].warn("Deep copy of a function is not supported"),null):"object"!=typeof t||null===t?t:e.deepCopy(t)})},t.prototype.deepCopyArrayArray=function(t){var e=this;return t.map(function(t){return"function"==typeof t?(i["default"].warn("Deep copy of a function is not supported"),null):"object"!=typeof t||null===t?t:e.deepCopyArray(t)})},t}();e["default"]=s},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(660),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c;e.__esModule=!0,e["default"]=undefined,o=n(42),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(256),r(a),u=n(661),l=r(u),c=function(){function t(e){i(this,t),this.playerControl=e,this.playerControl.updateListener.add(this.updateRender.bind(this))}return t.prototype.initRender=function(){return this.texture=s.loader.resources.player.texture,this.rectangle=new s.Rectangle(0,0,0,0),this.sprite=new s.Sprite(this.texture),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5,this.updateRender(),this.sprite},t.prototype.updateRender=function(){var t=this.playerControl,e=t.position,n=t.direction,r=e.x,i=e.y,o=l["default"].frames[n+".png"].frame;this.rectangle.width=o.w,this.rectangle.height=o.h,this.rectangle.x=o.x,this.rectangle.y=o.y,this.texture.frame=this.rectangle,this.sprite.x=r,this.sprite.y=i},t}(),e["default"]=c},function(t,e){t.exports={frames:{"down.png":{frame:{x:20,y:0,w:20,h:38},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:20,h:38},sourceSize:{w:20,h:38},pivot:{x:.5,y:.5}},"left.png":{frame:{x:0,y:58,w:38,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:38,h:20},sourceSize:{w:38,h:20},pivot:{x:.5,y:.5}},"right.png":{frame:{x:0,y:38,w:38,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:38,h:20},sourceSize:{w:38,h:20},pivot:{x:.5,y:.5}},"up.png":{frame:{x:0,y:0,w:20,h:38},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:20,h:38},sourceSize:{w:20,h:38},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"player.png",format:"RGBA8888",size:{w:40,h:78},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:e6d34fb06c3b002b04069e12ba66b3e3:731d7c377cd3fafc610295143599baa9:86d5339b780aedd87b35e2b7c0a7e11b$"}}},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(663),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u;e.__esModule=!0,e["default"]=undefined,i=n(42),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=n(255),function(t){t&&t.__esModule}(s),a=n(69),u=function(){function t(e){r(this,t),this.lineControl=e,this.lineControl.updateListener.add(this.updateRender.bind(this)),this.lineControl.activeUpdateListener.add(this.updateActiveRender.bind(this)),this.lineControl.activeLineUpdateListener.add(this.updateSuperActiveRender.bind(this)),this.lineControl.disabledUpdateListener.add(this.updateDisabledRender.bind(this)),this.lineControl.enemyUpdateListener.add(this.updateEnemyRender.bind(this))}return t.prototype.initRender=function(){return this.container=new o.Container,this.polygonContainer=new o.Container,this.lineContainer=new o.Container,this.enemyContainer=new o.Container,this.activeLineContainer=new o.Container,this.activeContainer=new o.Container,this.disabledContainer=new o.Container,this.disabledContainer.alpha=.5,this.tilingSprite=new o.extras.TilingSprite(o.loader.resources.space.texture,1280,720),this.enemyTilingSprite=new o.extras.TilingSprite(o.loader.resources.enemySpace.texture,1280,720),this.cornerTexture=o.loader.resources.corner.texture,this.container.addChild(this.polygonContainer),this.container.addChild(this.lineContainer),this.container.addChild(this.disabledContainer),this.container.addChild(this.activeContainer),this.container.addChild(this.enemyContainer),this.container.addChild(this.activeLineContainer),this.updateRender(),this.updateEnemyRender(),this.container},t.prototype.updateSuperActiveRender=function(){var t,e,n,r,i,s=this.lineControl,a=s.activeLinePolygon,u=s.activePossition;this.activeContainer.removeChildren().forEach(function(t){t.destroy()}),(t=a[a.length-1])&&(e=u,n=new o.Graphics,r=new o.extras.TilingSprite(o.loader.resources.space.texture,1280,720),n.addChild(r),i=this.lineToRect(t,e),r.mask=(new o.Graphics).drawRect(i.x,i.y,i.width,i.height),this.activeContainer.addChild(n))},t.prototype.updateActiveRender=function(){var t,e,n,r,i,s,a=this,u=this.lineControl.activeLinePolygon;for(this.activeLineContainer.removeChildren().forEach(function(t){t.destroy()}),t=0;t<u.length-1;t++)e=new o.Graphics,n=new o.extras.TilingSprite(o.loader.resources.space.texture,1280,720),e.addChild(n),r=u[t],i=u[t+1],s=this.lineToRect(r,i),n.mask=(new o.Graphics).drawRect(s.x,s.y,s.width,s.height),this.activeLineContainer.addChild(e);u.forEach(function(t){var e=t.x,n=t.y,r=new o.Sprite(a.cornerTexture);r.anchor.x=.5,r.anchor.y=.5,r.x=e,r.y=n,a.activeLineContainer.addChild(r)})},t.prototype.updateDisabledRender=function(){var t,e,n,r,i,s,a=this,u=this.lineControl.disabledLinePolygon;for(this.disabledContainer.removeChildren().forEach(function(t){t.destroy()}),t=0;t<u.length-1;t++)e=new o.Graphics,n=new o.extras.TilingSprite(o.loader.resources.space.texture,1280,720),e.addChild(n),r=u[t],i=u[t+1],s=this.lineToRect(r,i),n.mask=(new o.Graphics).drawRect(s.x,s.y,s.width,s.height),this.disabledContainer.addChild(e);u.forEach(function(t){var e=t.x,n=t.y,r=new o.Sprite(a.cornerTexture);r.anchor.x=.5,r.anchor.y=.5,r.x=e,r.y=n,a.disabledContainer.addChild(r)})},t.prototype.lineToRect=function(t,e){var n={},r=a.SPACING/2;return this.isHorizontal(t,e)?(this.reverseX(t,e)?(n.width=t.x-e.x+a.SPACING,n.x=e.x-r,n.y=e.y-r):(n.x=t.x-r,n.y=t.y-r,n.width=e.x-t.x+a.SPACING),n.height=a.SPACING):(this.reverseY(t,e)?(n.height=t.y-e.y+a.SPACING,n.x=e.x-r,n.y=e.y-r):(n.x=t.x-r,n.y=t.y-(r-1),n.height=e.y-t.y+a.SPACING),n.width=a.SPACING),n},t.prototype.isHorizontal=function(t,e){return t.y===e.y},t.prototype.reverseX=function(t,e){return t.x>e.x},t.prototype.reverseY=function(t,e){return t.y>e.y},t.prototype.updateEnemyRender=function(){var t=this,e=this.lineControl.enemylinePolygons;this.enemyContainer.removeChildren().forEach(function(t){t.destroy()}),e.forEach(function(e){var n,r,i,s,a,u,l,c,h,f,d=new o.extras.TilingSprite(o.loader.resources.enemySpace.texture,1280,720);for(t.enemyContainer.addChild(d),n=0;n<e.length;n++)r=new o.Graphics,i=new o.extras.TilingSprite(o.loader.resources.enemySpace.texture,1280,720),r.addChild(i),s=e[n],a=e[(n+1)%e.length],u=t.lineToRect(s,a),i.mask=(new o.Graphics).drawRect(u.x,u.y,u.width,u.height),t.enemyContainer.addChild(r);l=new o.Graphics,l.beginFill(0,0),e.forEach(function(e,n){var r,i=e.x,s=e.y;0===n?l.moveTo(i,s):l.lineTo(i,s),r=new o.Sprite(o.loader.resources.enemyCorner.texture),r.anchor.x=.5,r.anchor.y=.5,r.x=i,r.y=s,t.enemyContainer.addChild(r)}),c=e[0],h=c.x,f=c.y,l.lineTo(h,f),l.endFill(),t.enemyContainer.addChild(l),d.mask=l})},t.prototype.updateRender=function(){var t,e,n,r,i,s,a,u,l,c,h=this,f=this.lineControl.linePolygon;for(this.lineContainer.removeChildren().forEach(function(t){t.destroy()}),this.polygonContainer.removeChildren(),this.polygonContainer.addChild(this.tilingSprite),t=0;t<f.length;t++)e=new o.Graphics,n=new o.extras.TilingSprite(o.loader.resources.space.texture,1280,720),e.addChild(n),r=f[t],i=f[(t+1)%f.length],s=this.lineToRect(r,i),n.mask=(new o.Graphics).drawRect(s.x,s.y,s.width,s.height),this.lineContainer.addChild(e);a=new o.Graphics,a.beginFill(0,0),f.forEach(function(t,e){var n,r=t.x,i=t.y;0===e?a.moveTo(r,i):a.lineTo(r,i),n=new o.Sprite(h.cornerTexture),n.anchor.x=.5,n.anchor.y=.5,n.x=r,n.y=i,h.lineContainer.addChild(n)}),u=f[0],l=u.x,c=u.y,a.lineTo(l,c),a.endFill(),this.polygonContainer.addChild(a),this.tilingSprite.mask=a},t}(),e["default"]=u},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(665),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h,f,d,p;e.__esModule=!0,o=n(42),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(666),u=r(a),l=n(44),r(l),c=58,h=58,f=60,d=[u["default"].frames[0].frame,u["default"].frames[1].frame],p=function(){function t(e,n){i(this,t),Object.defineProperty(this,"radius",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(this,"radius2",{enumerable:!0,writable:!0,value:f/-2}),this.position=e,this.gameControl=n,this.gameControl.lineControl.updateListener.add(this.checkInside.bind(this)),this.gameControl.updateListener.add(this.update.bind(this)),this.image=d[0]}return t.prototype.checkInside=function(){this.inside||this.gameControl.lineControl.isInside(this.position)&&this.mark()},t.prototype.mark=function(){this.inside=!0,this.image=d[1],this.radius=0,this.radius2=0,this.updateRenderCircle(),this.updateRender()},t.prototype.initRender=function(){return this.container=new s.Container,this.rectangle=new s.Rectangle(0,0,c,h),this.circle=new s.Graphics,this.circle2=new s.Graphics,this.texture=s.loader.resources.planet.texture,this.sprite=new s.Sprite(this.texture),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5,this.container.addChild(this.circle),this.container.addChild(this.circle2),this.container.addChild(this.sprite),this.updateRender(),this.updateRenderCircle(),this.readyForUpdate=!0,this.container},t.prototype.update=function(t){this.sprite&&!this.inside&&(this.radius+=30*t,this.radius2+=30*t,this.radius>f&&(this.radius=0),this.radius2>f&&(this.radius2=0),this.updateRenderCircle())},t.prototype.updateRenderCircle=function(){this.circle&&(this.circle.clear(),this.circle.lineStyle(3,7769923,1-this.radius/f),this.circle.drawCircle(this.position.x,this.position.y,this.radius),this.radius2>=0&&(this.circle2.clear(),this.circle2.lineStyle(3,7769923,1-this.radius2/f),this.circle2.drawCircle(this.position.x,this.position.y,this.radius2)))},t.prototype.updateRender=function(){this.rectangle&&this.texture&&this.sprite&&(this.checkInside(),this.rectangle.x=this.image.x,this.rectangle.y=this.image.y,this.texture.frame=this.rectangle,this.sprite.x=this.position.x,this.sprite.y=this.position.y)},t}(),e["default"]=p},function(t,e){t.exports={frames:[{filename:"planet.png",frame:{x:0,y:0,w:58,h:58},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:58,h:58},sourceSize:{w:58,h:58},pivot:{x:.5,y:.5}},{filename:"planetBase.png",frame:{x:58,y:0,w:58,h:58},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:58,h:58},sourceSize:{w:58,h:58},pivot:{x:.5,y:.5}}],meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"planets.png",format:"RGBA8888",size:{w:116,h:58},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:01b8d25f2e1b733516f76e543675e15f:62bdca852f7e3d72d715379f403d0de5:b39012af8c10e6f2542ba48f4ca1957d$"}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a;e.__esModule=!0,i=n(42),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=n(44),function(t){t&&t.__esModule}(s),a=function(){function t(e){r(this,t),this.gameControl=e,this.gameControl.lifesListener.add(this.updateRender.bind(this))}return t.prototype.initRender=function(){return this.texture=o.loader.resources.live.texture,this.container=new o.Container,this.container.x=1155,this.container.y=50,this.updateRender(),this.container},t.prototype.updateRender=function(){var t,e;for(this.container.removeChildren().forEach(function(t){return t.destroy()}),t=0;t<this.gameControl.lifes;t++)e=new o.Sprite(this.texture),e.x=25*(2-t),this.container.addChild(e)},t}(),e["default"]=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u;e.__esModule=!0,e["default"]=undefined,i=n(42),o=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(i),s=n(197),a=n(157),function(t){t&&t.__esModule}(a),u=function(){function t(e){r(this,t),this.gameControl=e,e.scoreUpdateListener.add(this.updateRender.bind(this))}return t.prototype.initRender=function(){var t,e;return this.container=new o.Container,t=(0,s.getXML)("shiny"),e=(0,s.getCanvas)("shiny"),o.extras.BitmapText.registerFont(t,new o.Texture.fromCanvas(e)),this.score=new o.extras.BitmapText("",{font:(0,s.getFontName)("shiny"),align:"left"}),this.levelScore=new o.extras.BitmapText("",{font:(0,s.getFontName)("shiny"),align:"left"}),this.levelScore.y=0,this.score.y=30,this.container.addChild(this.score),this.container.addChild(this.levelScore),this.container.x=950,this.container.y=75,this.updateRender(),this.container},t.prototype.updateRender=function(){var t=""+this.gameControl.score,e=""+this.gameControl.levelScore;this.score.x=277-(0,s.getWordWidth)(t),this.levelScore.x=277-(0,s.getWordWidth)(e),this.score.text=t,this.levelScore.text=e},t}(),e["default"]=u},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(670),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l;e.__esModule=!0,o=n(42),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(257),r(a),u=n(44),r(u),l=function(){function t(e,n){i(this,t),this.meteor=e,n.updateListener.add(this.updateRender.bind(this))}return t.prototype.initRender=function(){return this.sprite=new s.Sprite(s.loader.resources.meteor.texture),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5,this.updateRender(),this.sprite},t.prototype.updateRender=function(){var t=this.meteor,e=t.alive,n=t.position,r=n.x,i=n.y;this.sprite&&(this.sprite.x=r,this.sprite.y=i,this.sprite.alpha=e?1:.5)},t}(),e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l;e.__esModule=!0,o=n(42),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(44),r(a),u=n(159),r(u),l=function(){function t(e,n){i(this,t),this.enemy=e,this.gameControl=n,n.updateListener.add(this.updateRender.bind(this))}return t.prototype.initRender=function(){var t=this.enemy.enemyType;return this.texture="mine"===t?s.loader.resources.mine.texture:"shot"===t?s.loader.resources.shot.texture:s.loader.resources.enemy.texture,this.sprite=new s.Sprite(this.texture),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5,this.updateRender(),this.sprite},t.prototype.updateRender=function(){var t=this.enemy,e=t.alive,n=t.position;this.sprite&&(this.sprite.x=n.x,this.sprite.y=n.y,this.sprite.alpha=e?1:.5)},t}(),e["default"]=l},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(673),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,l,c,h;e.__esModule=!0,o=n(42),s=function(t){var e,n;if(t&&t.__esModule)return t;if(e={},null!=t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(o),a=n(258),r(a),u=n(44),r(u),l=n(259),c=r(l),h=function(){function t(e,n){i(this,t),this.satelite=e,this.gameControl=n,this.gameControl.updateListener.add(this.updateRender.bind(this))}return t.prototype.initRender=function(){return this.container=new s.Container,this.sprite=new s.Sprite(s.loader.resources.satelite.texture),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5,this.container.addChild(new c["default"](this.satelite.bullet,this.gameControl).initRender()),this.container.addChild(this.sprite),this.updateRender(),this.container},t.prototype.updateRender=function(){var t=this.satelite,e=t.alive,n=t.position;this.container&&(this.sprite.x=n.x,this.sprite.y=n.y,this.sprite.alpha=e?1:.5)},t}(),e["default"]=h},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h;e.__esModule=!0,e["default"]=undefined,a=n(77),u=r(a),l=n(20),c=r(l),n(203),h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="question">'+(0,c["default"])(this.question,"shiny")+'</div>\n\t\t\t<div class="answers">\n\t\t\t\t<div class="answer" id="'+this.YES_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+(0,c["default"])(this.yes)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="answer" id="'+this.NO_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+(0,c["default"])(this.no)+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=h},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p,y;e.__esModule=!0,e["default"]=undefined,a=n(199),u=r(a),l=n(18),c=n(20),h=r(c),f=n(680),d=r(f),p="hsFormNameInput",y=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="highscoreForm">\n\t\t\t\t<h1>'+(0,h["default"])((0,l._)("new_highscore"),"shiny")+'</h1>\n\t\t\t\t<div id="'+p+'"></div>\n\t\t\t</div>\n\t\t'},e.prototype.componentDidMount=function(){this.nameInput=new d["default"],this.nameInput.mount(this.refs[p])},e}(u["default"]),e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h;e.__esModule=!0,e["default"]=undefined,a=n(200),u=r(a),l=n(20),c=r(l),h=function(t){function e(){var n,r,s,a,u,l;for(i(this,e),a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"LetterInput",{enumerable:!0,writable:!0,value:function(t,e,n){return'\n\t\t\t<div id="'+n+'" class="letter-input'+(e?" selected":"")+(e?" focused":"")+'">\n\t\t\t\t<div class="arrow up"></div>\n\t\t\t\t<div>'+(0,c["default"])(t)+'</div>\n\t\t\t\t<div class="arrow down"></div>\n\t\t\t</div>\n\t\t'}}),s=n,o(r,s)}return s(e,t),e.prototype.renderLetter=function(){var t=this;return[0,1,2].map(function(e){return t.LetterInput(t.user.charAt(e),t.selected===e,"niLetter"+e)}).join("")},e}(u["default"]),e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d;e.__esModule=!0,e["default"]=undefined,a=n(682),u=r(a),l=n(20),c=r(l),h=n(18),n(683),f=[{id:u["default"].SOUNDS_ON,text:(0,h._)("sounds")+": "+(0,h._)("on").toUpperCase()},{id:u["default"].SOUNDS_OFF,text:(0,h._)("sounds")+": "+(0,h._)("off").toUpperCase()},{id:u["default"].PERFORMANCE_CHECK,text:(0,h._)("performance_check")}],d=function(t){function e(){var n,r,s,a,l,c;for(i(this,e),a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(l))),Object.defineProperty(r,"MENU_ITEMS",{enumerable:!0,writable:!0,value:f}),Object.defineProperty(r,"els",{enumerable:!0,writable:!0,value:[u["default"].SOUNDS_ON,u["default"].SOUNDS_OFF,u["default"].PERFORMANCE_CHECK]}),Object.defineProperty(r,"mouseInteractive",{enumerable:!0,writable:!0,value:[u["default"].SOUNDS_ON,u["default"].SOUNDS_OFF,u["default"].PERFORMANCE_CHECK]}),Object.defineProperty(r,"visibleMenuItems",{enumerable:!0,writable:!0,value:[u["default"].SOUNDS_ON,u["default"].SOUNDS_OFF,u["default"].PERFORMANCE_CHECK]}),s=n,o(r,s)}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene settings-scene">\n\t\t\t\t<div id="settingsTile">'+(0,c["default"])(this.header,"shiny")+'</div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'"><div class="focusDot"></div>'+(0,c["default"])(t.text)+"</li>"}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=d},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(20),i=n(9),o=n(100),s=n(76),a=n(18),u=n(35),l=n(201),c="sounds_on",h="sounds_off",f="performance_check",d="render_canvas",p="render_legacy",y=[{id:c,text:a._("sounds")+": "+a._("on").toUpperCase()},{id:h,text:a._("sounds")+": "+a._("off").toUpperCase()},{id:f,text:a._("performance_check")},{id:d,text:a._("render")+": "+a._("canvas").toUpperCase()},{id:p,text:a._("render")+": "+a._("legacy").toUpperCase()}],g=function(t){function e(){var e=t.call(this)||this;return e.header=a._("settings"),e.allowRenderSwitching=!o["default"].disableCanvas,e.MENU_ITEMS=y,e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e}return v(e,t),e.prototype.sceneWillMount=function(){if(t.prototype.sceneWillMount.call(this),!i["default"].Sounds.initialized){var e=this.visibleMenuItems.indexOf(c);0<=e&&this.visibleMenuItems.splice(e,1),0<=(e=this.visibleMenuItems.indexOf(h))&&this.visibleMenuItems.splice(e,1)}},e.prototype.sceneDidMount=function(){if(t.prototype.sceneDidMount.call(this),this.changeRender(i["default"].useCanvas()),!this.allowRenderSwitching){var e=this.visibleMenuItems.indexOf(d);0<=e&&this.visibleMenuItems.splice(e,1),0<=(e=this.visibleMenuItems.indexOf(p))&&this.visibleMenuItems.splice(e,1),this.hide(this.refs[d]),this.hide(this.refs[p])}i["default"].Sounds.initialized?this.changeSound(i["default"].Sounds.allowed):(this.hide(this.refs[c]),this.hide(this.refs[h]),s.focus(f))},e.prototype.render=function(){return'\n\t\t\t<div class="scene settings-scene">\n\t\t\t\t<h1>'+r["default"](this.header,"big")+'</h1>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'">'+r["default"](t.text)+"</li>"}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"},e.prototype.enter=function(t){if(!t)return!0;switch(t.id){case c:this.changeSound(!1);break;case h:this.changeSound(!0);break;case f:u.routeTo("performance");break;case d:this.changeRender(!1);break;case p:this.changeRender(!0)}return!1},e.prototype.changeSound=function(t){t?this.switchVisibility(c,h):this.switchVisibility(h,c),i["default"].Sounds.setSounds(t),i["default"].SoundManager.setSounds(t)},e.prototype.changeRender=function(t){t?this.switchVisibility(d,p):this.switchVisibility(p,d),i["default"].setCanvas(t)},e.SOUNDS_ON=c,e.SOUNDS_OFF=h,e.PERFORMANCE_CHECK=f,e.RENDER_CANVAS=d,e.RENDER_LEGACY=p,e}(l["default"]),e["default"]=g},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,l,c,h,f,d,p;e.__esModule=!0,e["default"]=undefined,a=n(685),u=r(a),l=n(104),c=r(l),h=n(20),f=r(h),d=n(18),p=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){return'\n\t\t<div class="scene game-scene">\n\t\t\t<div id="'+c["default"].GAME_CANVAS+'"></div>\n\t\t\t<div id="'+c["default"].GAME_OVER+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t'+(0,f["default"])((0,d._)("gameover"),"shiny")+'<br />\n\t\t\t\t<div id="'+c["default"].HAS_NO_HIGHSCORE+'">\n\t\t\t\t'+(0,f["default"])((0,d._)("pressAny"),"shiny")+"<br />\n\t\t\t\t"+(0,f["default"])((0,d._)("toContinue"),"shiny")+'<br />\n\t\t\t\t</div>\n\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+c["default"].PAUSE+'" class="backdrop">\n\t\t\t\t\t<h1 class="info">\n\t\t\t\t\t\t'+(0,f["default"])((0,d._)("paused"),"shiny")+"<br />\n\t\t\t\t\t\t"+(0,f["default"])((0,d._)("pressAny"),"shiny")+"<br />\n\t\t\t\t\t\t"+(0,f["default"])((0,d._)("toContinue"),"shiny")+'<br />\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+c["default"].HIGHSCORE+'"></div>\n\t\t\t\t<div id="'+c["default"].DEBUG+'">\n\t\t\t\t\tFPS: <span id="'+c["default"].FPS+'"></span><br />\n\t\t\t\t\t<small>Target FPS: <span id="'+c["default"].TARGET_FPS+'"></span></small><br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e}(u["default"]),e["default"]=p},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(104),i=n(686),o=n(77),s=n(78),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameComponentClass=i["default"],e.leaveGameModal=o["default"],e.quitGameModal=s["default"],e}return u(e,t),e.prototype.sendGA=function(){},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=this&&this.__assign||function(){return(C=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(9),i=n(35),o=n(29),s=n(139),a=n(103),u=n(687),l=n(688),c=n(689),h=n(690),f=n(692),d="dom",p="bg",y="canvas",g=[{id:"dom1",type:d,Component:u["default"],results:[]},{id:"dom-background1",type:p,Component:l["default"],results:[]},{id:"canvas1",type:y,Component:c["default"],results:[]},{id:"dom-background2",type:p,Component:l["default"],results:[]},{id:"canvas2",type:y,Component:c["default"],results:[]},{id:"dom2",type:d,Component:u["default"],results:[]},{id:"canvas3",type:y,Component:c["default"],results:[]},{id:"dom3",type:d,Component:u["default"],results:[]},{id:"dom-background3",type:p,Component:l["default"],results:[]}],v=[{id:"canvas1",type:y,Component:c["default"],results:[]},{id:"canvas2",type:y,Component:c["default"],results:[]},{id:"canvas3",type:y,Component:c["default"],results:[]},{id:"canvas4",type:y,Component:c["default"],results:[]}],m=[{id:"dom1",type:d,Component:u["default"],results:[]},{id:"dom-background1",type:p,Component:l["default"],results:[]},{id:"dom-background2",type:p,Component:l["default"],results:[]},{id:"dom2",type:d,Component:u["default"],results:[]}],_=2e3,b=15e3,x=10,w="pretest-info",T="info",E="performance-tests",O="results",S=function(t){return r["default"].CONFIG.debug?g.map(function(t){return C({},t)}):(t?m:v).map(function(t){return C({},t)})},A=function(t){function e(){var e=t.call(this)||this;return e.debug=r["default"].CONFIG.debug,e.running=!1,e.finished=!1,e.testTimeout=_,e.testIndex=0,e.testStart=0,e.testDuration=0,e.fpsStack=[],e.els=[w,T,E,O],e}return P(e,t),e.prototype.componentWillMount=function(){this.testCases=S(this.useCanvas)},e.prototype.componentWillUnmount=function(){},e.prototype.componentDidMount=function(){this.physics=new h["default"],this.hide(this.refs[E]),this.hide(this.refs[T]),this.hide(this.refs[O])},e.prototype.render=function(){return'\n\t\t<div class="performance">\n\t\t\t<div id="'+w+'"></div>\n\t\t\t<div id="'+E+'"></div>\n\t\t\t<div id="'+T+'"><div id="information"></div></div>\n\t\t\t<div id="'+O+'"></div>\n\t\t</div>\n\t\t'},e.prototype.onKeyDown=function(t){return t.key!==o.Keys.ENTER||(this.running||this.finished?this.finished&&i.routeTo("menu"):(this.hide(this.refs[w]),this.show(this.refs[T]),this.show(this.refs[E]),this.running=!0),!1)},e.prototype.step=function(t,e){this.running&&(0<this.testTimeout?(this.testTimeout-=t,this.testTimeout<=0&&this.runNextTest()):(this.testDuration+=t,this.testDuration>b?this.endTest():this.physics&&(this.physics.step(t),this.testComponent.draw(this.physics.getData()),this.fpsStack.push(e||0))))},e.prototype.endTest=function(){this.getResults(),this.testComponent.unmount(),this.testTimeout=_,++this.testIndex===this.testCases.length&&(this.running=!1,this.finished=!0,this.processResults(),this.showResults())},e.prototype.getResults=function(){var t,e=(Date.now()-this.testStart)/1e3,n=this.fpsStack.length,r=1/(e/n);this.removeMinAndMaxFPS(),t=this.fpsStack.reduce(function(t,e){return t+e},0)/n,this.testCases[this.testIndex].results=[r,t]},e.prototype.runNextTest=function(){this.fpsStack=[],this.testDuration=0,this.testStart=Date.now();var t=this.testCases[this.testIndex];this.testComponent=new t.Component,this.testComponent.mount(this.refs[E]),this.physics.reset()},e.prototype.removeMinAndMaxFPS=function(){var t=~~(this.fpsStack.length/100*x);this.fpsStack.sort(function(t,e){return t-e}),this.fpsStack.splice(0,t),this.fpsStack.splice(this.fpsStack.length-t)},e.prototype.processResults=function(){var t,e,n,r=0,i=0;this.testCases.forEach(function(t){r+=t.results[0],i+=t.results[1]}),t=this.testCases.length,e=~~(((r/=t)+(i/=t))/2),n={total:r,average:i},this.debug&&(n.debug=this.getDetailResults()),this.results=n,a["default"]("send","event","Performance",e,this.useCanvas?"canvas":"dom")},e.prototype.showResults=function(){this.hide(this.refs[T]),this.hide(this.refs[E]),this.resultsComponent=new f["default"],this.resultsComponent.mount(this.refs[O]),this.resultsComponent.draw(this.results),this.show(this.refs[O])},e.prototype.getDetailResults=function(){return this.testCases.map(function(t){return{id:t.id,total:t.results[0],average:t.results[1]}})},e}(s["default"]),e["default"]=A},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(47),i="dom-wrap",o=function(t){function e(){var e=t.call(this)||this;return e.renderedKeys=[],e.els=[i],e}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="'+i+'"></div>\n\t\t'},e.prototype.draw=function(t){var e=this;t.elements.forEach(function(t){var n,r,o=t.key,s=t.position;-1===e.renderedKeys.indexOf(o)&&(n=document.createElement("div"),n.className="element",e.refs[o]=n,e.refs[i].appendChild(n),e.renderedKeys.push(o)),r=e.refs[o],r.style.top=s.y+"px",r.style.left=s.x+"px"})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(47),i="bg-wrap",o=function(t){function e(){var e=t.call(this)||this;return e.renderedKeys=[],e.els=[i],e}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="'+i+'"></div>\n\t\t'},e.prototype.draw=function(t){var e=this;t.elements.forEach(function(t){var n,r=t.key,o=t.position;-1===e.renderedKeys.indexOf(r)&&(n=document.createElement("div"),n.className="element",e.refs[r]=n,e.refs[i].appendChild(n),e.renderedKeys.push(r)),e.refs[r].style.backgroundPosition=o.x+"px "+o.y+"px"})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a,u,l,c,h,f=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(47),i=n(9),o="assets/performance/boxes.png",s=120,a=54,u=1280,l=720,c="canvas",h=function(t){function e(){var e=t.call(this)||this;return e.els=[c],e}return f(e,t),e.prototype.componentWillMount=function(){this.preload()},e.prototype.componentDidMount=function(){this.getCanvas()},e.prototype.render=function(){return'\n\t\t\t<canvas width="'+u+'" height="'+l+'" id="'+c+'"></canvas>\n\t\t'},e.prototype.draw=function(t){var e=this,n=t.elements;null===this.mainCanvas&&(this.getCanvas(),null===this.mainCanvas)||(this.mainCanvas.width=this.mainCanvas.width,n.forEach(function(t){e.drawElement(t)}))},e.prototype.getCanvas=function(){this.mainCanvas=this.refs[c],null!==this.mainCanvas&&(this.ctx=this.mainCanvas.getContext("2d"))},e.prototype.preload=function(){this.elementCanvas=this.preloadAsset(s,a,o)},e.prototype.preloadAsset=function(t,e,n){var r,o,s,a=document.createElement("canvas");return a.width=t,a.height=e,r=new Image,r.onload=function(){a.getContext("2d").drawImage(r,0,0)},o=window.location.href,s=n,i["default"].CONFIG.baseUrl?s=""+i["default"].CONFIG.baseUrl+n:-1!==o.indexOf("index.html")&&(s=""+window.location.href.split("index.html")[0]+n),r.src=s,a},e.prototype.drawElement=function(t){this.ctx.drawImage(this.elementCanvas,t.position.x,t.position.y)},e}(r["default"]),e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(691),i=function(){function t(){this.nextElement=0,this.currentColumn=0,this.currentRow=0,this.elements=[],this.elementNumber=0}return t.prototype.getData=function(){return{elements:this.elements.map(function(t){return t.getState()})}},t.prototype.reset=function(){this.elements=[],this.elementNumber=0,this.nextElement=0,this.currentColumn=0,this.currentRow=0},t.prototype.step=function(t){var e,n;for(e=t;20<e;)this.step(20),e-=20;n=e/1e3,this.updateElements(e,n)},t.prototype.updateElements=function(t,e){if(this.nextElement-=t,this.nextElement<0){var n=this.generateNewElement();this.elements.push(n),this.nextElement=500}this.elements.forEach(function(t){t.move(e)})},t.prototype.generateNewElement=function(){var t=new r["default"](this.getPositionX(),100,666-54*this.currentRow);return t.setKey(this.elementNumber),this.elementNumber++,this.currentColumn++,this.currentColumn>=6&&(this.currentColumn=0,this.currentRow++),t},t.prototype.getPositionX=function(){return 200*this.currentColumn+80},t}();e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.position={x:t,y:e},this.finalPosition=n}return t.prototype.move=function(t){if(this.position.y!==this.finalPosition){var e=this.position.y+.6*t*100;e>=this.finalPosition&&(e=this.finalPosition),this.position.y=e}},t.prototype.setKey=function(t){this.key="element"+t},t.prototype.getState=function(){return{position:{x:~~this.position.x,y:~~this.position.y},key:this.key}},t}();e["default"]=n},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(9),i=n(47),o=400,s=50,a=0,u=65,l=1,c=r["default"].CONFIG,h=c.fpsLevels,f=c.debug,d=~~((h[0]+h[1])/2),p=[{minValue:h[0],className:"excellent"},{minValue:h[1],className:"decent"},{minValue:h[2],className:"sufficient"},{minValue:h[3],className:"poor"}],y="description-value",g="description-content",v="required-bar",m="required-line",_="final-bar",b="score-label",x="required-label",w="performance-result",T=function(t){function e(){var e=t.call(this)||this;return e.debug=f,e.els=[y,g,v,m,_,b,x,w],e}return E(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="test-result">\n\t\t\t\t<div class="label"></div>\n\t\t\t\t<div id="'+y+'"></div>\n\t\t\t\t<div id="'+g+'"></div>\n\t\t\t</div>\n\t\t\t<div class="score">\n\t\t\t\t<div class="score-bar"></div>\n\t\t\t\t<div id="'+v+'"></div>\n\t\t\t\t<div id="'+m+'"></div>\n\t\t\t\t<div id="'+_+'"></div>\n\t\t\t\t<div id="'+b+'"></div>\n\t\t\t\t<div id="'+x+'"></div>\n\t\t\t</div>\n\t\t\t<table id="'+w+'"></table>\n\t\t\t<div class="enter"></div>\n\t\t'},e.prototype.draw=function(t){var e,n,r=(t.total+t.average)/2,i=this.getDescriptionClassName(r);this.refs[y].className=i,this.refs[g].className=i,e=this.getPosition(r),n=this.getPosition(d),this.refs[v].style.width=n+"px",this.refs[m].style.left=n-l+"px",this.refs[_].className=s<=r?"full":"",this.refs[_].style.width=e+"px",this.refs[b].style.left=e-u+"px",this.refs[x].style.left=n-u+"px",t.debug?this.drawDetail(t):this.hide(this.refs[w])},e.prototype.drawDetail=function(t){var e,n=this;t.debug.forEach(function(t){var r=t.id,i=t.total,o=t.average;document.createElement("tr").innerHTML="\n\t\t\t\t<td>"+r+"</td>\n\t\t\t\t<td>"+i+"</td>\n\t\t\t\t<td>"+o+"</td>\n\t\t\t",n.refs[w].appendChild(e)}),e=document.createElement("tr"),e.innerHTML="\n\t\t\t<td>Final</td>\n\t\t\t<td>"+t.total+"</td>\n\t\t\t<td>"+t.average+"</td>\n\t\t",this.refs[w].appendChild(e)},e.prototype.getDescriptionClassName=function(t){for(var e=p.length-1;--e;)if(p[e].minValue>t)return p[e+1].className;return p[0].className},e.prototype.getPosition=function(t){return o/s*(s<t?s:t)+a},e}(i["default"]),e["default"]=T},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,e["default"]=undefined,s=n(694),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(105),i=n(35),o="signing-in",s="signed-in",a="message-1",u="message-2",l="gamer-tag",c="player-image",h="user-name",f="player-name",d=3e3,p=function(t){function e(){var e=t.call(this)||this;return e.els=[o,s,a,u,l,c,h,f],e}return y(e,t),e.prototype.sceneDidMount=function(){this.signIn()},e.prototype.render=function(){return'\n\t\t\t<div class="scene xboxlive-scene">\n\t\t\t\t<div id="'+o+'" class="user">\n\t\t\t\t\t<p id="'+a+'">Signing you in...</p>\n\t\t\t\t\t<p id="'+u+'">Please wait</p>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+s+'">\n\t\t\t\t\t<div id="signed-in-message">You are now signed in</div>\n\t\t\t\t\t<div class="user">\n\t\t\t\t\t\t<table id="'+l+'">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<img id="'+c+'" class="image" alt="" />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<p id="'+h+'"></p>\n\t\t\t\t\t\t\t\t\t<p id="'+f+'"></p>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.signIn=function(){var t,e,n,r,i=this;if(window.Microsoft&&window.Microsoft.Xbox&&window.Microsoft.Xbox.Services){t=window.Microsoft.Xbox.Services,e=t.System,n=t.XboxLiveContext,r=(0,t.XboxLiveUser)();try{r.signInAsync(null).then(function(t){t.status===e.SignInStatus.success?n(r).profileService.getUserProfileAsync(r.xboxUserId).then(function(t){i.user={playerId:r.xboxUserId,userName:"",playerName:r.gamertag,playerScore:r.gamerscore,playerImage:t.gameDisplayPictureResizeUri.rawUri},i.signInSuccess()}):t.status===e.SignInStatus.userCancel&&i.signInError()})}catch(t){this.signInError()}}else this.signInError()},e.prototype.signInSuccess=function(){this.refs[c].src=this.user.playerImage,this.refs[h].innerHTML=this.user.userName,this.refs[f].innerHTML=this.user.playerName,this.hidden(this.refs[o]),this.visible(this.refs[s]),this.signInFinish()},e.prototype.signInError=function(){this.refs[a].innerHTML="Something went wrong...",this.refs[u].innerHTML="Unable to sign in",this.signInFinish()},e.prototype.signInFinish=function(){setTimeout(function(){i.routeTo("menu")},d)},e}(r["default"]),e["default"]=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,e["default"]=undefined,s=n(696),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){var r,i,o,s,a,u,l,c,h,f,d,p,y,g,v,m,_,b,x,w,T,E,O,S,A,P=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(102),i=n(35),o=n(101),s=n(9),a=n(18),u=n(29),l=n(67),c=n(78),h=n(105),f=n(75),d=n(136),p="adPlayerTimer",y="adPlayerMessage",g="adPlayerInfo",v="adLoader",m="adPlayerLoader",_="adPlayerDebugName",b=64,x=b-1024,w=100,T=900,E=402,O=6e4,S=2e4,A=function(t){function e(){var e=t.call(this)||this;return e.quitGameModal=c["default"],e.debugSequence=[u.Keys.UP,u.Keys.RIGHT,u.Keys.LEFT,u.Keys.ENTER,u.Keys.DOWN],e.debugSequencePosition=0,e.els=[p,y,g,m,v,_],e.throbberIsShown=!1,e.playLinearAd=e.playLinearAd.bind(e),e.onError=e.onError.bind(e),e.onEnd=e.onEnd.bind(e),e.closePlayer=e.closePlayer.bind(e),e.onStateChange=e.onStateChange.bind(e),e.onTimeUpdate=e.onTimeUpdate.bind(e),e.initTimeoutFailSafe=e.initTimeoutFailSafe.bind(e),e.globalTimeoutFailSafe=e.globalTimeoutFailSafe.bind(e),e}return P(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="adplayerScene" class="scene game-scene">\n\t\t\t\t<div id="'+g+'">\n\t\t\t\t\t<span id="'+y+'"></span>\n\t\t\t\t\t<span id="'+p+'"></span>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+_+'"></div>\n\t\t\t\t<div id="'+v+'">\n\t\t\t\t\t<div id="'+m+'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.sceneDidMount=function(){o.restartStartCount(),this.vastTracker=null,this.globalFailSafeTimeout=setTimeout(this.globalTimeoutFailSafe,O),this.initFailSafeTimeout=setTimeout(this.initTimeoutFailSafe,S),this.showThrobber(),o.adsControl.getLinearAd().then(this.playLinearAd)["catch"](this.onError)},e.prototype.onKeyDown=function(t){var e=t.key;return e===u.Keys.ENTER&&this.vastTracker&&this.vastTracker.canSkip?(this.vastTracker.onSkip(),this.closePlayer()):e===this.debugSequence[this.debugSequencePosition]?this.debugSequencePosition+1>=this.debugSequence.length&&this.vastTracker?this.visible(this.refs[_]):this.debugSequencePosition+=1:this.debugSequencePosition=0,!1},e.prototype.onError=function(t){var e=t.message||"[MauAdPlayer] Error during ad retrieval.";l["default"].warn(e),this.vastTracker&&this.vastTracker.sendError(T,e),this.closePlayer()},e.prototype.playLinearAd=function(t){var e,n,r=s["default"].Device.player;if(!t)throw Error("Ad not found");if(!r)throw Error("[MauAdPlayer] Unable to fing a player.");e=t.vastTracker,n=t.source,this.vastTracker=e,this.player=r,this.refs[_].innerHTML=this.vastTracker.name,this.refs[y].innerHTML=this.vastTracker.isSkippable?a._("skip_ad_in"):a._("game_in"),this.addSubscribes(),this.player.open(n),this.player.play()},e.prototype.addSubscribes=function(){this.player&&(this.player.subscribe("statechange",this.onStateChange),this.player.subscribe("end",this.onEnd),this.player.subscribe("error",this.onError),this.player.subscribe("timeupdate",this.onTimeUpdate),this.updateTimer(0))},e.prototype.onStateChange=function(t){t===d["default"].STATE.BUFFERING?(this.hidden(this.refs[g]),this.showThrobber()):(t===d["default"].STATE.PLAYING&&clearTimeout(this.initFailSafeTimeout),this.hideThrobber(),this.refs[g].className="",this.visible(this.refs[g]),this.vastTracker&&this.vastTracker.stateChange(t))},e.prototype.onEnd=function(){this.vastTracker&&!this.vastTracker.ended&&(this.vastTracker.onEnd(),this.closePlayer())},e.prototype.onTimeUpdate=function(t){var e=f.round(t/1e3);this.vastTracker&&this.vastTracker.timeUpdate(e),this.updateTimer(e)},e.prototype.updateTimer=function(t){var e,n,r,i,o;this.vastTracker&&(e=this.vastTracker,n=e.duration,r=e.skipDelay,this.vastTracker.isSkippable?(i=r-t,this.vastTracker.canSkip?(this.refs[p].innerHTML="",this.refs[y].innerHTML=a._("skip_ad"),this.refs[g].className="focused"):this.refs[p].innerHTML=i+"s"):(o=n-t,o<0&&this.onEnd(),this.refs[p].innerHTML=o+"s"))},e.prototype.unsubscribeEvents=function(){this.player&&(this.player.unsubscribe("statechange",this.onStateChange),this.player.unsubscribe("end",this.onEnd),this.player.unsubscribe("error",this.onError),this.player.unsubscribe("timeupdate",this.onTimeUpdate))},e.prototype.showThrobber=function(){if(!this.throbberIsShown){var t=0,e=this.refs[m];this.throbberInt=setInterval(function(){(t-=b)<x&&(t=0),e.style.backgroundPosition=t+"px 0px"},w),this.visible(this.refs[v]),this.throbberIsShown=!0}},e.prototype.hideThrobber=function(){this.throbberIsShown&&this.throbberInt&&(clearInterval(this.throbberInt),this.hidden(this.refs[v]),this.throbberIsShown=!1,this.throbberInt=null)},e.prototype.initTimeoutFailSafe=function(){o.adsControl.adsGa.sendError(r.adTypes.video,"initTimeoutFailSafe","initTimeoutFailSafe"),this.vastTracker&&this.vastTracker.sendError(E,"initTimeoutFailSafe"),this.closePlayer()},e.prototype.globalTimeoutFailSafe=function(){o.adsControl.adsGa.sendError(r.adTypes.video,"globalTimeoutFailSafe","globalTimeoutFailSafe"),this.vastTracker&&this.vastTracker.sendError(T,"globalTimeoutFailSafe"),this.closePlayer()},e.prototype.closePlayer=function(){this.player&&(this.unsubscribeEvents(),this.player.hide(),this.player.stop(),this.player=null),this.hideThrobber(),clearTimeout(this.initFailSafeTimeout),clearTimeout(this.globalFailSafeTimeout),i.routeTo("game")},e}(h["default"]),e["default"]=A},function(t,e,n){"use strict";e.__esModule=!0,e["default"]=[{name:"default",fnt:"assets/fonts/default.fnt",png:"assets/fonts/default.png"},{name:"default",fnt:"assets/fonts/defaultFocused.fnt",png:"assets/fonts/defaultFocused.png",focused:!0},{name:"shiny",fnt:"assets/fonts/defaultFocused.fnt",png:"assets/fonts/defaultFocused.png"},{name:"roboto",fnt:"assets/fonts/roboto.fnt",png:"assets/fonts/roboto.png"}]},function(t,e,n){"use strict";(0,n(18).addVocabulary)({about_1:"Welcome to the infinite universe!",about_3:"Take control over the Mautilus",about_4:"spaceship and expand your empire!",about_5:"Draw the lines of your territory and conquer",about_6:"the green planets to win the game!",about_7:"Good Luck!",gameReady:"PRESS ANY BUTTON TO START",you:"YOU",youDescription:"Spaceship Mautilus! Fast and reliable.",youDescription2:"Use it to expand your empire!",mine:"MINE",mineDescription:"Painfully slow, but some say that if it hits",mineDescription2:"the field, it will destroy every imperial ship in the sector!",satelite:"SATELLITE",sateliteDescription:"Stationary base, with a powerful cannon.",sateliteDescription2:"Intel says that it can energize some kind of barrier.",enemy:"ENEMY CRUISER",enemyDescription:"Main enemy cruiser, fast and agile!",enemyDescription2:"You should be safe inside the field.",enemy2:"METEOR",enemy2Description:"This sector is known for its meteoric activity.",enemy2Description2:"They are unpredictable! Beware!!!",enemy3:"PROJECTILE",enemy3Description:"Used via satellite bases to spread destruction.",enemy3Description2:"It would be awesome to use them to our advantage!",pressAny:"PRESS ANY BUTTON",toContinue:"TO CONTINUE"},"en")},function(t,e){}]);