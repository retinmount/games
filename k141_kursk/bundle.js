!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=163)}([function(t,e,n){var r=n(2),i=n(25),o=n(17),s=n(18),a=n(26),u="prototype",c=function(t,e,n){var l,f,p,h,d=t&c.F,y=t&c.G,v=t&c.S,m=t&c.P,g=t&c.B,b=y?r:v?r[e]||(r[e]={}):(r[e]||{})[u],_=y?i:i[e]||(i[e]={}),w=_[u]||(_[u]={});y&&(n=e);for(l in n)f=!d&&b&&b[l]!==undefined,p=(f?b:n)[l],h=g&&f?a(p,r):m&&"function"==typeof p?a(Function.call,p):p,b&&s(b,l,p,t&c.U),_[l]!=p&&o(_,l,h),m&&w[l]!=p&&(w[l]=p)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r,i,o,s,a,u,c,l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(81),i=n(372),o=n(373),s=n(82),a=n(56),u="_uuid2",c={CONFIG:{version:"work in progress",debug:!1,gameName:"gameName not set",locale:"en",soundRoot:"assets/sounds/",keyMask:575,toPreload:[],fpsLevels:[40,30,20,0],amountOfPlayers:1},Storage:s["default"],SoundManager:new i.SoundManager,Sounds:o["default"],Device:r["default"],init:function(t){return c.CONFIG=l({},c.CONFIG,t),c.Sounds.init(),c.enforcePushState=c.Device.enforcePushState||!1,c.Device.init()},getJoystick:function(){return r["default"].joystick||{x:0,y:0}},useCanvas:function(){var t=s["default"].get(c.CONFIG.gameName+"_canvas");return"string"==typeof t?"on"===t:r["default"].useCanvas},useWebGL:function(){return r["default"].useWebGL||!1},setCanvas:function(t){r["default"].useCanvas=t,s["default"].set(c.CONFIG.gameName+"_canvas",t?"on":"off")},getUUID:function(){var t=s["default"].get(u);return t||(t=a.uuid(),s["default"].set(u,t),t)},exit:function(){return r["default"].exit()}},e["default"]=c},function(t,e,n){var r=n(66)("wks"),i=n(43),o=n(2).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(122),o=n(30),s=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(32),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(14)),r(n(158)),r(n(35)),r(n(116)),r(n(389)),r(n(390)),r(n(391)),r(n(392)),r(n(393))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={tizen:"samsung",orsay:"samsung",webos:"lg",netcast:"lg"},r=function(){function t(t,e,n,r){this.uid="",this.preparedUrl="",this.serverUrl="",this.defaultParams={},this.serverUrl=t,this.uid=e,this.name=n,this.appConfig=r}return t.prototype.getUrl=function(){return this.preparedUrl||(this.preparedUrl=this.prepareUrl()),""+this.preparedUrl+this.getRndParam()},t.prototype.getParams=function(){return this.defaultParams},t.prototype.prepareUrl=function(){var t=this.getParams(),e=Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&");return this.serverUrl+"?"+e},t.prototype.getRndParam=function(){return""},t.prototype.getDevice=function(){var t=this.appConfig.device;return n[t]||t},t.prototype.getBundleId=function(){return"es.tvgam."+this.appConfig.gameName},t}();e["default"]=r},function(t,e,n){var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);e["default"]=function(){return""+r.getIntInInterval(1e8,999999999)}},function(t,e,n){var r,i,o,s,a,u,c,l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(57),i=n(5),o="en",s=function(){function t(){this.vocabularies={}}return t.prototype.getValue=function(t){var e=this.vocabularies[i["default"].CONFIG.locale]||this.vocabularies[o]||{};return e[t]?e[t]:(r["default"].warn("Requested translation not found: "+t+" in "+i["default"].CONFIG.locale),t)},t.prototype.addVocabulary=function(t,e){a.vocabularies[e]=l({},this.vocabularies[e]||{},t)},t}(),a=new s,u=function(t){return a.getValue(t)},e._=u,c=function(t,e){a.addVocabulary(t,e)},e.addVocabulary=c,e["default"]=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(429);e["default"]=function(t,e){var n,i,o;return void 0===e&&(e="default"),i=(""+(t||0===t?t:"")).split(""),o=i.length-1,'\n\t\t<span class="graphical-word graphical-word-'+e+'">\n\t\t\t'+i.map(function(t,i){if("\n"===t)return n=null,"<br />";var s=r["default"](t,n,e,o===i);return n=t,s}).join("")+"\n\t\t</span>\n\t"}},function(t,e,n){var r=n(8),i=n(42);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(17),o=n(21),s=n(43)("src"),a="toString",u=Function[a],c=(""+u).split(a);n(25).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(e+""))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||u.call(this)})},function(t,e,n){var r=n(0),i=n(3),o=n(31),s=/"/g,a=function(t,e,n,r){var i=o(t)+"",a="<"+e;return""!==n&&(a+=" "+n+'="'+(r+"").replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Keys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,LEFT:10,RIGHT:11,UP:12,DOWN:13,ENTER:14,RETURN:15,RED:16,GREEN:17,YELLOW:18,BLUE:19,PLAY:20,PAUSE:21,STOP:22,PLAY_PAUSE:23,FF:24,RW:25,EXIT:26,CENTER:27}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(61),i=n(31);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(62),i=n(42),o=n(22),s=n(30),a=n(21),u=n(122),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(n){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(21),i=n(12),o=n(90)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(13);t.exports=function(t,e,n){if(r(t),e===undefined)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r,i,o,s,a,u,c,l,f;Object.defineProperty(e,"__esModule",{value:!0}),r=n(5),i=n(83),o=function(){function t(){this.root=null,this.routes={},this.currentRoute=null,this.routeStack=[]}return t.prototype.routeTo=function(t){var e,n,o=t;"game"===o&&"adplayer"!==this.currentRoute&&i.shouldShowAd()&&this.routes.adplayer&&(o="adplayer"),e=this.routes[o],e&&this.root&&(this.currentRoute&&this.routes[this.currentRoute].sceneWillUnmount(),this.routeStack.push(o),this.currentRoute=o,e.mount(this.root)),r["default"].enforcePushState&&window.history&&"function"==typeof window.history.pushState&&(n=window.location.href.split("#")[0],window.history.pushState(null,null,n+"#"+o))},t.prototype.back=function(){var t=this.routeStack[this.routeStack.length-2];t&&(this.routeStack.splice(this.routeStack.length-2,2),this.routeTo(t))},t.prototype.initRoute=function(t,e){(this.routes[t]=e).init()},t.prototype.getCurrentScene=function(){return this.currentRoute?this.routes[this.currentRoute]:null},t}(),s=new o,a=function(t){s.root=t},e.setRoot=a,u=function(t){s.routeTo(t)},e.routeTo=u,c=function(){s.back()},e.routeBack=c,l=function(t,e){s.initRoute(t,e)},e.initRoute=l,f=function(){return s.getCurrentScene()},e.getCurrentScene=f},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(0),i=n(25),o=n(3);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var r=n(26),i=n(61),o=n(12),s=n(9),a=n(107);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f,h=e||a;return function(e,a,d){for(var y,v,m=o(e),g=i(m),b=r(a,d,3),_=s(g.length),w=0,E=n?h(e,_):u?h(e,0):undefined;_>w;w++)if((p||w in g)&&(y=g[w],v=b(y,w,m),t))if(n)E[w]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:E.push(y)}else if(l)return!1;return f?-1:c||l?l:E}}},function(t,e,n){var r,i,o,s,a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=this;Object.defineProperty(e,"__esModule",{value:!0}),r=n(10),i=n(158),e.TIMEOUT=5e3,e.IP_KEY="_IP2",e.UNKNOWN_IP="unknown IP",e.IPIFY_URL="https://api.ipify.org/?format=json",o="([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])",e.IP_REGEX="^"+o+"."+o+"."+o+"."+o+"$",s=function(){return"195."+r.getIntInInterval(0,255)+"."+r.getIntInInterval(0,255)+"."+r.getIntInInterval(0,255)},e.getIPfromIpify=function(t){return void 0===t&&(t=i.request),a(c,void 0,void 0,function(){return u(this,function(n){return[2,t(e.IPIFY_URL).then(function(t){try{var n=JSON.parse(t).ip;if("string"!=typeof n||!n.match(e.IP_REGEX))throw Error("Ip not found");return JSON.parse(t).ip}catch(t){return s()}})["catch"](function(){return s()})]})})},e.obtainIPAddress=function(){return a(c,void 0,void 0,function(){var t;return u(this,function(n){return t=new Promise(function(t){setTimeout(function(){t(s())},e.TIMEOUT)}),[2,Promise.race([e.getIPfromIpify(),t]).then(function(t){r.Storage.set(e.IP_KEY,t)})]})})},e.getIPAdress=function(){return r.Storage.get(e.IP_KEY)||e.UNKNOWN_IP}},function(t,e,n){"use strict";var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P,S,I,x,A,M,N,C,k,R,L,D,j,U,F,G,H,B,V,K,W,Y,q,X,z,J,Q,Z,$,tt,et,nt,rt,it,ot,st,at,ut,ct,lt,ft,pt,ht,dt,yt,vt,mt,gt,bt,_t,wt,Et,Ot,Tt,Pt,St,It,xt,At,Mt,Nt,Ct,kt,Rt,Lt,Dt,jt,Ut,Ft,Gt,Ht,Bt,Vt,Kt,Wt,Yt;n(7)?(r=n(40),i=n(2),o=n(3),s=n(0),a=n(77),u=n(113),c=n(26),l=n(49),f=n(42),p=n(17),h=n(51),d=n(32),y=n(9),v=n(148),m=n(45),g=n(30),b=n(21),_=n(63),w=n(4),E=n(12),O=n(104),T=n(46),P=n(24),S=n(47).f,I=n(106),x=n(43),A=n(6),M=n(34),N=n(67),C=n(74),k=n(109),R=n(54),L=n(71),D=n(48),j=n(108),U=n(138),F=n(8),G=n(23),H=F.f,B=G.f,V=i.RangeError,K=i.TypeError,W=i.Uint8Array,Y="ArrayBuffer",q="Shared"+Y,X="BYTES_PER_ELEMENT",z="prototype",J=Array[z],Q=u.ArrayBuffer,Z=u.DataView,$=M(0),tt=M(2),et=M(3),nt=M(4),rt=M(5),it=M(6),ot=N(!0),st=N(!1),at=k.values,ut=k.keys,ct=k.entries,lt=J.lastIndexOf,ft=J.reduce,pt=J.reduceRight,ht=J.join,dt=J.sort,yt=J.slice,vt=J.toString,mt=J.toLocaleString,gt=A("iterator"),bt=A("toStringTag"),_t=x("typed_constructor"),wt=x("def_constructor"),Et=a.CONSTR,Ot=a.TYPED,Tt=a.VIEW,Pt="Wrong length!",St=M(1,function(t,e){return Nt(C(t,t[wt]),e)}),It=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),xt=!!W&&!!W[z].set&&o(function(){new W(1).set({})}),At=function(t,e){var n=d(t);if(n<0||n%e)throw V("Wrong offset!");return n},Mt=function(t){if(w(t)&&Ot in t)return t;throw K(t+" is not a typed array!")},Nt=function(t,e){if(!(w(t)&&_t in t))throw K("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return kt(C(t,t[wt]),e)},kt=function(t,e){for(var n=0,r=e.length,i=Nt(t,r);r>n;)i[n]=e[n++];return i},Rt=function(t,e,n){H(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,r,i,o,s,a=E(t),u=arguments.length,l=u>1?arguments[1]:undefined,f=l!==undefined,p=I(a);if(p!=undefined&&!O(p)){for(s=p.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=y(a.length),i=Nt(this,n);n>e;e++)i[e]=f?l(a[e],e):a[e];return i},Dt=function(){for(var t=0,e=arguments.length,n=Nt(this,e);e>t;)n[t]=arguments[t++];return n},jt=!!W&&o(function(){mt.call(new W(1))}),Ut=function(){return mt.apply(jt?yt.call(Mt(this)):Mt(this),arguments)},Ft={copyWithin:function(t,e){return U.call(Mt(this),t,e,arguments.length>2?arguments[2]:undefined)},every:function(t){return nt(Mt(this),t,arguments.length>1?arguments[1]:undefined)},fill:function(t){return j.apply(Mt(this),arguments)},filter:function(t){return Ct(this,tt(Mt(this),t,arguments.length>1?arguments[1]:undefined))},find:function(t){return rt(Mt(this),t,arguments.length>1?arguments[1]:undefined)},findIndex:function(t){return it(Mt(this),t,arguments.length>1?arguments[1]:undefined)},forEach:function(t){$(Mt(this),t,arguments.length>1?arguments[1]:undefined)},indexOf:function(t){return st(Mt(this),t,arguments.length>1?arguments[1]:undefined)},includes:function(t){return ot(Mt(this),t,arguments.length>1?arguments[1]:undefined)},join:function(t){return ht.apply(Mt(this),arguments)},lastIndexOf:function(t){return lt.apply(Mt(this),arguments)},map:function(t){return St(Mt(this),t,arguments.length>1?arguments[1]:undefined)},reduce:function(t){return ft.apply(Mt(this),arguments)},reduceRight:function(t){return pt.apply(Mt(this),arguments)},reverse:function(){for(var t,e=this,n=Mt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:undefined)},sort:function(t){return dt.call(Mt(this),t)},subarray:function(t,e){var n=Mt(this),r=n.length,i=m(t,r);return new(C(n,n[wt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((e===undefined?r:m(e,r))-i))}},Gt=function(t,e){return Ct(this,yt.call(Mt(this),t,e))},Ht=function(t){var e,n,r,i,o;if(Mt(this),e=At(arguments[1],1),n=this.length,r=E(t),i=y(r.length),o=0,i+e>n)throw V(Pt);for(;o<i;)this[e+o]=r[o++]},Bt={entries:function(){return ct.call(Mt(this))},keys:function(){return ut.call(Mt(this))},values:function(){return at.call(Mt(this))}},Vt=function(t,e){return w(t)&&t[Ot]&&"symbol"!=typeof e&&e in t&&+e+""==e+""},Kt=function(t,e){return Vt(t,e=g(e,!0))?f(2,t[e]):B(t,e)},Wt=function(t,e,n){return!(Vt(t,e=g(e,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?H(t,e,n):(t[e]=n.value,t)},Et||(G.f=Kt,F.f=Wt),s(s.S+s.F*!Et,"Object",{getOwnPropertyDescriptor:Kt,defineProperty:Wt}),o(function(){vt.call({})})&&(vt=mt=function(){return ht.call(this)}),Yt=h({},Ft),h(Yt,Bt),p(Yt,gt,Bt.values),h(Yt,{slice:Gt,set:Ht,constructor:function(){},toString:vt,toLocaleString:Ut}),Rt(Yt,"buffer","b"),Rt(Yt,"byteOffset","o"),Rt(Yt,"byteLength","l"),Rt(Yt,"length","e"),H(Yt,bt,{get:function(){return this[Ot]}}),t.exports=function(t,e,n,u){var c,f,h,d,m,g,b,E,O,I,x,A,M,N,C;u=!!u,c=t+(u?"Clamped":"")+"Array",f="get"+t,h="set"+t,d=i[c],m=d||{},g=d&&P(d),b=!d||!a.ABV,E={},O=d&&d[z],I=function(t,n){var r=t._d;return r.v[f](n*e+r.o,It)},x=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*e+i.o,r,It)},A=function(t,e){H(t,e,{get:function(){return I(this,e)},set:function(t){return x(this,e,t)},enumerable:!0})},b?(d=n(function(t,n,r,i){var o,s,a,u,f,h,m;if(l(t,d,c,"_d"),o=0,s=0,w(n)){if(!(n instanceof Q||(h=_(n))==Y||h==q))return Ot in n?kt(d,n):Lt.call(d,n);if(a=n,s=At(r,e),m=n.byteLength,i===undefined){if(m%e)throw V(Pt);if((u=m-s)<0)throw V(Pt)}else if((u=y(i)*e)+s>m)throw V(Pt);f=u/e}else f=v(n),u=f*e,a=new Q(u);for(p(t,"_d",{b:a,o:s,l:u,e:f,v:new Z(a)});o<f;)A(t,o++)}),O=d[z]=T(Yt),p(O,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&L(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){l(t,d,c);var o;return w(n)?n instanceof Q||(o=_(n))==Y||o==q?i!==undefined?new m(n,At(r,e),i):r!==undefined?new m(n,At(r,e)):new m(n):Ot in n?kt(d,n):Lt.call(d,n):new m(v(n))}),$(g!==Function.prototype?S(m).concat(S(g)):S(m),function(t){t in d||p(d,t,m[t])}),d[z]=O,r||(O.constructor=d)),M=O[gt],N=!!M&&("values"==M.name||M.name==undefined),C=Bt.values,p(d,_t,!0),p(O,Ot,c),p(O,Tt,!0),p(O,wt,d),(u?new d(1)[bt]==c:bt in O)||H(O,bt,{get:function(){return c}}),E[c]=d,s(s.G+s.W+s.F*(d!=m),E),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){m.of.call(d,1)}),c,{from:Lt,of:Dt}),X in O||p(O,X,e),s(s.P,c,Ft),D(c),s(s.P+s.F*xt,c,{set:Ht}),s(s.P+s.F*!N,c,Bt),r||O.toString==vt||(O.toString=vt),s(s.P+s.F*o(function(){new d(1).slice()}),c,{slice:Gt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){O.toLocaleString.call([1,2])})),c,{toLocaleString:Ut}),R[c]=N?M:C,r||N||p(O,gt,C)}):t.exports=function(){}},function(t,e,n){var r=n(143),i=n(0),o=n(66)("metadata"),s=o.store||(o.store=new(n(146))),a=function(t,e,n){var i,o=s.get(t);if(!o){if(!n)return undefined;s.set(t,o=new r)}if(!(i=o.get(e))){if(!n)return undefined;o.set(e,i=new r)}return i},u=function(t,e,n){var r=a(e,n,!1);return r!==undefined&&r.has(t)},c=function(t,e,n){var r=a(e,n,!1);return r===undefined?undefined:r.get(t)},l=function(t,e,n,r){a(n,r,!0).set(t,e)},f=function(t,e){var n=a(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},p=function(t){return t===undefined||"symbol"==typeof t?t:t+""},h=function(t){i(i.S,"Reflect",t)};t.exports={store:s,map:a,has:u,get:c,set:l,keys:f,key:p,exp:h}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(430);e["default"]=r["default"]},function(t,e,n){var r=n(43)("meta"),i=n(4),o=n(21),s=n(8).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},h=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:h}},function(t,e){t.exports=!1},function(t,e,n){var r=n(6)("unscopables"),i=Array.prototype;i[r]==undefined&&n(17)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(124),i=n(91);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(32),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1),i=n(125),o=n(91),s=n(90)("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n(88)("iframe"),r=o.length,i="<",s=">";for(e.style.display="none",n(92).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=c(),e===undefined?n:i(n,e)}},function(t,e,n){var r=n(124),i=n(91).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(7),s=n(6)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||r!==undefined&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(26),i=n(136),o=n(104),s=n(1),a=n(9),u=n(106),c={},l={};e=t.exports=function(t,e,n,f,p){var h,d,y,v,m=p?function(){return t}:u(t),g=r(n,f,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=a(t.length);h>b;b++)if((v=e?g(s(d=t[b])[0],d[1]):g(t[b]))===c||v===l)return v}else for(y=m.call(t);!(d=y.next()).done;)if((v=i(y,g,d.value,e))===c||v===l)return v},e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(18);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(8).f,i=n(21),o=n(6)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(31),o=n(3),s=n(94),a="["+s+"]",u="​",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(t,e,n){var i={},a=o(function(){return!!s[t]()||u[t]()!=u}),c=i[t]=a?e(p):s[t];n&&(i[n]=c),r(r.P+r.F*a,"String",i)},p=f.trim=function(t,e){return t=i(t)+"",1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},function(t,e){t.exports={}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var i,o,s,a,u,c,l,f,p,h;Object.defineProperty(e,"__esModule",{value:!0}),i=n(374),e.noop=i["default"],o=n(375),e.getEmptyString=o["default"],s=n(376),e.uuid=s["default"],a=n(377),e.loadObject=a["default"],u=n(378),e.SimpleMath=u["default"],c=n(156),e.floor=c["default"],l=n(379),e.round=l["default"],f=n(115),e.getIntInInterval=f["default"],p=n(380),e.hashCode=p["default"],h=n(381),e.repeat=h["default"],r(n(382)),r(n(115)),r(n(383)),r(n(384))},function(t,e){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n={VERBOSE:0,INFO:1,WARN:2,ERROR:3},e.logLevels=n,r=function(){function t(){}return t.prototype.assert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.clear=function(){},t.prototype.count=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupEnd=function(){},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.profile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.profileEnd=function(){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeStamp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}(),e["default"]=new r},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(64),i=n(15),o=function(t){function e(){var n=t.call(this)||this;return e.modalType="modal-quit-game",n.question=i._("sure_quit"),n}return s(e,t),e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a,u,c,l=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(38),i=n(5),o=n(29),s=n(20),a=n(87),u=n(58),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visibleMenuItems=[],e.horizontal=!1,e.backRoute="menu",e.quitGameModal=u["default"],e}return l(e,t),e.prototype.init=function(){},e.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.sceneWillMount()},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.sceneDidMount()},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.sceneWillUnmount()},e.prototype.onKeyDown=function(t){switch(t.key){case s.Keys.RETURN:return this.handleBack();case s.Keys.EXIT:return this.handleQuit()}return!0},e.prototype.sceneWillMount=function(){},e.prototype.sceneDidMount=function(){},e.prototype.sceneWillUnmount=function(){},e.prototype.handleQuit=function(){return a.showModal(this.quitGameModal).then(function(t){t&&i["default"].exit()}),!1},e.prototype.handleBack=function(){return o.routeTo(this.backRoute),!1},e.prototype.sendGA=function(){},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.sendGA()},e}(r["default"]),e["default"]=c},function(t,e,n){"use strict";var r,i,o,s,a,u,c,l;e.__esModule=!0,r={SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,GAME_WIDTH:875,PIXEL_TO_METER_RATIO:100},i={TOP:625,CANON_TOP:615,FULL_SHIELD:2e3,SHIELD_PHASE:300,LIVES:3,MAX_LIVES:3,START_LIVES:3},o={WIDTH:40,MIDDLE:16,HEIGHT:60,MOVE_DISTANCE:30,MIN_POSITION:145,MAX_POSITION:775,HORIZONTAL_SPEED:3,CADENCE:40},s={WIDTH:30,MIDDLE:5,HEIGHT:52,MOVE_DISTANCE:20,MIN_POSITION:120,MAX_POSITION:800,HORIZONTAL_SPEED:2,CADENCE:30},a={WIDTH:32,HEIGHT:44,CADENCE:30,KILL_TIME:250},u={FORMATION_SPEED:.15,MIN_POSITION:250,MAX_POSITION:750,START:200,TOP:50,HORIZONTAL_OFFSET:12,VERTICAL_OFFSET:7},c={WIDTH:12,HEIGHT:28,HEIGHT_ENEMY:20,ENEMY_OFFSET:44,SPEED_SUBMARINE:1.5,SPEED_ENEMY:.8},l={MIN_DELAY:200,MAX_DELAY:4e3},e.GAME=r,e.PLAYER=i,e.SUBMARINE=o,e.DIVER=s,e.ENEMY=a,e.FORMATION=u,e.BULLET=c,e.BUBBLE=l},function(t,e,n){var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(27),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r,i,o,s,a,u,c,l,f,p=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(20),i=n(5),o=n(38),s=n(16),a=n(87),u=n(15),c="leaveGameModalYes",l="leaveGameModalNo",f=function(t){function e(){var e=t.call(this)||this;return e.question=u._("sure_leave"),e.yes=u._("yes"),e.no=u._("no"),e.YES_ID=c,e.NO_ID=l,e.initFocus=l,e.focused=null,e.horizontal=!0,e.els=[c,l],e.onClick=e.onClick.bind(e),e.onMouseOver=e.onMouseOver.bind(e),e}return p(e,t),e.prototype.componentDidMount=function(){this.setKeys(),this.refs[c].addEventListener("click",this.onClick,!1),this.refs[l].addEventListener("click",this.onClick,!1),this.refs[c].addEventListener("mouseover",this.onMouseOver,!1),this.refs[l].addEventListener("mouseover",this.onMouseOver,!1),this.focus(this.initFocus)},e.prototype.componentWillUnmount=function(){this.refs[c].removeEventListener("click",this.onClick,!1),this.refs[l].removeEventListener("click",this.onClick,!1),this.refs[c].removeEventListener("mouseover",this.onMouseOver,!1),this.refs[l].removeEventListener("mouseover",this.onMouseOver,!1)},e.prototype.render=function(){return'\n\t\t\t<div class="question">'+s["default"](this.question)+'</div>\n\t\t\t<div class="answers">\n\t\t\t\t<div class="answer" id="'+this.YES_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+s["default"](this.yes)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="answer" id="'+this.NO_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+s["default"](this.no)+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){switch(t.key){case this.backwardKey:this.focus(c);break;case this.forwardKey:this.focus(l);break;case r.Keys.RETURN:a.hideModal(!1);break;case r.Keys.ENTER:a.hideModal(this.focused===c);break;case r.Keys.EXIT:i["default"].Device.exit()}return!1},e.prototype.onClick=function(t){for(var e=t.target;e&&e.id!==c&&e.id!==l;)e=e.parentNode||null;return e&&e.id?a.hideModal(e.id===c):a.hideModal(!1),!1},e.prototype.onMouseOver=function(t){for(var e=t.target;e&&e.id!==c&&e.id!==l;)e=e.parentNode||null;return e&&"string"==typeof e.id&&this.focus(e.id),!1},e.prototype.focus=function(t){if(t!==this.focused)switch(this.focused=t){case c:this.select(this.refs[c]),this.unselect(this.refs[l]);break;case l:this.select(this.refs[l]),this.unselect(this.refs[c])}},e.prototype.select=function(t){t.className+=" focused"},e.prototype.unselect=function(t){t.className=t.className.replace(" focused","")},e.prototype.setKeys=function(){this.horizontal?(this.forwardKey=r.Keys.RIGHT,this.backwardKey=r.Keys.LEFT):(this.forwardKey=r.Keys.DOWN,this.backwardKey=r.Keys.UP)},e.modalType="modal-leave-game",e}(o["default"]),e["default"]=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,c,l;e.__esModule=!0,e["default"]=undefined,u=n(120),c=function(t){return t&&t.__esModule?t:{"default":t}}(u),n(437),a=s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e}(c["default"]),Object.defineProperty(s,"modalType",{enumerable:!0,writable:!0,value:"modal-quit-game"}),l=a,e["default"]=l},function(t,e,n){var r=n(25),i=n(2),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=e!==undefined?e:{})})("versions",[]).push({version:r.version,mode:n(40)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(22),i=n(9),o=n(45);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(27);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(4),i=n(27),o=n(6)("match");t.exports=function(t){var e;return r(t)&&((e=t[o])!==undefined?!!e:"RegExp"==i(t))}},function(t,e,n){var r,i=n(6)("iterator"),o=!1;try{r=[7][i](),r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(s){}t.exports=function(t,e){var n,r,s;if(!e&&!o)return!1;n=!1;try{r=[7],s=r[i](),s.next=function(){return{done:n=!0}},r[i]=function(){return s},t(r)}catch(s){}return n}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(17),i=n(18),o=n(3),s=n(31),a=n(6);t.exports=function(t,e,n){var u=a(t),c=n(s,u,""[t]),l=c[0],f=c[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){var r=n(1),i=n(13),o=n(6)("species");t.exports=function(t,e){var n,s=r(t).constructor;return s===undefined||(n=r(s)[o])==undefined?e:i(n)}},function(t,e,n){var r=n(2),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(18),s=n(51),a=n(39),u=n(50),c=n(49),l=n(4),f=n(3),p=n(71),h=n(52),d=n(95);t.exports=function(t,e,n,y,v,m){var g,b,_,w,E,O=r[t],T=O,P=v?"set":"add",S=T&&T.prototype,I={},x=function(t){var e=S[t];o(S,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?undefined:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};return"function"==typeof T&&(m||S.forEach&&!f(function(){(new T).entries().next()}))?(g=new T,b=g[P](m?{}:-0,1)!=g,_=f(function(){g.has(1)}),w=p(function(t){new T(t)}),E=!m&&f(function(){for(var t=new T,e=5;e--;)t[P](e,e);return!t.has(-0)}),w||(T=e(function(e,n){c(e,T,t);var r=d(new O,e,T);return n!=undefined&&u(n,v,r[P],r),r}),T.prototype=S,S.constructor=T),(_||E)&&(x("delete"),x("has"),v&&x("get")),(E||b)&&x(P),m&&S.clear&&delete S.clear):(T=y.getConstructor(e,t,v,P),s(T.prototype,n),a.NEED=!0),h(T,t),I[t]=T,i(i.G+i.W+i.F*(T!=O),I),m||y.setStrong(T,t,v),T}},function(t,e,n){for(var r,i=n(2),o=n(17),s=n(43),a=s("typed_array"),u=s("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,p=9,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<p;)(r=i[h[f++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,n){"use strict";t.exports=n(40)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(26),s=n(50);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,u=arguments[1];return i(this),e=u!==undefined,e&&i(u),t==undefined?new this:(n=[],e?(r=0,a=o(u,arguments[2],2),s(t,!1,function(t){n.push(a(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(367);e["default"]=r["default"]},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={},r=function(t){var e,r,i,o,s;try{for(e=t+"=",r=document.cookie.split(";"),i=r.length,o=0;o<i;o+=1){for(s=r[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}}catch(e){return n[t]||null}return null},i=function(t,e){var r,i;try{r=new Date,r.setTime(r.getTime()+31536e6),i="expires="+r.toUTCString(),document.cookie=t+"="+e+"; "+i}catch(r){n[t]=e}},o=function(t){var e;if(window.localStorage&&"function"==typeof window.localStorage.getItem)try{e=window.localStorage.getItem(t)}catch(n){e=r(t)}else e=r(t);try{return e?JSON.parse(e):e}catch(n){return e}},s=function(t,e){var n;try{n=JSON.stringify(e)}catch(r){n=e}if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem(t,n)}catch(r){i(t,n)}else i(t,n)},a={get:function(t){return o(t)},set:function(t,e){return s(t,e)}};e["default"]=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(386),i=n(5);e.getStartCountKey=function(){return i["default"].CONFIG.gameName+"_startCount2"},e.getStartCount=function(){var t=i["default"].Storage.get(e.getStartCountKey());return parseInt(t,10)},e.shouldShowAd=function(){return 0<e.adsControl.getAdOccurrence()&&e.getStartCount()>=e.adsControl.getAdOccurrence()},e.raiseStartCount=function(){var t=e.getStartCount();i["default"].Storage.set(e.getStartCountKey(),(t||0===t?t:1)+1)},e.lowerStartCount=function(){var t=e.getStartCount();i["default"].Storage.set(e.getStartCountKey(),(t||1<t?t:1)-1)},e.restartStartCount=function(){i["default"].Storage.set(e.getStartCountKey(),0)},e.initAdsControl=function(){var t={gameName:i["default"].CONFIG.gameName,gameTitle:i["default"].CONFIG.gameTitle,baseUrl:i["default"].CONFIG.baseUrl,platform:i["default"].Device.isHbbTV?"hbbtv":i["default"].Device.getPlatform(),device:i["default"].Device.getDevice(),version:i["default"].CONFIG.version,model:i["default"].Device.getModel(),userAgent:i["default"].Device.getUserAgent(),env:i["default"].CONFIG.env,gaAccount:i["default"].CONFIG.GA_ADS_ACCOUNT},n=i["default"].CONFIG.adsConfigUrl;return e.adsControl=new r.Ads(n,t),e.adsControl.init()}},function(t,e,n){var r,i,o=this&&this.__assign||function(){return(o=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(387),e.GA_ID_DEBUG="UA-122747211-3",e.GA_TRACKER_NAME="ADS_TRACKER",e.GA_DEBUG_TRACKER="ADS_DEBUG_TRACKER",e.SAMPLE_RATE=10,e.PRODUCTION="production",e.adTypes={banner:"banner",video:"pre-roll video",rectangle:"rectangle"},i=function(){function t(t){this.appConfig=t;var n=this.appConfig,i=n.env,s=n.gaAccount,a={};i===e.PRODUCTION&&(a.sampleRate=e.SAMPLE_RATE),r.initGA(s||"",o({name:e.GA_TRACKER_NAME},a)),r.initGA(e.GA_ID_DEBUG,{name:e.GA_DEBUG_TRACKER}),r.ga(e.GA_TRACKER_NAME+".set","checkProtocolTask",null),r.ga(e.GA_DEBUG_TRACKER+".set","checkProtocolTask",null)}return t.prototype.sendError=function(t,n,i){void 0===i&&(i="not specified");var o=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" error",""+o,n||"undefined"),r.ga(e.GA_DEBUG_TRACKER+".send","event",""+i,""+o,""+(n||"undefined"))},t.prototype.sendStart=function(t,n){var i=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" start",""+i,n)},t.prototype.sendSuccess=function(t,n){var i=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" success",""+i,n)},t.prototype.sendMissing=function(t,n){var i=this.appConfig.device;r.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" missed",""+i,n)},t}(),e.AdsGA=i},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h=this&&this.__assign||function(){return(h=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),i=n(82),o=n(417),s=n(418),a=!1,u=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r?o["default"].apply(void 0,e):(t=window).ga.apply(t,e)},c=function(){s.initRealGAScript(),r=!1},l=function(){r=!0},f=function(t,e){u("create",t,h({storage:"none",clientId:i["default"].get("ga:clientId")},e)),u(function(t){i["default"].set("ga:clientId",t.get("clientId"))})},p=function(t,e){try{a||(window.document.cookie,c())}catch(t){l()}finally{a=!0,f(t,e)}},e.initGA=p,e["default"]=u},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y;Object.defineProperty(e,"__esModule",{value:!0}),r=n(20),i=n(428),o=n(56),s=n(117),a=n(29),u=function(t){var e=0===t.className.length?[]:t.className.split(" ");e.push("focused"),t.className=e.join(" ")},c=function(t){var e=0===t.className.length?[]:t.className.split(" ");t.className=e.filter(function(t){return"focused"!==t}).join(" ")},l={currentFocus:null,controlDelegates:{},focus:function(t){var e,n=l.currentFocus,r=document.getElementById(t);r&&(n&&(e=document.getElementById(n))&&c(e),u(r),l.currentFocus=t)}},f=function(t){l.focus(t)},e.focus=f,p=function(t){var e,n,o,u,c=l.currentFocus,f=l.controlDelegates;if(c){if(e=[r.Keys.UP,r.Keys.DOWN,r.Keys.LEFT,r.Keys.RIGHT],n={key:i.getKey(t.keyCode),target:document.getElementById(c),originalEvent:t},o=!0,!n.key)return t.preventDefault(),!1;if(s.isModalShown()&&(o=s.modalOnKeyDown(n)),f[c]&&(o=f[c].onKeyDown(n)),!1!==o&&(u=a.getCurrentScene())&&(o=u.onKeyDown(n)),!1===o||-1!==e.indexOf(n.key))return t.preventDefault(),!1}return!0},h=function(t){return p(t)},e.fakeKeyDown=h,d=function(){return h({keyCode:i.getKeyCode(r.Keys.ENTER)||13,preventDefault:o.noop})},e.fakeEnter=d,y=function(){return h({keyCode:i.getKeyCode(r.Keys.RETURN)||8,preventDefault:o.noop})},e.fakeReturn=y,window.document.addEventListener("keydown",p,!0),window.document.addEventListener("fakeReturn",y,!0),window.document.body.addEventListener("mousedown",function(t){return!(2===t.button&&!y())||(t.preventDefault(),!1)},!0)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(117);e.showModal=r.showModal,e.hideModal=r.hideModal,e.isModalShown=r.isModalShown,e.modalOnKeyDown=r.modalOnKeyDown},function(t,e,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(25),o=n(40),s=n(123),a=n(8).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(66)("keys"),i=n(43);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(4),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(26)(Function.call,n(23).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):undefined),check:o}},function(t,e){t.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(4),i=n(93).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(32),i=n(31);t.exports=function(t){var e=i(this)+"",n="",o=r(t);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(32),i=n(31);t.exports=function(t){return function(e,n){var o,s,a=i(e)+"",u=r(n),c=a.length;return u<0||u>=c?t?"":undefined:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(40),i=n(0),o=n(18),s=n(17),a=n(54),u=n(101),c=n(52),l=n(24),f=n(6)("iterator"),p=!([].keys&&"next"in[].keys()),h="keys",d="values",y=function(){return this};t.exports=function(t,e,n,v,m,g,b){var _,w,E,O,T,P,S,I,x,A,M,N;if(u(n,e,v),_=function(t){if(!p&&t in T)return T[t];switch(t){case h:case d:return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",E=m==d,O=!1,T=t.prototype,P=T[f]||T["@@iterator"]||m&&T[m],S=P||_(m),I=m?E?_("entries"):S:undefined,x="Array"==e?T.entries||P:P,x&&(N=l(x.call(new t)))!==Object.prototype&&N.next&&(c(N,w,!0),r||"function"==typeof N[f]||s(N,f,y)),E&&P&&P.name!==d&&(O=!0,S=function(){return P.call(this)}),r&&!b||!p&&!O&&T[f]||s(T,f,S),a[e]=S,a[w]=y,m)if(A={values:E?S:_(d),keys:g?S:_(h),entries:I},b)for(M in A)M in T||o(T,M,A[M]);else i(i.P+i.F*(p||O),e,A);return A}},function(t,e,n){"use strict";var r=n(46),i=n(42),o=n(52),s={};n(17)(s,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(70),i=n(31);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return i(t)+""}},function(t,e,n){var r=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e,n){var r=n(54),i=n(6)("iterator"),o=Array.prototype;t.exports=function(t){return t!==undefined&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(8),i=n(42);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(63),i=n(6)("iterator"),o=n(54);t.exports=n(25).getIteratorMethod=function(t){if(t!=undefined)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(256);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(12),i=n(45),o=n(9);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:undefined,n),u=s>2?arguments[2]:undefined,c=u===undefined?n:i(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(41),i=n(139),o=n(54),s=n(22);t.exports=n(100)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o,s=n(26),a=n(129),u=n(92),c=n(88),l=n(2),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,y=l.Dispatch,v=0,m={},g="onreadystatechange",b=function(){var t,e=+this;m.hasOwnProperty(e)&&(t=m[e],delete m[e],t())},_=function(t){b.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},h=function(t){delete m[t]},"process"==n(27)(f)?r=function(t){f.nextTick(s(b,t,1))}:y&&y.now?r=function(t){y.now(s(b,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=_,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:p,clear:h}},function(t,e,n){var r=n(2),i=n(110).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(27)(s);t.exports=function(){var t,e,n,c,l,f,p=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=undefined,o}}e=undefined,r&&r.enter()};return u?n=function(){s.nextTick(p)}:!o||r.navigator&&r.navigator.standalone?a&&a.resolve?(f=a.resolve(undefined),n=function(){f.then(p)}):n=function(){i.call(r,p)}:(c=!0,l=document.createTextNode(""),new o(p).observe(l,{characterData:!0}),n=function(){l.data=c=!c}),function(r){var i={fn:r,next:undefined};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(e!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(13);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,s=Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?Y(2,-24)-Y(2,-77):0,f=0,p=t<0||0===t&&1/t<0?1:0;for(t=W(t),t!=t||t===V?(i=t!=t?1:0,r=u):(r=q(X(t)/z),t*(o=Y(2,-r))<1&&(r--,o*=2),t+=r+c>=1?l/o:l*Y(2,1-c),t*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*Y(2,e),r+=c):(i=t*Y(2,c-1)*Y(2,e),r=0));e>=8;s[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[f++]=255&r,r/=256,a-=8);return s[--f]|=128*p,s}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;a>0;l=256*l+t[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return r?NaN:c?-V:V;r+=Y(2,e),l-=s}return(c?-1:1)*r*Y(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function f(t,e,n){C(t[j],e,{get:function(){return this[n]}})}function p(t,e,n,r){var i,o,s,a=+n,u=M(a);if(u+e>t[tt])throw B(U);return i=t[$]._b,o=u+t[et],s=i.slice(o,o+e),r?s:s.reverse()}function h(t,e,n,r,i,o){var s,a,u,c,l=+n,f=M(l);if(f+e>t[tt])throw B(U);for(s=t[$]._b,a=f+t[et],u=r(+i),c=0;c<e;c++)s[a+c]=u[o?c:e-c-1]}var d,y,v,m,g,b,_=n(2),w=n(7),E=n(40),O=n(77),T=n(17),P=n(51),S=n(3),I=n(49),x=n(32),A=n(9),M=n(148),N=n(47).f,C=n(8).f,k=n(108),R=n(52),L="ArrayBuffer",D="DataView",j="prototype",U="Wrong index!",F=_[L],G=_[D],H=_.Math,B=_.RangeError,V=_.Infinity,K=F,W=H.abs,Y=H.pow,q=H.floor,X=H.log,z=H.LN2,J="buffer",Q="byteLength",Z="byteOffset",$=w?"_b":J,tt=w?"_l":Q,et=w?"_o":Z;if(O.ABV){if(!S(function(){F(1)})||!S(function(){new F(-1)})||S(function(){return new F,new F(1.5),new F(NaN),F.name!=L})){for(F=function(t){return I(this,F),new K(M(t))},d=F[j]=K[j],y=N(K),v=0;y.length>v;)(m=y[v++])in F||T(F,m,K[m]);E||(d.constructor=F)}g=new G(new F(2)),b=G[j].setInt8,g.setInt8(0,2147483648),g.setInt8(1,2147483649),!g.getInt8(0)&&g.getInt8(1)||P(G[j],{setInt8:function(t,e){b.call(this,t,e<<24>>24)},setUint8:function(t,e){b.call(this,t,e<<24>>24)}},!0)}else F=function(t){I(this,F,L);var e=M(t);this._b=k.call(Array(e),0),this[tt]=e},G=function(t,e,n){var r,i;if(I(this,G,D),I(t,F,D),r=t[tt],(i=x(e))<0||i>r)throw B("Wrong offset!");if(n=n===undefined?r-i:A(n),i+n>r)throw B("Wrong length!");this[$]=t,this[et]=i,this[tt]=n},w&&(f(F,Q,"_l"),f(G,J,"_b"),f(G,Q,"_l"),f(G,Z,"_o")),P(G[j],{getInt8:function(t){return p(this,1,t)[0]<<24>>24},getUint8:function(t){return p(this,1,t)[0]},getInt16:function(t){var e=p(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=p(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(p(this,4,t,arguments[1]))},getUint32:function(t){return o(p(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(p(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(p(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){h(this,1,t,s,e)},setUint8:function(t,e){h(this,1,t,s,e)},setInt16:function(t,e){h(this,2,t,a,e,arguments[2])},setUint16:function(t,e){h(this,2,t,a,e,arguments[2])},setInt32:function(t,e){h(this,4,t,u,e,arguments[2])},setUint32:function(t,e){h(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){h(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){h(this,8,t,c,e,arguments[2])}});R(F,L),R(G,D),T(G[j],O.VIEW,!0),e[L]=F,e[D]=G},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b;e.__esModule=!0,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u={IDLE:"IDLE",BUFFERING:"BUFFERING",PLAYING:"PLAYING",PAUSED:"PAUSED"},c={SMOOTH_STREAMING:"SMOOTH_STREAMING",WIDEVINE:"WIDEVINE",MPEG_DASH:"MPEG_DASH",MP4:"MP4",HLS:"HLS"},l={PLAYREADY:"PLAYREADY",WIDEVINE:"WIDEVINE",VERIMATRIX:"VERIMATRIX"},f={START_PLAY:"START_PLAY",PLAY:"PLAY",PAUSE:"PAUSE",STOP:"STOP",SEEK:"SEEK",SHOW:"SHOW",HIDE:"HIDE",SET_PLAYBACK_SPEED:"SET_PLAYBACK_SPEED",SET_VIDEO_DIMENSIONS:"SET_VIDEO_DIMENSIONS",SET_AUDIO_TRACK:"SET_AUDIO_TRACK",MUTE:"MUTE",UNMUTE:"UNMUTE",SET_VOLUME:"SET_VOLUME",GET_CURRENT_BITRATE:"GET_CURRENT_BITRATE",GET_VIDEO_RESOLUTION:"GET_VIDEO_RESOLUTION"},p={mediaType:"",isLiveStream:!1,mode4K:!1},h={type:"",option:{}},d={width:1280,height:720,top:0,left:0,seekStep:2e4},y={width:1280,height:720,left:0,top:0},v={url:"",duration:0,currentTime:0,currentState:u.IDLE,prevState:u.IDLE,looping:!1,speed:1,initialStartPosition:0,hasBeenOpened:!1},m={INVALID_NUMBER_OF_PARAMS:"Invalid number of parameters",INVALID_TYPE_OF_PARAM:"Invalid type of parameter, it must be {type}",INVALID_RANGE_OF_PARAM:"Invalid range of parameter, it must be inside range {range}",METHOD_NOT_IMPLEMENTED:"{methodName} method is not implemented",NOT_SPECIFIED_MEDIA_URL:"No video URL specified in Player"},g={SMOOTH_STREAMING:"application/vnd.ms-sstr+xml",WIDEVINE:"video/mp4",MPEG_DASH:"application/dash+xml",MP4:"video/mp4",HLS:"application/vnd.apple.mpegurl"},a=s=function(){function t(){var e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(r(this,t),e=this.validateParamsOfConstructor({config:n},arguments.length))throw Error(e);this.config=o({},d,n),this.eventStack={},this.mediaOption=o({},p),this.drmConfig=o({},h),this.property=o({},v,this.config)}return t.prototype.validateParamsOfConstructor=function(t,e){var n,r=t.config;return e>1?this.getErrMsgInvalidNumberOfParams():"object"!==(void 0===r?"undefined":i(r))?(n={requiredType:"object",parameterName:"config"},this.getErrMsgInvalidTypeOfParam(n)):""},t.prototype["native"]=function(t){arguments.length>1&&arguments[1]!==undefined&&arguments[1];throw Error(this.getErrMsgMethodNotImplemented("native"))},t.prototype.onDurationChange=function(t){"number"!=typeof t||Number.isNaN(t)||(this.property.duration=Math.floor(t),this.trigger("durationchange",this.property.duration))},t.prototype.onTimeUpdate=function(t){var e,n,r;"number"!=typeof t||Number.isNaN(t)||(e=Math.round(t),n=this.mediaOption.isLiveStream,r=this.property.duration,(n||r<=0||e<=r)&&(this.property.currentTime=e,this.trigger("timeupdate",this.property.currentTime)))},t.prototype.onEnd=function(){this.property.looping&&this.property.duration?(this.seek(0),this["native"](t.NATIVE_CMD.PLAY)):(this.setState(t.STATE.IDLE),this.trigger("end",this.property.currentTime))},t.prototype.onError=function(t,e,n){this.trigger("error",t,e,n)},t.prototype.deriveMediaType=function(e){return e.match(/\/manifest/i)?t.MEDIA_TYPE.SMOOTH_STREAMING:e.match(/\.wvm/)?t.MEDIA_TYPE.WIDEVINE:e.match(/\.mpd/)?t.MEDIA_TYPE.MPEG_DASH:e.match(/\.m3u8/)?t.MEDIA_TYPE.HLS:e.match(/\.mp4/)?t.MEDIA_TYPE.MP4:""},t.prototype.determineMimeType=function(t){return g[t]||""},t.prototype.setState=function(e){var n=this.property.currentState;n!==t.STATE.BUFFERING&&(this.property.prevState=n),this.property.currentState=e,this.trigger("statechange",this.property.currentState)},t.prototype.getState=function(){return this.property.currentState},t.prototype.getCurrentTime=function(){return this.property.currentTime},t.prototype.getDuration=function(){return this.property.duration},t.prototype.getPlaybackSpeed=function(){return this.property.speed},t.prototype.reset=function(){this.property=o({},v,this.config),this.mediaOption=o({},p),this.drmConfig=o({},h)},t.prototype.show=function(e,n,r,i){var s,a,u={width:e,height:n,left:r,top:i},c=this.validateParamsOfShow(u,arguments.length);if(c)throw Error(c);s=this.property,a={},a.height="number"==typeof n?n:s.height,a.width="number"==typeof e?e:s.width,a.left="number"==typeof r?r:s.left,a.top="number"==typeof i?i:s.top,o(this.property,a),this["native"](t.NATIVE_CMD.SHOW,a)},t.prototype.validateParamsOfShow=function(t,e){var n,r,i,o,s=t.width,a=t.height,u=t.left,c=t.top;return e>4?this.getErrMsgInvalidNumberOfParams():void 0!==s&&"number"!=typeof s?(n={requiredType:"number or undefined",parameterName:"width"},this.getErrMsgInvalidTypeOfParam(n)):void 0!==a&&"number"!=typeof a?(r={requiredType:"number or undefined",parameterName:"height"},this.getErrMsgInvalidTypeOfParam(r)):void 0!==u&&"number"!=typeof u?(i={requiredType:"number or undefined",parameterName:"left"},this.getErrMsgInvalidTypeOfParam(i)):void 0!==c&&"number"!=typeof c?(o={requiredType:"number or undefined",parameterName:"top"},this.getErrMsgInvalidTypeOfParam(o)):""},t.prototype.hide=function(){this["native"](t.NATIVE_CMD.HIDE)},t.prototype.fullscreen=function(){var t=y.width,e=y.height,n=y.left,r=y.top;this.show(t,e,n,r)},t.prototype.setURL=function(t){this.property.url=t},t.prototype.setLooping=function(t){this.property.looping=t},t.prototype.setInitialStartPosition=function(t){this.property.initialStartPosition=t},t.prototype.open=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=arguments.length>3&&arguments[3]!==undefined&&arguments[3],s={url:e,position:n,mediaOption:r,looping:i},a=this.validateParamsOfOpen(s,arguments.length);if(a)throw Error(a);this.property.url&&this.property.currentState!==t.STATE.IDLE&&this.stop(),this.reset(),this.setURL(e),this.setLooping(i),this.setInitialStartPosition(n),this.property.hasBeenOpened=!0,this.mediaOption=o({},p,r)},t.prototype.validateParamsOfOpen=function(t,e){var n,r,o,s,a=t.url,u=t.position,c=t.mediaOption,l=t.looping;return e>4?this.getErrMsgInvalidNumberOfParams():"string"!=typeof a?(n={requiredType:"string",parameterName:"url"},this.getErrMsgInvalidTypeOfParam(n)):"number"!=typeof u?(r={requiredType:"number",parameterName:"position"},this.getErrMsgInvalidTypeOfParam(r)):"object"!==(void 0===c?"undefined":i(c))?(o={requiredType:"object",parameterName:"mediaOption"},this.getErrMsgInvalidTypeOfParam(o)):"boolean"!=typeof l?(s={requiredType:"boolean",parameterName:"looping"},this.getErrMsgInvalidTypeOfParam(s)):""},t.prototype.setDrm=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this.validateParamsOfSetDrm({drmConfig:t},arguments.length);if(e)throw Error(e);this.drmConfig=o({},h,t)},t.prototype.validateParamsOfSetDrm=function(t,e){var n=t.drmConfig;return e>1?this.getErrMsgInvalidNumberOfParams():"object"!==(void 0===n?"undefined":i(n))?this.getErrMsgInvalidTypeOfParam({requiredType:"object"}):""},t.prototype.play=function(){var e=this.property,n=e.url,r=e.speed,i=e.initialStartPosition;if(!n)throw Error(m.NOT_SPECIFIED_MEDIA_URL);this.show(),1!==r&&this.setPlaybackSpeed(1),this.property.hasBeenOpened?(this.property.hasBeenOpened=!1,this["native"](t.NATIVE_CMD.START_PLAY,{url:n,position:i})):this["native"](t.NATIVE_CMD.PLAY,{})},t.prototype.pause=function(){var e=this["native"](t.NATIVE_CMD.PAUSE);return e&&1!==this.property.speed&&this.setPlaybackSpeed(1),e},t.prototype.stop=function(){this["native"](t.NATIVE_CMD.STOP),this.reset()},t.prototype.seek=function(e){var n,r=this.validateParamsOfSeek({position:e},arguments.length);if(r)throw Error(r);n=e,n<0?n=0:n>this.property.duration&&(n=this.property.duration),this["native"](t.NATIVE_CMD.SEEK,{position:n})},t.prototype.validateParamsOfSeek=function(t,e){var n=t.position;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.jumpForward=function(t){var e,n,r,i,o=this.validateParamsOfJumpForward({skip:t},arguments.length);if(o)throw Error(o);e=this.property,n=e.currentTime,r=e.seekStep,i=t||r,this.seek(n+i)},t.prototype.validateParamsOfJumpForward=function(t,e){var n=t.skip;return e>1?this.getErrMsgInvalidNumberOfParams():void 0!==n&&"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.jumpBackward=function(t){var e,n,r,i,o=this.validateParamsOfJumpBackward({skip:t},arguments.length);if(o)throw Error(o);e=this.property,n=e.currentTime,r=e.seekStep,i=t||r,this.seek(n-i)},t.prototype.validateParamsOfJumpBackward=function(t,e){var n=t.skip;return e>1?this.getErrMsgInvalidNumberOfParams():void 0!==n&&"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.setPlaybackSpeed=function(e){var n=this.validateParamsOfSetPlaybackSpeed({speed:e},arguments.length);if(n)throw Error(n);this.property.speed=e,this["native"](t.NATIVE_CMD.SET_PLAYBACK_SPEED,{speed:this.property.speed})},t.prototype.validateParamsOfSetPlaybackSpeed=function(t,e){var n=t.speed;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.setVideoDimensions=function(e,n){var r=this.validateParamsOfSetVideoDimensions({width:e,height:n},arguments.length);if(r)throw Error(r);this["native"](t.NATIVE_CMD.SET_VIDEO_DIMENSIONS,{width:e,height:n})},t.prototype.validateParamsOfSetVideoDimensions=function(t,e){var n=t.width,r=t.height;return 2!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n||"number"!=typeof r?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):n<0||r<0?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, Infinity]"}):""},t.prototype.setAudioTrack=function(e){var n=this.validateParamsOfSetAudioTrack({index:e},arguments.length);if(n)throw Error(n);this["native"](t.NATIVE_CMD.SET_AUDIO_TRACK,{index:e})},t.prototype.validateParamsOfSetAudioTrack=function(t,e){var n=t.index;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):n<0?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, Infinity]"}):""},t.prototype.mute=function(){this["native"](t.NATIVE_CMD.MUTE)},t.prototype.unmute=function(){this["native"](t.NATIVE_CMD.UNMUTE)},t.prototype.setVolume=function(e){var n=this.validateParamsOfSetVolume({volume:e},arguments.length);if(n)throw Error(n);this["native"](t.NATIVE_CMD.SET_VOLUME,{volume:e})},t.prototype.validateParamsOfSetVolume=function(t,e){var n=t.volume;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):n<0||n>1?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, 1]"}):""},t.prototype.getBitrate=function(){var e=this["native"](t.NATIVE_CMD.GET_CURRENT_BITRATE);return("number"!=typeof e||Number.isNaN(e))&&(e=-1),e},t.prototype.getVideoResolution=function(){var e,n,r,o=this["native"](t.NATIVE_CMD.GET_VIDEO_RESOLUTION);return"object"===(void 0===o?"undefined":i(o))&&null!==o||(o={}),e=o,n=e.width,r=e.height,n="number"!=typeof n||Number.isNaN(n)?-1:n,r="number"!=typeof r||Number.isNaN(r)?-1:r,o={width:n,height:r}},t.prototype.getESN=function(){throw Error(this.getErrMsgMethodNotImplemented("getESN"))},t.prototype.subscribe=function(t,e){this.eventStack[t]||(this.eventStack[t]=[]),-1===this.eventStack[t].indexOf(e)&&this.eventStack[t].push(e)},t.prototype.unsubscribe=function(t,e){var n,r;if(this.eventStack[t]){if(!e)return void(this.eventStack[t]=[]);n=this.eventStack[t],r=n.indexOf(e),-1!==r&&n.splice(r,1)}},t.prototype.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.eventStack[t]&&this.eventStack[t].every(function(t){return!1!==t.apply(undefined,n)})},t.prototype.setDRMVerifyPromise=function(){},t.prototype.getErrMsgInvalidNumberOfParams=function(){return m.INVALID_NUMBER_OF_PARAMS},t.prototype.getErrMsgMethodNotImplemented=function(t){return m.METHOD_NOT_IMPLEMENTED.replace("{methodName}",t)},t.prototype.getErrMsgInvalidTypeOfParam=function(t){var e=t.requiredType,n=t.parameterName,r=m.INVALID_TYPE_OF_PARAM.replace("{type}",e);return n&&(r+=" for the "+n),r},t.prototype.getErrMsgInvalidRangeOfParam=function(t){var e=t.requiredRange;return m.INVALID_RANGE_OF_PARAM.replace("{range}",e)},t}(),Object.defineProperty(s,"STATE",{enumerable:!0,writable:!0,value:u}),Object.defineProperty(s,"MEDIA_TYPE",{enumerable:!0,writable:!0,value:c}),Object.defineProperty(s,"DRM_TYPE",{enumerable:!0,writable:!0,value:l}),Object.defineProperty(s,"NATIVE_CMD",{enumerable:!0,writable:!0,value:f}),b=a,e["default"]=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(156),i=function(t,e){return r["default"](Math.random()*(e-t+1))+t};e["default"]=i},function(t,e,n){var r,i,o,s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(388),i=function(){function t(){}return t.prototype.getAndParseVAST=function(t,e){return s(this,void 0,void 0,function(){return a(this,function(n){return[2,new Promise(function(i,o){try{r.parser.parse(t,e,function(t,e){!e&&t&&t.ads||o(e),i(t)})}catch(n){o(n)}})]})})},t}(),e.VASTParser=i,o=function(){function t(t,e,n){this.tracker=new r.tracker(e,n)}return t.prototype.trackImpression=function(){this.tracker.load()},t.prototype.setProgress=function(t){this.tracker.setProgress(t)},t.prototype.errorWithCode=function(t){this.tracker.errorWithCode(t)},t.prototype.skip=function(){this.tracker.skip()},t.prototype.complete=function(){this.tracker.complete()},t}(),e.VASTTracker=o},function(t,e){var n,r,i,o,s,a;Object.defineProperty(e,"__esModule",{value:!0}),n=function(){function t(){var t=this;this.modalRoot=window.document.getElementById("modal"),this.shown=!1,this.component=null,this.promise=null,this.resolve=null,this.reject=null,this.showModal=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.component=new(e.bind.apply(e,[void 0].concat(n))),t.component.mount(t.modalRoot),t.modalRoot.className=e.modalType||"",t.modalRoot.style.display="block",t.shown=!0,t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t.promise},this.hideModal=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.component&&t.shown&&(t.shown=!1,t.modalRoot.style.display="none",t.component.unmount(),t.component=null,"function"==typeof t.resolve&&t.resolve.apply(t,e),t.reject=null,t.resolve=null,t.promise=null)}}return t.prototype.modalOnKeyDown=function(t){return!this.component||(this.component.onKeyDown(t),!1)},t}(),r=new n,i=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r.showModal.apply(r,[t].concat(e))},e.showModal=i,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.hideModal.apply(r,t)},e.hideModal=o,s=function(){return r.shown},e.isModalShown=s,a=function(t){return r.modalOnKeyDown(t)},e.modalOnKeyDown=a},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P,S,I,x,A,M,N,C,k=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(83),i=n(119),o=n(16),s=n(159),a=n(5),u=n(85),c=n(15),l=n(20),f=n(87),p=n(64),h=n(58),d=n(435),y=n(29),v=n(59),m=n(56),g=1e3,b=!0,_="gameCanvas",w="gameReady",E="gameOver",O="gameLoading",T="gameLoadingDots",P="hasNoHighScore",S="gamePause",I="gameHighscore",x="gameDebug",A="gameFPS",M="gameTargetFPS",N=400,C=function(t){function e(){var e=t.call(this)||this;return e.debug=a["default"].CONFIG.debug,e.animationFrame=null,e.gameRunning=!1,e.targetFps=60,e.fps=60,e.missedFrames=0,e.extraFrames=0,e.usingTimeout=!1,e.lastFrameTime=null,e.now=null,e.gameComponent=null,e.hsComponent=null,e.paused=!1,e.gameEnded=!1,e.hasHighscore=!1,e.isReady=!0,e.isLoaded=!0,e.GameComponentClass=i["default"],e.HighscoreComponentClass=s["default"],e.leaveGameModal=p["default"],e.quitGameModal=h["default"],e.rewardModal=d["default"],e.highscoreShownAt=0,e.maxHighscoreCount=10,e.loadingTime=N,e.maxLoadingDots=5,e.currentLoadingDots=0,e.getAnimationFrame=function(t){setTimeout(function(){t.apply(e,[])},e.getNextFrameTimeout())},e.els=[_,w,E,P,S,O,T,I,x,A,M],e.animationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||e.getAnimationFrame,("Panasonic Viera"===a["default"].Device.device||a["default"].Device.isHbbTV)&&(e.animationFrame=e.getAnimationFrame),e.usingTimeout=e.animationFrame===e.getAnimationFrame,e.gameoverWithReward=e.gameoverWithReward.bind(e),e.pause=e.pause.bind(e),e.setReady=e.setReady.bind(e),e.unpause=e.unpause.bind(e),e.onGameCanvasClick=e.onGameCanvasClick.bind(e),e}return k(e,t),e.prototype.sceneWillMount=function(){r.raiseStartCount(),this.gameRunning=!0,this.lastFrameTime=null,this.now=null,this.paused=!1,this.gameEnded=!1,this.hasHighscore=!1,window.document.addEventListener("gameover",this.gameoverWithReward,!1),window.document.addEventListener("visibilitychange",this.pause,!1)},e.prototype.sceneDidMount=function(){this.hsComponent=new this.HighscoreComponentClass,this.hsComponent.mount(this.refs[I]),this.gameComponent=new this.GameComponentClass,this.gameComponent.mount(this.refs[_]),this.hide(this.refs[E]),this.hide(this.refs[I]),this.paused||this.hide(this.refs[S]),this.isLoaded||this.isReady?this.isReady||(this.gameRunning=!1):this.hide(this.refs[w]),this.debug||this.hide(this.refs[x]),this.frame(),this.refs[S].addEventListener("click",this.unpause,!1),this.refs[_].addEventListener("click",this.onGameCanvasClick,!1),this.refs[w]&&this.refs[w].addEventListener("click",this.setReady,!1)},e.prototype.sceneWillUnmount=function(){this.gameRunning=!1,this.gameComponent&&this.gameComponent.unmount(),this.gameComponent=null,this.hsComponent&&this.hsComponent.unmount(),this.hsComponent=null,window.document.removeEventListener("gameover",this.gameoverWithReward,!1),window.document.removeEventListener("visibilitychange",this.pause,!1),this.refs[S].removeEventListener("click",this.unpause,!1),this.refs[_].removeEventListener("click",this.onGameCanvasClick,!1),this.refs[w]&&this.refs[w].removeEventListener("click",this.setReady,!1)},e.prototype.render=function(){return'\n\t\t<div class="scene game-scene">\n\t\t\t<div id="'+_+'"></div>\n\t\t\t'+this.getReadyHtml()+"\n\t\t\t"+this.getGameOverHtml()+"\n\t\t\t"+this.getPauseHtml()+"\n\t\t\t"+this.getLoadingHtml()+'\n\t\t\t<div id="'+I+'"></div>\n\t\t\t'+this.getDebugFPS()+"\n\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){var e=this;return t.key===l.Keys.RETURN?this.onReturn():t.key===l.Keys.EXIT?(this.pause(b),f.showModal(this.quitGameModal).then(function(t){t?a["default"].Device.exit():e.pause()}),!1):!(this.handleGameComponentOnKeyDown(t)||(this.hasHighscore&&this.hsComponent?(t.key===l.Keys.ENTER&&Date.now()-this.highscoreShownAt>g?this.saveScore(this.getScoreValue(),this.hsComponent?this.hsComponent.getName():""):this.hsComponent.onKeyDown(t),1):this.gameEnded?(this.restart(),1):this.paused?(this.unpause(),1):!this.isReady&&(this.setReady(),1)))},e.prototype.handleGameComponentOnKeyDown=function(t){return!!(this.gameRunning&&this.gameComponent&&this.isReady)&&(this.gameComponent.onKeyDown(t),!0)},e.prototype.getReadyHtml=function(){return this.isReady?"":'\n\t\t\t<div id="'+w+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t'+o["default"](c._("get_ready"),"big")+"<br />\n\t\t\t\t\t"+o["default"](c._("any_to_start"),"big")+"\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t"},e.prototype.getPauseHtml=function(){return'\n\t\t<div id="'+S+'" class="backdrop">\n\t\t\t<h1 class="info">\n\t\t\t\t'+o["default"](c._("paused"),"big")+"<br />\n\t\t\t\t"+o["default"](c._("any_to_continue"),"big")+"\n\t\t\t</h1>\n\t\t</div>\n\t\t"},e.prototype.getGameOverHtml=function(){return'\n\t\t\t<div id="'+E+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t'+o["default"](c._("gameover"),"big")+'<br />\n\t\t\t\t\t<div id="'+e.HAS_NO_HIGHSCORE+'">'+o["default"](c._("any_to_continue"),"big")+"</div>\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t"},e.prototype.getLoadingHtml=function(){return this.isLoaded?"":'\n\t\t\t<div id="'+O+'" class="backdrop">\n\t\t\t\t<div id="loadingWrapper">\n\t\t\t\t\t<div id="'+e.LOADING_DOTS+'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.onReturn=function(){var t=this;return this.gameComponent&&this.gameComponent.onReturn()||(this.pause(b),f.showModal(this.leaveGameModal).then(function(e){e?y.routeTo(t.backRoute):t.pause()})),!1},e.prototype.pause=function(t){void 0===t&&(t=!1),!this.gameEnded&&this.isReady&&(a["default"].SoundManager.pause(),this.gameRunning=!1,(this.paused=!0)!==t&&this.show(this.refs[S]))},e.prototype.unpause=function(){this.gameRunning=!0,a["default"].SoundManager.unPause(),this.paused=!1,this.hide(this.refs[S]),this.lastFrameTime=Date.now()-this.getNextFrameTimeout(),this.frame()},e.prototype.sendGA=function(){setTimeout(function(){u["default"]("send","pageview",a["default"].CONFIG.gameName+"#newgame")},3e3)},e.prototype.getDebugFPS=function(){return this.debug?'\n\t\t<div id="'+x+'">\n\t\t\tFPS: <span id="'+A+'"></span><br />\n\t\t\t<small>Target FPS: <span id="'+M+'"></span></small><br />\n\t\t\t<small>'+(this.usingTimeout?"Using setTimeout":"Using requestAnimationFrame")+"</small>\n\t\t</div>\n\t\t":""},e.prototype.onGameCanvasClick=function(t){this.onKeyDown({key:l.Keys.ENTER,target:this.refs[_],originalEvent:t})},e.prototype.getNextFrameTimeout=function(){switch(this.targetFps){case 20:return 50;case 25:return 40;case 30:return 33;case 35:return 29;case 40:return 25;case 45:return 22;case 50:return 20;case 55:return 18;case 60:default:return 16}},e.prototype.frameTime=function(){return this.now&&this.lastFrameTime?this.now-this.lastFrameTime:this.getNextFrameTimeout()},e.prototype.frame=function(){var t=this;this.now=Date.now(),this.lastFrameTime?this.adjustFps():this.lastFrameTime=this.now,this.step(this.frameTime()),this.gameRunning&&this.animationFrame&&this.animationFrame.apply(this.timeout?this:window,[function(){t.frame&&t.frame.apply(t,[])}]),this.lastFrameTime=this.now},e.prototype.step=function(t){if(!this.isLoaded)return this.gameComponent.loadingStep(),void this.loadingShown(t);this.gameComponent&&this.gameComponent.step(t)},e.prototype.loadingShown=function(t){this.gameComponent.loaded?(this.gameComponent.step(0),this.hide(this.refs[O]),this.isReady||(this.show(this.refs[w]),this.gameRunning=!1),this.isLoaded=!0):(this.loadingTime-=t,this.loadingTime<=0&&(this.currentLoadingDots++,this.currentLoadingDots>this.maxLoadingDots&&(this.currentLoadingDots=0),this.refs[e.LOADING_DOTS].innerHTML=0<this.currentLoadingDots?o["default"](m.repeat(".",this.currentLoadingDots),"big"):"",this.loadingTime=N))},e.prototype.adjustFps=function(){this.fps=~~((9*this.fps+1e3/this.frameTime())/10);var t=this.targetFps-this.fps;t>this.targetFps/2?this.missedFrames++:t<3&&this.extraFrames++,10<this.missedFrames&&20<this.targetFps&&(this.targetFps-=5,this.missedFrames=0),10<this.extraFrames&&this.targetFps<60&&(this.targetFps+=5,this.extraFrames=0),this.debug&&(this.refs[A].innerHTML=this.fps.toString(10),this.refs[M].innerHTML=this.targetFps.toString(10))},e.prototype.restart=function(){r.shouldShowAd()?y.routeTo("game"):(r.raiseStartCount(),this.gameEnded=!1,this.hasHighscore=!1,this.gameRunning=!0,window.ga&&window.ga("send","pageview",a["default"].CONFIG.gameName+"#newgame"),this.gameComponent&&this.gameComponent.unmount(),this.gameComponent=new this.GameComponentClass,this.gameComponent.mount(this.refs[_]),this.lastFrameTime=null,this.frame(),this.hide(this.refs[E]),this.hide(this.refs[I]))},e.prototype.setReady=function(){this.gameRunning=!0,this.isReady=!0,this.hide(this.refs[w]),this.lastFrameTime=Date.now()-this.getNextFrameTimeout(),this.frame()},e.prototype.gameoverWithReward=function(){var t=this;this.gameEnded||(this.pause(!0),this.gameEnded=!0,a["default"].CONFIG.adsConfigUrl&&a["default"].CONFIG.reward&&!e.adRewardPlayed?f.showModal(this.rewardModal).then(function(n){n?(r.lowerStartCount(),e.adRewardPlayed=!0,t.gameComponent&&t.gameComponent.reward(),y.routeTo("adplayer")):t.gameover()}):this.gameover())},e.prototype.gameover=function(){this.pause(!0),this.gameEnded=!0,e.adRewardPlayed=!1,this.show(this.refs[E]),this.gameComponent&&this.getScore()},e.prototype.getScoreValue=function(){return this.gameComponent?this.gameComponent.getScore():0},e.prototype.getScore=function(){var t=this.getScoreValue(),e=a["default"].Storage.get(a["default"].CONFIG.gameName+"_highscore")||[];e.length<this.maxHighscoreCount||e[e.length-1].score<t?(this.show(this.refs[I]),this.hide(this.refs[P]),this.hsComponent.setScore(t),this.hasHighscore=!0,this.highscoreShownAt=Date.now()):(this.hide(this.refs[I]),this.show(this.refs[P]),this.hasHighscore=!1)},e.prototype.saveScore=function(t,e){var n=a["default"].Storage.get(a["default"].CONFIG.gameName+"_highscore")||[];n.push({user:e,score:t}),a["default"].Storage.set("last_used_user",e),a["default"].Storage.set(a["default"].CONFIG.gameName+"_highscore",this.orderedScore(n)),y.routeTo("highscores")},e.prototype.orderedScore=function(t){return t.sort(function(t,e){return t.score<e.score?1:t.score>e.score?-1:0}).slice(0,this.maxHighscoreCount)},e.adRewardPlayed=!1,e.GAME_CANVAS=_,e.GAME_READY=w,e.GAME_OVER=E,e.GAME_LOADING=O,e.LOADING_DOTS=T,e.HAS_NO_HIGHSCORE=P,e.PAUSE=S,e.HIGHSCORE=I,e.DEBUG=x,e.FPS=A,e.TARGET_FPS=M,e}(v["default"]),e["default"]=C},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(5),i=n(38),o=function(t){function e(){var e=t.call(this)||this;return e.loaded=!0,e.useCanvas=r["default"].useCanvas(),e.useWebGL=r["default"].useWebGL(),e.id="gameWrap",e.DomRenderer=null,e.CanvasRenderer=null,e.els=[e.id],e}return s(e,t),e.prototype.componentWillMount=function(){(this.DomRenderer||this.CanvasRenderer)&&(this.useCanvas&&this.CanvasRenderer?this.renderer=new this.CanvasRenderer:!this.useCanvas&&this.DomRenderer&&(this.renderer=new this.DomRenderer))},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.renderer&&this.renderer.mount(this.refs[this.id])},e.prototype.componentWillUnmount=function(){this.renderer&&this.renderer.unmount()},e.prototype.getScore=function(){return 0},e.prototype.reward=function(){},e.prototype.step=function(t){},e.prototype.loadingStep=function(){},e.prototype.onReturn=function(){return!1},e.prototype.render=function(){return'\n\t\t\t<div id="'+this.id+'"></div>\n\t\t'},e}(i["default"]),e["default"]=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,c,l,f,p;e.__esModule=!0,e["default"]=undefined,s=n(64),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=n(20),c=n(117),n(436),l="leaveGameModalYes",f="leaveGameModalNo",p=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="dialog_content">\n\t\t\t\t<div class="question"></div>\n\t\t\t\t<div class="answers">\n\t\t\t\t\t<div class="answer" id="'+this.YES_ID+'">\n\t\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t\t<div class="word"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="answer" id="'+this.NO_ID+'">\n\t\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t\t<div class="word"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.onKeyDown=function(t){switch(t.key){case u.Keys.UP:this.focus(l);break;case u.Keys.DOWN:this.focus(f);break;case u.Keys.RETURN:(0,c.hideModal)(!1);break;case u.Keys.ENTER:(0,c.hideModal)(this.focused===l)}},e}(a["default"]),e["default"]=p},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(88)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(6)},function(t,e,n){var r=n(21),i=n(22),o=n(67)(!1),s=n(90)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(8),i=n(1),o=n(44);t.exports=n(7)?Object.defineProperties:function(t,e){var n,s,a,u;for(i(t),n=o(e),s=n.length,a=0;s>a;)r.f(t,u=n[a++],e[u]);return t}},function(t,e,n){var r=n(22),i=n(47).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(t,e,n){"use strict";var r=n(44),i=n(68),o=n(62),s=n(12),a=n(61),u=Object.assign;t.exports=!u||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n,u,c,l,f,p=s(t),h=arguments.length,d=1,y=i.f,v=o.f;h>d;)for(n=a(arguments[d++]),u=y?r(n).concat(y(n)):r(n),c=u.length,l=0;c>l;)v.call(n,f=u[l++])&&(p[f]=n[f]);return p}:u},function(t,e,n){"use strict";var r=n(13),i=n(4),o=n(129),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e){t.exports=function(t,e,n){var r=n===undefined;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,i=n(53).trim,o=n(94),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(t+"",3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(53).trim;t.exports=1/r(n(94)+"-0")!=-Infinity?function(t){var e=i(t+"",3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(27);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(4),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(97),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*c(i/u/s)*u*s:(e=(1+s/o)*i,n=e-(e-i),n>a||n!=n?l*Infinity:l*n)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw o!==undefined&&r(o.call(t)),s}}},function(t,e,n){var r=n(13),i=n(12),o=n(61),s=n(9);t.exports=function(t,e,n,a,u){var c,l,f,p,h;if(r(e),c=i(t),l=o(c),f=s(c.length),p=u?f-1:0,h=u?-1:1,n<2)for(;;){if(p in l){a=l[p],p+=h;break}if(p+=h,u?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;u?p>=0:f>p;p+=h)p in l&&(a=e(a,l[p],p,c));return a}},function(t,e,n){"use strict";var r=n(12),i=n(45),o=n(9);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),c=arguments.length>2?arguments[2]:undefined,l=Math.min((c===undefined?s:i(c,s))-u,s-a),f=1;for(u<a&&a<u+l&&(f=-1,u+=l-1,a+=l-1);l-- >0;)u in n?n[a]=n[u]:delete n[a],a+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(72)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var r=n(1),i=n(4),o=n(112);t.exports=function(t,e){var n,s;return r(t),i(e)&&e.constructor===t?e:(n=o.f(t),s=n.resolve,s(e),n.promise)}},function(t,e,n){"use strict";var r=n(144),i=n(55),o="Map";t.exports=n(76)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(8).f,i=n(46),o=n(51),s=n(26),a=n(49),u=n(50),c=n(100),l=n(139),f=n(48),p=n(7),h=n(39).fastKey,d=n(55),y=p?"_s":"size",v=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=undefined,t._l=undefined,t[y]=0,r!=undefined&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=undefined),delete n[r.i];t._f=t._l=undefined,t[y]=0},"delete":function(t){var n,r,i=d(this,e),o=v(i,t);return o&&(n=o.n,r=o.p,delete i._i[o.i],o.r=!0,r&&(r.n=n),n&&(n.p=r),i._f==o&&(i._f=n),i._l==o&&(i._l=r),i[y]--),!!o},forEach:function(t){var n,r;for(d(this,e),n=s(t,arguments.length>1?arguments[1]:undefined,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(d(this,e),t)}}),p&&r(l.prototype,"size",{get:function(){return d(this,e)[y]}}),l},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:undefined,r:!1},t._f||(t._f=o),r&&(r.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=undefined},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=undefined,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(144),i=n(55),o="Set";t.exports=n(76)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(34)(0),o=n(18),s=n(39),a=n(127),u=n(147),c=n(4),l=n(3),f=n(55),p="WeakMap",h=s.getWeak,d=Object.isExtensible,y=u.ufstore,v={},m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},g={get:function(t){if(c(t)){var e=h(t);return!0===e?y(f(this,p)).get(t):e?e[this._i]:undefined}},set:function(t,e){return u.def(f(this,p),t,e)}},b=t.exports=n(76)(p,m,g,u,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)})&&(r=u.getConstructor(m,p),a(r.prototype,g),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];o(e,t,function(e,i){if(c(e)&&!d(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(51),i=n(39).getWeak,o=n(1),s=n(4),a=n(49),u=n(50),c=n(34),l=n(21),f=n(55),p=c(5),h=c(6),d=0,y=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return p(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},"delete":function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){a(t,c,e,"_i"),t._t=e,t._i=d++,t._l=undefined,r!=undefined&&u(r,n,t[o],t)});return r(c.prototype,{"delete":function(t){if(!s(t))return!1;var n=i(t);return!0===n?y(f(this,e))["delete"](t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?y(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?y(t).set(e,n):r[t._i]=n,t},ufstore:y}},function(t,e,n){var r=n(32),i=n(9);t.exports=function(t){var e,n;if(t===undefined)return 0;if(e=r(t),n=i(e),e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(47),i=n(68),o=n(1),s=n(2).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function r(t,e,n,c,l,f,p,h){for(var d,y,v=l,m=0,g=!!p&&a(p,h,3);m<c;){if(m in n){if(d=g?g(n[m],m,e):n[m],y=!1,o(d)&&(y=d[u],y=y!==undefined?!!y:i(d)),y&&f>0)v=r(t,e,d,s(d.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=d}v++}m++}return v}var i=n(69),o=n(4),s=n(9),a=n(26),u=n(6)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(9),i=n(96),o=n(31);t.exports=function(t,e,n,s){var a,u,c=o(t)+"",l=c.length,f=n===undefined?" ":n+"",p=r(e);return p<=l||""==f?c:(a=p-l,u=i.call(f,Math.ceil(a/f.length)),u.length>a&&(u=u.slice(0,a)),s?u+c:c+u)}},function(t,e,n){var r=n(44),i=n(22),o=n(62).f;t.exports=function(t){return function(e){for(var n,s=i(e),a=r(s),u=a.length,c=0,l=[];u>c;)o.call(s,n=a[c++])&&l.push(t?[n,s[n]]:s[n]);return l}}},function(t,e,n){var r=n(63),i=n(154);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(50);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===Infinity||t===-Infinity?t:(t-e)*(i-r)/(n-e)+r}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t<<0};e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i={uid:"",tracker:{get:function(){return i.uid}},config:{}},o=function(t,e){void 0===e&&(e={});var n=e.name||"default";e.sampleRate&&r.getIntInInterval(0,100)>e.sampleRate||(i.config[n]={v:1,tid:t},e&&"none"===e.storage?i.uid=e.clientId||r.uuid():i.uid=r.uuid())},s=function(t,e,n){i.config[t]&&(i.config[t][e]=n)},a=function(t,e){var n,r,o,s,a,u,c=i.config,l=i.uid;if(c[t]){for(n=c[t],r=n.v,o=n.tid,s="",s+="v="+r+"&",s+="tid="+o+"&",s+="cid="+l,a=1;c[t]["dimension"+a];)s+="&cd"+a+"="+c[t]["dimension"+a],a+=1;Object.keys(e).forEach(function(t){s+="&"+t+"="+e[t]}),u=new XMLHttpRequest,u.open("POST","http://www.google-analytics.com/collect",!0),u.setRequestHeader("Content-type","application/x-www-form-urlencode"),u.send(s)}},u=function(t,e,n,r,i){var o={t:"event"};e&&(o.ec=e),n&&(o.ea=n),r&&(o.el=r),i&&(o.ev=i),a(t,o)},c=function(t,e,n,r,i,o,s,u){var c={};e&&(c.dl=e),n&&(c.dh=n),r&&(c.dp=r),i&&(c.dt=i),o&&(c.cd=o),s&&(c.cg1=s),u&&(c.linkid=u),a(t,c)},l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(e){case"event":u.apply(void 0,[t].concat(n));break;case"pageview":c.apply(void 0,[t].concat(n))}};e.mpGA=function(t){var e,n,r,a,u;for(e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if("function"==typeof t)t(i.tracker);else if("string"==typeof t)switch(r=t.split("."),a=r[2===r.length?1:0],u=2===r.length?r[0]:"default",a){case"create":o.apply(void 0,e);break;case"set":s.apply(void 0,[u].concat(e));break;case"send":l.apply(void 0,[u].concat(e))}}},function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},i=this;Object.defineProperty(e,"__esModule",{value:!0}),e.request=function(t,e){return void 0===e&&(e="GET"),n(i,void 0,void 0,function(){return r(this,function(e){return[2,new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){200===r.status?4===r.readyState&&e(r.responseText):n(r.response)},r.send()})]})})}},function(t,e,n){var r,i,o,s,a,u,c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(38),i=n(16),o=n(15),s=n(432),a="hsFormNameInput",u=function(t){function e(){var e=t.call(this)||this;return e.useFocusedFont=!1,e.NameInputClass=s["default"],e.nameInput=null,e.score=0,e.els=[a],e}return c(e,t),e.prototype.getName=function(){return this.nameInput?this.nameInput.getName():""},e.prototype.setScore=function(t){this.score=t},e.prototype.render=function(){return'\n\t\t\t<div id="highscoreForm">\n\t\t\t\t<h1>'+i["default"](o._("new_highscore"))+'</h1>\n\t\t\t\t<div id="'+a+'"></div>\n\t\t\t</div>\n\t\t'},e.prototype.componentDidMount=function(){this.nameInput=new this.NameInputClass(this.useFocusedFont),this.nameInput.mount(this.refs[a])},e.prototype.componentWillUnmout=function(){this.nameInput&&this.nameInput.unmount(),this.nameInput=null},e.prototype.onKeyDown=function(t){return!!this.nameInput&&this.nameInput.onKeyDown(t)},e}(r["default"]),e["default"]=u},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(59),i=n(20),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.sceneDidMount=function(){this.setKeys()},e.prototype.onKeyDown=function(e){switch(t.prototype.onKeyDown.call(this,e),e.key){case this.backwardKey:return this.focusPrevMenuItem(e.target);case this.forwardKey:return this.focusNextMenuItem(e.target);case i.Keys.ENTER:return this.enter(e.target);case i.Keys.RETURN:return this.handleBack();case i.Keys.EXIT:return this.handleQuit()}return!0},e.prototype.focusPrevMenuItem=function(t){if(!t)return!0;var e=t.id,n=this.visibleMenuItems[this.visibleMenuItems.indexOf(e)-1];return!n||(this.focus(n),!1)},e.prototype.focusNextMenuItem=function(t){if(!t)return!0;var e=t.id,n=this.visibleMenuItems[this.visibleMenuItems.indexOf(e)+1];return!n||(this.focus(n),!1)},e.prototype.setKeys=function(){this.horizontal?(this.forwardKey=i.Keys.RIGHT,this.backwardKey=i.Keys.LEFT):(this.forwardKey=i.Keys.DOWN,this.backwardKey=i.Keys.UP)},e.prototype.switchVisibility=function(t,e){var n=this.visibleMenuItems.indexOf(e);-1!==n&&(this.visibleMenuItems.splice(n,1),-1===this.visibleMenuItems.indexOf(t)&&this.visibleMenuItems.splice(n,0,t)),this.hide(this.refs[e]),this.show(this.refs[t]),this.focus(t)},e.prototype.enter=function(t){return!1},e}(r["default"]),e["default"]=o},function(t,e,n){"use strict";var r,i,o,s;e.__esModule=!0,e.Sounds=e.playSound=undefined,r=n(5),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),o={DIVER_SHOOT:"diver_shoot.wav",ENEMY_GOT_HIT:"enemy_got_hit.wav",ENEMY_SHOOT:"enemy_shoot.wav",PLAYER_GOT_HIT:"player_got_hit.wav",PLAYER_KILLED:"player_killed.wav",SUBMARINE_SHOOT:"submarine_shoot.wav"},s=function(t){i["default"].Sounds.playSound(t)},i["default"].Sounds.onInitialized(function(){Object.keys(o).forEach(function(t){i["default"].Sounds.buffer(o[t])})}),e.playSound=s,e.Sounds=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,e["default"]=undefined,i=n(60),o=function(){function t(e,n,o,s){r(this,t),this.position={x:e,y:n},this.up=o,this.speed=o?i.BULLET.SPEED_SUBMARINE:i.BULLET.SPEED_ENEMY,this.type=s}return t.prototype.move=function(t,e){var n=this.speed*e*i.GAME.PIXEL_TO_METER_RATIO;this.position.y-=this.up?n:-n},t.prototype.setKey=function(t){this.key=""+this.type+t},t.prototype.getState=function(){return{type:this.type,position:{x:~~this.position.x,y:~~this.position.y},key:this.key}},t}(),e["default"]=o},function(t,e,n){n(164),t.exports=n(366)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(165),n(362),n(363),t._babelPolyfill)throw Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(121))},function(t,e,n){n(166),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(246),n(247),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(109),n(270),n(271),n(140),n(272),n(273),n(274),n(275),n(276),n(143),n(145),n(146),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),t.exports=n(25)},function(t,e,n){"use strict";var r,i,o,s,a=n(2),u=n(21),c=n(7),l=n(0),f=n(18),p=n(39).KEY,h=n(3),d=n(66),y=n(52),v=n(43),m=n(6),g=n(123),b=n(89),_=n(167),w=n(69),E=n(1),O=n(4),T=n(22),P=n(30),S=n(42),I=n(46),x=n(126),A=n(23),M=n(8),N=n(44),C=A.f,k=M.f,R=x.f,L=a.Symbol,D=a.JSON,j=D&&D.stringify,U="prototype",F=m("_hidden"),G=m("toPrimitive"),H={}.propertyIsEnumerable,B=d("symbol-registry"),V=d("symbols"),K=d("op-symbols"),W=Object[U],Y="function"==typeof L,q=a.QObject,X=!q||!q[U]||!q[U].findChild,z=c&&h(function(){return 7!=I(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(W,e);r&&delete W[e],k(t,e,n),r&&t!==W&&k(W,e,r)}:k,J=function(t){var e=V[t]=I(L[U]);return e._k=t,e},Q=Y&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Z=function(t,e,n){return t===W&&Z(K,e,n),E(t),e=P(e,!0),E(n),u(V,e)?(n.enumerable?(u(t,F)&&t[F][e]&&(t[F][e]=!1),n=I(n,{enumerable:S(0,!1)})):(u(t,F)||k(t,F,S(1,{})),t[F][e]=!0),z(t,e,n)):k(t,e,n)},$=function(t,e){var n,r,i,o;for(E(t),n=_(e=T(e)),r=0,i=n.length;i>r;)Z(t,o=n[r++],e[o]);return t},tt=function(t,e){return e===undefined?I(t):$(I(t),e)},et=function(t){var e=H.call(this,t=P(t,!0));return!(this===W&&u(V,t)&&!u(K,t))&&(!(e||!u(this,t)||!u(V,t)||u(this,F)&&this[F][t])||e)},nt=function(t,e){if(t=T(t),e=P(e,!0),t!==W||!u(V,e)||u(K,e)){var n=C(t,e);return!n||!u(V,e)||u(t,F)&&t[F][e]||(n.enumerable=!0),n}},rt=function(t){for(var e,n=R(T(t)),r=[],i=0;n.length>i;)u(V,e=n[i++])||e==F||e==p||r.push(e);return r},it=function(t){for(var e,n=t===W,r=R(n?K:T(t)),i=[],o=0;r.length>o;)!u(V,e=r[o++])||n&&!u(W,e)||i.push(V[e]);return i};for(Y||(L=function(){var t,e;if(this instanceof L)throw TypeError("Symbol is not a constructor!");return t=v(arguments.length>0?arguments[0]:undefined),e=function(n){this===W&&e.call(K,n),u(this,F)&&u(this[F],t)&&(this[F][t]=!1),z(this,t,S(1,n))},c&&X&&z(W,t,{configurable:!0,set:e}),J(t)},f(L[U],"toString",function(){return this._k}),A.f=nt,M.f=Z,n(47).f=x.f=rt,n(62).f=et,n(68).f=it,c&&!n(40)&&f(W,"propertyIsEnumerable",et,!0),g.f=function(t){return J(m(t))}),l(l.G+l.W+l.F*!Y,{Symbol:L}),r="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;r.length>i;)m(r[i++]);for(o=N(m.store),s=0;o.length>s;)b(o[s++]);l(l.S+l.F*!Y,"Symbol",{"for":function(t){return u(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),l(l.S+l.F*!Y,"Object",{create:tt,defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:nt,getOwnPropertyNames:rt,getOwnPropertySymbols:it}),D&&l(l.S+l.F*(!Y||h(function(){var t=L();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(O(e)||t!==undefined)&&!Q(t))return w(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Q(e))return e}),r[1]=e,j.apply(D,r)}}),L[U][G]||n(17)(L[U],G,L[U].valueOf),y(L,"Symbol"),y(Math,"Math",!0),y(a.JSON,"JSON",!0)},function(t,e,n){var r=n(44),i=n(68),o=n(62);t.exports=function(t){var e,n,s,a,u=r(t),c=i.f;if(c)for(e=c(t),n=o.f,s=0;e.length>s;)n.call(t,a=e[s++])&&u.push(a);return u}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(46)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(125)})},function(t,e,n){var r=n(22),i=n(23).f;n(33)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(12),i=n(24);n(33)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(12),i=n(44);n(33)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(33)("getOwnPropertyNames",function(){return n(126).f})},function(t,e,n){var r=n(4),i=n(39).onFreeze;n(33)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4),i=n(39).onFreeze;n(33)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4),i=n(39).onFreeze;n(33)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4);n(33)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(33)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(33)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(127)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(183)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(93).set})},function(t,e,n){"use strict";var r=n(63),i={};i[n(6)("toStringTag")]="z",i+""!="[object z]"&&n(18)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(128)})},function(t,e,n){var r=n(8).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(7)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(4),i=n(24),o=n(6)("hasInstance"),s=Function.prototype;o in s||n(8).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(130);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(131);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r,i,o,s=n(2),a=n(21),u=n(27),c=n(95),l=n(30),f=n(3),p=n(47).f,h=n(23).f,d=n(8).f,y=n(53).trim,v="Number",m=s[v],g=m,b=m.prototype,_=u(n(46)(b))==v,w="trim"in String.prototype,E=function(t){var e,n,r,i,o,s,a,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=w?c.trim():y(c,3),43===(e=c.charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=c.slice(2),s=0,a=o.length;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(!m(" 0o1")||!m("0b1")||m("+0x1")){for(m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(_?f(function(){b.valueOf.call(n)}):u(n)!=v)?c(new g(E(e)),n,m):E(e)},r=n(7)?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),i=0;r.length>i;i++)a(g,o=r[i])&&!a(m,o)&&d(m,o,h(g,o));m.prototype=b,b.constructor=m,n(18)(s,v,m)}},function(t,e,n){"use strict";var r=n(0),i=n(32),o=n(132),s=n(96),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f="0",p=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){for(var t,e=6,n="";--e>=0;)""===n&&0!==e&&0===c[e]||(t=c[e]+"",n=""===n?t:n+s.call(f,7-t.length)+t);return n},y=function(t,e,n){return 0===e?n:e%2==1?y(t,e-1,n*t):y(t*t,e/2,n)},v=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,r,a,u=o(this,l),c=i(t),m="",g=f;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return u+"";if(u<0&&(m="-",u=-u),u>1e-21)if(e=v(u*y(2,69,1))-69,n=e<0?u*y(2,-e,1):u/y(2,e,1),n*=4503599627370496,(e=52-e)>0){for(p(0,n),r=c;r>=7;)p(1e7,0),r-=7;for(p(y(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),p(1,1),h(2),g=d()}else p(0,n),p(1<<-e,0),g=d()+s.call(f,c);return c>0?(a=g.length,g=m+(a<=c?"0."+s.call(f,c-a)+g:g.slice(0,a-c)+"."+g.slice(a-c))):g=m+g,g}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(132),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,undefined)})||!i(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return t===undefined?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(133)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(133),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(131);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(130);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(134),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(Infinity)==Infinity),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(97);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(98);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(135)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,u=0;s<a;)n=i(arguments[s++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===Infinity?Infinity:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(134)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(97)})},function(t,e,n){var r=n(0),i=n(98),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(98),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==Infinity?1:n==Infinity?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(45),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(22),o=n(9);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(e[a++]+""),a<r&&s.push(arguments[a]+"");return s.join("")}})},function(t,e,n){"use strict";n(53)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(99)(!0);n(100)(String,"String",function(t){this._t=t+"",this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:undefined,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(99)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(102),s="endsWith",a=""[s];r(r.P+r.F*n(103)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:undefined,r=i(e.length),u=n===undefined?r:Math.min(i(n),r),c=t+"";return a?a.call(e,c,u):e.slice(u-c.length,u)===c}})},function(t,e,n){"use strict";var r=n(0),i=n(102),o="includes";r(r.P+r.F*n(103)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:undefined)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(96)})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(102),s="startsWith",a=""[s];r(r.P+r.F*n(103)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:undefined,e.length)),r=t+"";return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(19)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(19)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(19)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(19)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(19)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(19)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(19)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(19)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(19)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(19)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(19)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(19)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(19)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(30);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),i=n(245);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){var t,e,n,r;if(!isFinite(i.call(this)))throw RangeError("Invalid time value");return t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),(r=e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(18)(r,o,function(){var t=a.call(this);return t===t?s.call(this):i})},function(t,e,n){var r=n(6)("toPrimitive"),i=Date.prototype;r in i||n(17)(i,r,n(248))},function(t,e,n){"use strict";var r=n(1),i=n(30),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(69)})},function(t,e,n){"use strict";var r=n(26),i=n(0),o=n(12),s=n(136),a=n(104),u=n(9),c=n(105),l=n(106);i(i.S+i.F*!n(71)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,p=o(t),h="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:undefined,v=y!==undefined,m=0,g=l(p);if(v&&(y=r(y,d>2?arguments[2]:undefined,2)),g==undefined||h==Array&&a(g))for(e=u(p.length),n=new h(e);e>m;m++)c(n,m,v?y(p[m],m):p[m]);else for(f=g.call(p),n=new h;!(i=f.next()).done;m++)c(n,m,v?s(f,y,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(0),i=n(105);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(22),o=[].join;r(r.P+r.F*(n(61)!=Object||!n(28)(o)),"Array",{join:function(t){return o.call(i(this),t===undefined?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(92),o=n(27),s=n(45),a=n(9),u=[].slice;r(r.P+r.F*n(3)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n,r,i,c,l,f=a(this.length),p=o(this);if(e=e===undefined?f:e,"Array"==p)return u.call(this,t,e);for(n=s(t,f),r=s(e,f),i=a(r-n),c=Array(i),l=0;l<i;l++)c[l]="String"==p?this.charAt(n+l):this[n+l];return c}})},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(12),s=n(3),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(undefined)})||!s(function(){u.sort(null)})||!n(28)(a)),"Array",{sort:function(t){return t===undefined?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(34)(0),o=n(28)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(4),i=n(69),o=n(6)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=undefined),r(e)&&null===(e=e[o])&&(e=undefined)),e===undefined?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(34)(1);r(r.P+r.F*!n(28)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(34)(2);r(r.P+r.F*!n(28)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(34)(3);r(r.P+r.F*!n(28)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(34)(4);r(r.P+r.F*!n(28)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(137);r(r.P+r.F*!n(28)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(137);r(r.P+r.F*!n(28)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(67)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(28)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(22),o=n(32),s=n(9),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(28)(a)),"Array",{lastIndexOf:function(t){var e,n,r;if(u)return a.apply(this,arguments)||0;for(e=i(this),n=s(e.length),r=n-1,arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(138)}),n(41)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(108)}),n(41)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(34)(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(41)(o)},function(t,e,n){"use strict";var r=n(0),i=n(34)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(41)(o)},function(t,e,n){n(48)("Array")},function(t,e,n){var r,i,o,s=n(2),a=n(95),u=n(8).f,c=n(47).f,l=n(70),f=n(72),p=s.RegExp,h=p,d=p.prototype,y=/a/g,v=/a/g,m=new p(y)!==y;if(n(7)&&(!m||n(3)(function(){return v[n(6)("match")]=!1,p(y)!=y||p(v)==v||"/a/i"!=p(y,"i")}))){p=function(t,e){var n=this instanceof p,r=l(t),i=e===undefined;return!n&&r&&t.constructor===p&&i?t:a(m?new h(r&&!i?t.source:t,e):h((r=t instanceof p)?t.source:t,r&&i?f.call(t):e),n?this:d,p)},r=function(t){t in p||u(p,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})};for(i=c(h),o=0;i.length>o;)r(i[o++]);d.constructor=p,p.prototype=d,n(18)(s,"RegExp",p)}n(48)("RegExp")},function(t,e,n){"use strict";var r,i,o,s,a,u;n(140),r=n(1),i=n(72),o=n(7),s="toString",a=/./[s],u=function(t){n(18)(RegExp.prototype,s,t,!0)},n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):undefined)}):a.name!=s&&u(function(){return a.call(this)})},function(t,e,n){n(73)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=n==undefined?undefined:n[e];return i!==undefined?i.call(n,r):RegExp(n)[e](r+"")},n]})},function(t,e,n){n(73)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),s=r==undefined?undefined:r[e];return s!==undefined?s.call(r,o,i):n.call(o+"",r,i)},n]})},function(t,e,n){n(73)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=n==undefined?undefined:n[e];return i!==undefined?i.call(n,r):RegExp(n)[e](r+"")},n]})},function(t,e,n){n(73)("split",2,function(t,e,r){"use strict";var i,o=n(70),s=r,a=[].push,u="split",c="length",l="lastIndex";return"c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[c]||2!="ab"[u](/(?:ab)*/)[c]||4!="."[u](/(.?)(.?)/)[c]||"."[u](/()()/)[c]>1||""[u](/.?/)[c]?(i=/()??/.exec("")[1]===undefined,r=function(t,e){var n,r,u,f,p,h,d,y,v,m,g=this+"";if(t===undefined&&0===e)return[];if(!o(t))return s.call(g,t,e);for(n=[],r=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=e===undefined?4294967295:e>>>0,p=RegExp(t.source,r+"g"),i||(h=RegExp("^"+p.source+"$(?!\\s)",r));(d=p.exec(g))&&!((y=d.index+d[0][c])>u&&(n.push(g.slice(u,d.index)),!i&&d[c]>1&&d[0].replace(h,function(){for(m=1;m<arguments[c]-2;m++)arguments[m]===undefined&&(d[m]=undefined)}),d[c]>1&&d.index<g[c]&&a.apply(n,d.slice(1)),v=d[0][c],u=y,n[c]>=f));)p[l]===d.index&&p[l]++;return u===g[c]?!v&&p.test("")||n.push(""):n.push(g.slice(u)),n[c]>f?n.slice(0,f):n}):"0"[u](undefined,0)[c]&&(r=function(t,e){return t===undefined&&0===e?[]:s.call(this,t,e)}),[function(n,i){var o=t(this),s=n==undefined?undefined:n[e];return s!==undefined?s.call(n,o,i):r.call(o+"",n,i)},r]})},function(t,e,n){"use strict";var r,i,o,s,a=n(40),u=n(2),c=n(26),l=n(63),f=n(0),p=n(4),h=n(13),d=n(49),y=n(50),v=n(74),m=n(110).set,g=n(111)(),b=n(112),_=n(141),w=n(75),E=n(142),O="Promise",T=u.TypeError,P=u.process,S=P&&P.versions,I=S&&S.v8||"",x=u[O],A="process"==l(P),M=function(){},N=i=b.f,C=!!function(){var t,e;try{return t=x.resolve(1),e=(t.constructor={})[n(6)("species")]=function(t){t(M,M)},(A||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==I.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(r){}}(),k=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{a?(i||(2==t._h&&j(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===e.promise?c(T("Promise-chain cycle")):(o=k(n))?o.call(n,u,c):u(n)):c(r)}catch(f){l&&!s&&l.exit(),c(f)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){m.call(u,function(){var e,n,r,i=t._v,o=D(t);if(o&&(e=_(function(){A?P.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=A||D(t)?2:1),t._a=undefined,o&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){m.call(u,function(){var e;A?P.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},U=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=k(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(F,r,1),c(U,r,1))}catch(i){U.call(r,i)}}):(n._v=t,n._s=1,R(n,!1))}catch(r){U.call({_w:n,_d:!1},r)}}};C||(x=function(t){d(this,x,O,"_h"),h(t),r.call(this);try{t(c(F,this,1),c(U,this,1))}catch(e){U.call(this,e)}},r=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1},r.prototype=n(51)(x.prototype,{then:function(t,e){var n=N(v(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?P.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},"catch":function(t){return this.then(undefined,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(F,t,1),this.reject=c(U,t,1)},b.f=N=function(t){return t===x||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!C,{Promise:x}),n(52)(x,O),n(48)(O),s=n(25)[O],f(f.S+f.F*!C,O,{reject:function(t){var e=N(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(a||!C),O,{resolve:function(t){return E(a&&this===s?x:this,t)}}),f(f.S+f.F*!(C&&n(71)(function(t){x.all(t)["catch"](M)})),O,{all:function(t){var e=this,n=N(e),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,s=1;y(t,!1,function(t){var a=o++,u=!1;n.push(undefined),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=N(e),r=n.reject,i=_(function(){y(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(147),i=n(55),o="WeakSet";n(76)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(77),o=n(113),s=n(1),a=n(45),u=n(9),c=n(4),l=n(2).ArrayBuffer,f=n(74),p=o.ArrayBuffer,h=o.DataView,d=i.ABV&&l.isView,y=p.prototype.slice,v=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(l!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,m,{isView:function(t){return d&&d(t)||c(t)&&v in t}}),r(r.P+r.U+r.F*n(3)(function(){return!new p(2).slice(1,undefined).byteLength}),m,{slice:function(t,e){var n,r,i,o,c,l,d;if(y!==undefined&&e===undefined)return y.call(s(this),t);for(n=s(this).byteLength,r=a(t,n),i=a(e===undefined?n:e,n),o=new(f(this,p))(u(i-r)),c=new h(this),l=new h(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(48)(m)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(77).ABV,{DataView:n(113).DataView})},function(t,e,n){n(36)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(36)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),i=n(13),o=n(1),s=(n(2).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(3)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return s?s(r,e,u):a.call(r,e,u)}})},function(t,e,n){var r=n(0),i=n(46),o=n(13),s=n(1),a=n(4),u=n(3),c=n(128),l=(n(2).Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),p=!u(function(){l(function(){})});r(r.S+r.F*(f||p),"Reflect",{construct:function(t,e){var n,r,u,h,d;if(o(t),s(e),n=arguments.length<3?t:o(arguments[2]),p&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}return r=[null],r.push.apply(r,e),new(c.apply(t,r))}return u=n.prototype,h=i(a(u)?u:Object.prototype),d=Function.apply.call(t,h,e),a(d)?d:h}})},function(t,e,n){var r=n(8),i=n(0),o=n(1),s=n(30);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(i){return!1}}})},function(t,e,n){var r=n(0),i=n(23).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(t){var e,n;this._t=i(t),this._i=0,e=this._k=[];for(n in t)e.push(n)};n(101)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:undefined,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,a,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=i.f(t,e))?s(n,"value")?n.value:n.get!==undefined?n.get.call(l):undefined:u(a=o(t))?r(a,e,l):void 0}var i=n(23),o=n(24),s=n(21),a=n(0),u=n(4),c=n(1);a(a.S,"Reflect",{get:r})},function(t,e,n){var r=n(23),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(24),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(149)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},function(t,e,n){function r(t,e,n){var u,p,h=arguments.length<4?t:arguments[3],d=o.f(l(t),e);if(!d){if(f(p=s(t)))return r(p,e,n,h);d=c(0)}if(a(d,"value")){if(!1===d.writable||!f(h))return!1;if(u=o.f(h,e)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,i.f(h,e,u)}else i.f(h,e,c(0,n));return!0}return d.set!==undefined&&(d.set.call(h,n),!0)}var i=n(8),o=n(23),s=n(24),a=n(21),u=n(0),c=n(42),l=n(1),f=n(4);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),i=n(93);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},function(t,e,n){"use strict";var r=n(0),i=n(67)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(41)("includes")},function(t,e,n){"use strict";var r=n(0),i=n(150),o=n(12),s=n(9),a=n(13),u=n(107);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(41)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(150),o=n(12),s=n(9),a=n(32),u=n(107);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),r=u(e,0);return i(r,e,e,n,0,t===undefined?1:a(t)),r}}),n(41)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(99)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(151),o=n(75);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(151),o=n(75);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!1)}})},function(t,e,n){"use strict";n(53)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(53)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),i=n(31),o=n(9),s=n(70),a=n(72),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(101)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){var e,n,r;if(i(this),!s(t))throw TypeError(t+" is not a regexp!");return e=this+"",n="flags"in u?t.flags+"":a.call(t),r=RegExp(t.source,~n.indexOf("g")?n:"g"+n),r.lastIndex=o(t.lastIndex),new c(r,e)}})},function(t,e,n){n(89)("asyncIterator")},function(t,e,n){n(89)("observable")},function(t,e,n){var r=n(0),i=n(149),o=n(22),s=n(23),a=n(105);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=s.f,c=i(r),l={},f=0;c.length>f;)(n=u(r,e=c[f++]))!==undefined&&a(l,e,n);return l}})},function(t,e,n){var r=n(0),i=n(152)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(152)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(13),s=n(8);n(7)&&r(r.P+n(78),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(13),s=n(8);n(7)&&r(r.P+n(78),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(30),s=n(24),a=n(23).f;n(7)&&r(r.P+n(78),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(30),s=n(24),a=n(23).f;n(7)&&r(r.P+n(78),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.set}while(n=s(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(153)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(153)("Set")})},function(t,e,n){n(79)("Map")},function(t,e,n){n(79)("Set")},function(t,e,n){n(79)("WeakMap")},function(t,e,n){n(79)("WeakSet")},function(t,e,n){n(80)("Map")},function(t,e,n){n(80)("Set")},function(t,e,n){n(80)("WeakMap")},function(t,e,n){n(80)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),i=n(27);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(0),i=n(155),o=n(135);r(r.S,"Math",{fscale:function(t,e,n,r,s){return o(i(t,e,n,r,s))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,s=n>>>0;return o+(r>>>0)+((i&s|(i|s)&~(i+s>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,s=n>>>0;return o-(r>>>0)-((~i&s|~(i^s)&i-s>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,a=r>>16,u=i>>16,c=(a*s>>>0)+(o*s>>>16);return a*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(155)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,a=r>>>16,u=i>>>16,c=(a*s>>>0)+(o*s>>>16);return a*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==Infinity:t>0}})},function(t,e,n){"use strict";var r=n(0),i=n(25),o=n(2),s=n(74),a=n(142);r(r.P+r.R,"Promise",{"finally":function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),i=n(112),o=n(141);r(r.S,"Promise",{"try":function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(37),i=n(1),o=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,i(n),o(r))}})},function(t,e,n){var r=n(37),i=n(1),o=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n,r=arguments.length<3?undefined:o(arguments[2]),u=s(i(e),r,!1);return!(u===undefined||!u["delete"](t))&&(!!u.size||(n=a.get(e),n["delete"](r),!!n.size||a["delete"](e)))}})},function(t,e,n){var r=n(37),i=n(1),o=n(24),s=r.has,a=r.get,u=r.key,c=function(t,e,n){var r;return s(t,e,n)?a(t,e,n):(r=o(e),null!==r?c(t,r,n):undefined)};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?undefined:u(arguments[2]))}})},function(t,e,n){var r=n(145),i=n(154),o=n(37),s=n(1),a=n(24),u=o.keys,c=o.key,l=function(t,e){var n,o=u(t,e),s=a(t);return null===s?o:(n=l(s,e),n.length?o.length?i(new r(o.concat(n))):n:o)};o.exp({getMetadataKeys:function(t){return l(s(t),arguments.length<2?undefined:c(arguments[1]))}})},function(t,e,n){var r=n(37),i=n(1),o=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?undefined:s(arguments[2]))}})},function(t,e,n){var r=n(37),i=n(1),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?undefined:s(arguments[1]))}})},function(t,e,n){var r=n(37),i=n(1),o=n(24),s=r.has,a=r.key,u=function(t,e,n){var r;return!!s(t,e,n)||null!==(r=o(e))&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?undefined:a(arguments[2]))}})},function(t,e,n){var r=n(37),i=n(1),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?undefined:s(arguments[2]))}})},function(t,e,n){var r=n(37),i=n(1),o=n(13),s=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(r!==undefined?i:o)(n),s(r))}}})},function(t,e,n){var r=n(0),i=n(111)(),o=n(2).process,s="process"==n(27)(o);r(r.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r,i,o=n(0),s=n(2),a=n(25),u=n(111)(),c=n(6)("observable"),l=n(13),f=n(1),p=n(49),h=n(51),d=n(17),y=n(50),v=y.RETURN,m=function(t){return null==t?undefined:l(t)},g=function(t){var e=t._c;e&&(t._c=undefined,e())},b=function(t){return t._o===undefined},_=function(t){b(t)||(t._o=undefined,g(t))},w=function(t,e){var n,i;f(t),this._c=undefined,this._o=t,t=new r(this);try{n=e(t),i=n,null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(o){return void t.error(o)}b(this)&&g(this)};w.prototype=h({},{unsubscribe:function(){_(this)}}),r=function(t){this._s=t},r.prototype=h({},{next:function(t){var e,n,r=this._s;if(!b(r)){e=r._o;try{if(n=m(e.next))return n.call(e,t)}catch(i){try{_(r)}finally{throw i}}}},error:function(t){var e,n,r=this._s;if(b(r))throw t;e=r._o,r._o=undefined;try{if(!(n=m(e.error)))throw t;t=n.call(e,t)}catch(i){try{g(r)}finally{throw i}}return g(r),t},complete:function(t){var e,n,r=this._s;if(!b(r)){e=r._o,r._o=undefined;try{n=m(e.complete),t=n?n.call(e,t):undefined}catch(i){try{g(r)}finally{throw i}}return g(r),t}}}),i=function(t){p(this,i,"Observable","_f")._f=l(t)},h(i.prototype,{subscribe:function(t){return new w(t,this._f)},forEach:function(t){var e=this;return new(a.Promise||s.Promise)(function(n,r){l(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),h(i,{from:function(t){var e,n="function"==typeof this?this:i,r=m(f(t)[c]);return r?(e=f(r.call(t)),e.constructor===n?e:new n(function(t){return e.subscribe(t)})):new n(function(e){var n=!1;return u(function(){if(!n){try{if(y(t,!1,function(t){if(e.next(t),n)return v})===v)return}catch(r){if(n)throw r;return void e.error(r)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:i)(function(t){var e=!1;return u(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),d(i.prototype,c,function(){return this}),o(o.G,{Observable:i}),n(48)("Observable")},function(t,e,n){var r=n(2),i=n(0),o=n(75),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),i=n(110);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r,i,o,s,a,u,c,l=n(109),f=n(44),p=n(18),h=n(2),d=n(17),y=n(54),v=n(6),m=v("iterator"),g=v("toStringTag"),b=y.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};for(r=f(_),i=0;i<r.length;i++)if(o=r[i],s=_[o],a=h[o],(u=a&&a.prototype)&&(u[m]||d(u,m,b),u[g]||d(u,g,o),y[o]=b,s))for(c in l)u[c]||p(u,c,l[c],!0)},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,s=Object.create(o.prototype),a=new h(r||[]);return s._invoke=c(t,n,a),s}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,s){var a,u,c=r(t[e],t,i);if("throw"!==c.type)return a=c.arg,u=a.value,u&&"object"==typeof u&&I.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,s)},function(t){n("throw",t,o,s)}):Promise.resolve(u).then(function(t){a.value=t,o(a)},s);s(c.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function c(t,e,n){var i=m;return function(o,s){var a,u,c;if(i===b)throw Error("Generator is already running");if(i===_){if("throw"===o)throw s;return y()}for(n.method=o,n.arg=s;;){if((a=n.delegate)&&(u=l(a,n))){if(u===w)continue;return u}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);if(i=b,c=r(t,e,n),"normal"===c.type){if(i=n.done?_:g,c.arg===w)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=_,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n,i,o=t.iterator[e.method];if(o===v){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=v,l(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}return n=r(o,t.iterator,e.arg),"throw"===n.type?(e.method="throw",e.arg=n.arg,e.delegate=null,w):(i=n.arg)?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,w):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){var e,n,r;if(t){if(e=t[A])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,r=function i(){for(;++n<t.length;)if(I.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=v,i.done=!0,i},r.next=r}return{next:y}}function y(){return{value:v,done:!0}}var v,m,g,b,_,w,E,O,T,P,S=Object.prototype,I=S.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},A=x.iterator||"@@iterator",M=x.asyncIterator||"@@asyncIterator",N=x.toStringTag||"@@toStringTag",C="object"==typeof t,k=e.regeneratorRuntime;if(k)return void(C&&(t.exports=k));k=e.regeneratorRuntime=C?t.exports:{},k.wrap=n,m="suspendedStart",g="suspendedYield",b="executing",_="completed",w={},E={},E[A]=function(){return this},O=Object.getPrototypeOf,T=O&&O(O(d([]))),T&&T!==S&&I.call(T,A)&&(E=T),P=s.prototype=i.prototype=Object.create(E),o.prototype=P.constructor=s,s.constructor=o,s[N]=o.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,N in t||(t[N]="GeneratorFunction")),t.prototype=Object.create(P),t},k.awrap=function(t){return{__await:t}},a(u.prototype),u.prototype[M]=function(){return this},k.AsyncIterator=u,k.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return k.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(P),P[N]="Generator",P[A]=function(){return this},P.toString=function(){return"[object Generator]"},k.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},k.values=d,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&I.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){var t,e;if(this.done=!0,t=this.tryEntries[0],e=t.completion,"throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=v),!!r}var n,r,i,o,s,a;if(this.done)throw t;for(n=this,r=this.tryEntries.length-1;r>=0;--r){if(i=this.tryEntries[r],o=i.completion,"root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev)if(s=I.call(i,"catchLoc"),a=I.call(i,"finallyLoc"),s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}},abrupt:function(t,e){var n,r,i,o;for(n=this.tryEntries.length-1;n>=0;--n)if(r=this.tryEntries[n],r.tryLoc<=this.prev&&I.call(r,"finallyLoc")&&this.prev<r.finallyLoc){i=r;break}return i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null),o=i?i.completion:{},o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){var e,n;for(e=this.tryEntries.length-1;e>=0;--e)if(n=this.tryEntries[e],n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),w},"catch":function(t){var e,n,r,i;for(e=this.tryEntries.length-1;e>=0;--e)if(n=this.tryEntries[e],n.tryLoc===t)return r=n.completion,"throw"===r.type&&(i=r.arg,p(n)),i;throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),w}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(121))},function(t,e,n){n(364),t.exports=n(25).RegExp.escape},function(t,e,n){var r=n(0),i=n(365)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return(e+"").replace(t,n)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,c,l,f=n(5),p=r(f),h=n(385),d=r(h),y=n(29),v=n(421),m=r(v);n(423),i=n(424),o=r(i),s=n(425),a=r(s),u=n(477),c=r(u),n(478),n(479),(l=function(){(0,m["default"])(c["default"]),(0,d["default"])(o["default"]).then(function(){(0,a["default"])(),"Xbox One"===p["default"].Device.getPlatform()?(0,y.routeTo)("xboxlive"):(0,y.routeTo)("menu")})})()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(368),i=n(5),o=n(369),s={device:"Foxxum",useCanvas:!0,soundsAllowed:!1,enforcePushState:!0,disableCanvas:!1,historyLength:0,keys:r["default"],init:function(){return new Promise(function(t){s.player=new o["default"](s),t()})},exit:function(){i["default"].CONFIG.exitUrl?window.location=i["default"].CONFIG.exitUrl:window.close()},getDevice:function(){return s.device},getModel:function(){var t,e=window.navigator.userAgent.match(/\(;.*\)/);return e&&1<=e.length&&(t=e[0].substring(2,e[0].length-1).split(";"),2<t.length)?t[0]+" "+t[1]+" "+t[t.length-1]:"unknown foxxum model"},getUserAgent:function(){return window.navigator.userAgent},getPlatform:function(){return s.device}};e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),i=window,o={};o[i.VK_UP||38]=r.Keys.UP,o[i.VK_DOWN||40]=r.Keys.DOWN,o[i.VK_LEFT||37]=r.Keys.LEFT,o[i.VK_RIGHT||39]=r.Keys.RIGHT,o[i.VK_ENTER||13]=r.Keys.ENTER,o[i.VK_BACK_SPACE||8]=r.Keys.RETURN,o[i.VK_BACK||461]=r.Keys.RETURN,o[i.VK_YELLOW||405]=r.Keys.YELLOW,o[i.VK_0||48]=r.Keys[0],o[i.VK_1||49]=r.Keys[1],o[i.VK_2||50]=r.Keys[2],o[i.VK_3||51]=r.Keys[3],o[i.VK_4||52]=r.Keys[4],o[i.VK_5||53]=r.Keys[5],o[i.VK_6||54]=r.Keys[6],o[i.VK_7||55]=r.Keys[7],o[i.VK_8||56]=r.Keys[8],o[i.VK_9||57]=r.Keys[9],e["default"]=o},function(t,e,n){"use strict";var r,i;e.__esModule=!0,r=n(370),i=function(t){return t&&t.__esModule?t:{"default":t}}(r),e["default"]=i["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u,c,l,f,p;e.__esModule=!0,e["default"]=undefined,s=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(114),l=function(t){return t&&t.__esModule?t:{"default":t}}(c),f=n(371),u=a=function(t){function e(n){r(this,e);var o=i(this,t.call(this));if(!n)throw Error(f.ERRORS.NO_DEVICE);return o.device=n,o.initialSeek=null,o.onPlayPositionChanged=o.onPlayPositionChanged.bind(o),o.onPlayStateChange=o.onPlayStateChange.bind(o),o.updatePlayerProps=o.updatePlayerProps.bind(o),o}return o(e,t),e.prototype.buildPlayer=function(){this.config=s({},f.CONFIG),this.initVideo(),this.initPlayer()},e.prototype.initVideo=function(){if(this.config&&this.config.name){var t=document.getElementById(this.config.name);try{t.bindToCurrentChannel()}catch(e){}try{t.setFullScreen(!1)}catch(e){}}},e.prototype.initPlayer=function(){var t=document.body;this.config&&this.config.container&&(t=document.getElementById(this.config.container)),this.initAVObject(t,this.config.type)},e.prototype.initAVObject=function(t,e){return t&&(document.getElementById(this.config.id)&&this.destroyPlayer(),this.player=this.createPlayer(t,e)),this.player.onPlayStateChange=this.onPlayStateChange,this.player.onPlayPositionChanged=this.onPlayPositionChanged,this.timer=window.setInterval(this.updatePlayerProps,f.PROPS_UPDATE_INTERVAL),!0},e.prototype.createPlayer=function(t,e){var n,r,i,o,s,a;if(!t)throw Error(f.ERRORS.NO_CONTAINER);return n=this.property,r=n.width,i=n.height,o=n.top,s=n.left,a=document.getElementById(this.config.id)||document.createElement("object"),a.id=this.config.id,a.width=r,a.height=i,a.top=o,a.left=s,a.style.cssText="position: absolute; z-index: -1; top: "+o+"px; left: "+s+"px; width: "+r+"px; height: "+i+"px;",a.setAttribute("type",e||f.VIDEO_TYPES.MP4),a=t.appendChild(a)},e.prototype.destroyPlayer=function(){this.player.onPlayStateChange=null,this.player.onPlayPositionChanged=null,this.player.onPlaySpeedChanged=null,clearInterval(this.timer),this.player.stop();try{this.player.data=null}catch(t){}},e.prototype["native"]=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e,r=l["default"].NATIVE_CMD,i=r.STOP,o=r.PAUSE,s=r.SET_PLAYBACK_SPEED,a=r.SEEK,u=r.PLAY,c=r.MUTE,p=r.UNMUTE,h=r.SET_VOLUME,d=r.GET_CURRENT_BITRATE,y=r.GET_VIDEO_RESOLUTION,v=r.SHOW,m=r.HIDE,g=r.SET_VIDEO_DIMENSIONS,b=r.START_PLAY,_=r.SET_AUDIO_TRACK;if(!t)throw Error(f.ERRORS.UNKNOWN_COMMAND);switch(t){case b:this.nativeStartPlay(n);break;case u:return this.nativePlay();case o:return this.nativePause();case i:return this.nativeStop();case a:return this.nativeSeek(n);case v:this.nativeShow(n);break;case m:this.nativeHide();break;case s:break;case c:case p:case h:return undefined;case g:this.setSize(n.width,n.height);break;case _:case d:case y:return undefined;default:throw Error(f.ERRORS.UNKNOWN_COMMAND)}},e.prototype.nativeStartPlay=function(t){var e=t.url,n=t.position;this.buildPlayer(),this.setSource(e),this.nativePlay(),n&&(this.initialSeek=n)},e.prototype.updatePlayerProps=function(){var t,e,n;this.player&&(t=this.getDuration(),this.property.duration!==t&&null!==t&&this.onDurationChange(t),e=this.getPosition(),this.property.currentTime!==e&&null!==e&&this.onTimeUpdate(e),n=this.getState(),this.playState!==n&&(this.playState=n))},e.prototype.onPlayStateChange=function(t,e){var n=l["default"].STATE,r=n.BUFFERING,i=n.PAUSED,o=n.PLAYING;switch(this.playState=t||this.getState(),this.playState){case f.VIDEO_STATES.STOPPED:this.onEnd();break;case f.VIDEO_STATES.PLAYING:this.setState(o),null!==this.initialSeek&&(this.nativeSeek({position:this.initialSeek}),this.initialSeek=null);break;case f.VIDEO_STATES.PAUSED:this.setState(i);break;case f.VIDEO_STATES.CONNECTING:case f.VIDEO_STATES.BUFFERING:this.setState(r);break;case f.VIDEO_STATES.FINISHED:this.onEnd();break;case f.VIDEO_STATES.ERROR:this.onNativeError(e)}},e.prototype.onPlayPositionChanged=function(t){this.onTimeUpdate(t)},e.prototype.setSource=function(t){try{this.player.data=t}catch(e){}},e.prototype.getSource=function(){return this.player.data},e.prototype.setVolume=function(t){try{return this.player.setVolume(t)}catch(e){return!1}},e.prototype.setFullscreen=function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0];try{this.player.setFullScreen(t)}catch(e){}},e.prototype.setSize=function(t,e){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if(isNaN(t)||isNaN(e)||!this.player)return!1;if(!n&&t%8!=0)throw Error(f.ERRORS.INCORRECT_WIDTH);if(!n&&e%8!=0)throw Error(f.ERRORS.INCORRECT_HEIGHT);try{return this.player.style.width=t+"px",this.player.style.height=e+"px",this.player.width=t,this.player.height=e,!0}catch(r){return!1}},e.prototype.forceSetSize=function(t,e){return this.setSize(t,e,!0)},e.prototype.setPosition=function(t,e){if(isNaN(t)||isNaN(e)||!this.player)return!1;try{return this.player.style.left=t+"px",this.player.style.top=e+"px",this.player.left=t,this.player.top=e,!0}catch(n){return!1}},e.prototype.setBounds=function(t,e,n,r){return this.setPosition(t,e)&&this.setSize(n,r)},e.prototype.getSpeed=function(){try{return this.player.speed}catch(t){return null}},e.prototype.getDuration=function(){try{return this.player.playTime}catch(t){return 0}},e.prototype.getState=function(){try{return this.player.playState}catch(t){}return this.playState},e.prototype.getPosition=function(){try{return~~this.player.playPosition}catch(t){return null}},e.prototype.nativePause=function(){return this.nativePlay(0)},e.prototype.nativePlay=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!this.player)return!1;try{return Number.isNaN(t)?this.player.play(1):this.player.play(t)}catch(e){return!1}},e.prototype.nativeSeek=function(t){var e=t.position,n=e,r=this.player.playTime;if(Number.isNaN(e)||!this.player)return!1;if(Number.isNaN(r))return!1;if(e>r)return!1;e<0&&(n=0);try{return this.player.seek(n)}catch(i){return!1}},e.prototype.nativeStop=function(){try{return this.destroyPlayer()}catch(t){return!1}},e.prototype.release=function(){try{return this.player.release()}catch(t){return!1}},e.prototype.queue=function(t){try{return this.player.queue(t)}catch(e){return!1}},e.prototype.getComponents=function(t){try{return this.player.getComponents(t)}catch(e){return null}},e.prototype.selectComponents=function(t,e){try{this.player.selectComponent(e)}catch(n){}},e.prototype.onNativeError=function(t){var e=t||this.player.error,n=f.ERROR_STATES[e]||f.ERROR_STATES.UNKNOWN;this.onError(e,n)},e.prototype.nativeShow=function(t){var e=t.left,n=t.top,r=t.width,i=t.height;this.player&&this.player.style&&(this.setBounds(e,n,r,i),this.player.style.display="block")},e.prototype.nativeHide=function(){this.player&&this.player.style&&(this.player.style.display="none")},e}(l["default"]),Object.defineProperty(a,"COMPONENT_TYPES",{enumerable:!0,writable:!0,value:f.COMPONENT_TYPES}),Object.defineProperty(a,"VIDEO_TYPES",{enumerable:!0,writable:!0,value:f.VIDEO_TYPES}),p=u,e["default"]=p},function(t,e,n){"use strict";var r;e.__esModule=!0,e.VIDEO_STATES={STOPPED:0,PLAYING:1,PAUSED:2,CONNECTING:3,BUFFERING:4,FINISHED:5,ERROR:6},e.PROPS_UPDATE_INTERVAL=1e3,r=e.VIDEO_TYPES={MP4:"video/mp4",MPEG:"video/mpeg",MP2T:"video/mp2t",MPEG_DASH:"application/mpeg-dash"},e.CONFIG={id:"video",type:r.MP4,name:"video",fullsize:{width:1280,height:720},minsize:{width:1280,height:600},width:1280,height:720,top:0,left:0,fullscreen:!1},e.ERROR_STATES={UNKNOWN:"Unknown error",0:"A/V format not supported",1:"cannot connect to server or connection lost",2:"unidentified error",3:"insufficient resources",4:"content corrupt or invalid",5:"content not available",6:"content not available at given position"},e.COMPONENT_TYPES={0:"COMPONENT_TYPE_VIDEO",1:"COMPONENT_TYPE_AUDIO",2:"COMPONENT_TYPE_SUBTITLE"},e.updatePlayerInterval=1e3,e.ERRORS={NO_DEVICE:"Device not defined.",CANNOT_CREATE_PLAYER:"[PlayerHbbTV] Cannot create a video object!",NO_CONTAINER:"Container is not defined",UNKNOWN_COMMAND:"An unknown player command",INCORRECT_WIDTH:"[AVObject] set size parameter WIDTH must be divisible by 8",INCORRECT_HEIGHT:"[AVObject] set size parameter HEIGHT must be divisible by 8"}},function(t,e,n){var r,i,o,s,a,u,c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(5),i=n(82),o="allowedSounds",s="on",a="off",u=function(){function t(){this.element=this.createAudioElement(),this.enabled=(i["default"].get(o)||a)===s}return t.prototype.play=function(t){var e=t.key,n=t.looping;return c(this,void 0,void 0,function(){return l(this,function(t){return this.enabled?(this.element.src=this.getUrl(e),this.element.loop=n,[2,this.element.play()]):[2]})})},t.prototype.setVolume=function(t){this.element.volume=t},t.prototype.pause=function(){this.element.pause()},t.prototype.unPause=function(){this.element.play()},t.prototype.getSounds=function(){return this.enabled},t.prototype.setSounds=function(t){this.enabled=t,i["default"].set(o,t?s:a)},t.prototype.preload=function(t){return c(this,void 0,void 0,function(){var e=this;return l(this,function(n){return[2,Promise.all(t.map(function(t){return c(e,void 0,void 0,function(){return l(this,function(e){return[2,this.buffer(t)]})})}))]})})},t.prototype.buffer=function(t){return c(this,void 0,void 0,function(){var e=this;return l(this,function(n){return[2,new Promise(function(n){var r=new XMLHttpRequest,i=e.getUrl(t);r.open("GET",i,!0),r.responseType="arraybuffer",r.onload=function(){n()},r.send()})]})})},t.prototype.getUrl=function(t){var e=r["default"].CONFIG,n=e.baseUrl,i=e.soundRoot;return n?""+n+i+t:""+i+t},t.prototype.createAudioElement=function(){var t=document.createElement("audio");return t.controls=!0,t.style.display="none",document.body.appendChild(t),t},t}(),e.SoundManager=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(5),o=n(82),s={},a=function(t){if(f.allowed){var e=r.createBufferSource();e.buffer=s[t],e.connect(r.destination),e.start()}},u=window.AudioContext||window.webkitAudioContext,c=function(){u&&i["default"].Device.soundsAllowed&&i["default"].CONFIG.soundsAllowed&&(r=new u,f.initialized=!0,"function"==typeof f.afterInitialized&&f.afterInitialized())},l=o["default"].get("allowedSounds")||null,f={initialized:!1,afterInitialized:null,allowed:null===l||"on"===l,buffer:function(t){if(r){var e=i["default"].CONFIG,n=e.baseUrl,o=e.soundRoot,a=new XMLHttpRequest,u=n?""+n+o+t:""+o+t;a.open("GET",u,!0),a.responseType="arraybuffer",a.onload=function(){var e=a.response,n=r.decodeAudioData(e,function(e){s[t]=e});n&&"function"==typeof n.then&&n.then(function(e){s[t]=e})},a.send()}},playSound:function(t){r&&s[t]&&a(t)},init:function(){c()},onInitialized:function(t){f.initialized&&"function"==typeof t?t():f.afterInitialized=t},setSounds:function(t){f.allowed=t,o["default"].set("allowedSounds",t?"on":"off")}};e["default"]=f},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return""};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t,e,n;for(t="",e=0;e<32;e+=1)n=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16);return t};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){var r,i,o=window.document.getElementsByTagName("object");if(o)for(r=0;r<o.length;r+=1)if(o[r]&&o[r].id===t)return o[r];return i=window.document.createElement("object"),i.id=t,"string"==typeof e?i.type=e:"object"==typeof e&&Object.keys(e).forEach(function(t){"style"===t?i.style.cssText=e[t]:i[t]=e[t]}),"object"==typeof n&&Object.keys(n).forEach(function(t){i.setAttribute(t,n[t])}),window.document.body.appendChild(i),i};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=[0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236],r=[1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251],i={PI_8:1,PIx2_8:2,PIx3_8:3,PIx4_8:4,PIx5_8:5,PIx6_8:6,PIx7_8:7,PIx8_8:8,PIx9_8:9,PIx10_8:10,PIx11_8:11,PIx12_8:12,PIx13_8:13,PIx14_8:14,PIx15_8:15,PIx16_8:16,PIx17_8:17,PIx18_8:18,PIx19_8:19,PIx20_8:20,PIx21_8:21,PIx22_8:22,PIx23_8:23,PIx24_8:24,PI_4:2,PIx2_4:4,PIx3_4:6,PIx4_4:8,PIx5_4:10,PIx6_4:12,PIx7_4:14,PIx8_4:16,PIx9_4:18,PIx10_4:20,PIx11_4:22,PIx12_4:24,PI_2:4,PIx2_2:8,PIx3_2:12,PIx4_2:16,PIx5_2:20,PIx6_2:24,PI:8,PIx2:16,PIx3:24,sin:function(t){return n[t]},cos:function(t){return r[t]}};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t+.5<<0};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e=0,n=0,r=t.length;n<r;)e=(e<<5)-e+t.charCodeAt(n+=1)<<0;return e};e["default"]=function(t){return n(t)+2147483647+1+""}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){for(var n="",r=e;0<r;)n+=t,r--;return n};e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rangeToRange=function(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r}},function(t,e){function n(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}var r=this&&this.__assign||function(){return(r=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MATH_PI=3.14,e.getDistance=n,e.splitLine=function(t,e,n){void 0===n&&(n=100);for(var i=(e.x-t.x)/n,o=(e.y-t.y)/n,s=[r({},t)],a=1;a<n-1;a+=1)s.push({x:i*a+t.x,y:o*a+t.y});return s.push(r({},e)),s},e.getBezier=function(t,n){var r,i,o,s,a,u=t.a,c=t.b,l=t.c;for(void 0===n&&(n=100),r=e.splitLine(u,l,n),i=e.splitLine(l,c,n),o=[],s=0;s<n;s+=1)a=e.splitLine(r[s],i[s],n),o.push(a[s]);return o},e.movePoint=function(t,e,n){var i=r({},t);return i.y-=Math.sin(e)*n,i.x+=Math.cos(e)*n,i},e.rotatePoint=function(t,e,n){var r=Math.cos(n),i=Math.sin(n);return{x:r*(t.x-e.x)+i*(t.y-e.y)+e.x,y:r*(t.y-e.y)-i*(t.x-e.x)+e.y}},e.toIsometric=function(t){return{x:t.x-t.y,y:(t.x+t.y)/2}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(115),i=function(t){var e,n,i,o;if(!t||0===t.length)return[];if(e=t.slice(),1===t.length)return e;for(o=e.length;0!==o;)n=r["default"](0,o-1),i=e[--o],e[o]=e[n],e[n]=i;return e};e.shuffleArray=i},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h;Object.defineProperty(e,"__esModule",{value:!0}),r=n(57),i=n(83),o=n(5),s=n(85),n(419),a=n(420),e.PRODUCTION="production",u=10,c=function(t){var e=window.document.getElementsByTagName("title"),n=!!e.length,r=n?e[0]:window.document.createElement("title");r.innerText=t,n||window.document.head.appendChild(r)},l=function(t){var e=t.criticalAssets,n=t.baseUrl;return e&&"function"==typeof e.map?Promise.all(e.map(function(t){return new Promise(function(e){var r=new Image;r.onload=function(){e()},r.onerror=function(){e()},r.src=n?""+n+t:t})})):Promise.resolve()},f=function(t,e){var n,r=t.minimalLoaderTime,i=function(){var t=document.getElementById("loading");t&&(t.style.display="none")};if(r&&(n=Date.now()-e)<r)return void setTimeout(i,r-n);i()},p=function(t){return o["default"].init(t).then(function(){if(a["default"](),r["default"].log(o["default"].getUUID()),t.GA_ACCOUNT){var n={};t.env===e.PRODUCTION&&(n.sampleRate=u),s.initGA(t.GA_ACCOUNT,n),s["default"]("set","checkProtocolTask",null),s["default"]("set","dimension1",o["default"].Device.getDevice()),s["default"]("set","dimension2",o["default"].Device.getModel()),s["default"]("set","dimension3",o["default"].Device.getUserAgent()),s["default"]("send","event","Device",o["default"].Device.getDevice()+" "+o["default"].Device.getModel(),o["default"].Device.getPlatform()),s["default"]("send","event","UserAgent",o["default"].Device.getUserAgent(),o["default"].Device.getPlatform())}})},h=function(t){c(t.gameName||"Mautilus Game");var e=Date.now();return new Promise(function(n){Promise.all([l(t),p(t)]).then(function(){return i.initAdsControl()}).then(function(){f(t,e),n()})})},e["default"]=h},function(t,e,n){var r,i,o,s,a,u,c,l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(84),i=n(396),o=n(11),s=n(10),a=n(415),u=n(416),c=function(){function t(t,e){var n=this;this.providers=[],this.sendMissingGA=function(t){n.adsGa.sendMissing(r.adTypes.video,t)},this.sendErrorGA=function(t){n.adsGa.sendError(r.adTypes.video,t)},this.appConfig=e,this.adsParser=new a.AdsParser(this.sendMissingGA,this.sendErrorGA),this.adsGa=new r.AdsGA(this.appConfig),t&&(t.startsWith("{")?this.processConfigFile(t):s.request(t).then(function(t){n.processConfigFile(t)})["catch"](function(t){s.logger.error(t)}))}return t.prototype.init=function(){return l(this,void 0,void 0,function(){return f(this,function(t){return[2,s.obtainIPAddress()]})})},t.prototype.getLinearAd=function(){return l(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return[4,this.adsParser.getAd(this.getConfigs(),{adType:"linear"})];case 1:return(t=e.sent())?[2,{source:t.source,vastTracker:new u["default"](t,this.adsGa)}]:[2,null]}})})},t.prototype.getConfigs=function(){return this.providers.map(function(t){return{name:t.name,url:t.getUrl()}})},t.prototype.getAdOccurrence=function(){return this.adOccurrence},t.prototype.processConfigFile=function(t){var e,n,r,i,o,a,u,c;try{if(e=this.appConfig,n=e.gameName,r=e.platform,i=JSON.parse(t),!i)return;if(!(o=i.games.find(function(t){return t.uniqueId.toLowerCase()===n.toLowerCase()})))return;if(!(a=o.platforms.find(function(t){return t.uniqueId.toLowerCase()===r.toLowerCase()})))return;u=a.adOccurrence,c=a.activeLinearFile,this.providers=this.processProvidersConfig(c||[]),this.adOccurrence=u||0}catch(t){s.logger.warn(t)}},t.prototype.processProvidersConfig=function(t){var e=this;return t.map(function(t){var n=t.name,r=t.subname,s=t.uid,a=t.url;return new(i.PROVIDERS[r||n]||o["default"])(a,s,n||r,e.appConfig)})},t}(),e.Ads=c},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(157)),r(n(84)),r(n(394))},function(t,e,n){"use strict";var r,i,o,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"===a(e)&&void 0!==t?t.exports=n():(i=[],r=n,(o="function"==typeof r?r.apply(e,i):r)!==undefined&&(t.exports=o))}(function(){return function t(e,n,r){function i(a,u){var c,l,f;if(!n[a]){if(!e[a]){if(c="function"==typeof s&&s,!u&&c)return s(a,!0);if(o)return o(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}f=n[a]={exports:{}},e[a][0].call(f.exports,function(t){return i(e[a][1][t]||t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof s&&s,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"===(void 0===t?"undefined":a(t))&&null!==t}function s(t){return void 0===t}((e.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,a,u,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;throw l=Error('Uncaught, unspecified "error" event. ('+e+")"),l.context=e,l}if(s(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),r=(c=n.slice()).length,u=0;u<r;u++)c[u].apply(this,a);return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.trace),this},r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;0<a--;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){var r;r=function(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]},e.exports=r},{}],3:[function(t,e,n){var r,i,o;i=t("./parser"),o=t("./util"),r=function(){function t(){}var e,r;return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,r){var o,s,a,u;if(s=+new Date,o=n.extend=function(t,e){var n,r;for(n in e)r=e[n],t[n]=r;return t},r||("function"==typeof e&&(r=e),a={}),a=o(this.options,e),this.totalCallsTimeout<s?(this.totalCalls=1,this.totalCallsTimeout=s+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((u=s-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(u<this.cappingMinimumTimeInterval)return void r(null,Error("VAST call canceled – ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return i.parse(t,a,function(t,e){return r(t,e)})}r(null,Error("VAST call canceled – FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},r=o.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){e(t,n,{get:function(){return r.getItem(n)},set:function(t){return r.setItem(n,t)},configurable:!1,enumerable:!0})}),null==t.lastSuccessfullAd&&(t.lastSuccessfullAd=0),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0),t}(),e.exports=r},{"./parser":12,"./util":18}],4:[function(t,e,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}},e.exports=r},{}],5:[function(t,e,n){var r,i,o,s,a=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=function(t){null==t&&(t={}),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={}},o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return a(e,r),e}(),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return a(e,r),e}(),i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return a(e,r),e}(),e.exports={VASTCreativeLinear:o,VASTCreativeNonLinear:s,VASTCreativeCompanion:i}},{}],6:[function(t,e,n){var r;r=function(){this.attributes={},this.children=[]},e.exports=r},{}],7:[function(t,e,n){var r;r=function(){this.name=null,this.value=null,this.attributes={}},e.exports=r},{}],8:[function(t,e,n){var r;r=function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null},e.exports=r},{}],9:[function(t,e,n){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(t,e,n){var r;r=function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null},e.exports=r},{}],11:[function(t,e,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null},e.exports=r},{}],12:[function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b=[].slice,_=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};o=t("./urlhandler"),m=t("./response"),s=t("./ad"),a=t("./extension"),u=t("./extensionchild"),g=t("./util"),f=t("./creative").VASTCreativeLinear,l=t("./creative").VASTCreativeCompanion,p=t("./creative").VASTCreativeNonLinear,d=t("./mediafile"),h=t("./icon"),c=t("./companionad"),y=t("./nonlinear"),i=t("events").EventEmitter,r={ERRORCODE:900,extensions:[]},v=function(){function t(){}var e,n;return n=null,e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(t,e,r){return r||("function"==typeof e&&(r=e),e={}),n=e.wrapperLimit||10,e.wrapperDepth=0,this._parse(t,null,e,function(t,e){return r(e,t)})},t.load=function(t,e,n){return n||("function"==typeof e&&(n=e),e={}),this.parseXmlDocument(null,[],e,t,n)},t.vent=new i,t.track=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?b.call(arguments,2):[],this.vent.emit("VAST-error",g.merge.apply(g,[r,e].concat(b.call(t)))),g.track(n,e)},t.on=function(t,e){return this.vent.on(t,e)},t.once=function(t,e){return this.vent.once(t,e)},t.off=function(t,e){return this.vent.removeListener(t,e)},t._parse=function(t,n,r,i){var s,a,u,c;for(a=0,u=e.length;a<u;a++)s=e[a],t=s(t);return null==n&&(n=[]),n.push(t),this.vent.emit("resolving",{url:t}),o.get(t,r,(c=this,function(e,o){return c.vent.emit("resolved",{url:t}),null!=e?i(e):c.parseXmlDocument(t,n,r,o,i)}))},t.parseXmlDocument=function(e,r,i,o,s){var a,u,c,l,f,p,h,d,y,v,g,b;if(b=i.wrapperDepth++,g=new m,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return s(Error("Invalid VAST XMLDocument"));for(c=0,f=(y=o.documentElement.childNodes).length;c<f;c++)"Error"===(d=y[c]).nodeName&&g.errorURLTemplates.push(t.parseNodeText(d));for(l=0,p=(v=o.documentElement.childNodes).length;l<p;l++)"Ad"===(d=v[l]).nodeName&&(null!=(a=t.parseAdElement(d))?g.ads.push(a):t.track(g.errorURLTemplates,{ERRORCODE:101}));for(u=function(){var e,n,r,i,o;for(e=n=(i=g.ads).length-1;0<=n;e=n+=-1)if(null!=(a=i[e]).nextWrapperURL)return;if(0===b)if(0===g.ads.length)t.track(g.errorURLTemplates,{ERRORCODE:303});else for(e=r=(o=g.ads).length-1;0<=r;e=r+=-1)((a=o[e]).errorCode||0===a.creatives.length)&&(t.track(a.errorURLTemplates.concat(g.errorURLTemplates),{ERRORCODE:a.errorCode||303},{ERRORMESSAGE:a.errorMessage||""},{extensions:a.extensions},{system:a.system}),g.ads.splice(e,1));return s(null,g)},h=g.ads.length;h--;)null!=(a=g.ads[h]).nextWrapperURL&&function(o){var s;r.length>=n||(s=o.nextWrapperURL,0<=_.call(r,s))?(o.errorCode=302,delete o.nextWrapperURL):(o.nextWrapperURL=t.resolveVastAdTagURI(o.nextWrapperURL,e),t._parse(o.nextWrapperURL,r,i,function(e,n){var r,i,s,a,c;if(delete o.nextWrapperURL,null!=e)return o.errorCode=301,o.errorMessage=e.message,void u();if(null!=(null!=n?n.errorURLTemplates:void 0)&&(g.errorURLTemplates=g.errorURLTemplates.concat(n.errorURLTemplates)),0===n.ads.length)o.creatives=[];else for(r=g.ads.indexOf(o),g.ads.splice(r,1),i=0,s=(a=n.ads).length;i<s;i++)c=a[i],t.mergeWrapperAdData(c,o),g.ads.splice(++r,0,c);return u()}))}(a);return u()},t.resolveVastAdTagURI=function(t,e){return 0===t.indexOf("//")?""+location.protocol+t:-1===t.indexOf("://")?e.slice(0,e.lastIndexOf("/"))+"/"+t:t},t.mergeWrapperAdData=function(t,e){var n,r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E;for(t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),o=0,c=(h=t.creatives).length;o<c;o++)if(r=h[o],null!=(null!=(d=e.trackingEvents)?d[r.type]:void 0))for(i in y=e.trackingEvents[r.type])E=y[i],(n=r.trackingEvents)[i]||(n[i]=[]),r.trackingEvents[i]=r.trackingEvents[i].concat(E);if(null!=(v=e.videoClickTrackingURLTemplates)?v.length:void 0)for(s=0,l=(m=t.creatives).length;s<l;s++)"linear"===(r=m[s]).type&&(r.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));if(null!=(g=e.videoCustomClickURLTemplates)?g.length:void 0)for(a=0,f=(b=t.creatives).length;a<f;a++)"linear"===(r=b[a]).type&&(r.videoCustomClickURLTemplates=r.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates));if(null!=e.videoClickThroughURLTemplate){for(w=[],u=0,p=(_=t.creatives).length;u<p;u++)"linear"===(r=_[u]).type&&null==r.videoClickThroughURLTemplate?w.push(r.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate):w.push(void 0);return w}},t.childByName=function(t,e){var n,r,i,o;for(r=0,i=(o=t.childNodes).length;r<i;r++)if((n=o[r]).nodeName===e)return n},t.childsByName=function(t,e){var n,r,i,o,s;for(r=[],i=0,o=(s=t.childNodes).length;i<o;i++)(n=s[i]).nodeName===e&&r.push(n);return r},t.parseAdElement=function(t){var e,n,r,i,o;for(n=0,r=(i=t.childNodes).length;n<r;n++)if("Wrapper"===(o=(e=i[n]).nodeName)||"InLine"===o){if(this.copyNodeAttribute("id",t,e),this.copyNodeAttribute("sequence",t,e),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},t.parseWrapperElement=function(t){var e,n,r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O;for(e=this.parseInLineElement(t),null!=(O=this.childByName(t,"VASTAdTagURI"))?e.nextWrapperURL=this.parseNodeText(O):null!=(O=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(O,"URL"))),o=0,l=(y=e.creatives).length;o<l;o++)if("linear"===(v=(E=y[o]).type)||"nonlinear"===v){if(null!=E.trackingEvents)for(i in e.trackingEvents||(e.trackingEvents={}),(n=e.trackingEvents)[d=E.type]||(n[d]={}),m=E.trackingEvents)for(w=m[i],(r=e.trackingEvents[E.type])[i]||(r[i]=[]),a=0,f=w.length;a<f;a++)_=w[a],e.trackingEvents[E.type][i].push(_);if(null!=E.videoClickTrackingURLTemplates)for(e.videoClickTrackingURLTemplates||(e.videoClickTrackingURLTemplates=[]),u=0,p=(g=E.videoClickTrackingURLTemplates).length;u<p;u++)s=g[u],e.videoClickTrackingURLTemplates.push(s);if(null!=E.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=E.videoClickThroughURLTemplate),null!=E.videoCustomClickURLTemplates)for(e.videoCustomClickURLTemplates||(e.videoCustomClickURLTemplates=[]),c=0,h=(b=E.videoCustomClickURLTemplates).length;c<h;c++)s=b[c],e.videoCustomClickURLTemplates.push(s)}if(null!=e.nextWrapperURL)return e},t.parseInLineElement=function(t){var e,n,r,i,o,a,u,c,l,f,p,h,d,y,v;for((e=new s).id=t.getAttribute("id")||null,e.sequence=t.getAttribute("sequence")||null,a=0,l=(d=t.childNodes).length;a<l;a++)switch((h=d[a]).nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(h));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(h));break;case"Creatives":for(u=0,f=(y=this.childsByName(h,"Creative")).length;u<f;u++)for(r={id:(i=y[u]).getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(i),sequence:i.getAttribute("sequence")||null,apiFramework:i.getAttribute("apiFramework")||null},c=0,p=(v=i.childNodes).length;c<p;c++)switch((o=v[c]).nodeName){case"Linear":(n=this.parseCreativeLinearElement(o,r))&&e.creatives.push(n);break;case"NonLinearAds":(n=this.parseNonLinear(o,r))&&e.creatives.push(n);break;case"CompanionAds":(n=this.parseCompanionAd(o,r))&&e.creatives.push(n)}break;case"Extensions":this.parseExtension(e.extensions,this.childsByName(h,"Extension"));break;case"AdSystem":e.system={value:this.parseNodeText(h),version:h.getAttribute("version")||null};break;case"AdTitle":e.title=this.parseNodeText(h);break;case"Description":e.description=this.parseNodeText(h);break;case"Advertiser":e.advertiser=this.parseNodeText(h);break;case"Pricing":e.pricing={value:this.parseNodeText(h),model:h.getAttribute("model")||null,currency:h.getAttribute("currency")||null};break;case"Survey":e.survey=this.parseNodeText(h)}return e},t.parseExtension=function(t,e){var n,r,i,o,s,c,l,f,p,h,d,y,v,m,g,b,_,w,E;for(w=[],l=0,d=e.length;l<d;l++){if(s=e[l],r=new a,s.attributes)for(f=0,y=(g=s.attributes).length;f<y;f++)c=g[f],r.attributes[c.nodeName]=c.nodeValue;for(p=0,v=(b=s.childNodes).length;p<v;p++)if(n=b[p],E=this.parseNodeText(n),"#comment"!==n.nodeName&&""!==E){if((i=new u).name=n.nodeName,i.value=E,n.attributes)for(h=0,m=(_=n.attributes).length;h<m;h++)o=_[h],i.attributes[o.nodeName]=o.nodeValue;r.children.push(i)}w.push(t.push(r))}return w},t.parseCreativeLinearElement=function(t,e){var n,r,i,o,s,a,u,c,l,p,y,v,m,g,b,_,w,E,O,T,P,S,I,x,A,M,N,C,k,R,L,D,j,U,F,G,H,B,V,K,W,Y,q,X,z,J,Q,Z,$,tt,et,nt,rt,it,ot,st,at,ut,ct;if((o=new f(e)).duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),null==(it=t.getAttribute("skipoffset"))?o.skipDelay=null:"%"===it.charAt(it.length-1)&&-1!==o.duration?(B=parseInt(it,10),o.skipDelay=o.duration*(B/100)):o.skipDelay=this.parseDuration(it),null!=(ct=this.childByName(t,"VideoClicks"))){for(o.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(ct,"ClickThrough")),c=0,E=(W=this.childsByName(ct,"ClickTracking")).length;c<E;c++)i=W[c],o.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(b=0,O=(Y=this.childsByName(ct,"CustomClick")).length;b<O;b++)s=Y[b],o.videoCustomClickURLTemplates.push(this.parseNodeText(s))}for(null!=(n=this.childByName(t,"AdParameters"))&&(o.adParameters=this.parseNodeText(n)),_=0,P=(X=this.childsByName(t,"TrackingEvents")).length;_<P;_++)for(at=X[_],w=0,S=(z=this.childsByName(at,"Tracking")).length;w<S;w++)if(a=(st=z[w]).getAttribute("event"),ut=this.parseNodeText(st),null!=a&&null!=ut){if("progress"===a){if(!(G=st.getAttribute("offset")))continue;a="%"===G.charAt(G.length-1)?"progress-"+G:"progress-"+Math.round(this.parseDuration(G))}null==(r=o.trackingEvents)[a]&&(r[a]=[]),o.trackingEvents[a].push(ut)}for(k=0,I=(J=this.childsByName(t,"MediaFiles")).length;k<I;k++)for(j=J[k],U=0,x=(Q=this.childsByName(j,"MediaFile")).length;U<x;U++)D=Q[U],(L=new d).id=D.getAttribute("id"),L.fileURL=this.parseNodeText(D),L.deliveryType=D.getAttribute("delivery"),L.codec=D.getAttribute("codec"),L.mimeType=D.getAttribute("type"),L.apiFramework=D.getAttribute("apiFramework"),L.bitrate=parseInt(D.getAttribute("bitrate")||0),L.minBitrate=parseInt(D.getAttribute("minBitrate")||0),L.maxBitrate=parseInt(D.getAttribute("maxBitrate")||0),L.width=parseInt(D.getAttribute("width")||0),L.height=parseInt(D.getAttribute("height")||0),(rt=D.getAttribute("scalable"))&&"string"==typeof rt&&("true"===(rt=rt.toLowerCase())?L.scalable=!0:"false"===rt&&(L.scalable=!1)),(R=D.getAttribute("maintainAspectRatio"))&&"string"==typeof R&&("true"===(R=R.toLowerCase())?L.maintainAspectRatio=!0:"false"===R&&(L.maintainAspectRatio=!1)),o.mediaFiles.push(L);if(null!=(m=this.childByName(t,"Icons")))for(F=0,A=(Z=this.childsByName(m,"Icon")).length;F<A;F++){for(v=Z[F],(l=new h).program=v.getAttribute("program"),l.height=parseInt(v.getAttribute("height")||0),l.width=parseInt(v.getAttribute("width")||0),l.xPosition=this.parseXPosition(v.getAttribute("xPosition")),l.yPosition=this.parseYPosition(v.getAttribute("yPosition")),l.apiFramework=v.getAttribute("apiFramework"),l.offset=this.parseDuration(v.getAttribute("offset")),l.duration=this.parseDuration(v.getAttribute("duration")),H=0,M=($=this.childsByName(v,"HTMLResource")).length;H<M;H++)u=$[H],l.type=u.getAttribute("creativeType")||"text/html",l.htmlResource=this.parseNodeText(u);for(V=0,N=(tt=this.childsByName(v,"IFrameResource")).length;V<N;V++)g=tt[V],l.type=g.getAttribute("creativeType")||0,l.iframeResource=this.parseNodeText(g);for(K=0,C=(et=this.childsByName(v,"StaticResource")).length;K<C;K++)ot=et[K],l.type=ot.getAttribute("creativeType")||0,l.staticResource=this.parseNodeText(ot);if(null!=(y=this.childByName(v,"IconClicks")))for(l.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(y,"IconClickThrough")),nt=0,T=(q=this.childsByName(y,"IconClickTracking")).length;nt<T;nt++)p=q[nt],l.iconClickTrackingURLTemplates.push(this.parseNodeText(p));l.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(v,"IconViewTracking")),o.icons.push(l)}return o},t.parseNonLinear=function(t,e){var n,r,i,o,s,a,u,c,l,f,h,d,v,m,g,b,_,w,E,O,T,P,S,I,x,A,M,N,C,k,R,L,D,j;for(o=new p(e),u=0,d=(I=this.childsByName(t,"TrackingEvents")).length;u<d;u++)for(D=I[u],l=0,v=(x=this.childsByName(D,"Tracking")).length;l<v;l++)s=(L=x[l]).getAttribute("event"),j=this.parseNodeText(L),null!=s&&null!=j&&(null==(r=o.trackingEvents)[s]&&(r[s]=[]),o.trackingEvents[s].push(j));for(f=0,m=(A=this.childsByName(t,"NonLinear")).length;f<m;f++){for(P=A[f],(T=new y).id=P.getAttribute("id")||null,T.width=P.getAttribute("width"),T.height=P.getAttribute("height"),T.expandedWidth=P.getAttribute("expandedWidth"),T.expandedHeight=P.getAttribute("expandedHeight"),T.scalable=this.parseBoolean(P.getAttribute("scalable")),T.maintainAspectRatio=this.parseBoolean(P.getAttribute("maintainAspectRatio")),T.minSuggestedDuration=this.parseDuration(P.getAttribute("minSuggestedDuration")),T.apiFramework=P.getAttribute("apiFramework"),h=0,g=(M=this.childsByName(P,"HTMLResource")).length;h<g;h++)a=M[h],T.type=a.getAttribute("creativeType")||"text/html",T.htmlResource=this.parseNodeText(a);for(E=0,b=(N=this.childsByName(P,"IFrameResource")).length;E<b;E++)c=N[E],T.type=c.getAttribute("creativeType")||0,T.iframeResource=this.parseNodeText(c);for(O=0,_=(C=this.childsByName(P,"StaticResource")).length;O<_;O++)R=C[O],T.type=R.getAttribute("creativeType")||0,T.staticResource=this.parseNodeText(R);for(null!=(n=this.childByName(P,"AdParameters"))&&(T.adParameters=this.parseNodeText(n)),T.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(P,"NonLinearClickThrough")),S=0,w=(k=this.childsByName(P,"NonLinearClickTracking")).length;S<w;S++)i=k[S],T.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(i));o.variations.push(T)}return o},t.parseCompanionAd=function(t,e){var n,r,i,o,s,a,u,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P,S,I,x,A,M,N,C,k,R,L,D,j,U,F,G;for(a=new l(e),p=0,m=(A=this.childsByName(t,"Companion")).length;p<m;p++){for(s=A[p],(o=new c).id=s.getAttribute("id")||null,o.width=s.getAttribute("width"),o.height=s.getAttribute("height"),o.companionClickTrackingURLTemplates=[],d=0,g=(M=this.childsByName(s,"HTMLResource")).length;d<g;d++)f=M[d],o.type=f.getAttribute("creativeType")||"text/html",o.htmlResource=this.parseNodeText(f);for(y=0,b=(N=this.childsByName(s,"IFrameResource")).length;y<b;y++)h=N[y],o.type=h.getAttribute("creativeType")||0,o.iframeResource=this.parseNodeText(h);for(v=0,_=(C=this.childsByName(s,"StaticResource")).length;v<_;v++){for(j=C[v],o.type=j.getAttribute("creativeType")||0,P=0,w=(k=this.childsByName(s,"AltText")).length;P<w;P++)r=k[P],o.altText=this.parseNodeText(r);o.staticResource=this.parseNodeText(j)}for(S=0,E=(R=this.childsByName(s,"TrackingEvents")).length;S<E;S++)for(F=R[S],I=0,O=(L=this.childsByName(F,"Tracking")).length;I<O;I++)u=(U=L[I]).getAttribute("event"),G=this.parseNodeText(U),null!=u&&null!=G&&(null==(n=o.trackingEvents)[u]&&(n[u]=[]),o.trackingEvents[u].push(G));for(x=0,T=(D=this.childsByName(s,"CompanionClickTracking")).length;x<T;x++)i=D[x],o.companionClickTrackingURLTemplates.push(this.parseNodeText(i));o.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(s,"CompanionClickThrough")),o.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(s,"CompanionClickTracking")),a.variations.push(o)}return a},t.parseDuration=function(t){var e,n,r,i,o;return null==t?-1:g.isNumeric(t)?parseInt(t):3!==(e=t.split(":")).length?-1:(o=e[2].split("."),i=parseInt(o[0]),2===o.length&&(i+=parseFloat("0."+o[1])),r=parseInt(60*e[1]),n=parseInt(60*e[0]*60),isNaN(n)||isNaN(r)||isNaN(i)||3600<r||60<i?-1:n+r+i)},t.parseXPosition=function(t){return"left"===t||"right"===t?t:parseInt(t||0)},t.parseYPosition=function(t){return"top"===t||"bottom"===t?t:parseInt(t||0)},t.parseBoolean=function(t){return"true"===t||"TRUE"===t||"1"===t},t.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()},t.copyNodeAttribute=function(t,e,n){var r;if(r=e.getAttribute(t))return n.setAttribute(t,r)},t.parseCreativeAdIdAttribute=function(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null},t}(),e.exports=v},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(t,e,n){var r;r=function(){this.ads=[],this.errorURLTemplates=[]},e.exports=r},{}],14:[function(t,e,n){var r,i,o,s,a,u,c,l={}.hasOwnProperty;i=t("./client"),c=t("./util"),s=t("./creative").VASTCreativeLinear,a=t("./nonlinear"),o=t("./companionad"),r=t("events").EventEmitter,u=function(t){function e(t,e,n){var r,u,c;for(r in this.ad=t,this.creative=e,this.variation=null!=n?n:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],this._alreadyTriggeredQuartiles={},c=this.creative.trackingEvents)u=c[r],this.trackingEvents[r]=u.slice(0);this.creative instanceof s?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof a?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof o&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){i.lastSuccessfullAd=+new Date})}return function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.off=function(t,e){return this.removeListener(t,e)},e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,n,r,i,o,s,a,u,c;if(-1===(u=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(t<u?this.emit("skip-countdown",u-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&0<this.assetDuration){if(n=[],0<t)for(s in n.push("start"),o=Math.round(t/this.assetDuration*100),n.push("progress-"+o+"%"),n.push("progress-"+Math.round(t)),a=this.quartiles)c=a[s],this.isQuartileReached(s,c,t)&&(n.push(s),this._alreadyTriggeredQuartiles[s]=!0);for(r=0,i=n.length;r<i;r++)e=n[r],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.isQuartileReached=function(t,e,n){var r;return r=!1,e<=n&&!this._alreadyTriggeredQuartiles[t]&&(r=!0),r},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setExpand=function(t){return this.expanded!==t&&this.track(t?"expand":"collapse"),this.expanded=t},e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.stop=function(){},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,n;if((null!=(e=this.clickTrackingURLTemplates)?e.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(n={CONTENTPLAYHEAD:this.progressFormated()}),t=c.resolveURLTemplates([this.clickThroughURLTemplate],n)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var n,r;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),r=this.trackingEvents[t],n=this.emitAlwaysEvents.indexOf(t),null!=r?(this.emit(t,""),this.trackURLs(r)):-1!==n&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],-1<n&&this.emitAlwaysEvents.splice(n,1))},e.prototype.trackURLs=function(t,e){var n;return null==e&&(e={}),this.linear&&(null!=(null!=(n=this.creative.mediaFiles[0])?n.fileURL:void 0)&&(e.ASSETURI=this.creative.mediaFiles[0].fileURL),e.CONTENTPLAYHEAD=this.progressFormated()),c.track(t,e)},e.prototype.progressFormated=function(){var t,e,n,r;return(t=(r=parseInt(this.progress))/3600).length<2&&(t="0"+t),(e=r/60%60).length<2&&(e="0"+e),(n=r%60).length<2&&(n="0"+e),t+":"+e+":"+n+"."+parseInt(100*(this.progress-r))},e}(),e.exports=u},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(t,e,n){var r,i,o;o=t("./urlhandlers/xmlhttprequest"),i=t("./urlhandlers/flash"),r=function(){function e(){}return e.get=function(e,n,r){var s,a;return r||("function"==typeof n&&(r=n),n={}),null!=n.response?(a=n.response,delete n.response,r(null,a)):(null!=(s=n.urlhandler)?s.supported():void 0)?n.urlhandler.get(e,n,r):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,n,r):o.supported()?o.get(e,n,r):i.supported()?i.get(e,n,r):r(Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},e}(),e.exports=r},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(t,e,n){var r;r=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,n){var r,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,(r=this.xdr()).open("GET",t),r.timeout=e.timeout||0,r.withCredentials=e.withCredentials||!1,r.send(),r.onprogress=function(){},r.onload=function(){return i.loadXML(r.responseText),n(null,i)}):n(Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},t}(),e.exports=r},{}],17:[function(t,e,n){var r;r=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=function(){return!!this.xhr()},t.get=function(t,e,n){var r;try{return(r=this.xhr()).open("GET",t),r.timeout=e.timeout||0,r.withCredentials=e.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?n(null,r.responseXML):n(Error("XHRURLHandler: "+r.statusText))},r.send()}catch(t){return n(Error("XHRURLHandler: Unexpected error"))}},t}(),e.exports=r},{}],18:[function(t,e,n){var r,i=[].slice;r=function(){function t(){}return t.track=function(t,e){var n,r,i,o,s,a;for(a=[],o=0,s=(r=this.resolveURLTemplates(t,e)).length;o<s;o++)n=r[o],"undefined"!=typeof window&&null!==window&&(i=new Image,a.push(i.src=n));return a},t.resolveURLTemplates=function(t,e){var n,r,i,o,s,a,u,c;for(null==e&&(e={}),n=[],null!=e.ASSETURI&&(e.ASSETURI=this.encodeURIComponentRFC3986(e.ASSETURI)),null!=e.CONTENTPLAYHEAD&&(e.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(e.CONTENTPLAYHEAD)),null==e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=this.leftpad(""+Math.round(1e8*Math.random())),e.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),e.RANDOM=e.random=e.CACHEBUSTING,r=0,o=t.length;r<o;r++)if(u=t[r]){for(i in e)c=e[i],s="["+i+"]",a="%%"+i+"%%",u=(u=u.replace(s,c)).replace(a,c);n.push(u)}return n},t.encodeURIComponentRFC3986=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.leftpad=function(t){return t.length<8?function(){var e,n,r;for(r=[],e=0,n=8-t.length;0<=n?e<n:n<e;0<=n?e++:e--)r.push("0");return r}().join("")+t:t},t.merge=function(){var t;if(0<(null!=(t=1<=arguments.length?i.call(arguments,0):[])?t.length:void 0))return this.tap({},function(e){var n,r,i,o,s,a;for(o=[],n=0,i=t.length;n<i;n++)a=t[n],o.push(function(){var t;for(r in t=[],a)s=a[r],t.push(e[r]=s);return t}());return o})},t.tap=function(t,e){return e(t),t},t.storage=function(){var t,e;try{e="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){e=null}return(null==e||function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return!0}return!1}(e))&&(t={},e={length:0,getItem:function(e){return t[e]},setItem:function(e,n){t[e]=n,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),e}(),t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}(),e.exports=r},{}]},{},[9])(9)})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParams=function(t){if(!t)return null;var e={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,r){return e[n]=r,""}),e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);e.UUID_STORAGE="_uuid2",e.uuid=function(){var t,e,n;for(t="",e=0;e<32;e+=1)n=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16);return t},e.getUUID=function(){var t=r.Storage.get(e.UUID_STORAGE);return t||(t=e.uuid(),r.Storage.set(e.UUID_STORAGE,t),t)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={},r=function(t){var e,r,i,o,s;try{for(e=t+"=",r=document.cookie.split(";"),i=r.length,o=0;o<i;o+=1){for(s=r[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}}catch(e){return n[t]||null}return null},i=function(t,e){var r,i;try{r=new Date,r.setTime(r.getTime()+31536e6),i="expires="+r.toUTCString(),document.cookie=t+"="+e+"; "+i}catch(r){n[t]=e}},o=function(t){var e;if(window.localStorage&&"function"==typeof window.localStorage.getItem)try{e=window.localStorage.getItem(t)}catch(n){e=r(t)}else e=r(t);try{return e?JSON.parse(e):e}catch(n){return e}},s=function(t,e){var n;try{n=JSON.stringify(e)}catch(r){n=e}if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem(t,n)}catch(r){i(t,n)}else i(t,n)};e.Storage={get:function(t){return o(t)},set:function(t,e){s(t,e)}}},function(t,e){var n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),n={VERBOSE:0,INFO:1,WARN:2,ERROR:3},e.logLevels=n,r=function(){function t(){}return t.prototype.assert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.clear=function(){},t.prototype.count=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupEnd=function(){},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.profile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.profileEnd=function(){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeStamp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}(),i=new r,e.logger=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getIntInInterval=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h=this&&this.__assign||function(){return(h=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),i=n(395),o=n(157),s=n(10),a=!1,u=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r?o.mpGA.apply(void 0,e):(t=window).ga.apply(t,e)},e.ga=u,c=function(){i.initRealGAScript(),r=!1},l=function(){r=!0},f=function(t,e){u("create",t,h({storage:"none",clientId:s.Storage.get("ga:clientId")},e)),u(function(t){s.Storage.set("ga:clientId",t.get("clientId"))})},p=function(t,e){try{a||(window.document.cookie,c())}catch(t){l()}finally{a=!0,f(t,e)}},e.initGA=p},function(t,e,n){"use strict";e.__esModule=!0;e.initRealGAScript=function(){var t,e,n,r,i,o,s,a="https:"===window.location.protocol?"https:":"http:";t=window,e=document,n="script",r=a+"//www.google-analytics.com/analytics.js",i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement(n),s=e.getElementsByTagName(n)[0],o.async=!0,o.src=r,s&&s.parentNode&&s.parentNode.insertBefore(o,s)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(397),i=n(398),o=n(399),s=n(400),a=n(401),u=n(402),c=n(403),l=n(404),f=n(405),p=n(406),h=n(407),d=n(408),y=n(409),v=n(410),m=n(411),g=n(412),b=n(413),_=n(414);e.PROVIDERS={StreamKey:d["default"],StreamKeyNew:v["default"],StreamKeyAniview:y["default"],StreamKeySpringServe:m["default"],Adsterra:r["default"],Adtelligent:i["default"],Spotx:h["default"],ImproveDigital:c["default"],SmartyAds:p["default"],FreeWheel:a["default"],iPrima:l["default"],Engageya:s["default"],GoogleAdManager:u["default"],DeliAds:o["default"],Vizio:b["default"],VizioSpotx:_["default"],Phunware:f["default"],TotalMedia:g["default"]}},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(14),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={key:"63cfb6c45f62f91daa4694b4e7cf9673",custom:JSON.stringify({width:"1920",height:"1080"}),vastref:"apps.tvgam.es"},o}return s(e,t),e.prototype.prepareUrl=function(){var t=this,e=Object.keys(this.defaultParams).map(function(e){return e+"="+encodeURIComponent(t.defaultParams[e]).replace(/%22/g,"%27")}).join("&");return this.serverUrl+"?"+e},e.prototype.getRndParam=function(){return"&cb="+i["default"]()},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={width:"1920",height:"1080",device_category:"4"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.baseUrl,r=t.model,o=t.userAgent,a=e||"Game Name",u=this.getBundleId(),l=i.getUUID();return c({},this.defaultParams,{uip:s.getIPAdress(),ua:o,app_name:a,aid:this.uid,app_bundle:u,appuid:u,device_model:r,device_make:this.getDevice(),device_id:l,app_store_url:n?n+"index.html":window.location.href,idfa:l,idfa_md5:"",idfa_sha1:""})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={w:"1920",h:"1080"},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameTitle,o=n.baseUrl,a=n.model,u=n.userAgent;return r||i.logger.warn("[DeliAds] Game title does not exists!"),t=r||"Game Name",e=this.getBundleId(),c({},this.defaultParams,{ip:s.getIPAdress(),ua:u,app_bundle:e,app_name:t,app_store_url:o?o+"index.html":window.location.href,did:i.getUUID(),device_make:this.getDevice(),device_model:a})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={width:"1920",height:"1080"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.baseUrl,r=t.userAgent,o=e||"Game Name",a=this.getBundleId();return c({},this.defaultParams,{app_name:o,bundle_id:a,ifa:i.getUUID(),app_store_url:n?n+"index.html":window.location.href,ip:s.getIPAdress(),ua:r})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={reqType:"AdsSetup",protocolVersion:"2.0"},o}return s(e,t),e.prototype.getParams=function(){var t=this.getBundleId();return a({},this.defaultParams,{zoneId:this.uid,bundle:t,deviceIfa:i.getUUID()})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={env:"vp",gdfp_req:"1",output:"vast",sz:"400x300|640x480|854x480|1024x576|1280x720|1366x768|1600x900|1920x1080",max_ad_duration:"60000",tfcd:"0",npa:"0",vpmute:"0",vpa:"1",vad_format:"linear",vpos:"preroll",idtype:"adid",unviewed_position_start:"1"},o}return a(e,t),e.prototype.getParams=function(){var t=this.appConfig.baseUrl;return u({},this.defaultParams,{iu:this.uid,correlator:""+i.getIntInInterval(1e15,Number.MAX_SAFE_INTEGER),description_url:t?t+"index.html":window.location.href,url:t?t+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&c="+o["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={w:"16",h:"9",minduration:"5",maxduration:"60",player_width:"1920",player_height:"1080",vast_version:"3",video_format_type:"instream"},o}return s(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.baseUrl,n=t.userAgent,r=this.getBundleId();return a({p:this.uid},this.defaultParams,{ifa:i.getUUID(),ua:n,bundle:r,referrer:e?e+"index.html":window.location.href})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return(s=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={keywords:"hbbtv-tv-games"},o}return o(e,t),e.prototype.getParams=function(){return s({},this.defaultParams,{tagid:this.uid})},e}(r["default"]),e["default"]=i},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(14),o=n(35),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={vpw:"1920",vph:"1080",os:"Linux",osv:"",type:"",vpaid:"",age:"",yob:"",gender:"",pchain:""},o}return a(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.baseUrl,n=t.model,r=t.userAgent;return u({plc:this.uid},this.defaultParams,{ip:o.getIPAdress(),ua:r,model:n,make:this.getDevice(),url:e?e+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&cb="+i["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return(s=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={c:"v",m:"v",domain:"tvgam.es"},o}return o(e,t),e.prototype.getParams=function(){return s({},this.defaultParams,{placementId:this.uid})},e}(r["default"]),e["default"]=i},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={VPI:"MP4","app[cat]":"IAB1-23","app[privacypolicy]":"1","device[devicetype]":"3","device[dnt]":"0",player_height:"1080",player_width:"1920"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.baseUrl,r=t.version,o=t.model,a=t.userAgent,u=e||"Game Name",l=this.getBundleId();return e||i.logger.warn("[SpotX] Game title does not exists!"),c({},this.defaultParams,{ip_addr:s.getIPAdress(),"device[ifa]":i.getUUID(),"device[ua]":a,"device[model]":o,"device[make]":this.getDevice(),"app[name]":u,"app[bundle]":l,"app[storeurl]":n?n+"index.html":window.location.href,"app[domain]":n?n+"index.html":window.location.href,"app[ver]":r})},e.prototype.getRndParam=function(){return"&cp="+o["default"]()},e.prototype.getBundleId=function(){return"Vizio"===this.appConfig.device?"es.tvgam.vizio":t.prototype.getBundleId.call(this)},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={pid:"355",output:"vast",execution:"instream",placement:"preroll",playinit:"auto",volume:"100",dnt:"0",gdpr:"0",gdprcs:"",aid:"",aidmd5hex:"",aidsha1hex:"",contentlength:"",contenturl:""},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle,a=n.userAgent,u=n.baseUrl,l=n.version;return o||i.logger.warn("[StreamKey] Game title does not exists!"),t=o||"Game Name",e="es.tvgam.streamkey."+r,c({},this.defaultParams,{width:"1920",height:"1080",sid:this.uid,ua:a,appname:t,bundleid:e,appstoreurl:u?u+"index.html":window.location.href,appversion:l,ip:s.getIPAdress(),contentid:e,contenttitle:t})},e.prototype.getRndParam=function(){return"&rnd="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={AV_CHANNELID:"5c987f9e28a0614d2d4e11d6",AV_WIDTH:"1920",AV_HEIGHT:"1080",AV_LATITUDE:"",AV_LONGITUDE:"",tgt:"0",s2s:"1"},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle,a=n.userAgent,u=n.baseUrl,l=n.model;return o||i.logger.warn("[StreamKey] Game title does not exists!"),t=o||"Game Name",e="es.tvgam.streamkey."+r,c({},this.defaultParams,{AV_PUBLISHERID:this.uid,AV_APPNAME:t,AV_APPSTOREURL:u?u+"index.html":window.location.href,AV_APPPKGNAME:e,AV_IDFA:i.getUUID(),AV_IP:s.getIPAdress(),AV_USERAGENT:a,AV_MAKE:this.getDevice(),AV_MODEL:l})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={pid:"355",output:"vast",env:"4",format:"1"},o}return u(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle;return n.userAgent,n.baseUrl,n.version,o||i.logger.warn("[StreamKey] Game title does not exists!"),t=o||"Game Name",e="es.tvgam.streamkey."+r,c({},this.defaultParams,{width:"1920",height:"1080",sid:this.uid,ip:s.getIPAdress(),appname:t,bundleid:e,aid:""})},e.prototype.getRndParam=function(){return"&rnd="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=n(35),a=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={w:"1920",h:"1080",consent:"",gdpr:"0",dnt:"0"},o}return u(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,n=t.userAgent,r=t.model,o=t.baseUrl,a=e||"Game Name";return c({},this.defaultParams,{ip:s.getIPAdress(),ua:n,app_bundle:this.getBundleId(),app_name:a,app_store_url:o?o+"index.html":window.location.href,did:i.getUUID(),device_make:this.getDevice(),device_model:r})},e.prototype.getRndParam=function(){return"&cb="+o["default"]()},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={pid:"362",output:"vastvpaid",support:"html5",execution:"instream",placement:"preroll",playinit:"auto",volume:"100",width:"1920",height:"1080",dnt:"0",gdpr:"0",gdprcs:"",aid:"",aidmd5hex:"",aidsha1hex:"",idfamd5hex:"",idfasha1hex:"",loclat:"",loclong:"",loc:"",contentlength:"",contenturl:""},o}return a(e,t),e.prototype.getParams=function(){var t,e,n=this.appConfig,r=n.gameName,o=n.gameTitle,s=n.baseUrl,a=n.version;return o||i.logger.warn("[TotalMedia] Game title does not exists!"),t=o||"Game Name",e="es.tvgam."+r,u({},this.defaultParams,{sid:this.uid,appname:t,bundleid:e,appstoreurl:s?s+"index.html":window.location.href,appversion:a,idfa:i.getUUID(),contentid:e,contenttitle:t,contenturl:s?s+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&rnd="+o["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={playerWidth:"1920",playerHeight:"1080",deviceDNT:"0",gdpr:"0",gdpr_consent:""},o}return s(e,t),e.prototype.getParams=function(){return a({},this.defaultParams,{adCode:this.uid,deviceId:i.getUUID()})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(11),i=n(10),o=n(14),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.defaultParams={VPI:"MP4","app[bundle]":"vizio.tvgames","app[name]":"TV Games",player_width:"1920",player_height:"1080"},o}return a(e,t),e.prototype.getParams=function(){return u({},this.defaultParams,{"device[ifa]":i.getUUID()})},e.prototype.getRndParam=function(){return"&cp="+o["default"]()},e}(r["default"]),e["default"]=s},function(t,e,n){var r,i,o,s,a,u,c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r["throw"](t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(s){n=[6,s],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),r=n(10),i=n(116),o={timeout:1e4},s=[{width:1920,height:1080},{width:1280,height:720}],a={linear:["video/mp4"],nonlinear:["image/jpeg"]},u=function(){function t(t,e){this.vastParser=new i.VASTParser,this.missingCallback=t,this.errorCallback=e}return t.prototype.getAd=function(t,e){return c(this,void 0,void 0,function(){var n,r,i,o,s;return l(this,function(a){switch(a.label){case 0:if(!t||!e)return[2,null];n=0,r=t,a.label=1;case 1:if(!(n<r.length))return[3,6];i=r[n],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchVast(i,e)];case 3:return(o=a.sent())?[2,o]:(this.handleMissingAd(i.name),[3,5]);case 4:return s=a.sent(),this.handleErrorAd(i.name,s),[3,5];case 5:return n++,[3,1];case 6:return[2,null]}})})},t.prototype.fetchVast=function(t,e){return c(this,void 0,void 0,function(){var n;return l(this,function(r){switch(r.label){case 0:return t&&e?[4,this.vastParser.getAndParseVAST(t.url,o)]:[2,null];case 1:return n=r.sent(),[2,this.checkAds(n.ads,t,e)]}})})},t.prototype.checkAds=function(t,e,n){var r,i,o,s,a,u,c,l,f;if(!t||!e||!n)return null;for(r=e.name,i=n.adType,o=0,s=t;o<s.length;o++)for(a=s[o],u=0,c=a.creatives;u<c.length;u++)if(l=c[u],l.type===i&&(f=this.findSource(l,n)))return{name:r,ad:a,creative:l,source:f};return null},t.prototype.findSource=function(t,e){return t&&e?"linear"===e.adType&&"linear"===t.type?this.findMediaFile(t,e):"nonlinear"===e.adType&&"nonlinear"===t.type?this.findImageFile(t,e):"":""},t.prototype.findMediaFile=function(t,e){var n,r,i,o,u,c,l,f,p;if(!t||!t.mediaFiles)return"";for(r=a.linear,e&&e.format&&(r=e.format),i=function(e){if(n=t.mediaFiles.find(function(t){return-1!==r.indexOf(t.mimeType)&&e.width===t.width&&e.height===t.height}))return{value:n.fileURL}},o=0,u=s;o<u.length;o++)if("object"==typeof(c=i(u[o])))return c.value;for(l=0,f=t.mediaFiles;l<f.length;l++)p=f[l],-1!==r.indexOf(p.mimeType)&&(!n||p.width>n.width||p.height>n.height)&&(n=p);return n?n.fileURL:""},t.prototype.findImageFile=function(t,e){var n,r=a.nonlinear;return e&&e.format&&(r=e.format),t&&t.variations?(n=t.variations.find(function(t){return-1!==r.indexOf(t.type)}),n?n.staticResource:""):""},t.prototype.handleMissingAd=function(t){this.missingCallback&&"function"==typeof this.missingCallback&&this.missingCallback(t),r.logger.warn("Missing ad with name "+t)},t.prototype.handleErrorAd=function(t,e){this.errorCallback&&"function"==typeof this.errorCallback&&this.errorCallback(t),r.logger.warn("Error during ad "+t+", "+e)},t}(),e.AdsParser=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(84),i=n(116),o=n(114),s=function(){function t(t,e){this.isSkippable=!1,this.skipDelay=0,this.duration=0,this.ended=!1,this.canSkip=!1,this.impressed=!1;var n=t.ad,o=t.creative,s=t.name,a=o.skipDelay,u=o.duration;this.vastTracker=new i.VASTTracker(null,n,o),this.name=s,this.adsGa=e,this.adType=r.adTypes.video,this.isSkippable=null!==a,this.skipDelay=a||0,this.duration=u||0}return t.prototype.stateChange=function(t){this.impressed||t!==o["default"].STATE.PLAYING||(this.vastTracker.trackImpression(),this.adsGa.sendStart(this.adType,this.name),this.impressed=!0)},t.prototype.onEnd=function(){this.ended||(this.vastTracker.complete(),this.adsGa.sendSuccess(this.adType,this.name),this.ended=!0)},t.prototype.timeUpdate=function(t){this.isSkippable&&this.skipDelay-t<=0&&!this.canSkip&&(this.canSkip=!0),this.vastTracker.setProgress(t)},t.prototype.onSkip=function(){this.vastTracker.skip(),this.adsGa.sendSuccess(this.adType,this.name),this.ended=!0},t.prototype.sendError=function(t,e){this.vastTracker.errorWithCode(t),this.adsGa.sendError(this.adType,this.name,e)},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(56),i={uid:"",tracker:{get:function(){return i.uid}},config:{}},o=function(t,e){void 0===e&&(e={});var n=e.name||"default";e.sampleRate&&r.getIntInInterval(0,100)>e.sampleRate||(i.config[n]={v:1,tid:t},e&&"none"===e.storage?i.uid=e.clientId||r.uuid():i.uid=r.uuid())},s=function(t,e,n){i.config[t]&&(i.config[t][e]=n)},a=function(t,e){var n,r,o,s,a,u,c=i.config,l=i.uid;if(c[t]){for(n=c[t],r=n.v,o=n.tid,s="",s+="v="+r+"&",s+="tid="+o+"&",s+="cid="+l,a=1;c[t]["dimension"+a];)s+="&cd"+a+"="+c[t]["dimension"+a],a+=1;Object.keys(e).forEach(function(t){s+="&"+t+"="+e[t]}),u=new XMLHttpRequest,u.open("POST","http://www.google-analytics.com/collect",!0),u.setRequestHeader("Content-type","application/x-www-form-urlencode"),u.send(s)}},u=function(t,e,n,r,i){var o={t:"event"};e&&(o.ec=e),n&&(o.ea=n),r&&(o.el=r),i&&(o.ev=i),a(t,o)},c=function(t,e,n,r,i,o,s,u){var c={};e&&(c.dl=e),n&&(c.dh=n),r&&(c.dp=r),i&&(c.dt=i),o&&(c.cd=o),s&&(c.cg1=s),u&&(c.linkid=u),a(t,c)},l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(e){case"event":u.apply(void 0,[t].concat(n));break;case"pageview":c.apply(void 0,[t].concat(n))}},f=function(t){var e,n,r,a,u;for(e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if("function"==typeof t)t(i.tracker);else if("string"==typeof t)switch(r=t.split("."),a=r[2===r.length?1:0],u=2===r.length?r[0]:"default",a){case"create":o.apply(void 0,e);break;case"set":s.apply(void 0,[u].concat(e));break;case"send":l.apply(void 0,[u].concat(e))}};e["default"]=f},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){var t,e,n,r,i,o,s,a="https:"===window.location.protocol?"https:":"http:";t=window,e=document,n="script",r=a+"//www.google-analytics.com/analytics.js",i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement(n),s=e.getElementsByTagName(n)[0],o.async=!0,o.src=r,s&&s.parentNode&&s.parentNode.insertBefore(o,s)};e.initRealGAScript=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(15).addVocabulary({new_game:"New Game",highscores:"High Scores",settings:"Settings",about:"About",sounds:"Sounds",on:"On",off:"Off",render:"Render",canvas:"Canvas",legacy:"Legacy",performance_check:"Performance Check",yes:"Yes",no:"No",quit:"Quit",level:"Level",score:"Score",paused:"Paused",gameover:"Game Over",any_to_continue:"Press any key to continue",new_highscore:"New Highscore!",sure_leave:"Are you sure you want to leave the game?",sure_quit:"Are you sure you want to quit the game?",reward_question:"Do you want to watch an ad to continue?",game_in:"Your game will begin in",skip_ad_in:"You can skip the ad in",skip_ad:"Skip the ad",loading:"Loading",get_ready:"Get ready",any_to_start:"Press any key to start"},"en")},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=[],o=function(t){void 0===t&&(t=r["default"].CONFIG.toPreload);var e=r["default"].CONFIG.baseUrl;t&&"function"==typeof t.forEach&&t.forEach(function(t){var n=new Image;i.push(n),n.src=e?""+e+t:t})};e["default"]=o},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g=this&&this.__assign||function(){return(g=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(422),i=window.CONFIG||{},o=function(t,e,n,i){var o=e.id,s=e.x,a=e.y,u=e.width,c=e.height,l=e.xoffset,f=e.yoffset,p=e.xadvance;return r.addLetter(n,i,g({},e,{kernings:{}})),t+".c-"+o+"{\n\t\tbackground-position:-"+s+"px -"+a+"px;\n\t\twidth:"+u+"px;\n\t\theight:"+c+"px;\n\t\tposition:relative;\n\t\ttop:"+f+"px;\n\t\tleft:"+l+"px;\n\t\tmargin-right:"+(p-u)+"px;\n\t}"},s=function(t,e,n,i){var o=e.first,s=e.second,a=e.amount;return r.addKerning(n,i,o,s,a),t+".c-"+s+".after-"+o+"{margin-left:"+a+"px;}"},a=function(t){var e,n,a=[],u=window.location.href,c=i.baseUrl||-1===u.indexOf("index.html")?t.asset:""+window.location.href.split("index.html")[0]+t.asset;r.addFont(c,t.name,t.focused,t.common,t.info),e=(t.focused?".focused ":"")+".graphical-letter.graphical-letter-"+t.name,a.push(".graphical-word.graphical-word-"+t.name),a.push("{display:inline-block;height:"+(t.common.lineHeight||0)+"px;}"),a.push(".focused .graphical-word.graphical-word-"+t.name),a.push("{display:block}"),a.push(e+"{vertical-align: top;display:inline-block;background-image:url("+c+");}"),t.letters.forEach(function(n){a.push(o(e,n,t.name,t.focused))}),t.kernings.forEach(function(n){a.push(s(e,n,t.name,t.focused))}),n=window.document.createElement("style"),n.innerHTML=a.join(""),window.document.head.appendChild(n)},u=function(t){var e=t.split("\n"),n=[],r=[],i=[],o=[];return e.forEach(function(t){0===t.indexOf("kerning ")?r.push(t):0===t.indexOf("char ")?n.push(t):0===t.indexOf("common ")?i.push(t):0===t.indexOf("info ")&&o.push(t)}),{commonLines:i,letterLines:n,kerningLines:r,infoLines:o}},c=function(t){var e={face:"",size:0,bold:0,italic:0,charset:"",unicode:"",stretchH:100,smooth:1,aa:1,padding:"0,0,0,0",spacing:"0,0,0,0",outline:0};return t&&t.split(" ").forEach(function(t){0===t.indexOf("face=")&&(e.face=t.split("=")[1]),0===t.indexOf("size=")&&(e.size=parseInt(t.split("=")[1],10)),0===t.indexOf("bold=")&&(e.bold=parseInt(t.split("=")[1],10)),0===t.indexOf("italic=")&&(e.italic=parseInt(t.split("=")[1],10)),0===t.indexOf("charset=")&&(e.charset=t.split("=")[1]),0===t.indexOf("unicode=")&&(e.unicode=t.split("=")[1]),0===t.indexOf("stretchH=")&&(e.stretchH=parseInt(t.split("=")[1],10)),0===t.indexOf("smooth=")&&(e.smooth=parseInt(t.split("=")[1],10)),0===t.indexOf("aa=")&&(e.aa=parseInt(t.split("=")[1],10)),0===t.indexOf("padding=")&&(e.padding=t.split("=")[1]),0===t.indexOf("spacing=")&&(e.spacing=t.split("=")[1]),0===t.indexOf("outline=")&&(e.outline=parseInt(t.split("=")[1],10))}),e},e.parseInfoLine=c,l=function(t){var e={lineHeight:0,base:0,scaleW:0,scaleH:0,pages:1,packed:0};return t&&t.split(" ").forEach(function(t){0===t.indexOf("lineHeight=")&&(e.lineHeight=parseInt(t.split("=")[1],10)),0===t.indexOf("base=")&&(e.base=parseInt(t.split("=")[1],10)),0===t.indexOf("scaleW=")&&(e.scaleW=parseInt(t.split("=")[1],10)),0===t.indexOf("scaleH=")&&(e.scaleH=parseInt(t.split("=")[1],10))}),e},e.parseCommonLine=l,f=function(t){var e={};return t.split(" ").forEach(function(t){0===t.indexOf("id=")&&(e.id=parseInt(t.split("=")[1],10)),0===t.indexOf("x=")&&(e.x=parseInt(t.split("=")[1],10)),0===t.indexOf("y=")&&(e.y=parseInt(t.split("=")[1],10)),0===t.indexOf("width=")&&(e.width=parseInt(t.split("=")[1],10)),0===t.indexOf("height=")&&(e.height=parseInt(t.split("=")[1],10)),0===t.indexOf("xoffset=")&&(e.xoffset=parseInt(t.split("=")[1],10)),0===t.indexOf("yoffset=")&&(e.yoffset=parseInt(t.split("=")[1],10)),0===t.indexOf("xadvance=")&&(e.xadvance=parseInt(t.split("=")[1],10))}),e},e.parseLetter=f,p=function(t){return t.map(function(t){return f(t)})},h=function(t){var e={};return t.split(" ").forEach(function(t){0===t.indexOf("first=")&&(e.first=parseInt(t.split("=")[1],10)),0===t.indexOf("second=")&&(e.second=parseInt(t.split("=")[1],10)),0===t.indexOf("amount=")&&(e.amount=parseInt(t.split("=")[1],10))}),e},e.parseKerning=h,d=function(t){return t.map(function(t){return h(t)})},y=function(t,e){var n=i.baseUrl,r=u(e),o=r.infoLines,s=r.commonLines,f=r.letterLines,h=r.kerningLines,y={name:t.name,asset:n?""+n+t.png:t.png,focused:t.focused||!1,letters:p(f),kernings:d(h),common:l(s[0]),info:c(o[0])};a(y)},e.parseFont=y,v=function(t){if(t.fnt){var e=i.baseUrl,n=new XMLHttpRequest,r=e?""+e+t.fnt:t.fnt;n.open("GET",r,!0),n.onreadystatechange=function(){4===n.readyState&&y(t,n.responseText)},n.send()}},m=function(t){t.forEach(function(t){v(t)})},e["default"]=m},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T;Object.defineProperty(e,"__esModule",{value:!0}),r=n(81),i=n(57),o="This font does not exist",s="This letter does not exist",a="This font already exists",u={},e.fonts=u,c=function(t,e){return void 0===t&&(t="default"),void 0===e&&(e=!1),t+"--"+(e?"focused":"")},e.getFontName=c,l=function(t,e){var n=u[e].canvas,r=n.getContext("2d"),i=new Image;i.onload=function(){n.width=i.width,n.height=i.height,r.drawImage(i,0,0)},i.src=t},f=function(t,e,n){var r=c(t,e);if(!u[r])throw Error(o);u[r].letters[n.id]=n},e.addLetter=f,p=function(t,e,n,r,i){var a,l=u[c(t,e)];if(!l)throw Error(o);if(!(a=l.letters[r]))throw Error(s);a.kernings[n]=i},e.addKerning=p,h=function(t,e,n,o,s){var f,p=c(e,n);if(u[p])throw Error(a);try{f=document.createElement("canvas")}catch(t){f=null,i["default"].error(t)}if(u[p]={name:p,canvas:f,common:o,info:s,imageURL:t,letters:{}},f&&!r["default"].disableCanvas)try{l(t,p)}catch(t){i["default"].error(t)}},e.addFont=h,d=function(t,e,n,r,i,s,a){var l,f,p,h,d,y,v,m,g,b=u[c(s,a)];if(!b)throw Error(o);return(l=b.letters[r])?l.width<=0||l.height<=0?l.xadvance:(f=l.x,p=l.y,h=l.width,d=l.height,y=e+l.xoffset+(i&&l.kernings[i]?l.kernings[i]:0),v=n+l.yoffset,m=l.width,g=l.height,t.drawImage(b.canvas,f,p,h,d,y,v,m,g),l.xadvance):0},y=function(t,e,n){var r,i,s,a;if(void 0===e&&(e="default"),void 0===n&&(n=!1),!(r=u[c(e,n)]))throw Error(o);return s=(""+t).split(""),a=0,s.forEach(function(t){var e=t.charCodeAt(0),n=r.letters[e]||{};a+=(n.xadvance||0)+(i&&n.kernings&&n.kernings[i]||0),i=e}),a},e.getWordWidth=y,v=function(t,e,n,r,i,o,s){var a,u,c,l;switch(void 0===i&&(i="left"),void 0===o&&(o="default"),void 0===s&&(s=!1),c=(""+r).split(""),i){case"right":u=e-y(r,o,s);break;case"center":u=e-~~(y(r,o,s)/2);break;case"left":default:u=e}l=n,c.forEach(function(e){var n=e.charCodeAt(0);u+=d(t,u,l,n,a,o,s),a=n})},e.drawWord=v,m=function(t,e){var n=t.info||{},r=e.createElement("info");return r.setAttribute("face",t.name),r.setAttribute("size",n.size),r.setAttribute("bold",n.bold),r.setAttribute("italic",n.italic),r.setAttribute("charset",n.charset),r.setAttribute("unicode",n.unicode),r.setAttribute("stretchH",n.stretchH),r.setAttribute("smooth",n.smooth),r.setAttribute("aa",n.aa),r.setAttribute("padding",n.padding),r.setAttribute("spacing",n.spacing),r.setAttribute("outline",n.outline),r},g=function(t,e){var n=t.common||{},r=e.createElement("common");return r.setAttribute("lineHeight",n.lineHeight),r.setAttribute("base",n.base),r.setAttribute("scaleW",n.scaleW),r.setAttribute("scaleH",n.scaleH),r.setAttribute("pages",n.pages),r.setAttribute("packed",n.packed),r},b=function(t,e){var n=e.createElement("pages"),r=e.createElement("page");return r.setAttribute("id","0"),r.setAttribute("file",t.imageURL),n.appendChild(r),n},_=function(t,e){var n=e.createElement("chars");return Object.keys(t.letters).forEach(function(r){var i=t.letters[parseInt(r,10)],o=e.createElement("char");o.setAttribute("id",r),o.setAttribute("x",""+i.x),o.setAttribute("y",""+i.y),o.setAttribute("width",""+i.width),o.setAttribute("height",""+i.height),o.setAttribute("xoffset",""+i.xoffset),o.setAttribute("yoffset",""+i.yoffset),o.setAttribute("xadvance",""+i.xadvance),o.setAttribute("page","0"),o.setAttribute("chnl","15"),n.appendChild(o)}),n},w=function(t,e){var n=e.createElement("kernings");return Object.keys(t.letters).forEach(function(r){var i=t.letters[parseInt(r,10)];Object.keys(i.kernings).forEach(function(t){var o=e.createElement("kerning");o.setAttribute("first",r),o.setAttribute("second",t),o.setAttribute("amount",""+i.kernings[parseInt(t,10)]),n.appendChild(o)})}),n},E=function(t){var e,n,r,i,o=window.document.implementation.createDocument(null,"font",null),s=o.getElementsByTagName("font")[0],a=m(t,o);return s.appendChild(a),e=g(t,o),s.appendChild(e),n=b(t,o),s.appendChild(n),r=_(t,o),s.appendChild(r),i=w(t,o),s.appendChild(i),o},O=function(t,e){void 0===t&&(t="default"),void 0===e&&(e=!1);var n=u[c(t,e)];if(!n)throw Error(o);return n.xml||(n.xml=E(n)),n.xml},e.getXML=O,T=function(t,e){void 0===t&&(t="default"),void 0===e&&(e=!1);var n=u[c(t,e)];if(!n)throw Error(o);return n.canvas},e.getCanvas=T},function(t,e){},function(t,e,n){"use strict";var r,i,o;e.__esModule=!0,r=Object.assign||function(t){var e,n,r;for(e=1;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=["assets/spritesheet.png","assets/about_text.png","assets/diver_left.png","assets/diver_right.png","assets/diver_still.png","assets/fire_diver.png","assets/fire_submarine.png","assets/submarine.png","assets/enemy_brown.png","assets/enemy_pink.png","assets/enemy_pop.png","assets/enemy_purple.png","assets/enemy_yellow.png","assets/fire_brown.png","assets/fire_pink.png","assets/fire_purple.png","assets/fire_yellow.png","assets/bubble_big.png","assets/bubble_med.png","assets/bubble_mini.png","assets/bubble_small.png"],o={debug:!1,gameName:"K141Kursk",locale:"en",keyMask:575,soundsAllowed:!1,toPreload:i,exitUrl:"../portal/index.html#k141Kursk",criticalAssets:["assets/bg.png","assets/spritesheet.png"]},e["default"]=r({},o,window.CONFIG||{})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w;e.__esModule=!0,i=n(29),o=n(426),s=r(o),a=n(439),u=r(a),c=n(442),l=r(c),f=n(445),p=r(f),h=n(461),d=r(h),y=n(464),v=r(y),m=n(473),g=r(m),b=n(475),_=r(b),w=function(){(0,i.setRoot)(window.document.getElementById("root")),(0,i.initRoute)("menu",new s["default"]),(0,i.initRoute)("about",new u["default"]),(0,i.initRoute)("highscores",new l["default"]),(0,i.initRoute)("settings",new d["default"]),(0,i.initRoute)("game",new p["default"]),(0,i.initRoute)("performance",new v["default"]),(0,i.initRoute)("xboxlive",new g["default"]),(0,i.initRoute)("adplayer",new _["default"])},e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h,d;e.__esModule=!0,e["default"]=undefined,u=n(427),c=r(u),l=n(16),r(l),f=n(15),p=n(65),h=r(p),n(438),a={},a[c["default"].NEW_GAME]=(0,f._)("new_game"),a[c["default"].HIGHSCORES]=(0,f._)("highscores"),a[c["default"].SETTINGS]=(0,f._)("settings"),a[c["default"].ABOUT]=(0,f._)("about"),a[c["default"].QUIT]=(0,f._)("quit"),d=function(t){function e(){var n,r,s,a,u,c;for(i(this,e),a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"quitGameModal",{enumerable:!0,writable:!0,value:h["default"]}),s=n,o(r,s)}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene main-menu-scene">\n\t\t\t\t<div class="gamelogo"></div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'"></li>'}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"},e}(c["default"]),e["default"]=d},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(5),i=n(86),o=n(29),s=n(16),a=n(15),u=n(85),c=n(118),l=n(160),f="new_game",p="highscores",h="settings",d="about",y="quit",v=[{id:f,text:a._("new_game")},{id:p,text:a._("highscores")},{id:h,text:a._("settings")},{id:d,text:a._("about")},{id:y,text:a._("quit")}],m=function(t){function e(){var e=t.call(this)||this;return e.MENU_ITEMS=v,e.newGameRoute="game",e.upperCase=!1,e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e}return g(e,t),e.prototype.sceneDidMount=function(){t.prototype.sceneDidMount.call(this),i.focus(f),c["default"].adRewardPlayed=!1},e.prototype.render=function(){return'\n\t\t\t<div class="scene main-menu-scene">\n\t\t\t\t<div class="gamelogo"></div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.renderMenuItems()+"\n\t\t\t\t</ul>\n\t\t\t\t"+this.renderOthers()+"\n\t\t\t</div>\n\t\t"},e.prototype.renderMenuItems=function(){var t=this;return"\n\t\t\t"+this.MENU_ITEMS.map(function(e){return'<li id="'+e.id+'">\n\t\t\t\t\t<span class="select"></span>\n\t\t\t\t\t'+s["default"](t.upperCase?e.text.toUpperCase():e.text)+"\n\t\t\t\t</li>"}).join("")+"\n\t\t"},e.prototype.renderOthers=function(){return""},e.prototype.sendGA=function(){setTimeout(function(){u["default"]("send","pageview",r["default"].CONFIG.gameName)},3e3)},e.prototype.enter=function(e){if(t.prototype.enter.call(this,e),!e)return!0;switch(e.id){case f:o.routeTo(this.newGameRoute);break;case p:o.routeTo("highscores");break;case h:o.routeTo("settings");break;case d:o.routeTo("about");break;case y:this.handleQuit()}return!1},e.prototype.handleBack=function(){return this.handleQuit()},e.NEW_GAME=f,e.HIGHSCORES=p,e.SETTINGS=h,e.ABOUT=d,e.QUIT=y,e}(l["default"]),e["default"]=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(81);e.getKey=function(t){return r["default"].keys[t]},e.getKeyCode=function(t){return Object.keys(r["default"].keys).map(function(t){return parseInt(t,10)}).find(function(e){return r["default"].keys[e]===t})}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,r){void 0===n&&(n="default");var i=t.charCodeAt(0),o=e?e.charCodeAt(0):null;return'<span class="graphical-letter graphical-letter-'+n+" c-"+i+(o?" after-"+o:"")+'" '+(r?'style="margin-right: 0px"':"")+"></span>"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),i=n(20),o=n(431),s=function(){function t(){this.refs={},this.els=[],this.mouseInteractive=[]}return t.prototype.componentWillMount=function(){},t.prototype.render=function(){return""},t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.onKeyDown=function(t){return!1},t.prototype.onClick=function(t){return!1},t.prototype.onMouseOver=function(t){return!1},t.prototype.focus=function(t){r.focus(t)},t.prototype.mount=function(t){this.beforeMount(),t.innerHTML=this.render(),this.afterMount()},t.prototype.unmount=function(){this.componentWillUnmount()},t.prototype.mountAppend=function(t){this.beforeMount(),t.insertAdjacentHTML("beforeend",this.render()),this.afterMount()},t.prototype.updateStyle=function(t,e,n){o.updateStyle(t,e,n)},t.prototype.updateStyles=function(t,e){o.updateStyles(t,e)},t.prototype.hide=function(t){this.updateStyle(t,"display","none")},t.prototype.show=function(t){this.updateStyle(t,"display","block")},t.prototype.hidden=function(t){this.updateStyle(t,"visibility","hidden")},t.prototype.visible=function(t){this.updateStyle(t,"visibility","visible")},t.prototype.afterRender=function(){var t=this;this.els.forEach(function(e){var n=window.document.getElementById(e);n&&(t.refs[e]=n)}),this.mouseInteractive.forEach(function(e){var n=window.document.getElementById(e);n&&(n.addEventListener("mouseover",function(n){n.stopPropagation(),t.focus(e)}),n.addEventListener("click",function(e){t.onKeyDown({key:i.Keys.ENTER,target:n,originalEvent:e})}))})},t.prototype.beforeMount=function(){this.componentWillMount()},t.prototype.afterMount=function(){this.afterRender(),this.componentDidMount()},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57);e.updateStyle=function(t,e,n){t&&"parentRule"!==e&&"length"!==e?t.style[e]!==n&&(t.style[e]=n):r["default"].error("Updating style of not present element!")},e.updateStyles=function(t,n){if(t){var i=Object.keys(n).filter(function(e){return t.style[e]!==n[e]}),o=2<i.length,s=t.style.display;o&&e.updateStyle(t,"display","none"),i.forEach(function(r){e.updateStyle(t,r,n[r])}),o&&e.updateStyle(t,"display",s)}else r["default"].error("Updating style of not present element!")}},function(t,e,n){var r,i,o,s,a,u,c,l,f,p=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(38),i=n(433),o=n(434),s=n(5),a=n(86),u=n(20),c=function(t,e,n){var r=t.split("");return r[n]=e,r.join("")},l="nameInput",f=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.user=s["default"].Storage.get("last_used_user")||"AAA",n.selected=0,n.useFocusedFont=!1,n.useFocusedFont=e,n.els=[l],n.onClick=n.onClick.bind(n),n.onMouseOver=n.onMouseOver.bind(n),n}return p(e,t),e.prototype.componentDidMount=function(){this.refs[l].addEventListener("click",this.onClick,!1),this.refs[l].addEventListener("mouseover",this.onMouseOver,!1)},e.prototype.componentWillUnmount=function(){this.refs[l].removeEventListener("click",this.onClick,!1),this.refs[l].removeEventListener("mouseover",this.onMouseOver,!1)},e.prototype.render=function(){return'\n\t\t\t<div id="'+l+'">\n\t\t\t\t'+this.renderLetter()+"\n\t\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){switch(t.key){case u.Keys.UP:this.previousLetter();break;case u.Keys.DOWN:this.nextLetter();break;case u.Keys.LEFT:this.previousPosition();break;case u.Keys.RIGHT:this.nextPosition()}return!1},e.prototype.onClick=function(t){var e=t.srcElement.className;return-1!==e.indexOf("down")?this.nextLetter():-1!==e.indexOf("up")?this.previousLetter():a.fakeEnter(),this.updateInput(),!1},e.prototype.onMouseOver=function(t){for(var e=this.selected,n=t.srcElement;n&&(!n.id||-1===n.id.indexOf("niLetter"));)n=n.parentElement;if(!n)return!1;switch(n.id){case"niLetter0":this.selected=0;break;case"niLetter1":this.selected=1;break;case"niLetter2":this.selected=2}this.selected!==e&&this.updateInput()},e.prototype.getName=function(){return this.user},e.prototype.previousPosition=function(){0<this.selected&&(this.selected-=1,this.updateInput())},e.prototype.nextPosition=function(){this.selected<2&&(this.selected+=1,this.updateInput())},e.prototype.previousLetter=function(){this.user=c(this.user,i["default"].prevLetter(this.user.charAt(this.selected)),this.selected),this.updateInput()},e.prototype.nextLetter=function(){this.user=c(this.user,i["default"].nextLetter(this.user.charAt(this.selected)),this.selected),this.updateInput()},e.prototype.renderLetter=function(){var t=this;return[0,1,2].map(function(e){return o["default"](t.user.charAt(e),t.selected===e,"niLetter"+e,t.useFocusedFont)}).join("")},e.prototype.updateInput=function(){this.refs[l].innerHTML=this.renderLetter()},e}(r["default"]),e["default"]=f},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"],nextLetter:function(t){var e=n.alphabet.indexOf(t)+1;return e===n.alphabet.length?n.alphabet[0]:n.alphabet[e]},prevLetter:function(t){var e=n.alphabet.indexOf(t)-1;return e<0?n.alphabet[n.alphabet.length-1]:n.alphabet[e]}};e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(16);e["default"]=function(t,e,n,i){return'\n\t\t<div id="'+n+'" class="letter-input'+(e?" selected":"")+'">\n\t\t\t<div class="arrow up"></div>\n\t\t\t<div class="'+(i&&e?"focused":"")+'">'+r["default"](t)+'</div>\n\t\t\t<div class="arrow down"></div>\n\t\t</div>\n\t'}},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(64),i=n(15),o=function(t){function e(){var e=t.call(this)||this;return e.initFocus=e.YES_ID,e.question=i._("reward_question"),e}return s(e,t),e}(r["default"]),e["default"]=o},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h,d,y;e.__esModule=!0,e["default"]=undefined,a=n(440),u=r(a),n(15),c=n(16),l=r(c),f=n(5),p=r(f),h=n(65),d=r(h),n(441),y=function(t){function e(){var n,r,s,a,u,c;for(i(this,e),a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"quitGameModal",{enumerable:!0,writable:!0,value:d["default"]}),s=n,o(r,s)}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene about-scene">\n\t\t\t\t<div class="aboutWrap">\n\t\t\t\t\t<div class="about"></div>\n\t\t\t\t\t<div class="version">'+(0,l["default"])(p["default"].CONFIG.version)+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=y},function(t,e,n){var r,i,o,s,a,u,c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(59),i=n(5),o=n(58),s=n(16),a=n(15),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aboutHeader=a._("about"),e.aboutText=["Please fill your about text in this.aboutText array"],e.quitGameModal=o["default"],e.backRoute="menu",e.theme="default",e}return c(e,t),e.prototype.render=function(){switch(this.theme){case"default":return'\n\t\t\t\t\t<div class="scene about-scene">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t'+this.getTitle()+"<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t"+this.getText()+'\n\t\t\t\t\t\t\t<div class="version">'+s["default"](i["default"].CONFIG.version)+'</div>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t\t'+this.getOthers()+"\n\t\t\t\t\t</div>\n\t\t\t\t";case"wrapper":return'\n\t\t\t\t\t<div class="scene about-scene">\n\t\t\t\t\t\t<div class="titleUnderline"></div>\n\t\t\t\t\t\t<div class="title">'+this.getTitle()+'</div>\n\t\t\t\t\t\t<p class="aboutText">\n\t\t\t\t\t\t\t'+this.getText()+'\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div class="version">'+s["default"](i["default"].CONFIG.version)+'</div>\n\t\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t\t'+this.getOthers()+"\n\t\t\t\t\t</div>\n\t\t\t\t";default:return""}},e.prototype.getText=function(){return this.aboutText.map(function(t){return s["default"](t)+"<br />"}).join("")},e.prototype.getTitle=function(){return s["default"](this.aboutHeader,"big")},e.prototype.getOthers=function(){return""},e}(r["default"]),e["default"]=u},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h;e.__esModule=!0,e["default"]=undefined,a=n(443),u=r(a),c=n(16),l=r(c),f=n(65),p=r(f),n(444),h=function(t){function e(){var n,r,s,a,u,c;for(i(this,e),a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"quitGameModal",{enumerable:!0,writable:!0,value:p["default"]}),s=n,o(r,s)}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene highscores-scene">\n\t\t\t\t<div class="highscores">\n\t\t\t\t\t<h1></h1>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t'+this.highscores.map(function(t,e){return"\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>"+(0,l["default"])(e+1)+"</td>\n\t\t\t\t\t\t\t\t<td>"+(0,l["default"])(t.user)+'</td>\n\t\t\t\t\t\t\t\t<td class="right">'+(0,l["default"])(t.score)+"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t"}).join("")+"\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=h},function(t,e,n){var r,i,o,s,a,u,c,l,f,p=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(59),i=n(5),o=n(20),s=n(29),a=n(87),u=n(58),c=n(16),l=n(15),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quitGameModal=u["default"],e.highscores=[],e}return p(e,t),e.prototype.sceneWillMount=function(){this.highscores=i["default"].Storage.get(i["default"].CONFIG.gameName+"_highscore")||[]},e.prototype.render=function(){return'\n\t\t\t<div class="scene highscores-scene">\n\t\t\t\t<div class="highscores">\n\t\t\t\t\t<h1>'+c["default"](l._("highscores"),"big")+"</h1>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t"+this.highscores.map(function(t,e){return"\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>"+c["default"](e+1)+"</td>\n\t\t\t\t\t\t\t\t<td>"+c["default"](t.user)+'</td>\n\t\t\t\t\t\t\t\t<td class="right">'+c["default"](t.score)+"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t"}).join("")+"\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n        "},e.prototype.onKeyDown=function(t){var e=t.key;return e===o.Keys.RETURN||e===o.Keys.ENTER?(s.routeTo("menu"),!1):e!==o.Keys.EXIT||(a.showModal(this.quitGameModal).then(function(t){t&&i["default"].Device.exit()}),!1)},e}(r["default"]),e["default"]=f},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P;e.__esModule=!0,e["default"]=undefined,a=n(118),u=r(a),c=n(446),l=r(c),f=n(120),p=r(f),h=n(65),d=r(h),y=n(459),v=r(y),n(460),m="gameCanvas",g="gameOver",b="hasNoHighScore",_="gamePause",w="gameHighscore",E="gameDebug",O="gameFPS",T="gameTargetFPS",P=function(t){function e(){var n,r,s,a,u,c;for(i(this,e),a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"HighscoreComponentClass",{enumerable:!0,writable:!0,value:v["default"]}),Object.defineProperty(r,"GameComponentClass",{enumerable:!0,writable:!0,value:l["default"]}),Object.defineProperty(r,"leaveGameModal",{enumerable:!0,writable:!0,value:p["default"]}),Object.defineProperty(r,"quitGameModal",{enumerable:!0,writable:!0,value:d["default"]}),Object.defineProperty(r,"maxHighscoreCount",{enumerable:!0,writable:!0,value:8}),s=n,o(r,s)}return s(e,t),e.prototype.render=function(){return'\n\t\t<div class="scene game-scene">\n\t\t\t<div id="'+m+'"></div>\n\t\t\t<div id="'+g+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t\t<div id="'+b+'">\n\t\t\t\t\t\t\t<div class="gameOverLabel"></div>\n\t\t\t\t\t\t\t<div class="gameOverText"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+_+'" class="backdrop">\n\t\t\t\t\t<h1 class="info">\n\t\t\t\t\t\t<div class="pausedLabel"></div>\n\t\t\t\t\t\t<div class="pausedText"></div>\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+w+'"></div>\n\t\t\t\t<div id="'+E+'">\n\t\t\t\t\tFPS: <span id="'+O+'"></span><br />\n\t\t\t\t\t<small>Target FPS: <span id="'+T+'"></span></small><br />\n\t\t\t\t\t<small>'+(this.usingTimeout?"Using setTimeout":"Using requestAnimationFrame")+"</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P,S,I,x;e.__esModule=!0,e["default"]=undefined,a=n(20),u=n(57),r(u),c=n(5),r(c),l=n(56),f=n(119),p=r(f),h=n(16),d=r(h),y=n(447),v=r(y),m=n(454),g=r(m),n(455),n(456),n(457),n(458),b="gameWrap",_="gameScore",w="gameDom",E="gamePlayer",O="gameBubbles",T="gameBullets",P="gameEnemies",S="levelNumber",I="lives",x=function(t){function e(){i(this,e);var n=o(this,t.call(this));return Object.defineProperty(n,"els",{enumerable:!0,writable:!0,value:[b,w,_,S,I,E,O,T,P]}),Object.defineProperty(n,"data",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(n,"oldData",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(n,"gameRender",{enumerable:!0,writable:!0,value:l.getEmptyString}),Object.defineProperty(n,"gameUpdate",{enumerable:!0,writable:!0,value:l.noop}),Object.defineProperty(n,"physics",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(n,"canvas",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(n,"renderedBubbles",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(n,"renderedBullets",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(n,"renderedEnemies",{enumerable:!0,writable:!0,value:[]}),n.gameRender=n.useCanvas?n.renderCanvas:n.renderDOM,n.gameUpdate=n.useCanvas?n.updateCanvas:n.updateDOM,n}return s(e,t),e.prototype.componentDidMount=function(){this.physics=new v["default"],this.useCanvas&&(this.canvas=new g["default"](this.refs[w]))},e.prototype.componentWillUnmount=function(){this.useCanvas&&this.canvas&&this.canvas.reset()},e.prototype.onKeyDown=function(t){var e=t.key;this.physics&&(e===a.Keys.RIGHT||e===a.Keys.XBOX_LEFT_JOYSTICK_RIGHT?this.physics.right():e===a.Keys.LEFT||e===a.Keys.XBOX_LEFT_JOYSTICK_LEFT?this.physics.left():e===a.Keys.ENTER&&this.physics.enter())},e.prototype.render=function(){return'\n\t\t\t<div id="'+b+'">\n\t\t\t\t'+this.gameRender()+'\n\t\t\t\t<h1 id="'+_+'"></h1>\n\t\t\t\t<div id="footer">\n                    <span id="levelText"></span>\n                    <span id="'+S+'"></span>\n                    <span id="'+I+'"></span>\n                </div>\n\t\t\t</div>\n\t\t'},e.prototype.renderCanvas=function(){return'<canvas id="'+w+'" width="940" height="720"></canvas>'},e.prototype.renderDOM=function(){return'\n\t\t\t<div id="'+w+'">\n\t\t\t\t<div id="'+T+'"></div>\n\t\t\t\t<div id="'+P+'"></div>\n\t\t\t\t<div id="'+E+'"></div>\n\t\t\t\t<div id="'+O+'"></div>\n            </div>\n\t\t'},e.prototype.getScore=function(){return this.data?this.data.score:0},e.prototype.step=function(t){this.physics&&(this.physics.step(t),this.oldData=this.data,this.data=this.physics.getState(),this.updateCommon(),this.gameUpdate(),this.oldData=this.data)},e.prototype.updateLives=function(t,e){var n,r,i,o=e-t,s=this.refs[I];if(o>0)for(n=0;n<o;n++)r=document.createElement("div"),r.className="life",s.appendChild(r);else for(o=Math.abs(o),i=0;i<o;i++)s.firstChild&&s.removeChild(s.firstChild)},e.prototype.updateCommon=function(){var t,e,n=this.refs,r=this.data||{},i=this.oldData||{};r.score!==i.score&&(n[_].innerHTML=(0,d["default"])(r.score)),r.level!==i.level&&(n[S].innerHTML=(0,d["default"])(r.level)),t=i.submarine,e=r.submarine,!t&&e?this.updateLives(0,e.lives):e.lives!==t.lives&&this.updateLives(t.lives,e.lives)},e.prototype.updateBullets=function(t){var e,n,r=t.key,i=t.position,o=t.type;-1===this.renderedBullets.indexOf(r)&&(e=document.createElement("div"),e.className="bullet "+o,this.refs[r]=e,this.refs[T].appendChild(e),this.renderedBullets.push(r)),n=this.refs[r],n.style.backgroundPosition=i.x+"px "+i.y+"px"},e.prototype.filterBullets=function(t){var e,n=this;this.renderedBullets.length!==t.length&&(e=t.map(function(t){return t.key}),this.renderedBullets=this.renderedBullets.filter(function(t){return!(e.indexOf(t)<0)||(n.refs[T].removeChild(n.refs[t]),delete n.refs[t],!1)}))},e.prototype.updateBubbles=function(t){var e,n,r=t.key,i=t.position,o=t.type;-1===this.renderedBubbles.indexOf(r)&&(e=document.createElement("div"),e.className="bubble "+o,this.refs[r]=e,this.refs[O].appendChild(e),this.renderedBubbles.push(r)),n=this.refs[r],n.style.backgroundPosition=i.x+"px "+i.y+"px"},e.prototype.filterBubbles=function(t){var e,n=this;this.renderedBubbles.length!==t.length&&(e=t.map(function(t){return t.key}),this.renderedBubbles=this.renderedBubbles.filter(function(t){return!(e.indexOf(t)<0)||(n.refs[O].removeChild(n.refs[t]),delete n.refs[t],!1)}))},e.prototype.updateEnemies=function(t){var e,n,r=t.key,i=t.position,o=t.className;-1===this.renderedEnemies.indexOf(r)&&(e=document.createElement("div"),e.className="enemy "+o,this.refs[r]=e,this.refs[P].appendChild(e),this.renderedEnemies.push(r)),n=this.refs[r],n.style.backgroundPosition=i.x+"px "+i.y+"px",n.className="enemy "+o},e.prototype.filterEnemies=function(t){var e,n=this;this.renderedEnemies.length!==t.length&&(e=t.map(function(t){return t.key}),this.renderedEnemies=this.renderedEnemies.filter(function(t){return!(e.indexOf(t)<0)||(n.refs[P].removeChild(n.refs[t]),delete n.refs[t],!1)}))},e.prototype.getStyle=function(t){var e=t.shield?"shield":"";return t.lives<=1?"diver "+(""!==t.move?"move":"")+" "+e:"submarine "+e},e.prototype.updateDOM=function(){var t=this.refs,e=this.data||{},n=(this.oldData,e.submarine),r=e.bullets,i=e.enemies,o=e.bubbles;r.forEach(this.updateBullets,this),o.forEach(this.updateBubbles,this),i.forEach(this.updateEnemies,this),this.filterBullets(r),this.filterBubbles(o),this.filterEnemies(i),t[E].className=this.getStyle(n),t[E].style.backgroundPosition=n.position+"px 0px"},e.prototype.updateCanvas=function(){this.canvas&&this.data&&this.canvas.draw(this.data)},e}(p["default"]),e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,c,l,f,p,h,d,y,v,m,g;e.__esModule=!0,e["default"]=undefined,o=n(60),s=n(161),a=n(448),u=r(a),c=n(449),l=r(c),f=n(453),p=r(f),h=20,d=-o.BULLET.HEIGHT,y=o.GAME.SCREEN_HEIGHT-o.BULLET.HEIGHT,v=o.PLAYER.TOP,m=o.BULLET.ENEMY_OFFSET,g=function(){function t(){i(this,t),this.score=0,this.submarine=new u["default"](~~(o.GAME.GAME_WIDTH/2)),this.bulletNumber=0,this.bullets=[],this.bubbles=[],this.bubbleNumber=0,this.nextBubble=this.getNextBubbleDelay(),this.started=!1,this.formation=new l["default"](o.FORMATION.START,o.FORMATION.BOTTOM),this.createEnemyFormation()}return t.prototype.left=function(){this.submarine.left()},t.prototype.right=function(){this.submarine.right()},t.prototype.enter=function(){this.submarine.enter()},t.prototype.step=function(t){for(var e,n=t/1e3;t>h;)this.step(h),t-=h;this.updateBubbles(t,n),this.moveAndCheckBullets(t,n),this.submarine.move(t,n),e=this.formation.move(t,n,this.submarine.position+this.submarine.getMiddle(),this.started),this.started&&(this.shootSubmarine(t,n),this.shootFormation(t,n),this.handleCollisions(),e&&this.newLevel())},t.prototype.updateBubbles=function(t,e){var n,r;this.nextBubble-=t,this.nextBubble<0&&(n=this.generateNewBubble(),this.bubbles.push(n),this.nextBubble=this.getNextBubbleDelay()),r=!1,this.bubbles.forEach(function(t){t.move(e),t.position.y<=d&&(r=!0)}),r&&(this.bubbles=this.bubbles.filter(function(t){return t.position.y>d}))},t.prototype.generateNewBubble=function(){var t=this.getIntInInterval(0,o.GAME.GAME_WIDTH),e=Math.random()+.05,n=this.getIntInInterval(0,3),r=new p["default"](t,y,e,n);return r.setKey(this.bubbleNumber),this.bubbleNumber++,r},t.prototype.getNextBubbleDelay=function(){return this.getIntInInterval(o.BUBBLE.MIN_DELAY,o.BUBBLE.MAX_DELAY)},t.prototype.getIntInInterval=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.shootSubmarine=function(t,e){var n=this.submarine.shoot(t,e);n&&((0,s.playSound)(this.submarine.getShootSound()),n.setKey(this.bulletNumber),this.bulletNumber++,this.bullets.push(n))},t.prototype.shootFormation=function(t,e){var n=this,r=this.formation.shoot(t,e);r&&r.length>0&&((0,s.playSound)(s.Sounds.ENEMY_SHOOT),r.forEach(function(t){t.setKey(n.bulletNumber),n.bulletNumber++},this),this.bullets=this.bullets.concat(r))},t.prototype.moveAndCheckBullets=function(t,e){var n,r=this;this.bullets.length<=0||(n=this.bullets.filter(function(n){if(n.move(t,e),n.position.y>=y||n.position.y<=d)return!1;if(!r.started)return!0;var i=!1;if(n.up)!1!==(i=r.formation.checkForCollision(n.position.x,n.position.y,o.BULLET,r.hits,!0))&&((0,s.playSound)(s.Sounds.ENEMY_GOT_HIT),r.addScore(i));else{if(r.submarine.isShieldProtected())return!0;i=r.hits(r.submarine.position,v,r.submarine.getWidth(),r.submarine.getHeight(),n.position.x,n.position.y+m,o.BULLET.WIDTH,o.BULLET.HEIGHT_ENEMY),i&&r.submarineHit()}return!i},this),n.length!==this.bullets.length&&(this.bullets=n))},t.prototype.handleCollisions=function(){if(!this.submarine.isShieldProtected()){this.formation.checkForCollision(this.submarine.position,v,this.submarine.getConfig(),this.hits,!1)&&this.submarineHit()}},t.prototype.hits=function(t,e,n,r,i,o,s,a){return t<i+s&&t+n>=i&&e<o+a&&e+r>=o},t.prototype.submarineHit=function(){if(this.submarine.hit(),this.submarine.chargeShield(),!this.submarine.isAlive())return(0,s.playSound)(s.Sounds.PLAYER_KILLED),void this.gameOver();(0,s.playSound)(s.Sounds.PLAYER_GOT_HIT)},t.prototype.start=function(){this.started=!0},t.prototype.createEnemyFormation=function(){this.formation.setPosition(o.FORMATION.START,o.FORMATION.BOTTOM),this.formation.generateFormation(),setTimeout(this.start.bind(this),500)},t.prototype.newLevel=function(){this.started=!1,this.submarine.heal(),setTimeout(this.createEnemyFormation.bind(this),2e3)},t.prototype.addScore=function(t){this.score+=t},t.prototype.detectGameOver=function(){},t.prototype.getState=function(){return{submarine:this.submarine.getState(),bullets:this.bullets.map(function(t){return t.getState()}),enemies:this.formation.getEnemies().map(function(t){return t.getState()}),score:this.score,level:this.formation.getLevel(),bubbles:this.bubbles.map(function(t){return t.getState()})}},t.prototype.gameOver=function(){var t=document.createEvent("Event");t.initEvent("gameover",!0,!0),document.dispatchEvent(t)},t}(),e["default"]=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,c,l,f,p,h;e.__esModule=!0,e["default"]=undefined,i=n(60),o=n(161),s=n(162),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=i.PLAYER.SHIELD_PHASE,c=i.PLAYER.MAX_LIVES,l=i.PLAYER.FULL_SHIELD,f=i.PLAYER.CANON_TOP,p={left:"left",middle:"",right:"right"},h=function(){function t(e){r(this,t),this.setState(i.SUBMARINE),this.position=e,this.lives=i.PLAYER.START_LIVES,this.nextPosition=this.position,this.minShotDelay=this.getMinShotDelay(),this.lastBulletTime=this.minShotDelay,this.shield=0,this.shieldPhase=!1,this.shieldPhaseTime=0,this.automaticFire=!0,this.moveDirection=p.middle}return t.prototype.left=function(){this.moveDirection=p.left,this.movePosition(-this.state.MOVE_DISTANCE)},t.prototype.right=function(){this.moveDirection=p.right,this.movePosition(this.state.MOVE_DISTANCE)},t.prototype.enter=function(){this.automaticFire=!this.automaticFire},t.prototype.movePosition=function(t){this.nextPosition+=t,this.nextPosition<this.state.MIN_POSITION?this.nextPosition=this.state.MIN_POSITION:this.nextPosition>this.state.MAX_POSITION&&(this.nextPosition=this.state.MAX_POSITION)},t.prototype.move=function(t,e){var n,r;this.moveDirection===p.left?this.position>this.nextPosition?(n=this.state.HORIZONTAL_SPEED*e*i.GAME.PIXEL_TO_METER_RATIO,this.position-=n,this.position<this.state.MIN_POSITION&&(this.position=this.state.MIN_POSITION)):this.moveDirection=p.middle:this.moveDirection===p.right&&(this.position<this.nextPosition?(r=this.state.HORIZONTAL_SPEED*e*i.GAME.PIXEL_TO_METER_RATIO,this.position+=r,this.position>this.state.MAX_POSITION&&(this.position=this.state.MAX_POSITION)):this.moveDirection=p.middle),this.shield>0&&(this.shield-=t,this.shieldPhaseTime>u&&(this.shieldPhaseTime=0,this.shieldPhase=!this.shieldPhase),this.shieldPhaseTime+=t)},t.prototype.shoot=function(t,e){return this.lastBulletTime+=e,this.automaticFire&&this.lastBulletTime>=this.minShotDelay?(this.lastBulletTime=0,new a["default"](this.position+this.getMiddle(),f,!0,this.getType())):null},t.prototype.setState=function(t){this.state=t,this.minShotDelay=this.getMinShotDelay()},t.prototype.hit=function(){this.lives>0&&--this.lives<=1&&this.setState(i.DIVER)},t.prototype.getType=function(){return this.lives<=1?"diver":"submarine"},t.prototype.getShootSound=function(){return this.lives<=1?o.Sounds.DRIVER_SHOOT:o.Sounds.SUBMARINE_SHOOT},t.prototype.heal=function(){this.lives+1<=c&&(this.lives++,this.setState(i.SUBMARINE))},t.prototype.isAlive=function(){return this.lives>0},t.prototype.getMinShotDelay=function(){return 60/this.state.CADENCE},t.prototype.chargeShield=function(){this.shield=l,this.shieldPhase=!1,this.shieldPhaseTime=0},t.prototype.isShieldProtected=function(){return this.shield>0},t.prototype.getWidth=function(){return this.state.WIDTH},t.prototype.getHeight=function(){return this.state.HEIGHT},t.prototype.getMiddle=function(){return this.state.MIDDLE},t.prototype.getConfig=function(){return this.state},t.prototype.getState=function(){return{position:this.position,lives:this.lives,shield:this.isShieldProtected()&&this.shieldPhase,move:this.moveDirection}},t}(),e["default"]=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,c,l,f,p,h,d,y,v;e.__esModule=!0,e["default"]=undefined,i=n(60),o=n(450),s=n(451),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=[[o._,o._,o._,o.y,o._,o._,o.y,o._,o._,o._],[o._,o._,o.r,o.r,o.r,o.r,o.r,o.r,o._,o._],[o._,o.p,o.p,o.p,o.p,o.p,o.p,o.p,o.p,o._],[o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b],[o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b],[o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b,o.b]],c=i.ENEMY.WIDTH+i.FORMATION.HORIZONTAL_OFFSET,l=i.ENEMY.HEIGHT+i.FORMATION.VERTICAL_OFFSET,f=1,p=i.FORMATION.MIN_POSITION,h=i.FORMATION.MAX_POSITION,d=i.FORMATION.FORMATION_SPEED,y=[[3e3,8e3],[3e3,6e3],[3e3,4e3],[2e3,8e3],[2e3,6e3],[2e3,4e3],[1e3,8e3],[1e3,6e3],[1e3,4e3],[2e3,2e3],[1e3,1e3]],v=function(){function t(e,n){r(this,t),Object.defineProperty(this,"formationSpeed",{enumerable:!0,writable:!0,value:d}),Object.defineProperty(this,"lastAttackerTime",{enumerable:!0,writable:!0,value:0}),this.position={x:e,y:n},this.level=-1,this.enemies=[]}return t.prototype.generateFormation=function(){var t,e,n,r=this;for(t=0;t<u.length;t++)for(e=0;e<u[t].length;e++)""!==u[t][e]&&(n=new a["default"](e,t,this.getRealPositionX(e),this.getRealPositionY(t),u[t][e],function(t){return r.getRealPositionX(t)},function(t){return r.getRealPositionY(t)},this),this.enemies.push(n));this.level++,this.attackDelay=this.getNextAttacker()},t.prototype.move=function(t,e,n,r){var o=!0,s=this.formationSpeed*e*i.GAME.PIXEL_TO_METER_RATIO,a=p,u=h,c=[],l=[],f=-1,d=null,y=!1;return this.enemies.forEach(function(r){if(!r.isAlive())return void(r.shouldDisappear(t)&&(r.remove=!0,y=!0));o=!1,r.isInFormation()?(r.position.x+=s,f<r.formationPosition.i&&(c.push(r),d&&l.push(d),f++),r.position.x>a?a=r.position.x:r.position.x<u&&(u=r.position.x),d=r):r.move(t,e,n)}),y&&(this.enemies=this.enemies.filter(function(t){return!t.remove})),a===p&&u===h?(this.lastAttackerTime+=t,o):(this.position.x+=s,(this.formationSpeed>0&&a>h||this.formationSpeed<0&&u<p)&&(this.formationSpeed=-this.formationSpeed),r&&(this.lastAttackerTime>=this.attackDelay&&this.startNewAttack(c,l),this.lastAttackerTime+=t),o)},t.prototype.startNewAttack=function(t,e){var n,r=null;if(t.length>0&&e.length>0)r=Math.random()>=.5;else if(t.length>0)r=!0;else{if(!(e.length>0))return;r=!1}n=r?t:e,6===n.length&&Math.random()>=.4&&n.splice(0,3),this.startNewAttacker(n,r)},t.prototype.startNewAttacker=function(t,e){var n=~~(Math.random()*t.length),r=t[n];r&&("yellow"===r.type&&this.startCoAttackers(e,r),r.startAttack(e,this.formationSpeed<0),this.lastAttackerTime=0,this.attackDelay=this.getNextAttacker())},t.prototype.startCoAttackers=function(t,e){var n,r=t?1:-1,i=this.enemies.length,o=t?0:i-1;for(e.coAttacker1=null,e.coAttacker2=null;o>=0&&o<i;){if(n=this.enemies[o],n.formationPosition.i===f&&n.isInFormation())if(n.startAttack(t,this.formationSpeed<0),null===e.coAttacker1)e.coAttacker1=n;else if(null===e.coAttacker2){e.coAttacker2=n;break}o+=r}},t.prototype.shoot=function(t,e){var n=[];return this.enemies.forEach(function(r){if(!r.isInFormation()){var i=r.shoot(t,e);i&&n.push(i)}}),n},t.prototype.checkForCollision=function(t,e,n,r,o){var s,a,u,c;if(o){for(s=this.enemies.length-1;s>=0;s--)if(a=this.enemies[s],a.isAlive()&&r(a.position.x,a.position.y,i.ENEMY.WIDTH,i.ENEMY.HEIGHT,t,e,n.WIDTH,n.HEIGHT))return a.kill()}else for(u=0;u<this.enemies.length;u++)if(c=this.enemies[u],!c.isInFormation()&&r(c.position.x,c.position.y,i.ENEMY.WIDTH,i.ENEMY.HEIGHT,t,e,n.WIDTH,n.HEIGHT))return!0;return!1},t.prototype.getNextAttacker=function(){var t,e=this.level;return e>y.length-1&&(e=y.length-1),t=y[e],~~(Math.random()*(t[1]-t[0])+t[0])},t.prototype.getRealPositionX=function(t){return this.position.x+t*c},t.prototype.getRealPositionY=function(t){return i.FORMATION.TOP+t*l},t.prototype.getState=function(){return{position:{x:this.position.x,y:this.position.y}}},t.prototype.getLevel=function(){return this.level+1},t.prototype.setPosition=function(t,e){this.position={x:t,y:e}},t.prototype.getEnemies=function(){return this.enemies},t}(),e["default"]=v},function(t,e,n){"use strict";e.__esModule=!0,e._="",e.b={type:"pink",points:{formation:30,attacking:60},speed:{vertical:20,horizontal:50,maxVertical:70},attack:.95},e.p={type:"purple",points:{formation:40,attacking:80},speed:{vertical:50,horizontal:90,maxVertical:130},attack:.9},e.r={type:"brown",points:{formation:50,attacking:100},speed:{vertical:30,horizontal:60,maxVertical:90},attack:.85},e.y={type:"yellow",points:{formation:60,attacking:200},speed:{vertical:30,horizontal:60,maxVertical:80},attack:.85}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,a,u,c,l,f,p,h,d,y,v,m,g;e.__esModule=!0,e["default"]=undefined,o=n(60),s=n(452),a=r(s),u=n(162),c=r(u),l=~~(o.ENEMY.WIDTH/2)-~~(o.BULLET.WIDTH/2),f=100,p=.3,h=30,d=30,y=15,v={VERTICAL:0,HORIZONTAL:1,DONE:2},m=o.GAME.SCREEN_HEIGHT+o.ENEMY.HEIGHT,g=function(){function t(e,n,r,s,u,c,l){i(this,t),this.position={x:r,y:s},this.formationPosition={j:e,i:n};var f=u.type,p=u.points,h=u.speed,d=u.attack;this.type=f,this.points=p,this.speedConfiguration=h,this.attackCoef=d,this.startY=l(this.formationPosition.i),this.minShotDelay=60/o.ENEMY.CADENCE,this.lastBulletTime=0,this.inFormation=!0,this.returning=!1,this.starting=v.VERTICAL,this.attacking=!1,this.startingSpeedHorizontal=0,this.alive=!0,this.speed=new a["default"](0,0),this.getRealPositionX=c,this.key=""+this.type+e+n}return t.prototype.move=function(t,e,n){if(this.returning){var r=this.getRealPositionX(this.formationPosition.j);this.applyHorizontalAcceleration(e,r,p),this.position.x+=this.speed.x*e,this.position.y+=this.speed.y*e,this.position.y>=this.startY&&(this.position.x=r,this.position.y=this.startY,this.stopReturning())}this.attacking&&(this.applyVerticalAcceleration(e),this.applyHorizontalAcceleration(e,n,this.attackCoef),this.position.x+=this.speed.x*e,this.position.y+=this.speed.y*e,this.position.y>=m&&(this.stopAttack(),setTimeout(this.startReturning.bind(this),2e3)),this.starting===v.VERTICAL&&this.speed.y<=-h&&(this.starting=v.HORIZONTAL))},t.prototype.applyVerticalAcceleration=function(t){this.starting===v.VERTICAL?this.speed.subtract(0,this.speedConfiguration.vertical*t):this.speed.y<this.speedConfiguration.maxVertical&&this.speed.add(0,this.speedConfiguration.vertical*t),this.starting===v.HORIZONTAL&&this.speed.y>=h&&(this.starting=v.DONE)},t.prototype.applyHorizontalAcceleration=function(t,e,n){var r=this.speedConfiguration.horizontal;this.starting===v.DONE?e>this.position.x&&this.left?(this.left=!1,this.speed.x=this.speed.x*n):e<this.position.x&&!this.left&&(this.left=!0,this.speed.x=this.speed.x*n):r=this.startingSpeedHorizontal,this.avoidBoundaries(),this.left?this.speed.subtract(r*t,0):this.speed.add(r*t,0)},t.prototype.startAttack=function(t,e){this.starting=v.VERTICAL,this.attacking=!0,this.left=t,this.startingSpeedHorizontal=t===e?d:y,this.inFormation=!1},t.prototype.stopAttack=function(){this.attacking=!1},t.prototype.startReturning=function(){this.returning=!0,0===this.speed.x&&this.speed.subtract(0,this.speedConfiguration.vertical),this.speed.x=this.speed.x*p,this.position.x=this.getRealPositionX(this.formationPosition.j),this.position.y=0},t.prototype.stopReturning=function(){this.returning=!1,this.inFormation=!0,this.speed=new a["default"](0,0)},t.prototype.avoidBoundaries=function(){var t=Math.abs(this.speed.x),e=t/this.speedConfiguration.horizontal*f*this.attackCoef;this.left&&this.position.x-e<20?this.left=!1:!this.left&&o.GAME.GAME_WIDTH-e<this.position.x&&(this.left=!0)},t.prototype.shoot=function(t,e){if("yellow"!==this.type||!(this.coAttacker1&&this.coAttacker1.isAlive()||this.coAttacker2&&this.coAttacker2.isAlive()))return this.lastBulletTime+=e,this.attacking&&this.starting===v.DONE&&this.lastBulletTime>=this.minShotDelay?(this.lastBulletTime=0,new c["default"](this.position.x+l,this.position.y,!1,"enemy "+this.type)):null},t.prototype.kill=function(){this.alive=!1,this.killAnimation=o.ENEMY.KILL_TIME;var t=this.inFormation?this.points.formation:this.points.attacking;return"yellow"===this.type&&(this.coAttacker1&&this.coAttacker1.isAlive()||(t+=100),this.coAttacker2&&this.coAttacker2.isAlive()||(t+=100)),t},t.prototype.isAlive=function(){return this.alive},t.prototype.shouldDisappear=function(t){return this.killAnimation-=t,this.killAnimation<0},t.prototype.isInFormation=function(){return this.inFormation},t.prototype.getState=function(){return{position:{x:~~this.position.x,y:~~this.position.y},className:this.alive?this.type:"dead",key:this.key}},t}(),e["default"]=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e,n){r(this,t),this.x=e,this.y=n}return t.prototype.add=function(t,e){this.x+=t,this.y+=e},t.prototype.subtract=function(t,e){this.x-=t,this.y-=e},t.prototype.abs=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t}();e["default"]=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o;e.__esModule=!0,e["default"]=undefined,i=n(60),o=function(){function t(e,n,i,o){r(this,t),this.position={x:e,y:n},this.speed=i,this.type=this.getType(o)}return t.prototype.getType=function(t){switch(t){case 0:return"bubble-mini";case 1:return"bubble-small";case 2:return"bubble-med";case 3:return"bubble-big";default:return"bubble-mini"}},t.prototype.move=function(t){this.position.y-=this.speed*t*i.GAME.PIXEL_TO_METER_RATIO},t.prototype.setKey=function(t){this.key=""+this.type+t},t.prototype.getState=function(){return{type:this.type,position:{x:~~this.position.x,y:~~this.position.y},key:this.key}},t}(),e["default"]=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P;e.__esModule=!0,e["default"]=undefined,i=n(5),o=function(t){return t&&t.__esModule?t:{"default":t}}(i),s="assets/diver_left.png",a="assets/diver_right.png",u="assets/diver_still.png",c="assets/fire_diver.png",l="assets/fire_submarine.png",f="assets/submarine.png",p="assets/enemy_brown.png",h="assets/enemy_pink.png",d="assets/enemy_pop.png",y="assets/enemy_purple.png",v="assets/enemy_yellow.png",m="assets/fire_brown.png",g="assets/fire_pink.png",b="assets/fire_purple.png",_="assets/fire_yellow.png",w="assets/bubble_big.png",E="assets/bubble_med.png",O="assets/bubble_mini.png",T="assets/bubble_small.png",P=function(){function t(e){r(this,t),Object.defineProperty(this,"width",{enumerable:!0,writable:!0,value:940}),Object.defineProperty(this,"height",{enumerable:!0,writable:!0,value:720}),this.preload(),this.getCanvas(e)}return t.prototype.reset=function(){this.mainCanvas.width=this.mainCanvas.width},t.prototype.preload=function(){this.diverLeftCanvas=this.preloadAsset(32,60,s),this.diverRightCanvas=this.preloadAsset(32,60,a),this.diverStillCanvas=this.preloadAsset(32,60,u),this.fireDiverCanvas=this.preloadAsset(12,76,c),this.fireSubmarineCanvas=this.preloadAsset(12,72,l),this.submarineCanvas=this.preloadAsset(44,68,f),this.enemyBrownCanvas=this.preloadAsset(32,44,p),this.enemyPinkCanvas=this.preloadAsset(32,44,h),this.enemyPopCanvas=this.preloadAsset(32,44,d),this.enemyPurpleCanvas=this.preloadAsset(32,44,y),this.enemyYellowCanvas=this.preloadAsset(32,44,v),this.fireBrownCanvas=this.preloadAsset(12,64,m),this.firePinkCanvas=this.preloadAsset(12,64,g),this.firePurpleCanvas=this.preloadAsset(12,64,b),this.fireYellowCanvas=this.preloadAsset(12,64,_),this.bubbleBigCanvas=this.preloadAsset(44,44,w),this.bubbleMedCanvas=this.preloadAsset(28,28,E),this.bubbleMiniCanvas=this.preloadAsset(8,8,O),this.bubbleSmallCanvas=this.preloadAsset(16,16,T)},t.prototype.preloadAsset=function(t,e,n){var r,i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,a=document.createElement("canvas");return a.width=t,a.height=e,r=new Image,r.onload=function(){a.getContext("2d").drawImage(r,i,s,t,e,0,0,t,e)},r.src=o["default"].CONFIG.baseUrl?""+o["default"].CONFIG.baseUrl+n:n,a},t.prototype.getCanvas=function(t){this.mainCanvas=t,this.ctx=this.mainCanvas.getContext("2d")},t.prototype.drawBullet=function(t){switch(t.type){case"submarine":this.ctx.drawImage(this.fireSubmarineCanvas,t.position.x,t.position.y);break;case"diver":this.ctx.drawImage(this.fireDiverCanvas,t.position.x,t.position.y);break;case"enemy pink":this.ctx.drawImage(this.firePinkCanvas,t.position.x,t.position.y);break;case"enemy purple":this.ctx.drawImage(this.firePurpleCanvas,t.position.x,t.position.y);break;case"enemy brown":this.ctx.drawImage(this.fireBrownCanvas,t.position.x,t.position.y);break;case"enemy yellow":this.ctx.drawImage(this.fireYellowCanvas,t.position.x,t.position.y)}},t.prototype.drawEnemies=function(t){switch(t.className){case"pink":this.ctx.drawImage(this.enemyPinkCanvas,t.position.x,t.position.y);break;case"purple":this.ctx.drawImage(this.enemyPurpleCanvas,t.position.x,t.position.y);break;case"brown":this.ctx.drawImage(this.enemyBrownCanvas,t.position.x,t.position.y);break;case"yellow":this.ctx.drawImage(this.enemyYellowCanvas,t.position.x,t.position.y);break;case"dead":this.ctx.drawImage(this.enemyPopCanvas,t.position.x,t.position.y)}},t.prototype.drawBubbles=function(t){switch(t.type){case"bubble-mini":this.ctx.drawImage(this.bubbleMiniCanvas,t.position.x,t.position.y);break;case"bubble-small":this.ctx.drawImage(this.bubbleSmallCanvas,t.position.x,t.position.y);break;case"bubble-med":this.ctx.drawImage(this.bubbleMedCanvas,t.position.x,t.position.y);break;case"bubble-big":this.ctx.drawImage(this.bubbleBigCanvas,t.position.x,t.position.y)}},t.prototype.drawPlayer=function(t){if(!t.shield)if(t.lives<=1)switch(t.move){case"":this.ctx.drawImage(this.diverStillCanvas,t.position,617);break;case"left":this.ctx.drawImage(this.diverLeftCanvas,t.position,617);break;case"right":this.ctx.drawImage(this.diverRightCanvas,t.position,617)}else this.ctx.drawImage(this.submarineCanvas,t.position,617)},t.prototype.draw=function(t){null!==this.mainCanvas&&(this.reset(),t.bullets.forEach(this.drawBullet,this),t.enemies.forEach(this.drawEnemies,this),this.drawPlayer(t.submarine),t.bubbles.forEach(this.drawBubbles,this))},t}(),e["default"]=P},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h;e.__esModule=!0,e["default"]=undefined,a=n(159),u=r(a),c=n(16),l=r(c),f="hsFormNameInput",p="hsScore",h=function(t){function e(){i(this,e);var n=o(this,t.call(this));return n.els=[f,p],n}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="highscoreForm">\n\t\t\t\t<h1></h1>\n\t\t\t\t<div id="'+p+'"></div>\n\t\t\t\t<div id="'+f+'"></div>\n\t\t\t</div>\n\t\t'},e.prototype.setScore=function(t){this.score=t,this.refs[p].innerHTML=(0,l["default"])(t,"big")},e}(u["default"]),e["default"]=h},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f;e.__esModule=!0,e["default"]=undefined,a=n(462),u=r(a),c=n(16),l=r(c),n(463),f=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene settings-scene">\n\t\t\t\t<h1>'+(0,l["default"])(this.header,"big")+'</h1>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'"></li>'}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"},e}(u["default"]),e["default"]=f},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(16),i=n(5),o=n(81),s=n(86),a=n(15),u=n(29),c=n(160),l="sounds_on",f="sounds_off",p="performance_check",h="render_canvas",d="render_legacy",y=[{id:l,text:a._("sounds")+": "+a._("on").toUpperCase()},{id:f,text:a._("sounds")+": "+a._("off").toUpperCase()},{id:p,text:a._("performance_check")},{id:h,text:a._("render")+": "+a._("canvas").toUpperCase()},{id:d,text:a._("render")+": "+a._("legacy").toUpperCase()}],v=function(t){function e(){var e=t.call(this)||this;return e.header=a._("settings"),e.allowRenderSwitching=!o["default"].disableCanvas,e.MENU_ITEMS=y,e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e}return m(e,t),e.prototype.sceneWillMount=function(){if(t.prototype.sceneWillMount.call(this),!i["default"].Sounds.initialized){var e=this.visibleMenuItems.indexOf(l);0<=e&&this.visibleMenuItems.splice(e,1),0<=(e=this.visibleMenuItems.indexOf(f))&&this.visibleMenuItems.splice(e,1)}},e.prototype.sceneDidMount=function(){if(t.prototype.sceneDidMount.call(this),this.changeRender(i["default"].useCanvas()),!this.allowRenderSwitching){var e=this.visibleMenuItems.indexOf(h);0<=e&&this.visibleMenuItems.splice(e,1),0<=(e=this.visibleMenuItems.indexOf(d))&&this.visibleMenuItems.splice(e,1),this.hide(this.refs[h]),this.hide(this.refs[d])}i["default"].Sounds.initialized?this.changeSound(i["default"].Sounds.allowed):(this.hide(this.refs[l]),this.hide(this.refs[f]),s.focus(p))},e.prototype.render=function(){return'\n\t\t\t<div class="scene settings-scene">\n\t\t\t\t<h1>'+r["default"](this.header,"big")+'</h1>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'">'+r["default"](t.text)+"</li>"}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"},e.prototype.enter=function(t){if(!t)return!0;switch(t.id){case l:this.changeSound(!1);break;case f:this.changeSound(!0);break;case p:u.routeTo("performance");break;case h:this.changeRender(!1);break;case d:this.changeRender(!0)}return!1},e.prototype.changeSound=function(t){t?this.switchVisibility(l,f):this.switchVisibility(f,l),i["default"].Sounds.setSounds(t),i["default"].SoundManager.setSounds(t)},e.prototype.changeRender=function(t){t?this.switchVisibility(h,d):this.switchVisibility(d,h),i["default"].setCanvas(t)},e.SOUNDS_ON=l,e.SOUNDS_OFF=f,e.PERFORMANCE_CHECK=p,e.RENDER_CANVAS=h,e.RENDER_LEGACY=d,e}(c["default"]),e["default"]=v},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,u,c,l,f,p,h;e.__esModule=!0,e["default"]=undefined,a=n(465),u=r(a),c=n(120),l=r(c),f=n(65),p=r(f),h=function(t){function e(){var n,r,s,a,u,c;for(i(this,e),a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),Object.defineProperty(r,"leaveGameModal",{enumerable:!0,writable:!0,value:l["default"]}),Object.defineProperty(r,"quitGameModal",{enumerable:!0,writable:!0,value:p["default"]}),s=n,o(r,s)}return s(e,t),e}(u["default"]),e["default"]=h},function(t,e,n){var r,i,o,s,a,u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(118),i=n(466),o=n(64),s=n(58),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameComponentClass=i["default"],e.leaveGameModal=o["default"],e.quitGameModal=s["default"],e}return u(e,t),e.prototype.sendGA=function(){},e}(r["default"]),e["default"]=a},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P,S,I,x=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),r=n(5),i=n(29),o=n(20),s=n(119),a=n(85),u=n(467),c=n(468),l=n(469),f=n(470),p=n(472),h="dom",d="bg",y="canvas",v=[{id:"dom1",type:h,Component:u["default"],results:[]},{id:"dom-background1",type:d,Component:c["default"],results:[]},{id:"canvas1",type:y,Component:l["default"],results:[]},{id:"dom-background2",type:d,Component:c["default"],results:[]},{id:"canvas2",type:y,Component:l["default"],results:[]},{id:"dom2",type:h,Component:u["default"],results:[]},{id:"canvas3",type:y,Component:l["default"],results:[]},{id:"dom3",type:h,Component:u["default"],results:[]},{id:"dom-background3",type:d,Component:c["default"],results:[]}],m=[{id:"canvas1",type:y,Component:l["default"],results:[]},{id:"canvas2",type:y,Component:l["default"],results:[]},{id:"canvas3",type:y,Component:l["default"],results:[]},{id:"canvas4",type:y,Component:l["default"],results:[]}],g=[{id:"dom1",type:h,Component:u["default"],results:[]},{id:"dom-background1",type:d,Component:c["default"],results:[]},{id:"dom-background2",type:d,Component:c["default"],results:[]},{id:"dom2",type:h,Component:u["default"],results:[]}],b=2e3,_=15e3,w=10,E="pretest-info",O="info",T="performance-tests",P="results",S=function(t){return r["default"].CONFIG.debug?v.map(function(t){return A({},t)}):(t?g:m).map(function(t){return A({},t)})},I=function(t){function e(){var e=t.call(this)||this;return e.debug=r["default"].CONFIG.debug,e.running=!1,e.finished=!1,e.testTimeout=b,e.testIndex=0,e.testStart=0,e.testDuration=0,e.fpsStack=[],e.els=[E,O,T,P],e}return x(e,t),e.prototype.componentWillMount=function(){this.testCases=S(this.useCanvas)},e.prototype.componentWillUnmount=function(){},e.prototype.componentDidMount=function(){this.physics=new f["default"],this.hide(this.refs[T]),this.hide(this.refs[O]),this.hide(this.refs[P])},e.prototype.render=function(){return'\n\t\t<div class="performance">\n\t\t\t<div id="'+E+'"></div>\n\t\t\t<div id="'+T+'"></div>\n\t\t\t<div id="'+O+'"><div id="information"></div></div>\n\t\t\t<div id="'+P+'"></div>\n\t\t</div>\n\t\t'},e.prototype.onKeyDown=function(t){return t.key!==o.Keys.ENTER||(this.running||this.finished?this.finished&&i.routeTo("menu"):(this.hide(this.refs[E]),this.show(this.refs[O]),this.show(this.refs[T]),this.running=!0),!1)},e.prototype.step=function(t,e){this.running&&(0<this.testTimeout?(this.testTimeout-=t,this.testTimeout<=0&&this.runNextTest()):(this.testDuration+=t,this.testDuration>_?this.endTest():this.physics&&(this.physics.step(t),this.testComponent.draw(this.physics.getData()),this.fpsStack.push(e||0))))},e.prototype.endTest=function(){this.getResults(),this.testComponent.unmount(),this.testTimeout=b,++this.testIndex===this.testCases.length&&(this.running=!1,this.finished=!0,this.processResults(),this.showResults())},e.prototype.getResults=function(){var t,e=(Date.now()-this.testStart)/1e3,n=this.fpsStack.length,r=1/(e/n);this.removeMinAndMaxFPS(),t=this.fpsStack.reduce(function(t,e){return t+e},0)/n,this.testCases[this.testIndex].results=[r,t]},e.prototype.runNextTest=function(){this.fpsStack=[],this.testDuration=0,this.testStart=Date.now();var t=this.testCases[this.testIndex];this.testComponent=new t.Component,this.testComponent.mount(this.refs[T]),this.physics.reset()},e.prototype.removeMinAndMaxFPS=function(){var t=~~(this.fpsStack.length/100*w);this.fpsStack.sort(function(t,e){return t-e}),this.fpsStack.splice(0,t),this.fpsStack.splice(this.fpsStack.length-t)},e.prototype.processResults=function(){var t,e,n,r=0,i=0;this.testCases.forEach(function(t){r+=t.results[0],i+=t.results[1]}),t=this.testCases.length,e=~~(((r/=t)+(i/=t))/2),n={total:r,average:i},this.debug&&(n.debug=this.getDetailResults()),this.results=n,a["default"]("send","event","Performance",e,this.useCanvas?"canvas":"dom")},e.prototype.showResults=function(){this.hide(this.refs[O]),this.hide(this.refs[T]),this.resultsComponent=new p["default"],this.resultsComponent.mount(this.refs[P]),this.resultsComponent.draw(this.results),this.show(this.refs[P])},e.prototype.getDetailResults=function(){return this.testCases.map(function(t){return{id:t.id,total:t.results[0],average:t.results[1]}})},e}(s["default"]),e["default"]=I},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(38),i="dom-wrap",o=function(t){function e(){var e=t.call(this)||this;return e.renderedKeys=[],e.els=[i],e}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="'+i+'"></div>\n\t\t'},e.prototype.draw=function(t){var e=this;t.elements.forEach(function(t){var n,r,o=t.key,s=t.position;-1===e.renderedKeys.indexOf(o)&&(n=document.createElement("div"),n.className="element",e.refs[o]=n,e.refs[i].appendChild(n),e.renderedKeys.push(o)),r=e.refs[o],r.style.top=s.y+"px",r.style.left=s.x+"px"})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(38),i="bg-wrap",o=function(t){function e(){var e=t.call(this)||this;return e.renderedKeys=[],e.els=[i],e}return s(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="'+i+'"></div>\n\t\t'},e.prototype.draw=function(t){var e=this;t.elements.forEach(function(t){var n,r=t.key,o=t.position;-1===e.renderedKeys.indexOf(r)&&(n=document.createElement("div"),n.className="element",e.refs[r]=n,e.refs[i].appendChild(n),e.renderedKeys.push(r)),e.refs[r].style.backgroundPosition=o.x+"px "+o.y+"px"})},e}(r["default"]),e["default"]=o},function(t,e,n){var r,i,o,s,a,u,c,l,f,p=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(38),i=n(5),o="assets/performance/boxes.png",s=120,a=54,u=1280,c=720,l="canvas",f=function(t){function e(){var e=t.call(this)||this;return e.els=[l],e}return p(e,t),e.prototype.componentWillMount=function(){this.preload()},e.prototype.componentDidMount=function(){this.getCanvas()},e.prototype.render=function(){return'\n\t\t\t<canvas width="'+u+'" height="'+c+'" id="'+l+'"></canvas>\n\t\t'},e.prototype.draw=function(t){var e=this,n=t.elements;null===this.mainCanvas&&(this.getCanvas(),null===this.mainCanvas)||(this.mainCanvas.width=this.mainCanvas.width,n.forEach(function(t){e.drawElement(t)}))},e.prototype.getCanvas=function(){this.mainCanvas=this.refs[l],null!==this.mainCanvas&&(this.ctx=this.mainCanvas.getContext("2d"))},e.prototype.preload=function(){this.elementCanvas=this.preloadAsset(s,a,o)},e.prototype.preloadAsset=function(t,e,n){var r,o,s,a=document.createElement("canvas");return a.width=t,a.height=e,r=new Image,r.onload=function(){a.getContext("2d").drawImage(r,0,0)},o=window.location.href,s=n,i["default"].CONFIG.baseUrl?s=""+i["default"].CONFIG.baseUrl+n:-1!==o.indexOf("index.html")&&(s=""+window.location.href.split("index.html")[0]+n),r.src=s,a},e.prototype.drawElement=function(t){this.ctx.drawImage(this.elementCanvas,t.position.x,t.position.y)},e}(r["default"]),e["default"]=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(471),i=function(){function t(){this.nextElement=0,this.currentColumn=0,this.currentRow=0,this.elements=[],this.elementNumber=0}return t.prototype.getData=function(){return{elements:this.elements.map(function(t){return t.getState()})}},t.prototype.reset=function(){this.elements=[],this.elementNumber=0,this.nextElement=0,this.currentColumn=0,this.currentRow=0},t.prototype.step=function(t){var e,n;for(e=t;20<e;)this.step(20),e-=20;n=e/1e3,this.updateElements(e,n)},t.prototype.updateElements=function(t,e){if(this.nextElement-=t,this.nextElement<0){var n=this.generateNewElement();this.elements.push(n),this.nextElement=500}this.elements.forEach(function(t){t.move(e)})},t.prototype.generateNewElement=function(){var t=new r["default"](this.getPositionX(),100,666-54*this.currentRow);return t.setKey(this.elementNumber),this.elementNumber++,this.currentColumn++,this.currentColumn>=6&&(this.currentColumn=0,this.currentRow++),t},t.prototype.getPositionX=function(){return 200*this.currentColumn+80},t}();e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.position={x:t,y:e},this.finalPosition=n}return t.prototype.move=function(t){if(this.position.y!==this.finalPosition){var e=this.position.y+.6*t*100;e>=this.finalPosition&&(e=this.finalPosition),this.position.y=e}},t.prototype.setKey=function(t){this.key="element"+t},t.prototype.getState=function(){return{position:{x:~~this.position.x,y:~~this.position.y},key:this.key}},t}();e["default"]=n},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(5),i=n(38),o=400,s=50,a=0,u=65,c=1,l=r["default"].CONFIG,f=l.fpsLevels,p=l.debug,h=~~((f[0]+f[1])/2),d=[{minValue:f[0],className:"excellent"},{minValue:f[1],className:"decent"},{minValue:f[2],className:"sufficient"},{minValue:f[3],className:"poor"}],y="description-value",v="description-content",m="required-bar",g="required-line",b="final-bar",_="score-label",w="required-label",E="performance-result",O=function(t){function e(){var e=t.call(this)||this;return e.debug=p,e.els=[y,v,m,g,b,_,w,E],e}return T(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="test-result">\n\t\t\t\t<div class="label"></div>\n\t\t\t\t<div id="'+y+'"></div>\n\t\t\t\t<div id="'+v+'"></div>\n\t\t\t</div>\n\t\t\t<div class="score">\n\t\t\t\t<div class="score-bar"></div>\n\t\t\t\t<div id="'+m+'"></div>\n\t\t\t\t<div id="'+g+'"></div>\n\t\t\t\t<div id="'+b+'"></div>\n\t\t\t\t<div id="'+_+'"></div>\n\t\t\t\t<div id="'+w+'"></div>\n\t\t\t</div>\n\t\t\t<table id="'+E+'"></table>\n\t\t\t<div class="enter"></div>\n\t\t'},e.prototype.draw=function(t){var e,n,r=(t.total+t.average)/2,i=this.getDescriptionClassName(r);this.refs[y].className=i,this.refs[v].className=i,e=this.getPosition(r),n=this.getPosition(h),this.refs[m].style.width=n+"px",this.refs[g].style.left=n-c+"px",this.refs[b].className=s<=r?"full":"",this.refs[b].style.width=e+"px",this.refs[_].style.left=e-u+"px",this.refs[w].style.left=n-u+"px",t.debug?this.drawDetail(t):this.hide(this.refs[E])},e.prototype.drawDetail=function(t){var e,n=this;t.debug.forEach(function(t){var r=t.id,i=t.total,o=t.average;document.createElement("tr").innerHTML="\n\t\t\t\t<td>"+r+"</td>\n\t\t\t\t<td>"+i+"</td>\n\t\t\t\t<td>"+o+"</td>\n\t\t\t",n.refs[E].appendChild(e)}),e=document.createElement("tr"),e.innerHTML="\n\t\t\t<td>Final</td>\n\t\t\t<td>"+t.total+"</td>\n\t\t\t<td>"+t.average+"</td>\n\t\t",this.refs[E].appendChild(e)},e.prototype.getDescriptionClassName=function(t){for(var e=d.length-1;--e;)if(d[e].minValue>t)return d[e+1].className;return d[0].className},e.prototype.getPosition=function(t){return o/s*(s<t?s:t)+a},e}(i["default"]),e["default"]=O},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,e["default"]=undefined,s=n(474),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(59),i=n(29),o="signing-in",s="signed-in",a="message-1",u="message-2",c="gamer-tag",l="player-image",f="user-name",p="player-name",h=3e3,d=function(t){function e(){var e=t.call(this)||this;return e.els=[o,s,a,u,c,l,f,p],e}return y(e,t),e.prototype.sceneDidMount=function(){this.signIn()},e.prototype.render=function(){return'\n\t\t\t<div class="scene xboxlive-scene">\n\t\t\t\t<div id="'+o+'" class="user">\n\t\t\t\t\t<p id="'+a+'">Signing you in...</p>\n\t\t\t\t\t<p id="'+u+'">Please wait</p>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+s+'">\n\t\t\t\t\t<div id="signed-in-message">You are now signed in</div>\n\t\t\t\t\t<div class="user">\n\t\t\t\t\t\t<table id="'+c+'">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<img id="'+l+'" class="image" alt="" />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<p id="'+f+'"></p>\n\t\t\t\t\t\t\t\t\t<p id="'+p+'"></p>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.signIn=function(){var t,e,n,r,i=this;if(window.Microsoft&&window.Microsoft.Xbox&&window.Microsoft.Xbox.Services){t=window.Microsoft.Xbox.Services,e=t.System,n=t.XboxLiveContext,r=(0,t.XboxLiveUser)();try{r.signInAsync(null).then(function(t){t.status===e.SignInStatus.success?n(r).profileService.getUserProfileAsync(r.xboxUserId).then(function(t){i.user={playerId:r.xboxUserId,userName:"",playerName:r.gamertag,playerScore:r.gamerscore,playerImage:t.gameDisplayPictureResizeUri.rawUri},i.signInSuccess()}):t.status===e.SignInStatus.userCancel&&i.signInError()})}catch(t){this.signInError()}}else this.signInError()},e.prototype.signInSuccess=function(){this.refs[l].src=this.user.playerImage,this.refs[f].innerHTML=this.user.userName,this.refs[p].innerHTML=this.user.playerName,this.hidden(this.refs[o]),this.visible(this.refs[s]),this.signInFinish()},e.prototype.signInError=function(){this.refs[a].innerHTML="Something went wrong...",this.refs[u].innerHTML="Unable to sign in",this.signInFinish()},e.prototype.signInFinish=function(){setTimeout(function(){i.routeTo("menu")},h)},e}(r["default"]),e["default"]=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a,u;e.__esModule=!0,e["default"]=undefined,s=n(476),a=function(t){return t&&t.__esModule?t:{"default":t}}(s),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e}(a["default"]),e["default"]=u},function(t,e,n){var r,i,o,s,a,u,c,l,f,p,h,d,y,v,m,g,b,_,w,E,O,T,P,S,I,x=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),r=n(84),i=n(29),o=n(83),s=n(5),a=n(15),u=n(20),c=n(57),l=n(58),f=n(59),p=n(56),h=n(114),d="adPlayerTimer",y="adPlayerMessage",v="adPlayerInfo",m="adLoader",g="adPlayerLoader",b="adPlayerDebugName",_=64,w=_-1024,E=100,O=900,T=402,P=6e4,S=2e4,I=function(t){function e(){var e=t.call(this)||this;return e.quitGameModal=l["default"],e.debugSequence=[u.Keys.UP,u.Keys.RIGHT,u.Keys.LEFT,u.Keys.ENTER,u.Keys.DOWN],e.debugSequencePosition=0,e.els=[d,y,v,g,m,b],e.throbberIsShown=!1,e.playLinearAd=e.playLinearAd.bind(e),e.onError=e.onError.bind(e),e.onEnd=e.onEnd.bind(e),e.closePlayer=e.closePlayer.bind(e),e.onStateChange=e.onStateChange.bind(e),e.onTimeUpdate=e.onTimeUpdate.bind(e),e.initTimeoutFailSafe=e.initTimeoutFailSafe.bind(e),e.globalTimeoutFailSafe=e.globalTimeoutFailSafe.bind(e),e}return x(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="adplayerScene" class="scene game-scene">\n\t\t\t\t<div id="'+v+'">\n\t\t\t\t\t<span id="'+y+'"></span>\n\t\t\t\t\t<span id="'+d+'"></span>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+b+'"></div>\n\t\t\t\t<div id="'+m+'">\n\t\t\t\t\t<div id="'+g+'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.sceneDidMount=function(){o.restartStartCount(),this.vastTracker=null,this.globalFailSafeTimeout=setTimeout(this.globalTimeoutFailSafe,P),this.initFailSafeTimeout=setTimeout(this.initTimeoutFailSafe,S),this.showThrobber(),o.adsControl.getLinearAd().then(this.playLinearAd)["catch"](this.onError)},e.prototype.onKeyDown=function(t){var e=t.key;return e===u.Keys.ENTER&&this.vastTracker&&this.vastTracker.canSkip?(this.vastTracker.onSkip(),this.closePlayer()):e===this.debugSequence[this.debugSequencePosition]?this.debugSequencePosition+1>=this.debugSequence.length&&this.vastTracker?this.visible(this.refs[b]):this.debugSequencePosition+=1:this.debugSequencePosition=0,!1},e.prototype.onError=function(t){var e=t.message||"[MauAdPlayer] Error during ad retrieval.";c["default"].warn(e),this.vastTracker&&this.vastTracker.sendError(O,e),this.closePlayer()},e.prototype.playLinearAd=function(t){var e,n,r=s["default"].Device.player;if(!t)throw Error("Ad not found");if(!r)throw Error("[MauAdPlayer] Unable to fing a player.");e=t.vastTracker,n=t.source,this.vastTracker=e,this.player=r,this.refs[b].innerHTML=this.vastTracker.name,this.refs[y].innerHTML=this.vastTracker.isSkippable?a._("skip_ad_in"):a._("game_in"),this.addSubscribes(),this.player.open(n),this.player.play()},e.prototype.addSubscribes=function(){this.player&&(this.player.subscribe("statechange",this.onStateChange),this.player.subscribe("end",this.onEnd),this.player.subscribe("error",this.onError),this.player.subscribe("timeupdate",this.onTimeUpdate),this.updateTimer(0))},e.prototype.onStateChange=function(t){t===h["default"].STATE.BUFFERING?(this.hidden(this.refs[v]),this.showThrobber()):(t===h["default"].STATE.PLAYING&&clearTimeout(this.initFailSafeTimeout),this.hideThrobber(),this.refs[v].className="",this.visible(this.refs[v]),this.vastTracker&&this.vastTracker.stateChange(t))},e.prototype.onEnd=function(){this.vastTracker&&!this.vastTracker.ended&&(this.vastTracker.onEnd(),this.closePlayer())},e.prototype.onTimeUpdate=function(t){var e=p.round(t/1e3);this.vastTracker&&this.vastTracker.timeUpdate(e),this.updateTimer(e)},e.prototype.updateTimer=function(t){var e,n,r,i,o;this.vastTracker&&(e=this.vastTracker,n=e.duration,r=e.skipDelay,this.vastTracker.isSkippable?(i=r-t,this.vastTracker.canSkip?(this.refs[d].innerHTML="",this.refs[y].innerHTML=a._("skip_ad"),this.refs[v].className="focused"):this.refs[d].innerHTML=i+"s"):(o=n-t,o<0&&this.onEnd(),this.refs[d].innerHTML=o+"s"))},e.prototype.unsubscribeEvents=function(){this.player&&(this.player.unsubscribe("statechange",this.onStateChange),this.player.unsubscribe("end",this.onEnd),this.player.unsubscribe("error",this.onError),this.player.unsubscribe("timeupdate",this.onTimeUpdate))},e.prototype.showThrobber=function(){if(!this.throbberIsShown){var t=0,e=this.refs[g];this.throbberInt=setInterval(function(){(t-=_)<w&&(t=0),e.style.backgroundPosition=t+"px 0px"},E),this.visible(this.refs[m]),this.throbberIsShown=!0}},e.prototype.hideThrobber=function(){this.throbberIsShown&&this.throbberInt&&(clearInterval(this.throbberInt),this.hidden(this.refs[m]),this.throbberIsShown=!1,this.throbberInt=null)},e.prototype.initTimeoutFailSafe=function(){o.adsControl.adsGa.sendError(r.adTypes.video,"initTimeoutFailSafe","initTimeoutFailSafe"),this.vastTracker&&this.vastTracker.sendError(T,"initTimeoutFailSafe"),this.closePlayer()},e.prototype.globalTimeoutFailSafe=function(){o.adsControl.adsGa.sendError(r.adTypes.video,"globalTimeoutFailSafe","globalTimeoutFailSafe"),this.vastTracker&&this.vastTracker.sendError(O,"globalTimeoutFailSafe"),this.closePlayer()},e.prototype.closePlayer=function(){this.player&&(this.unsubscribeEvents(),this.player.hide(),this.player.stop(),this.player=null),this.hideThrobber(),clearTimeout(this.initFailSafeTimeout),clearTimeout(this.globalFailSafeTimeout),i.routeTo("game")},e}(f["default"]),e["default"]=I},function(t,e,n){"use strict";e.__esModule=!0,e["default"]=[{name:"default",fnt:"assets/fonts/default.fnt",png:"assets/fonts/default.png"},{name:"big",fnt:"assets/fonts/big.fnt",png:"assets/fonts/big.png"}]},function(t,e,n){"use strict";(0,n(15).addVocabulary)({about_1:"This template should show you how to do things",about_2:"in this new system.",about_3:"Do not use just this. Look also at other games built on this system.",about_4:"Should you have any questions regarding this template or build system",about_5:"then get in touch with Vit Salomon",about_6:"Happy coding!"},"en")},function(t,e){}]);