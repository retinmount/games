!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=669)}([function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}function n(t,e,n){var s=n?t[e]:Object.getOwnPropertyDescriptor(t,e);return!n&&s.value&&"object"==typeof s.value&&(s=s.value),!(!s||!i(s))&&("undefined"==typeof s.enumerable&&(s.enumerable=!0),"undefined"==typeof s.configurable&&(s.configurable=!0),s)}function s(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function r(t,e,i,r){var o,h,u;for(o in e)if(e.hasOwnProperty(o))if(!1!==(h=n(e,o,i))){if(u=r||t,s(u.prototype,o)){if(a.ignoreFinals)continue;throw Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,o,h)}else t.prototype[o]=e[o]}function o(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)r(t,e[i].prototype||e[i])}}function a(t){var e,i,n,s;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw Error("initialize must be a function");e=t.initialize,delete t.initialize}else t.Extends?(n=t.Extends,e=function(){n.apply(this,arguments)}):e=function(){};return t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e,s=null,t.Mixins&&(s=t.Mixins,delete t.Mixins),o(e,s),r(e,t,!0,i),e}a.extend=r,a.mixin=o,a.ignoreFinals=!1,t.exports=a},function(t,e,i){var n=i(8),s=i(64),r=i(48),o=i(49),a=i(65),h="prototype",u=function(t,e,i){var l,c,f,d,p=t&u.F,g=t&u.G,y=t&u.S,m=t&u.P,v=t&u.B,x=g?n:y?n[e]||(n[e]={}):(n[e]||{})[h],b=g?s:s[e]||(s[e]={}),_=b[h]||(b[h]={});g&&(i=e);for(l in i)c=!p&&x&&x[l]!==undefined,f=(c?x:i)[l],d=v&&c?a(f,n):m&&"function"==typeof f?a(Function.call,f):f,x&&o(x,l,f,t&u.U),b[l]!=f&&r(b,l,d),m&&_[l]!=f&&(_[l]=f)};n.core=s,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(){};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=typeof t;return t&&"number"!==n&&"string"!==n&&t.hasOwnProperty(e)&&t[e]!==undefined?t[e]:i};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(e===undefined&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new s(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return e===undefined&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){var i,n;return e===undefined&&(e=0),i=this.x,n=this.y,this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this},transformMat3:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},transformMat4:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[4]*i+n[12],this.y=n[1]*e+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),t.exports=s},function(t,e,i){var n=i(11);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o;if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(n=e.split("."),s=t,r=i,o=0;o<n.length;o++){if(!s.hasOwnProperty(n[o])){r=i;break}r=s[n[o]],s=s[n[o]]}return r}return i}return i};t.exports=i},function(t,e,i){var n=i(0),s=i(26),r=i(30),o=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});o.register=function(t,e){o.prototype.hasOwnProperty(t)||(o.prototype[t]=e)},s.register("GameObjectFactory",o,"add"),t.exports=o},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e){t===undefined&&(t=0),e===undefined&&(e=t),this.x=t,this.y=e},setTo:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this.x=t,this.y=e,this}});t.exports=s},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n,s,r,o,a,h,u,l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(197),s=i(878),r=i(879),o=i(82),a=i(35),h="_uuid2",u={CONFIG:{version:"work in progress",debug:!1,gameName:"gameName not set",locale:"en",soundRoot:"assets/sounds/",keyMask:575,toPreload:[],fpsLevels:[40,30,20,0],amountOfPlayers:1},Storage:o["default"],SoundManager:new s.SoundManager,Sounds:r["default"],Device:n["default"],init:function(t){return u.CONFIG=l({},u.CONFIG,t),u.Sounds.init(),u.enforcePushState=u.Device.enforcePushState||!1,u.Device.init()},getJoystick:function(){return n["default"].joystick||{x:0,y:0}},useCanvas:function(){var t=o["default"].get(u.CONFIG.gameName+"_canvas");return"string"==typeof t?"on"===t:n["default"].useCanvas},useWebGL:function(){return n["default"].useWebGL||!1},setCanvas:function(t){n["default"].useCanvas=t,o["default"].set(u.CONFIG.gameName+"_canvas",t?"on":"off")},getUUID:function(){var t=o["default"].get(h);return t||(t=a.uuid(),o["default"].set(h,t),t)},exit:function(){return n["default"].exit()}},e["default"]=u},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0};t.exports=i},function(t,e){var i={},n={install:function(t){for(var e in i)t[e]=i[e]},register:function(t,e){i[t]=e},destroy:function(){i={}}};t.exports=n},function(t,e,i){"use strict";function n(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,i,n,r){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new s(i,n||t,r),a=u?u+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],o]:t._events[a].push(o):(t._events[a]=o,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}var h=Object.prototype.hasOwnProperty,u="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(u=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)h.call(t,e)&&i.push(u?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e,i,n,s=u?u+t:t,r=this._events[s];if(!r)return[];if(r.fn)return[r.fn];for(e=0,i=r.length,n=Array(i);e<i;e++)n[e]=r[e].fn;return n},a.prototype.listenerCount=function(t){var e=u?u+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,s,r){var o,a,h,l,c,f,d=u?u+t:t;if(!this._events[d])return!1;if(o=this._events[d],a=arguments.length,o.fn){switch(o.once&&this.removeListener(t,o.fn,undefined,!0),a){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,e),!0;case 3:return o.fn.call(o.context,e,i),!0;case 4:return o.fn.call(o.context,e,i,n),!0;case 5:return o.fn.call(o.context,e,i,n,s),!0;case 6:return o.fn.call(o.context,e,i,n,s,r),!0}for(l=1,h=Array(a-1);l<a;l++)h[l-1]=arguments[l];o.fn.apply(o.context,h)}else for(c=o.length,l=0;l<c;l++)switch(o[l].once&&this.removeListener(t,o[l].fn,undefined,!0),a){case 1:o[l].fn.call(o[l].context);break;case 2:o[l].fn.call(o[l].context,e);break;case 3:o[l].fn.call(o[l].context,e,i);break;case 4:o[l].fn.call(o[l].context,e,i,n);break;default:if(!h)for(f=1,h=Array(a-1);f<a;f++)h[f-1]=arguments[f];o[l].fn.apply(o[l].context,h)}return!0},a.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,i,n){var s,r,a,h,l=u?u+t:t;if(!this._events[l])return this;if(!e)return o(this,l),this;if(s=this._events[l],s.fn)s.fn!==e||n&&!s.once||i&&s.context!==i||o(this,l);else{for(r=0,a=[],h=s.length;r<h;r++)(s[r].fn!==e||n&&!s[r].once||i&&s[r].context!==i)&&a.push(s[r]);a.length?this._events[l]=1===a.length?a[0]:a:o(this,l)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=u?u+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=u,a.EventEmitter=a,t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={getTintFromFloats:function(t,e,i,n){return((255&(255*n|0))<<24|(255&(255*t|0))<<16|(255&(255*e|0))<<8|255&(255*i|0))>>>0},getTintAppendFloatAlpha:function(t,e){return((255&(255*e|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){return((255&(255*e|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},getComponentCount:function(t,e){var i,n,s=0;for(i=0;i<t.length;++i)n=t[i],n.type===e.FLOAT?s+=n.size:s+=1;return s}}},function(t,e,i){var n=i(182)("wks"),s=i(115),r=i(8).Symbol,o="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=o&&r[t]||(o?r:s)("Symbol."+t))}).store=n},function(t,e,i){var n=i(0),s=i(92),r=i(277),o=i(425),a=i(106),h=i(280),u=new n({initialize:function(t,e,i,n){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return e===undefined&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return e===undefined&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return t===undefined&&(t=new a),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return t===undefined&&(t=new a),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return t===undefined&&(t=new a),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return t===undefined&&(t=new a),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},function(t,e,i){var n=i(0),s=i(432),r=i(165),o=i(15),a=i(207),h=new n({Extends:o,initialize:function(t,e){o.call(this),this.scene=t,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(t,e){return this.data||(this.data=new r(this)),this.data.set(t,e),this},getData:function(t){return this.data||(this.data=new r(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=undefined,this},update:function(){},toJSON:function(){return s(this)},willRender:function(t){return!(h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return i.unshift(this.scene.sys.displayList.getIndex(t)),i},destroy:function(t){if(t===undefined&&(t=!1),this.scene&&!this.ignoreDestroy){this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this);var e=this.scene.sys;t||(e.displayList.remove(this),e.updateList.remove(this)),this.input&&(e.input.clear(this),this.input=undefined),this.data&&(this.data.destroy(),this.data=undefined),this.body&&(this.body.destroy(),this.body=undefined),t||e.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=undefined,this.parentContainer=undefined,this.removeAllListeners()}}});h.RENDER_MASK=15,t.exports=h},function(t,e,i){t.exports=!i(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(5),s=i(360),r=i(71),o=Object.defineProperty;e.f=i(20)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),s)try{return o(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(73),s=Math.min;t.exports=function(t){return t>0?s(n(t),9007199254740991):0}},function(t,e,i){function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(46)),n(i(396)),n(i(76)),n(i(271)),n(i(897)),n(i(898)),n(i(899)),n(i(900)),n(i(901))},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Alpha:i(419),Animation:i(420),BlendMode:i(423),ComputedSize:i(995),Crop:i(996),Depth:i(424),Flip:i(997),GetBounds:i(998),Mask:i(428),Origin:i(999),Pipeline:i(206),ScaleMode:i(1e3),ScrollFactor:i(431),Size:i(1001),Texture:i(1002),TextureCrop:i(1003),Tint:i(1004),ToJSON:i(432),Transform:i(433),TransformMatrix:i(93),Visible:i(434)}},function(t,e,i){var n=i(33),s=i(6),r=function(t,e,i){var r=s(t,e,null);if(null===r)return i;if(Array.isArray(r))return n.RND.pick(r);if("object"==typeof r){if(r.hasOwnProperty("randInt"))return n.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return n.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if("function"==typeof r)return r(e);return r};t.exports=r},function(t,e){var i={},n={},s={};s.register=function(t,e,n,s){s===undefined&&(s=!1),i[t]={plugin:e,mapping:n,custom:s}},s.registerCustom=function(t,e,i,s){n[t]={plugin:e,mapping:i,data:s}},s.hasCore=function(t){return i.hasOwnProperty(t)},s.hasCustom=function(t){return n.hasOwnProperty(t)},s.getCore=function(t){return i[t]},s.getCustom=function(t){return n[t]},s.getCustomClass=function(t){return n.hasOwnProperty(t)?n[t].plugin:null},s.remove=function(t){i.hasOwnProperty(t)&&delete i[t]},s.removeCustom=function(t){n.hasOwnProperty(t)&&delete n[t]},s.destroyCorePlugins=function(){for(var t in i)i.hasOwnProperty(t)&&delete i[t]},s.destroyCustomPlugins=function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]},t.exports=s},function(t,e,i){var n=i(0),s=i(26),r=i(30),o=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});o.register=function(t,e){o.prototype.hasOwnProperty(t)||(o.prototype[t]=e)},s.register("GameObjectCreator",o,"make"),t.exports=o},function(t,e,i){(function(e){var i={};t.exports=i,function(){i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i.extend=function(t,e){var n,s,r,o,a;for("boolean"==typeof e?(n=2,s=e):(n=1,s=!0),r=n;r<arguments.length;r++)if(o=arguments[r])for(a in o)s&&o[a]&&o[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=o[a]:(t[a]=t[a]||{},i.extend(t[a],s,o[a])):t[a]=o[a];return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){var e,i;if(Object.keys)return Object.keys(t);e=[];for(i in t)e.push(i);return e},i.values=function(t){var e,i,n,s=[];if(Object.keys){for(e=Object.keys(t),i=0;i<e.length;i++)s.push(t[e[i]]);return s}for(n in t)s.push(t[n]);return s},i.get=function(t,e,i,n){e=e.split(".").slice(i,n);for(var s=0;s<e.length;s+=1)t=t[e[s]];return t},i.set=function(t,e,n,s,r){var o=e.split(".").slice(s,r);return i.get(t,e,0,-1)[o[o.length-1]]=n,n},i.shuffle=function(t){var e,n,s;for(e=t.length-1;e>0;e--)n=Math.floor(i.random()*(e+1)),s=t[e],t[e]=t[n],t[n]=s;return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"==typeof t},i.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===toString.call(t)},i.clamp=function(t,e,i){return t<e?e:t>i?i:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-i._nowStartTime},i.random=function(e,i){return e=void 0!==e?e:0,i=void 0!==i?i:1,e+t()*(i-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return t=t.replace("#",""),3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel},i.info=function(){console&&i.logLevel>0&&i.logLevel},i.warn=function(){console&&i.logLevel>0&&i.logLevel},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.map=function(t,e){var i,n;if(t.map)return t.map(e);for(i=[],n=0;n<t.length;n+=1)i.push(e(t[n]));return i},i.topologicalSort=function(t){var e,n=[],s=[],r=[];for(e in t)s[e]||r[e]||i._topologicalSort(e,s,r,t,n);return n},i._topologicalSort=function(t,e,n,s,r){var o,a,h=s[t]||[];for(n[t]=!0,o=0;o<h.length;o+=1)a=h[o],n[a]||e[a]||i._topologicalSort(a,e,n,s,r);n[t]=!1,e[t]=!0,r.push(t)},i.chain=function(){var t,e,i,n=[];for(t=0;t<arguments.length;t+=1)e=arguments[t],e._chained?n.push.apply(n,e._chained):n.push(e);return i=function(){var t,e,i,s,r=Array(arguments.length);for(e=0,i=arguments.length;e<i;e++)r[e]=arguments[e];for(e=0;e<n.length;e+=1)void 0!==(s=n[e].apply(t,r))&&(t=s);return t},i._chained=n,i},i.chainPathBefore=function(t,e,n){return i.set(t,e,i.chain(n,i.get(t,e)))},i.chainPathAfter=function(t,e,n){return i.set(t,e,i.chain(i.get(t,e),n))},i._requireGlobal=function(t,i){return"undefined"!=typeof window?window[t]:void 0!==e?e[t]:null}}()}).call(e,i(158))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i={tizen:"samsung",orsay:"samsung",webos:"lg",netcast:"lg"},n=function(){function t(t,e,i,n){this.uid="",this.preparedUrl="",this.serverUrl="",this.defaultParams={},this.serverUrl=t,this.uid=e,this.name=i,this.appConfig=n}return t.prototype.getUrl=function(){return this.preparedUrl||(this.preparedUrl=this.prepareUrl()),""+this.preparedUrl+this.getRndParam()},t.prototype.getParams=function(){return this.defaultParams},t.prototype.prepareUrl=function(){var t=this.getParams(),e=Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&");return this.serverUrl+"?"+e},t.prototype.getRndParam=function(){return""},t.prototype.getDevice=function(){var t=this.appConfig.device;return i[t]||t},t.prototype.getBundleId=function(){return"es.tvgam."+this.appConfig.gameName},t}();e["default"]=n},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BOOT:i(1128),DESTROY:i(1129),PAUSE:i(1130),POST_UPDATE:i(1131),PRE_UPDATE:i(1132),READY:i(1133),RENDER:i(1134),RESUME:i(1135),SHUTDOWN:i(1136),SLEEP:i(1137),START:i(1138),TRANSITION_COMPLETE:i(1139),TRANSITION_INIT:i(1140),TRANSITION_OUT:i(1141),TRANSITION_START:i(1142),TRANSITION_WAKE:i(1143),UPDATE:i(1144),WAKE:i(1145)}},function(t,e,i){var n=i(72);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(13),s=function(){var t,e,i,r,o,a,h=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof h&&(c=h,h=arguments[1]||{},u=2),l===u&&(h=this,--u);u<l;u++)if(null!=(t=arguments[u]))for(e in t)i=h[e],r=t[e],h!==r&&(c&&r&&(n(r)||(o=Array.isArray(r)))?(o?(o=!1,a=i&&Array.isArray(i)?i:[]):a=i&&n(i)?i:{},h[e]=s(c,a,r)):r!==undefined&&(h[e]=r));return h};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};t.exports=i},function(t,e,i){function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}var s,r,o,a,h,u,l,c,f,d;Object.defineProperty(e,"__esModule",{value:!0}),s=i(880),e.noop=s["default"],r=i(881),e.getEmptyString=r["default"],o=i(882),e.uuid=o["default"],a=i(883),e.loadObject=a["default"],h=i(884),e.SimpleMath=h["default"],u=i(394),e.floor=u["default"],l=i(885),e.round=l["default"],c=i(270),e.getIntInInterval=c["default"],f=i(886),e.hashCode=f["default"],d=i(887),e.repeat=d["default"],n(i(888)),n(i(270)),n(i(889)),n(i(890))},function(t,e,i){var n,s,r,o,a,h,u,l=this&&this.__assign||function(){return(l=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(103),s=i(12),r="en",o=function(){function t(){this.vocabularies={}}return t.prototype.getValue=function(t){var e=this.vocabularies[s["default"].CONFIG.locale]||this.vocabularies[r]||{};return e[t]?e[t]:(n["default"].warn("Requested translation not found: "+t+" in "+s["default"].CONFIG.locale),t)},t.prototype.addVocabulary=function(t,e){a.vocabularies[e]=l({},this.vocabularies[e]||{},t)},t}(),a=new o,h=function(t){return a.getValue(t)},e._=h,u=function(t,e){a.addVocabulary(t,e)},e.addVocabulary=u,e["default"]=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return Math.max(e,Math.min(i,t))};t.exports=i},function(t,e,i){var n=i(0),s=i(34),r=i(149),o=i(3),a=i(335),h=i(336),u=i(604),l=i(230),c=new n({initialize:function(t,e){this.loader=t,this.cache=o(e,"cache",!1),this.type=o(e,"type",!1),this.key=o(e,"key",!1);var i=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+i),!this.type||!this.key)throw Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=o(e,"url"),this.url===undefined?this.url=t.path+i+"."+o(e,"extension",""):"function"!=typeof this.url&&(this.url=t.path+this.url),this.src="",this.xhrSettings=l(o(e,"responseType",undefined)),o(e,"xhrSettings",!1)&&(this.xhrSettings=h(this.xhrSettings,o(e,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?s.FILE_POPULATED:s.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=undefined,this.data=undefined,this.config=o(e,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=undefined,this.xhrLoader.onerror=undefined,this.xhrLoader.onprogress=undefined)},load:function(){this.state===s.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=a(this,this.loader.baseURL),0===this.src.indexOf("data:")||(this.xhrLoader=u(this,this.loader.xhr)))},onLoad:function(t,e){var i=t.responseURL&&0===t.responseURL.indexOf("file://")&&0===e.target.status,n=!(e.target&&200!==e.target.status)||i;4===t.readyState&&t.status>=400&&t.status<=599&&(n=!1),this.resetXHR(),this.loader.nextFile(this,n)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=s.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=s.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=s.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){var e,i;t===undefined&&(t=this.data),e=this.key,i=this.type,this.loader.emit(r.FILE_COMPLETE,e,i,t),this.loader.emit(r.FILE_KEY_COMPLETE+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var n=new FileReader;n.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+n.result.split(",")[1]},n.onerror=t.onerror,n.readAsDataURL(e)}},c.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},t.exports=c},function(t,e,i){var n=i(3),s=function(t,e,i,s,r,o){var a,h,u,l,c,f,d;for(t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=o.width),s===undefined&&(s=o.height),a=n(r,"isNotEmpty",!1),h=n(r,"isColliding",!1),u=n(r,"hasInterestingFace",!1),t<0&&(i+=t,t=0),e<0&&(s+=e,e=0),t+i>o.width&&(i=Math.max(o.width-t,0)),e+s>o.height&&(s=Math.max(o.height-e,0)),l=[],c=e;c<e+s;c++)for(f=t;f<t+i;f++)if(null!==(d=o.data[c][f])){if(a&&-1===d.index)continue;if(h&&!d.collides)continue;if(u&&!d.hasInterestingFace)continue;l.push(d)}return l};t.exports=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(936);e["default"]=function(t,e){var i,s,r;return void 0===e&&(e="default"),s=(""+(t||0===t?t:"")).split(""),r=s.length-1,'\n\t\t<span class="graphical-word graphical-word-'+e+'">\n\t\t\t'+s.map(function(t,s){if("\n"===t)return i=null,"<br />";var o=n["default"](t,i,e,r===s);return i=t,o}).join("")+"\n\t\t</span>\n\t"}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n,s,r,o,a,h,u,l,c;Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(198),r=function(){function t(){this.root=null,this.routes={},this.currentRoute=null,this.routeStack=[]}return t.prototype.routeTo=function(t){var e,i,r=t;"game"===r&&"adplayer"!==this.currentRoute&&s.shouldShowAd()&&this.routes.adplayer&&(r="adplayer"),e=this.routes[r],e&&this.root&&(this.currentRoute&&this.routes[this.currentRoute].sceneWillUnmount(),this.routeStack.push(r),this.currentRoute=r,e.mount(this.root)),n["default"].enforcePushState&&window.history&&"function"==typeof window.history.pushState&&(i=window.location.href.split("#")[0],window.history.pushState(null,null,i+"#"+r))},t.prototype.back=function(){var t=this.routeStack[this.routeStack.length-2];t&&(this.routeStack.splice(this.routeStack.length-2,2),this.routeTo(t))},t.prototype.initRoute=function(t,e){(this.routes[t]=e).init()},t.prototype.getCurrentScene=function(){return this.currentRoute?this.routes[this.currentRoute]:null},t}(),o=new r,a=function(t){o.root=t},e.setRoot=a,h=function(t){o.routeTo(t)},e.routeTo=h,u=function(){o.back()},e.routeBack=u,l=function(t,e){o.initRoute(t,e)},e.initRoute=l,c=function(){return o.getCurrentScene()},e.getCurrentScene=c},function(t,e,i){var n=i(52),s=i(210),r=[],o=!1,a=function(){var t=function(t,e,i,h,u){var l,c;return e===undefined&&(e=1),i===undefined&&(i=1),h===undefined&&(h=n.CANVAS),u===undefined&&(u=!1),c=a(h),null===c?(c={parent:t,canvas:document.createElement("canvas"),type:h},h===n.CANVAS&&r.push(c),l=c.canvas):(c.parent=t,l=c.canvas),u&&(c.parent=l),l.width=e,l.height=i,o&&h===n.CANVAS&&s.disable(l.getContext("2d")),l},e=function(e,i,s){return t(e,i,s,n.CANVAS)},i=function(e,i,s){return t(e,i,s,n.WEBGL)},a=function(t){var e,i;if(t===undefined&&(t=n.CANVAS),t===n.WEBGL)return null;for(e=0;e<r.length;e++)if(i=r[e],!i.parent&&i.type===t)return i;return null},h=function(t){var e=t instanceof HTMLCanvasElement;r.forEach(function(i){(e&&i.canvas===t||!e&&i.parent===t)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)})},u=function(){var t=0;return r.forEach(function(e){e.parent&&t++}),t},l=function(){return r.length-u()};return{create2D:e,create:t,createWebGL:i,disableSmoothing:function(){o=!0},enableSmoothing:function(){o=!1},first:a,free:l,pool:r,remove:h,total:u}};t.exports=a()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h=n.alpha*i.alpha;return!(h<=0)&&(r=t._tempMatrix1.copyFromArray(n.matrix.matrix),o=t._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a=t._tempMatrix3,s?(r.multiplyWithOffset(s,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,r.multiply(o,a)):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY,r.multiply(o,a)),e.globalCompositeOperation=t.blendModes[i.blendMode],e.globalAlpha=h,e.save(),a.setToContext(e),!0)};t.exports=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Keys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,LEFT:10,RIGHT:11,UP:12,DOWN:13,ENTER:14,RETURN:15,RED:16,GREEN:17,YELLOW:18,BLUE:19,PLAY:20,PAUSE:21,STOP:22,PLAY_PAUSE:23,FF:24,RW:25,EXIT:26,CENTER:27}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(23);e["default"]=function(){return""+n.getIntInInterval(1e8,999999999)}},function(t,e,i){var n,s,r,o,a,h,u={};t.exports=u,n=i(62),s=i(69),r=i(178),o=i(28),a=i(70),h=i(340),function(){u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u.create=function(e){var i={id:o.nextId(),type:"body",label:"Body",gameObject:null,parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,ignoreGravity:!1,ignorePointer:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},s=o.extend(i,e);return t(s,e),s},u.nextGroup=function(t){return t?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var t=function(t,e){e=e||{},u.set(t,{bounds:t.bounds||a.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),a.update(t.bounds,t.vertices,t.velocity),u.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var i=t.isStatic?"#2e2b44":o.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);t.render.fillStyle=t.render.fillStyle||i,t.render.strokeStyle=t.render.strokeStyle||"#000",t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};u.set=function(t,e,i){var n;"string"==typeof e&&(n=e,e={},e[n]=i);for(n in e)if(e.hasOwnProperty(n))switch(i=e[n],n){case"isStatic":u.setStatic(t,i);break;case"isSleeping":r.set(t,i);break;case"mass":u.setMass(t,i);break;case"density":u.setDensity(t,i);break;case"inertia":u.setInertia(t,i);break;case"vertices":u.setVertices(t,i);break;case"position":u.setPosition(t,i);break;case"angle":u.setAngle(t,i);break;case"velocity":u.setVelocity(t,i);break;case"angularVelocity":u.setAngularVelocity(t,i);break;case"parts":u.setParts(t,i);break;default:t[n]=i}},u.setStatic=function(t,e){var i,n;for(i=0;i<t.parts.length;i++)n=t.parts[i],n.isStatic=e,e?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=Infinity,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)},u.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},u.setDensity=function(t,e){u.setMass(t,e*t.area),t.density=e},u.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},u.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=n.create(e,t),t.axes=h.fromVertices(t.vertices),t.area=n.area(t.vertices),u.setMass(t,t.density*t.area);var i=n.centre(t.vertices);n.translate(t.vertices,i,-1),u.setInertia(t,u._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),a.update(t.bounds,t.vertices,t.velocity)},u.setParts=function(t,e,i){var s,r,o,a,h,l;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,s=0;s<e.length;s++)(r=e[s])!==t&&(r.parent=t,t.parts.push(r));if(1!==t.parts.length){if(i=void 0===i||i){for(o=[],s=0;s<e.length;s++)o=o.concat(e[s].vertices);n.clockwiseSort(o),a=n.hull(o),h=n.centre(a),u.setVertices(t,a),n.translate(t.vertices,h)}l=u._totalProperties(t),t.area=l.area,t.parent=t,t.position.x=l.centre.x,t.position.y=l.centre.y,t.positionPrev.x=l.centre.x,t.positionPrev.y=l.centre.y,u.setMass(t,l.mass),u.setInertia(t,l.inertia),u.setPosition(t,l.centre)}},u.setPosition=function(t,e){var i,r,o=s.sub(e,t.position);for(t.positionPrev.x+=o.x,t.positionPrev.y+=o.y,i=0;i<t.parts.length;i++)r=t.parts[i],r.position.x+=o.x,r.position.y+=o.y,n.translate(r.vertices,o),a.update(r.bounds,r.vertices,t.velocity)},u.setAngle=function(t,e){var i,r,o=e-t.angle;for(t.anglePrev+=o,i=0;i<t.parts.length;i++)r=t.parts[i],r.angle+=o,n.rotate(r.vertices,o,t.position),h.rotate(r.axes,o),a.update(r.bounds,r.vertices,t.velocity),i>0&&s.rotateAbout(r.position,o,t.position,r.position)},u.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=s.magnitude(t.velocity)},u.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},u.translate=function(t,e){u.setPosition(t,s.add(t.position,e))},u.rotate=function(t,e,i){if(i){var n=Math.cos(e),s=Math.sin(e),r=t.position.x-i.x,o=t.position.y-i.y;u.setPosition(t,{x:i.x+(r*n-o*s),y:i.y+(r*s+o*n)}),u.setAngle(t,t.angle+e)}else u.setAngle(t,t.angle+e)},u.scale=function(t,e,i,s){var r,o,l=0,c=0;for(s=s||t.position,r=0;r<t.parts.length;r++)o=t.parts[r],n.scale(o.vertices,e,i,s),o.axes=h.fromVertices(o.vertices),o.area=n.area(o.vertices),u.setMass(o,t.density*o.area),n.translate(o.vertices,{x:-o.position.x,y:-o.position.y}),u.setInertia(o,u._inertiaScale*n.inertia(o.vertices,o.mass)),n.translate(o.vertices,{x:o.position.x,y:o.position.y}),r>0&&(l+=o.area,c+=o.inertia),o.position.x=s.x+(o.position.x-s.x)*e,o.position.y=s.y+(o.position.y-s.y)*i,a.update(o.bounds,o.vertices,t.velocity);t.parts.length>1&&(t.area=l,t.isStatic||(u.setMass(t,t.density*l),u.setInertia(t,c))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},u.update=function(t,e,i,r){var o,u,l=Math.pow(e*i*t.timeScale,2),c=1-t.frictionAir*i*t.timeScale,f=t.position.x-t.positionPrev.x,d=t.position.y-t.positionPrev.y;for(t.velocity.x=f*c*r+t.force.x/t.mass*l,t.velocity.y=d*c*r+t.force.y/t.mass*l,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*c*r+t.torque/t.inertia*l,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=s.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity),o=0;o<t.parts.length;o++)u=t.parts[o],n.translate(u.vertices,t.velocity),o>0&&(u.position.x+=t.velocity.x,u.position.y+=t.velocity.y),0!==t.angularVelocity&&(n.rotate(u.vertices,t.angularVelocity,t.position),h.rotate(u.axes,t.angularVelocity),o>0&&s.rotateAbout(u.position,t.angularVelocity,t.position,u.position)),a.update(u.bounds,u.vertices,t.velocity)},u.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var n={x:e.x-t.position.x,y:e.y-t.position.y};t.torque+=n.x*i.y-n.y*i.x},u._totalProperties=function(t){var e,i,n,r={mass:0,area:0,inertia:0,centre:{x:0,y:0}};for(e=1===t.parts.length?0:1;e<t.parts.length;e++)i=t.parts[e],n=i.mass!==Infinity?i.mass:1,r.mass+=n,r.area+=i.area,r.inertia+=i.inertia,r.centre=s.add(r.centre,s.mult(i.position,n));return r.centre=s.div(r.centre,r.mass),r}}()},function(t,e,i){var n=i(21),s=i(114);t.exports=i(20)?function(t,e,i){return n.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(8),s=i(48),r=i(56),o=i(115)("src"),a="toString",h=Function[a],u=(""+h).split(a);i(64).inspectSource=function(t){return h.call(t)},(t.exports=function(t,e,i,a){var h="function"==typeof i;h&&(r(i,"name")||s(i,"name",e)),t[e]!==i&&(h&&(r(i,o)||s(i,o,t[e]?""+t[e]:u.join(e+""))),t===n?t[e]=i:a?t[e]?t[e]=i:s(t,e,i):(delete t[e],s(t,e,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||h.call(this)})},function(t,e,i){var n=i(1),s=i(10),r=i(72),o=/"/g,a=function(t,e,i,n){var s=r(t)+"",a="<"+e;return""!==i&&(a+=" "+i+'="'+(n+"").replace(o,"&quot;")+'"'),a+">"+s+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(a),n(n.P+n.F*s(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(938);e["default"]=n["default"]},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n={VERSION:"3.16.2",BlendModes:i(105),ScaleModes:i(163),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s,r){var o,a,h;if(n===undefined&&(n=0),s===undefined&&(s=0),r===undefined&&(r=1),a=0,h=t.length,1===r)for(o=s;o<h;o++)t[o][e]=i+a*n,a++;else for(o=s;o>=0;o--)t[o][e]=i+a*n,a++;return t};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BLUR:i(1053),BOOT:i(1054),DESTROY:i(1055),FOCUS:i(1056),HIDDEN:i(1057),PAUSE:i(1058),POST_RENDER:i(1059),POST_STEP:i(1060),PRE_RENDER:i(1061),PRE_STEP:i(1062),READY:i(1063),RESUME:i(1064),STEP:i(1065),VISIBLE:i(1066)}},function(t,e,i){var n=i(105),s=i(25),r=i(163),o=function(t,e,i){var o,a,h,u,l,c,f;return e.x=s(i,"x",0),e.y=s(i,"y",0),e.depth=s(i,"depth",0),e.flipX=s(i,"flipX",!1),e.flipY=s(i,"flipY",!1),o=s(i,"scale",null),"number"==typeof o?e.setScale(o):null!==o&&(e.scaleX=s(o,"x",1),e.scaleY=s(o,"y",1)),a=s(i,"scrollFactor",null),"number"==typeof a?e.setScrollFactor(a):null!==a&&(e.scrollFactorX=s(a,"x",1),e.scrollFactorY=s(a,"y",1)),e.rotation=s(i,"rotation",0),h=s(i,"angle",null),null!==h&&(e.angle=h),e.alpha=s(i,"alpha",1),u=s(i,"origin",null),"number"==typeof u?e.setOrigin(u):null!==u&&(l=s(u,"x",.5),c=s(u,"y",.5),e.setOrigin(l,c)),e.scaleMode=s(i,"scaleMode",r.DEFAULT),e.blendMode=s(i,"blendMode",n.NORMAL),e.visible=s(i,"visible",!0),f=s(i,"add",!0),f&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e};t.exports=o},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(159),s=i(72);t.exports=function(t){return n(s(t))}},function(t,e,i){var n=i(160),s=i(114),r=i(57),o=i(71),a=i(56),h=i(360),u=Object.getOwnPropertyDescriptor;e.f=i(20)?u:function(t,e){if(t=r(t),e=o(e,!0),h)try{return u(t,e)}catch(i){}if(a(t,e))return s(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(56),s=i(31),r=i(245)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=s(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(106),a=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Transform,s.Visible],initialize:function(t,e,i){e===undefined&&(e="Shape"),r.call(this,t,e),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.initPipeline()},setFillStyle:function(t,e){return e===undefined&&(e=1),t===undefined?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=e,this.isFilled=!0),this},setStrokeStyle:function(t,e,i){return i===undefined&&(i=1),t===undefined?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=e,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}});t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(t,e,i){var n,s,r={};t.exports=r,n=i(69),s=i(28),function(){r.create=function(t,e){var i,n,s,r=[];for(i=0;i<t.length;i++)n=t[i],s={x:n.x,y:n.y,index:i,body:e,isInternal:!1,contact:null},s.contact={vertex:s,normalImpulse:0,tangentImpulse:0},r.push(s);return r},r.fromPath=function(t,e){var i=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,n=[];return t.replace(i,function(t,e,i){n.push({x:parseFloat(e),y:parseFloat(i)})}),r.create(n,e)},r.centre=function(t){var e,i,s,o,a=r.area(t,!0),h={x:0,y:0};for(o=0;o<t.length;o++)s=(o+1)%t.length,e=n.cross(t[o],t[s]),i=n.mult(n.add(t[o],t[s]),e),h=n.add(h,i);return n.div(h,6*a)},r.mean=function(t){var e,i={x:0,y:0};for(e=0;e<t.length;e++)i.x+=t[e].x,i.y+=t[e].y;return n.div(i,t.length)},r.area=function(t,e){var i,n=0,s=t.length-1;for(i=0;i<t.length;i++)n+=(t[s].x-t[i].x)*(t[s].y+t[i].y),s=i;return e?n/2:Math.abs(n)/2},r.inertia=function(t,e){var i,s,r,o=0,a=0,h=t;for(r=0;r<h.length;r++)s=(r+1)%h.length,i=Math.abs(n.cross(h[s],h[r])),o+=i*(n.dot(h[s],h[s])+n.dot(h[s],h[r])+n.dot(h[r],h[r])),a+=i;return e/6*(o/a)},r.translate=function(t,e,i){var n;if(i)for(n=0;n<t.length;n++)t[n].x+=e.x*i,t[n].y+=e.y*i;else for(n=0;n<t.length;n++)t[n].x+=e.x,t[n].y+=e.y;return t},r.rotate=function(t,e,i){var n,s,r,o,a,h;if(0!==e){for(n=Math.cos(e),s=Math.sin(e),r=0;r<t.length;r++)o=t[r],a=o.x-i.x,h=o.y-i.y,o.x=i.x+(a*n-h*s),o.y=i.y+(a*s+h*n);return t}},r.contains=function(t,e){var i,n,s;for(i=0;i<t.length;i++)if(n=t[i],s=t[(i+1)%t.length],(e.x-n.x)*(s.y-n.y)+(e.y-n.y)*(n.x-s.x)>0)return!1;return!0},r.scale=function(t,e,i,s){var o,a,h;if(1===e&&1===i)return t;for(s=s||r.centre(t),h=0;h<t.length;h++)o=t[h],a=n.sub(o,s),t[h].x=s.x+a.x*e,t[h].y=s.y+a.y*i;return t},r.chamfer=function(t,e,i,r,o){var a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w;for(e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,r=r||2,o=o||14,a=[],h=0;h<t.length;h++)if(u=t[h-1>=0?h-1:t.length-1],l=t[h],c=t[(h+1)%t.length],f=e[h<e.length?h:e.length-1],0!==f)for(d=n.normalise({x:l.y-u.y,y:u.x-l.x}),p=n.normalise({x:c.y-l.y,y:l.x-c.x}),g=Math.sqrt(2*Math.pow(f,2)),y=n.mult(s.clone(d),f),m=n.normalise(n.mult(n.add(d,p),.5)),v=n.sub(l,n.mult(m,g)),x=i,-1===i&&(x=1.75*Math.pow(f,.32)),x=s.clamp(x,r,o),x%2==1&&(x+=1),b=Math.acos(n.dot(d,p)),_=b/x,w=0;w<x;w++)a.push(n.add(n.rotate(y,_*w),v));else a.push(l);return a},r.clockwiseSort=function(t){var e=r.mean(t);return t.sort(function(t,i){return n.angle(e,t)-n.angle(e,i)}),t},r.isConvex=function(t){var e,i,n,s,r=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(i=(e+1)%o,n=(e+2)%o,s=(t[i].x-t[e].x)*(t[n].y-t[i].y),s-=(t[i].y-t[e].y)*(t[n].x-t[i].x),s<0?r|=1:s>0&&(r|=2),3===r)return!1;return 0!==r||null},r.hull=function(t){var e,i,s=[],r=[];for(t=t.slice(0),t.sort(function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y}),i=0;i<t.length;i+=1){for(e=t[i];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],e)<=0;)s.pop();s.push(e)}return s.pop(),r.pop(),s.concat(r)}}()},function(t,e,i){function n(t,e,i){var n,s,r;if(void 0===e&&(e=1e4),void 0===i&&(i=1),e>t)return""+t;for(n=""+t,s=n[0]+",",r=1;r<=i;r+=1)s+=n[r];return s+"E+"+(n.length-1)}function s(t,e){var i=t.x,n=t.y,s=e.x,r=e.y;return Math.sqrt(Math.pow(i-s,2)+Math.pow(n-r,2))}function r(t){return Math.sin(t)}function o(t){return Math.cos(t)}function a(t,e,i){return t.y-=r(e)*i,t.x+=o(e)*i,t}function h(t,e){for(var i=0;i<t;i+=1)e(i)}function u(t,e,i,n){return{x:m.getIntInInterval(t,e),y:m.getIntInInterval(i,n)}}function l(t,e){var i=t.angle,n=t.pos;n.y-=r(i)*e,n.x+=o(i)*e}function c(t,e){l(t,e*t.speed)}function f(t,i){t.angle+=i,t.angle<0?t.angle=e.MAX_ANGLE+t.angle:t.angle>=e.MAX_ANGLE&&(t.angle%=e.MAX_ANGLE)}function d(t,i){var n=t;return n+=i,n<0?n=e.MAX_ANGLE+n:n>=e.MAX_ANGLE&&(n%=e.MAX_ANGLE),n}function p(t,i){return(e.MAX_ANGLE-+Math.atan2(i.y-t.y,i.x-t.x).toPrecision(2))%e.MAX_ANGLE}function g(t,i){var n,s,r=p(t.pos,i.pos);return r===t.angle?{left:0,right:0}:(n=r-t.angle,s=n>0?e.MAX_ANGLE-n:-(e.MAX_ANGLE+n),n<0?{left:-s,right:-n}:{left:n,right:s})}function y(t,e){return v.collideCircles(x({},t.pos,{radius:t.size}),x({},e.pos,{radius:e.size}))}var m,v,x=this&&this.__assign||function(){return x=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++){e=arguments[i];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),m=i(35),v=i(1849),e.MATH_PI=3.14,e.MAX_ANGLE=2*e.MATH_PI,e.getExp=n,e.getDistance=s,e.sin=r,e.cos=o,e.movePoint=a,e.runFn=h,e.getRandomPoint=u,e.moveBy=l,e.move=c,e.turn=f,e.turnAngle=d,e.getAngle=p,e.getAngles=g,e.checkCollisions=y},function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(41);t.exports=function(t,e,i){if(n(t),e===undefined)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)}}return function(){return t.apply(e,arguments)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";var n=i(10);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){var n=i(0),s=i(291),r=i(446),o=i(292),a=i(447),h=new n({initialize:function(t,e,i,n){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,e,i,n)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(t,e,i,n,s){return n===undefined&&(n=255),s===undefined&&(s=!0),this._locked=!0,this.red=t,this.green=e,this.blue=i,this.alpha=n,this._locked=!1,this.update(s)},setGLTo:function(t,e,i,n){return n===undefined&&(n=1),this._locked=!0,this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=n,this._locked=!1,this.update(!0)},setFromRGB:function(t){return this._locked=!0,this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this._locked=!1,this.update(!0)},setFromHSV:function(t,e,i){return o(t,e,i,this)},update:function(t){var e,i,n,o;return t===undefined&&(t=!1),this._locked?this:(e=this.r,i=this.g,n=this.b,o=this.a,this._color=s(e,i,n),this._color32=r(e,i,n,o),this._rgba="rgba("+e+","+i+","+n+","+o/255+")",t&&a(e,i,n,this),this)},updateHSV:function(){var t=this.r,e=this.g,i=this.b;return a(t,e,i,this),this},clone:function(){return new h(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,e){var i,n,s;return t===undefined&&(t=0),e===undefined&&(e=255),i=Math.floor(t+Math.random()*(e-t)),n=Math.floor(t+Math.random()*(e-t)),s=Math.floor(t+Math.random()*(e-t)),this.setTo(i,n,s)},randomGray:function(t,e){t===undefined&&(t=0),e===undefined&&(e=255);var i=Math.floor(t+Math.random()*(e-t));return this.setTo(i,i,i)},saturate:function(t){return this.s+=t/100,this},desaturate:function(t){return this.s-=t/100,this},lighten:function(t){return this.v+=t/100,this},darken:function(t){return this.v-=t/100,this},brighten:function(t){var e=this.r,i=this.g,n=this.b;return e=Math.max(0,Math.min(255,e-Math.round(-t/100*255))),i=Math.max(0,Math.min(255,i-Math.round(-t/100*255))),n=Math.max(0,Math.min(255,n-Math.round(-t/100*255))),this.setTo(e,i,n)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update(!0)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t,o(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t,o(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t,o(this._h,this._s,t,this)}}});t.exports=h},function(t,e){var i={};t.exports=i,function(){i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var n,s=Math.cos(e),r=Math.sin(e);return i||(i={}),n=t.x*s-t.y*r,i.y=t.x*r+t.y*s,i.x=n,i},i.rotateAbout=function(t,e,i,n){var s,r=Math.cos(e),o=Math.sin(e);return n||(n={}),s=i.x+((t.x-i.x)*r-(t.y-i.y)*o),n.y=i.y+((t.x-i.x)*o+(t.y-i.y)*r),n.x=s,n},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return e=!0===e?-1:1,{x:e*-t.y,y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]}()},function(t,e){var i={};t.exports=i,function(){i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){var n,s;for(t.min.x=Infinity,t.max.x=-Infinity,t.min.y=Infinity,t.max.y=-Infinity,n=0;n<e.length;n++)s=e[n],s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y);i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,n=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+n}}()},function(t,e,i){var n=i(11);t.exports=function(t,e){if(!n(t))return t;var i,s;if(e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;if("function"==typeof(i=t.valueOf)&&!n(s=i.call(t)))return s;if(!e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(1),s=i(64),r=i(10);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",o)}},function(t,e,i){var n=i(65),s=i(159),r=i(31),o=i(22),a=i(262);t.exports=function(t,e){var i=1==t,h=2==t,u=3==t,l=4==t,c=6==t,f=5==t||c,d=e||a;return function(e,a,p){for(var g,y,m=r(e),v=s(m),x=n(a,p,3),b=o(v.length),_=0,w=i?d(e,b):h?d(e,0):undefined;b>_;_++)if((f||_ in v)&&(g=v[_],y=x(g,_,m),t))if(i)w[_]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:w.push(g)}else if(l)return!1;return c?-1:u||l?l:w}}},function(t,e,i){var n,s,r,o,a=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n["throw"](t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s["return"]:i[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(o){i=[6,o],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},u=this;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),s=i(396),e.TIMEOUT=5e3,e.IP_KEY="_IP2",e.UNKNOWN_IP="unknown IP",e.IPIFY_URL="https://api.ipify.org/?format=json",r="([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])",e.IP_REGEX="^"+r+"."+r+"."+r+"."+r+"$",o=function(){return"195."+n.getIntInInterval(0,255)+"."+n.getIntInInterval(0,255)+"."+n.getIntInInterval(0,255)},e.getIPfromIpify=function(t){return void 0===t&&(t=s.request),a(u,void 0,void 0,function(){return h(this,function(i){return[2,t(e.IPIFY_URL).then(function(t){try{var i=JSON.parse(t).ip;if("string"!=typeof i||!i.match(e.IP_REGEX))throw Error("Ip not found");return JSON.parse(t).ip}catch(t){return o()}})["catch"](function(){return o()})]})})},e.obtainIPAddress=function(){return a(u,void 0,void 0,function(){var t;return h(this,function(i){return t=new Promise(function(t){setTimeout(function(){t(o())},e.TIMEOUT)}),[2,Promise.race([e.getIPfromIpify(),t]).then(function(t){n.Storage.set(e.IP_KEY,t)})]})})},e.getIPAdress=function(){return n.Storage.get(e.IP_KEY)||e.UNKNOWN_IP}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s,r){var o,a,h;if(n===undefined&&(n=0),s===undefined&&(s=0),r===undefined&&(r=1),a=0,h=t.length,1===r)for(o=s;o<h;o++)t[o][e]+=i+a*n,a++;else for(o=s;o>=0;o--)t[o][e]+=i+a*n,a++;return t};t.exports=i},function(t,e,i){var n=i(33),s=function(t){return t*n.DEG_TO_RAD};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=i||e.fillColor,s=e.fillAlpha,r=(16711680&n)>>>16,o=(65280&n)>>>8,a=255&n;t.fillStyle="rgba("+r+","+o+","+a+","+s+")"};t.exports=i},function(t,e,i){"use strict";var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K,q,J,Z,Q,$,tt,et,it,nt,st,rt,ot,at,ht,ut,lt,ct,ft,dt,pt,gt,yt,mt,vt,xt,bt,_t,wt,Tt,St,At,Et,Pt,Ot,Mt,Ct,It,Rt,Lt,kt,Dt,Ft,Nt,Bt,Ut,Gt,Yt,Xt,zt,Wt,jt,Vt;i(20)?(n=i(101),s=i(8),r=i(10),o=i(1),a=i(193),h=i(268),u=i(65),l=i(121),c=i(114),f=i(48),d=i(123),p=i(73),g=i(22),y=i(386),m=i(117),v=i(71),x=i(56),b=i(161),_=i(11),w=i(31),T=i(259),S=i(118),A=i(59),E=i(119).f,P=i(261),O=i(115),M=i(17),C=i(75),I=i(183),R=i(190),L=i(264),k=i(139),D=i(187),F=i(120),N=i(263),B=i(376),U=i(21),G=i(58),Y=U.f,X=G.f,z=s.RangeError,W=s.TypeError,j=s.Uint8Array,V="ArrayBuffer",H="Shared"+V,K="BYTES_PER_ELEMENT",q="prototype",J=Array[q],Z=h.ArrayBuffer,Q=h.DataView,$=C(0),tt=C(2),et=C(3),it=C(4),nt=C(5),st=C(6),rt=I(!0),ot=I(!1),at=L.values,ht=L.keys,ut=L.entries,lt=J.lastIndexOf,ct=J.reduce,ft=J.reduceRight,dt=J.join,pt=J.sort,gt=J.slice,yt=J.toString,mt=J.toLocaleString,vt=M("iterator"),xt=M("toStringTag"),bt=O("typed_constructor"),_t=O("def_constructor"),wt=a.CONSTR,Tt=a.TYPED,St=a.VIEW,At="Wrong length!",Et=C(1,function(t,e){return It(R(t,t[_t]),e)}),Pt=r(function(){return 1===new j(new Uint16Array([1]).buffer)[0]}),Ot=!!j&&!!j[q].set&&r(function(){new j(1).set({})}),Mt=function(t,e){var i=p(t);if(i<0||i%e)throw z("Wrong offset!");return i},Ct=function(t){if(_(t)&&Tt in t)return t;throw W(t+" is not a typed array!")},It=function(t,e){if(!(_(t)&&bt in t))throw W("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Lt(R(t,t[_t]),e)},Lt=function(t,e){for(var i=0,n=e.length,s=It(t,n);n>i;)s[i]=e[i++];return s},kt=function(t,e,i){Y(t,e,{get:function(){return this._d[i]}})},Dt=function(t){var e,i,n,s,r,o,a=w(t),h=arguments.length,l=h>1?arguments[1]:undefined,c=l!==undefined,f=P(a);if(f!=undefined&&!T(f)){for(o=f.call(a),n=[],e=0;!(r=o.next()).done;e++)n.push(r.value);a=n}for(c&&h>2&&(l=u(l,arguments[2],2)),e=0,i=g(a.length),s=It(this,i);i>e;e++)s[e]=c?l(a[e],e):a[e];return s},Ft=function(){for(var t=0,e=arguments.length,i=It(this,e);e>t;)i[t]=arguments[t++];return i},Nt=!!j&&r(function(){mt.call(new j(1))}),Bt=function(){return mt.apply(Nt?gt.call(Ct(this)):Ct(this),arguments)},Ut={copyWithin:function(t,e){return B.call(Ct(this),t,e,arguments.length>2?arguments[2]:undefined)},every:function(t){return it(Ct(this),t,arguments.length>1?arguments[1]:undefined)},fill:function(t){return N.apply(Ct(this),arguments)},filter:function(t){return Rt(this,tt(Ct(this),t,arguments.length>1?arguments[1]:undefined))},find:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:undefined)},findIndex:function(t){return st(Ct(this),t,arguments.length>1?arguments[1]:undefined)},forEach:function(t){$(Ct(this),t,arguments.length>1?arguments[1]:undefined)},indexOf:function(t){return ot(Ct(this),t,arguments.length>1?arguments[1]:undefined)},includes:function(t){return rt(Ct(this),t,arguments.length>1?arguments[1]:undefined)},join:function(t){return dt.apply(Ct(this),arguments)},lastIndexOf:function(t){return lt.apply(Ct(this),arguments)},map:function(t){return Et(Ct(this),t,arguments.length>1?arguments[1]:undefined)},reduce:function(t){return ct.apply(Ct(this),arguments)},reduceRight:function(t){return ft.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,i=Ct(e).length,n=Math.floor(i/2),s=0;s<n;)t=e[s],e[s++]=e[--i],e[i]=t;return e},some:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:undefined)},sort:function(t){return pt.call(Ct(this),t)},subarray:function(t,e){var i=Ct(this),n=i.length,s=m(t,n);return new(R(i,i[_t]))(i.buffer,i.byteOffset+s*i.BYTES_PER_ELEMENT,g((e===undefined?n:m(e,n))-s))}},Gt=function(t,e){return Rt(this,gt.call(Ct(this),t,e))},Yt=function(t){var e,i,n,s,r;if(Ct(this),e=Mt(arguments[1],1),i=this.length,n=w(t),s=g(n.length),r=0,s+e>i)throw z(At);for(;r<s;)this[e+r]=n[r++]},Xt={entries:function(){return ut.call(Ct(this))},keys:function(){return ht.call(Ct(this))},values:function(){return at.call(Ct(this))}},zt=function(t,e){return _(t)&&t[Tt]&&"symbol"!=typeof e&&e in t&&+e+""==e+""},Wt=function(t,e){return zt(t,e=v(e,!0))?c(2,t[e]):X(t,e)},jt=function(t,e,i){return!(zt(t,e=v(e,!0))&&_(i)&&x(i,"value"))||x(i,"get")||x(i,"set")||i.configurable||x(i,"writable")&&!i.writable||x(i,"enumerable")&&!i.enumerable?Y(t,e,i):(t[e]=i.value,t)},wt||(G.f=Wt,U.f=jt),o(o.S+o.F*!wt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:jt}),r(function(){yt.call({})})&&(yt=mt=function(){return dt.call(this)}),Vt=d({},Ut),d(Vt,Xt),f(Vt,vt,Xt.values),d(Vt,{slice:Gt,set:Yt,constructor:function(){},toString:yt,toLocaleString:Bt}),kt(Vt,"buffer","b"),kt(Vt,"byteOffset","o"),kt(Vt,"byteLength","l"),kt(Vt,"length","e"),Y(Vt,xt,{get:function(){return this[Tt]}}),t.exports=function(t,e,i,h){var u,c,d,p,m,v,x,w,T,P,O,M,C,I,R;h=!!h,u=t+(h?"Clamped":"")+"Array",c="get"+t,d="set"+t,p=s[u],m=p||{},v=p&&A(p),x=!p||!a.ABV,w={},T=p&&p[q],P=function(t,i){var n=t._d;return n.v[c](i*e+n.o,Pt)},O=function(t,i,n){var s=t._d;h&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),s.v[d](i*e+s.o,n,Pt)},M=function(t,e){Y(t,e,{get:function(){return P(this,e)},set:function(t){return O(this,e,t)},enumerable:!0})},x?(p=i(function(t,i,n,s){var r,o,a,h,c,d,m;if(l(t,p,u,"_d"),r=0,o=0,_(i)){if(!(i instanceof Z||(d=b(i))==V||d==H))return Tt in i?Lt(p,i):Dt.call(p,i);if(a=i,o=Mt(n,e),m=i.byteLength,s===undefined){if(m%e)throw z(At);if((h=m-o)<0)throw z(At)}else if((h=g(s)*e)+o>m)throw z(At);c=h/e}else c=y(i),h=c*e,a=new Z(h);for(f(t,"_d",{b:a,o:o,l:h,e:c,v:new Q(a)});r<c;)M(t,r++)}),T=p[q]=S(Vt),f(T,"constructor",p)):r(function(){p(1)})&&r(function(){new p(-1)})&&D(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=i(function(t,i,n,s){l(t,p,u);var r;return _(i)?i instanceof Z||(r=b(i))==V||r==H?s!==undefined?new m(i,Mt(n,e),s):n!==undefined?new m(i,Mt(n,e)):new m(i):Tt in i?Lt(p,i):Dt.call(p,i):new m(y(i))}),$(v!==Function.prototype?E(m).concat(E(v)):E(m),function(t){t in p||f(p,t,m[t])}),p[q]=T,n||(T.constructor=p)),C=T[vt],I=!!C&&("values"==C.name||C.name==undefined),R=Xt.values,f(p,bt,!0),f(T,Tt,u),f(T,St,!0),f(T,_t,p),(h?new p(1)[xt]==u:xt in T)||Y(T,xt,{get:function(){return u}}),w[u]=p,o(o.G+o.W+o.F*(p!=m),w),o(o.S,u,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*r(function(){m.of.call(p,1)}),u,{from:Dt,of:Ft}),K in T||f(T,K,e),o(o.P,u,Ut),F(u),o(o.P+o.F*Ot,u,{set:Yt}),o(o.P+o.F*!I,u,Xt),n||T.toString==yt||(T.toString=yt),o(o.P+o.F*r(function(){new p(1).slice()}),u,{slice:Gt}),o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!r(function(){T.toLocaleString.call([1,2])})),u,{toLocaleString:Bt}),k[u]=I?C:R,n||I||f(T,vt,R)}):t.exports=function(){}},function(t,e,i){var n=i(381),s=i(1),r=i(182)("metadata"),o=r.store||(r.store=new(i(384))),a=function(t,e,i){var s,r=o.get(t);if(!r){if(!i)return undefined;o.set(t,r=new n)}if(!(s=r.get(e))){if(!i)return undefined;r.set(e,s=new n)}return s},h=function(t,e,i){var n=a(e,i,!1);return n!==undefined&&n.has(t)},u=function(t,e,i){var n=a(e,i,!1);return n===undefined?undefined:n.get(t)},l=function(t,e,i,n){a(i,n,!0).set(t,e)},c=function(t,e){var i=a(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},f=function(t){return t===undefined||"symbol"==typeof t?t:t+""},d=function(t){s(s.S,"Reflect",t)};t.exports={store:o,map:a,has:h,get:u,set:l,keys:c,key:f,exp:d}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i={},n=function(t){var e,n,s,r,o;try{for(e=t+"=",n=document.cookie.split(";"),s=n.length,r=0;r<s;r+=1){for(o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}}catch(e){return i[t]||null}return null},s=function(t,e){var n,s;try{n=new Date,n.setTime(n.getTime()+31536e6),s="expires="+n.toUTCString(),document.cookie=t+"="+e+"; "+s}catch(n){i[t]=e}},r=function(t){var e;if(window.localStorage&&"function"==typeof window.localStorage.getItem)try{e=window.localStorage.getItem(t)}catch(i){e=n(t)}else e=n(t);try{return e?JSON.parse(e):e}catch(i){return e}},o=function(t,e){var i;try{i=JSON.stringify(e)}catch(n){i=e}if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem(t,i)}catch(n){s(t,i)}else s(t,i)},a={get:function(t){return r(t)},set:function(t,e){return o(t,e)}};e["default"]=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.y+t.height-t.height*t.originY};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.y=e-t.height+t.height*t.originY,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x-t.width*t.originX};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x=e+t.width*t.originX,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x+t.width-t.width*t.originX};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x=e-t.width+t.width*t.originX,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.y-t.height*t.originY};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.y=e+t.height*t.originY,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s;return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(n=(t.x-e)*(t.x-e),s=(t.y-i)*(t.y-i),n+s<=t.radius*t.radius)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return!(t.width<=0||t.height<=0)&&(t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i)};t.exports=i},function(t,e,i){var n=i(0),s=i(4),r=new n({initialize:function(t,e,i,n,s,r){t===undefined&&(t=1),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=1),s===undefined&&(s=0),r===undefined&&(r=0),this.matrix=new Float32Array([t,e,i,n,s,r,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},scaleY:{get:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),n=this.matrix,s=n[0],r=n[1],o=n[2],a=n[3];return n[0]=s*i+o*e,n[1]=r*i+a*e,n[2]=s*-e+o*i,n[3]=r*-e+a*i,this},multiply:function(t,e){var i=this.matrix,n=t.matrix,s=i[0],r=i[1],o=i[2],a=i[3],h=i[4],u=i[5],l=n[0],c=n[1],f=n[2],d=n[3],p=n[4],g=n[5],y=e===undefined?this:e;return y.a=l*s+c*o,y.b=l*r+c*a,y.c=f*s+d*o,y.d=f*r+d*a,y.e=p*s+g*o+h,y.f=p*r+g*a+u,y},multiplyWithOffset:function(t,e,i){var n=this.matrix,s=t.matrix,r=n[0],o=n[1],a=n[2],h=n[3],u=n[4],l=n[5],c=e*r+i*a+u,f=e*o+i*h+l,d=s[0],p=s[1],g=s[2],y=s[3],m=s[4],v=s[5];return n[0]=d*r+p*a,n[1]=d*o+p*h,n[2]=g*r+y*a,n[3]=g*o+y*h,n[4]=m*r+v*a+c,n[5]=m*o+v*h+f,this},transform:function(t,e,i,n,s,r){var o=this.matrix,a=o[0],h=o[1],u=o[2],l=o[3],c=o[4],f=o[5];return o[0]=t*a+e*u,o[1]=t*h+e*l,o[2]=i*a+n*u,o[3]=i*h+n*l,o[4]=s*a+r*u+c,o[5]=s*h+r*l+f,this},transformPoint:function(t,e,i){var n,s,r,o,a,h,u;return i===undefined&&(i={x:0,y:0}),n=this.matrix,s=n[0],r=n[1],o=n[2],a=n[3],h=n[4],u=n[5],i.x=t*s+e*o+h,i.y=t*r+e*a+u,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=e*s-i*n;return t[0]=s/a,t[1]=-i/a,t[2]=-n/a,t[3]=e/a,t[4]=(n*o-s*r)/a,t[5]=-(e*o-i*r)/a,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t},copyToArray:function(t){var e=this.matrix;return t===undefined?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,n,s,r){var o=this.matrix;return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=s,o[5]=r,this},decomposeMatrix:function(){var t,e,i=this.decomposedMatrix,n=this.matrix,s=n[0],r=n[1],o=n[2],a=n[3],h=s*a-r*o;return i.translateX=n[4],i.translateY=n[5],s||r?(t=Math.sqrt(s*s+r*r),i.rotation=r>0?Math.acos(s/t):-Math.acos(s/t),i.scaleX=t,i.scaleY=h/t):o||a?(e=Math.sqrt(o*o+a*a),i.rotation=.5*Math.PI-(a>0?Math.acos(-o/e):-Math.acos(o/e)),i.scaleX=h/e,i.scaleY=e):(i.rotation=0,i.scaleX=0,i.scaleY=0),i},applyITRS:function(t,e,i,n,s){var r=this.matrix,o=Math.sin(i),a=Math.cos(i);return r[4]=t,r[5]=e,r[0]=a*n,r[1]=o*n,r[2]=-o*s,r[3]=a*s,this},applyInverse:function(t,e,i){var n,r,o,a,h,u,l,c;return i===undefined&&(i=new s),n=this.matrix,r=n[0],o=n[1],a=n[2],h=n[3],u=n[4],l=n[5],c=1/(r*h+a*-o),i.x=h*c*t+-a*c*e+(l*a-u*h)*c,i.y=r*c*e+-o*c*t+(-l*r+u*o)*c,i},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DESTROY:i(1075),FADE_IN_COMPLETE:i(1076),FADE_IN_START:i(1077),FADE_OUT_COMPLETE:i(1078),FADE_OUT_START:i(1079),FLASH_COMPLETE:i(1080),FLASH_START:i(1081),PAN_COMPLETE:i(1082),PAN_START:i(1083),POST_RENDER:i(1084),PRE_RENDER:i(1085),SHAKE_COMPLETE:i(1086),SHAKE_START:i(1087),ZOOM_COMPLETE:i(1088),ZOOM_START:i(1089)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BOOT:i(1245),DESTROY:i(1246),DRAG_END:i(1247),DRAG_ENTER:i(1248),DRAG:i(1249),DRAG_LEAVE:i(1250),DRAG_OVER:i(1251),DRAG_START:i(1252),DROP:i(1253),GAME_OUT:i(1254),GAME_OVER:i(1255),GAMEOBJECT_DOWN:i(1256),GAMEOBJECT_DRAG_END:i(1257),GAMEOBJECT_DRAG_ENTER:i(1258),GAMEOBJECT_DRAG:i(1259),GAMEOBJECT_DRAG_LEAVE:i(1260),GAMEOBJECT_DRAG_OVER:i(1261),GAMEOBJECT_DRAG_START:i(1262),GAMEOBJECT_DROP:i(1263),GAMEOBJECT_MOVE:i(1264),GAMEOBJECT_OUT:i(1265),GAMEOBJECT_OVER:i(1266),GAMEOBJECT_POINTER_DOWN:i(1267),GAMEOBJECT_POINTER_MOVE:i(1268),GAMEOBJECT_POINTER_OUT:i(1269),GAMEOBJECT_POINTER_OVER:i(1270),GAMEOBJECT_POINTER_UP:i(1271),GAMEOBJECT_UP:i(1272),MANAGER_BOOT:i(1273),MANAGER_PROCESS:i(1274),MANAGER_UPDATE:i(1275),POINTER_DOWN:i(1276),POINTER_DOWN_OUTSIDE:i(1277),POINTER_MOVE:i(1278),POINTER_OUT:i(1279),POINTER_OVER:i(1280),POINTER_UP:i(1281),POINTER_UP_OUTSIDE:i(1282),POINTERLOCK_CHANGE:i(1283),PRE_UPDATE:i(1284),SHUTDOWN:i(1285),START:i(1286),UPDATE:i(1287)}},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(1393),a=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,o],initialize:function(t,e,i,n,o){r.call(this,t,"Sprite"),this._crop=this.resetCropObject(),this.anims=new s.Animation(this),this.setTexture(n,o),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e,i){return this.anims.play(t,e,i),this},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=undefined}});t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=e.strokeColor,n=e.strokeAlpha,s=(16711680&i)>>>16,r=(65280&i)>>>8,o=255&i;t.strokeStyle="rgba("+s+","+r+","+o+","+n+")",t.lineWidth=e.lineWidth};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};t.exports=i},function(t,e,i){var n=i(235),s=i(39),r=function(t,e,i,r,o){var a,h,u=null,l=null,c=null,f=null,d=s(t,e,i,r,null,o);for(a=0;a<d.length;a++)(h=d[a])&&(h.collides?(u=n(h.x,h.y-1,!0,o),l=n(h.x,h.y+1,!0,o),c=n(h.x-1,h.y,!0,o),f=n(h.x+1,h.y,!0,o),h.faceTop=!u||!u.collides,h.faceBottom=!l||!l.collides,h.faceLeft=!c||!c.collides,h.faceRight=!f||!f.collides):h.resetFaces())};t.exports=r},function(t,e,i){var n=i(115)("meta"),s=i(11),r=i(56),o=i(21).f,a=0,h=Object.isExtensible||function(){return!0},u=!i(10)(function(){return h(Object.preventExtensions({}))}),l=function(t){o(t,n,{value:{i:"O"+ ++a,w:{}}})},c=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!h(t))return"F";if(!e)return"E";l(t)}return t[n].i},f=function(t,e){if(!r(t,n)){if(!h(t))return!0;if(!e)return!1;l(t)}return t[n].w},d=function(t){return u&&p.NEED&&h(t)&&!r(t,n)&&l(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:c,getWeak:f,onFreeze:d}},function(t,e){t.exports=!1},function(t,e,i){var n=i(17)("unscopables"),s=Array.prototype;s[n]==undefined&&i(48)(s,n,{}),t.exports=function(t){s[n][t]=!0}},function(t,e){var i,n;Object.defineProperty(e,"__esModule",{value:!0}),i={VERBOSE:0,INFO:1,WARN:2,ERROR:3},e.logLevels=i,n=function(){function t(){}return t.prototype.assert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.clear=function(){},t.prototype.count=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupEnd=function(){},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.prototype.profile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.profileEnd=function(){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeStamp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}(),e["default"]=new n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(397);e.showModal=n.showModal,e.hideModal=n.hideModal,e.isModalShown=n.isModalShown,e.modalOnKeyDown=n.modalOnKeyDown},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(t,e,i){var n=i(0),s=i(426),r=i(278),o=i(279),a=i(4),h=new n({initialize:function(t,e,i,n){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,e,i,n){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this},getPointA:function(t){return t===undefined&&(t=new a),t.set(this.x1,this.y1),t},getPointB:function(t){return t===undefined&&(t=new a),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=h},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=i-e;return e+((t-e)%n+n)%n};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s=t-i,r=e-n;return Math.sqrt(s*s+r*r)};t.exports=i},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(6),u=i(13),l=new n({Extends:r,initialize:function(t,e,i,n,o){var l,c,f="json";u(e)&&(l=e,e=a(l,"key"),i=a(l,"url"),n=a(l,"xhrSettings"),f=a(l,"extension",f),o=a(l,"dataKey",o)),c={type:"json",cache:t.cacheManager.json,extension:f,responseType:"text",key:e,url:i,xhrSettings:n,config:o},r.call(this,t,c),u(i)&&(this.data=o?h(i,o):i,this.state=s.FILE_POPULATED)},onProcess:function(){var t,e;this.state!==s.FILE_POPULATED&&(this.state=s.FILE_PROCESSING,t=JSON.parse(this.xhrLoader.responseText),e=this.config,this.data="string"==typeof e?h(t,e,t):t),this.onProcessComplete()}});o.register("json",function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new l(this,t[s]));else this.addFile(new l(this,t,e,n,i));return this}),t.exports=l},function(t,e,i){var n,s,r,o,a,h,u={};t.exports=u,n=i(62),s=i(28),r=i(47),o=i(70),a=i(69),h=i(631),function(){u.rectangle=function(t,e,i,o,a){var h,u;return a=a||{},h={label:"Rectangle Body",position:{x:t,y:e},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+o+" L 0 "+o)},a.chamfer&&(u=a.chamfer,h.vertices=n.chamfer(h.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete a.chamfer),r.create(s.extend({},h,a))},u.trapezoid=function(t,e,i,o,a,h){var u,l,c,f,d,p,g;return h=h||{},a*=.5,u=(1-2*a)*i,l=i*a,c=l+u,f=c+l,d=a<.5?"L 0 0 L "+l+" "+-o+" L "+c+" "+-o+" L "+f+" 0":"L 0 0 L "+c+" "+-o+" L "+f+" 0",p={label:"Trapezoid Body",position:{x:t,y:e},vertices:n.fromPath(d)},h.chamfer&&(g=h.chamfer,p.vertices=n.chamfer(p.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete h.chamfer),r.create(s.extend({},p,h))},u.circle=function(t,e,i,n,r){var o,a;return n=n||{},o={label:"Circle Body",circleRadius:i},r=r||25,a=Math.ceil(Math.max(10,Math.min(r,i))),a%2==1&&(a+=1),u.polygon(t,e,a,i,s.extend({},o,n))},u.polygon=function(t,e,i,o,a){var h,l,c,f,d,p,g,y,m;if(a=a||{},i<3)return u.circle(t,e,o,a);for(h=2*Math.PI/i,l="",c=.5*h,f=0;f<i;f+=1)d=c+f*h,p=Math.cos(d)*o,g=Math.sin(d)*o,l+="L "+p.toFixed(3)+" "+g.toFixed(3)+" ";return y={label:"Polygon Body",position:{x:t,y:e},vertices:n.fromPath(l)},a.chamfer&&(m=a.chamfer,y.vertices=n.chamfer(y.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete a.chamfer),r.create(s.extend({},y,a))},u.fromVertices=function(t,e,i,u,l,c,f){var d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R;for(u=u||{},p=[],l=void 0!==l&&l,c=void 0!==c?c:.01,f=void 0!==f?f:10,h||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(y=i[b],(g=n.isConvex(y))||!h)y=g?n.clockwiseSort(y):n.hull(y),p.push({position:{x:t,y:e},vertices:y});else for(w=y.map(function(t){return[t.x,t.y]}),h.makeCCW(w),!1!==c&&h.removeCollinearPoints(w,c),T=h.quickDecomp(w),m=0;m<T.length;m++)S=T[m],A=S.map(function(t){return{x:t[0],y:t[1]}}),f>0&&n.area(A)<f||p.push({position:n.centre(A),vertices:A});for(m=0;m<p.length;m++)p[m]=r.create(s.extend(p[m],u));if(l)for(E=5,m=0;m<p.length;m++)for(P=p[m],v=m+1;v<p.length;v++)if(O=p[v],o.overlaps(P.bounds,O.bounds))for(M=P.vertices,C=O.vertices,x=0;x<P.vertices.length;x++)for(_=0;_<O.vertices.length;_++)I=a.magnitudeSquared(a.sub(M[(x+1)%M.length],C[_])),R=a.magnitudeSquared(a.sub(M[x],C[(_+1)%C.length])),I<E&&R<E&&(M[x].isInternal=!0,C[_].isInternal=!0);return p.length>1?(d=r.create(s.extend({parts:p.slice(0)},u)),r.setPosition(d,{x:t,y:e}),d):p[0]}}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r;return e===undefined&&(e=!0),s=n.baseTileWidth,r=n.tilemapLayer,r&&(i===undefined&&(i=r.scene.cameras.main),t-=r.x+i.scrollX*(1-r.scrollFactorX),s*=r.scaleX),e?Math.floor(t/s):t/s};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r;return e===undefined&&(e=!0),s=n.baseTileHeight,r=n.tilemapLayer,r&&(i===undefined&&(i=r.scene.cameras.main),t-=r.y+i.scrollY*(1-r.scrollFactorY),s*=r.scaleY),e?Math.floor(t/s):t/s};t.exports=i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(362),s=i(246);t.exports=Object.keys||function(t){return n(t,s)}},function(t,e,i){var n=i(73),s=Math.max,r=Math.min;t.exports=function(t,e){return t=n(t),t<0?s(t+e,0):r(t,e)}},function(t,e,i){var n=i(5),s=i(363),r=i(246),o=i(245)("IE_PROTO"),a=function(){},h="prototype",u=function(){var t,e=i(243)("iframe"),n=r.length,s="<",o=">";for(e.style.display="none",i(247).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(s+"script"+o+"document.F=Object"+s+"/script"+o),t.close(),u=t.F;n--;)delete u[h][r[n]];return u()};t.exports=Object.create||function(t,e){var i;return null!==t?(a[h]=n(t),i=new a,a[h]=null,i[o]=t):i=u(),e===undefined?i:s(i,e)}},function(t,e,i){var n=i(362),s=i(246).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},function(t,e,i){"use strict";var n=i(8),s=i(21),r=i(20),o=i(17)("species");t.exports=function(t){var e=n[t];r&&e&&!e[o]&&s.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||n!==undefined&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(65),s=i(374),r=i(259),o=i(5),a=i(22),h=i(261),u={},l={};e=t.exports=function(t,e,i,c,f){var d,p,g,y,m=f?function(){return t}:h(t),v=n(i,c,e?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(d=a(t.length);d>x;x++)if((y=e?v(o(p=t[x])[0],p[1]):v(t[x]))===u||y===l)return y}else for(g=m.call(t);!(p=g.next()).done;)if((y=s(g,v,p.value,e))===u||y===l)return y},e.BREAK=u,e.RETURN=l},function(t,e,i){var n=i(49);t.exports=function(t,e,i){for(var s in e)n(t,s,e[s],i);return t}},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(162),s=i(36),r=function(t){function e(){var i=t.call(this)||this;return e.modalType="modal-quit-game",i.question=s._("sure_quit"),i}return o(e,t),e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(124),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n["default"]),e["default"]=s},function(t,e,i){"use strict";function n(t,e,i){var n,r,a,h,u,l,f,d,p,g,y,m;if(i=i||2,n=e&&e.length,r=n?e[0]*i:t.length,a=s(t,0,r,i,!0),h=[],!a||a.next===a.prev)return h;if(n&&(a=c(t,e,a,i)),t.length>80*i){for(u=f=t[0],l=d=t[1],m=i;m<r;m+=i)p=t[m],g=t[m+1],p<u&&(u=p),g<l&&(l=g),p>f&&(f=p),g>d&&(d=g);y=Math.max(f-u,d-l),y=0!==y?1/y:0}return o(a,h,i,u,l,y),h}function s(t,e,i,n,s){var r,o;if(s===I(t,e,i,n)>0)for(r=e;r<i;r+=n)o=O(r,t[r],t[r+1],o);else for(r=i-n;r>=e;r-=n)o=O(r,t[r],t[r+1],o);return o&&w(o,o.next)&&(M(o),o=o.next),o}function r(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!w(n,n.next)&&0!==_(n.prev,n,n.next))n=n.next;else{if(M(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function o(t,e,i,n,s,c,f){if(t){!f&&c&&g(t,n,s,c);for(var d,p,y=t;t.prev!==t.next;)if(d=t.prev,p=t.next,c?h(t,n,s,c):a(t))e.push(d.i/i),e.push(t.i/i),e.push(p.i/i),M(t),t=p.next,y=p.next;else if((t=p)===y){f?1===f?(t=u(t,e,i),o(t,e,i,n,s,c,2)):2===f&&l(t,e,i,n,s,c):o(r(t),e,i,n,s,c,1);break}}}function a(t){var e,i=t.prev,n=t,s=t.next;if(_(i,n,s)>=0)return!1;for(e=t.next.next;e!==t.prev;){if(x(i.x,i.y,n.x,n.y,s.x,s.y,e.x,e.y)&&_(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function h(t,e,i,n){var s,r,o,a,h,u,l,c,f=t.prev,d=t,p=t.next;if(_(f,d,p)>=0)return!1;for(s=f.x<d.x?f.x<p.x?f.x:p.x:d.x<p.x?d.x:p.x,r=f.y<d.y?f.y<p.y?f.y:p.y:d.y<p.y?d.y:p.y,o=f.x>d.x?f.x>p.x?f.x:p.x:d.x>p.x?d.x:p.x,a=f.y>d.y?f.y>p.y?f.y:p.y:d.y>p.y?d.y:p.y,h=m(s,r,e,i,n),u=m(o,a,e,i,n),l=t.prevZ,c=t.nextZ;l&&l.z>=h&&c&&c.z<=u;){if(l!==t.prev&&l!==t.next&&x(f.x,f.y,d.x,d.y,p.x,p.y,l.x,l.y)&&_(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,c!==t.prev&&c!==t.next&&x(f.x,f.y,d.x,d.y,p.x,p.y,c.x,c.y)&&_(c.prev,c,c.next)>=0)return!1;c=c.nextZ}for(;l&&l.z>=h;){if(l!==t.prev&&l!==t.next&&x(f.x,f.y,d.x,d.y,p.x,p.y,l.x,l.y)&&_(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;c&&c.z<=u;){if(c!==t.prev&&c!==t.next&&x(f.x,f.y,d.x,d.y,p.x,p.y,c.x,c.y)&&_(c.prev,c,c.next)>=0)return!1;c=c.nextZ}return!0}function u(t,e,i){var n,s,r=t;do{n=r.prev,s=r.next.next,!w(n,s)&&T(n,r,r.next,s)&&A(n,s)&&A(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),M(r),M(r.next),r=t=s),r=r.next}while(r!==t);return r}function l(t,e,i,n,s,a){var h,u,l=t;do{for(h=l.next.next;h!==l.prev;){if(l.i!==h.i&&b(l,h))return u=P(l,h),l=r(l,l.next),u=r(u,u.next),o(l,e,i,n,s,a),void o(u,e,i,n,s,a);h=h.next}l=l.next}while(l!==t)}function c(t,e,i,n){var o,a,h,u,l,c=[];for(o=0,a=e.length;o<a;o++)h=e[o]*n,u=o<a-1?e[o+1]*n:t.length,l=s(t,h,u,n,!1),l===l.next&&(l.steiner=!0),c.push(v(l));for(c.sort(f),o=0;o<c.length;o++)d(c[o],i),i=r(i,i.next);return i}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var i=P(e,t);r(i,i.next)}}function p(t,e){var i,n,s,r,o,a,h,u=e,l=t.x,c=t.y,f=-Infinity;do{if(c<=u.y&&c>=u.next.y&&u.next.y!==u.y&&(n=u.x+(c-u.y)*(u.next.x-u.x)/(u.next.y-u.y))<=l&&n>f){if(f=n,n===l){if(c===u.y)return u;if(c===u.next.y)return u.next}i=u.x<u.next.x?u:u.next}u=u.next}while(u!==e);if(!i)return null;if(l===f)return i.prev;for(s=i,r=i.x,o=i.y,a=Infinity,u=i.next;u!==s;)l>=u.x&&u.x>=r&&l!==u.x&&x(c<o?l:f,c,r,o,c<o?f:l,c,u.x,u.y)&&((h=Math.abs(c-u.y)/(l-u.x))<a||h===a&&u.x>i.x)&&A(u,t)&&(i=u,a=h),u=u.next;return i}function g(t,e,i,n){var s=t;do{null===s.z&&(s.z=m(s.x,s.y,e,i,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,y(s)}function y(t){var e,i,n,s,r,o,a,h,u=1;do{for(i=t,t=null,r=null,o=0;i;){for(o++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(h=u;a>0||h>0&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(s=i,i=i.nextZ,a--):(s=n,n=n.nextZ,h--),r?r.nextZ=s:t=s,s.prevZ=r,r=s;i=n}r.nextZ=null,u*=2}while(o>1);return t}function m(t,e,i,n,s){return t=32767*(t-i)*s,e=32767*(e-n)*s,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function v(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function x(t,e,i,n,s,r,o,a){return(s-o)*(e-a)-(t-o)*(r-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(r-a)-(s-o)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&A(t,e)&&A(e,t)&&E(t,e)}function _(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,i,n){return!!(w(t,e)&&w(i,n)||w(t,n)&&w(i,e))||_(t,e,i)>0!=_(t,e,n)>0&&_(i,n,t)>0!=_(i,n,e)>0}function S(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&T(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function A(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function E(t,e){var i=t,n=!1,s=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&s<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}function P(t,e){var i=new C(t.i,t.x,t.y),n=new C(e.i,e.x,e.y),s=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=s,s.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function O(t,e,i,n){var s=new C(t,e,i);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(t,e,i,n){var s,r,o=0;for(s=e,r=i-n;s<i;s+=n)o+=(t[r]-t[s])*(t[s+1]+t[r+1]),r=s;return o}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=n,n.deviation=function(t,e,i,n){var s,r,o,a,h,u,l,c,f=e&&e.length,d=f?e[0]*i:t.length,p=Math.abs(I(t,0,d,i));if(f)for(s=0,r=e.length;s<r;s++)o=e[s]*i,a=s<r-1?e[s+1]*i:t.length,p-=Math.abs(I(t,o,a,i));for(h=0,s=0;s<n.length;s+=3)u=n[s]*i,l=n[s+1]*i,c=n[s+2]*i,h+=Math.abs((t[u]-t[c])*(t[l+1]-t[u+1])-(t[u]-t[l])*(t[c+1]-t[u+1]));return 0===p&&0===h?0:Math.abs((h-p)/p)},n.flatten=function(t){var e,i,n,s=t[0][0].length,r={vertices:[],holes:[],dimensions:s},o=0;for(e=0;e<t.length;e++){for(i=0;i<t[e].length;i++)for(n=0;n<s;n++)r.vertices.push(t[e][i][n]);e>0&&(o+=t[e-1].length,r.holes.push(o))}return r}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i={};for(e in t)Array.isArray(t[e])?i[e]=t[e].slice(0):i[e]=t[e];return i};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={COMPLETE:i(1307),DESTROY:i(1308),DETUNE:i(1309),GLOBAL_DETUNE:i(1310),GLOBAL_MUTE:i(1311),GLOBAL_RATE:i(1312),GLOBAL_VOLUME:i(1313),LOOP:i(1314),LOOPED:i(1315),MUTE:i(1316),PAUSE_ALL:i(1317),PAUSE:i(1318),PLAY:i(1319),RATE:i(1320),RESUME_ALL:i(1321),RESUME:i(1322),SEEK:i(1323),STOP_ALL:i(1324),STOP:i(1325),UNLOCKED:i(1326),VOLUME:i(1327)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s=t.length;if(e<0||e>s||e>=i||i>s||e+i>s){if(n)throw Error("Range Error: Values outside acceptable range");return!1}return!0};t.exports=i},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g=t.strokeTint,y=n.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*i);for(g.TL=y,g.TR=y,g.BL=y,g.BR=y,o=e.pathData,a=o.length-1,h=e.lineWidth,u=h/2,l=o[0]-s,c=o[1]-r,e.closePath||(a-=2),f=2;f<a;f+=2)d=o[f]-s,p=o[f+1]-r,t.setTexture2D(),t.batchLine(l,c,d,p,u,u,h,f-2,!!e.closePath&&f===a-1),l=d,c=p};t.exports=s},function(t,e,i){var n=i(0),s=i(154),r=i(578),o=i(579),a=i(106),h=i(284),u=new n({initialize:function(t,e,i,n,s,r){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),s===undefined&&(s=0),r===undefined&&(r=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.x3=s,this.y3=r},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,n,s,r){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),s===undefined&&(s=0),r===undefined&&(r=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.x3=s,this.y3=r,this},getLineA:function(t){return t===undefined&&(t=new a),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return t===undefined&&(t=new a),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return t===undefined&&(t=new a),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}});t.exports=u},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function l(t,e,i,n,s){var o,u,c,f,d="png";h(e)&&(u=e,e=a(u,"key"),i=a(u,"url"),o=a(u,"normalMap"),n=a(u,"xhrSettings"),d=a(u,"extension",d),s=a(u,"frameConfig")),Array.isArray(i)&&(o=i[1],i=i[0]),c={type:"image",cache:t.textureManager,extension:d,responseType:"blob",key:e,url:i,xhrSettings:n,config:s},r.call(this,t,c),o&&(f=new l(t,this.key,o,n,s),f.type="normalMap",this.setLink(f),t.addFile(f))},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){r.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(t.data),t.onProcessError()},r.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var t,e=this.linkFile;e&&e.state===s.FILE_COMPLETE?(t="image"===this.type?this.cache.addImage(this.key,this.data,e.data):this.cache.addImage(e.key,e.data,this.data),this.pendingDestroy(t),e.pendingDestroy(t)):e||(t=this.cache.addImage(this.key,this.data),this.pendingDestroy(t))}});o.register("image",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n){this.loader=t,this.type=e,this.key=i,this.files=n,this.complete=!1,this.pending=n.length,this.failed=0,this.config={};for(var s=0;s<n.length;s++)n[s].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){-1!==this.files.indexOf(t)&&this.pending--},onFileFailed:function(t){-1!==this.files.indexOf(t)&&this.failed++}});t.exports=s},function(t,e,i){var n,s,r,o,a={};t.exports=a,n=i(156),s=i(28),r=i(70),o=i(47),function(){a.create=function(t){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},a.setModified=function(t,e,i,n){var s,r;if(t.isModified=e,i&&t.parent&&a.setModified(t.parent,e,i,n),n)for(s=0;s<t.composites.length;s++)r=t.composites[s],a.setModified(r,e,i,n)},a.add=function(t,e){var i,r,o=[].concat(e);for(n.trigger(t,"beforeAdd",{object:e}),i=0;i<o.length;i++)switch(r=o[i],r.type){case"body":if(r.parent!==r){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(t,r);break;case"constraint":a.addConstraint(t,r);break;case"composite":a.addComposite(t,r);break;case"mouseConstraint":a.addConstraint(t,r.constraint)}return n.trigger(t,"afterAdd",{object:e}),t},a.remove=function(t,e,i){var s,r,o=[].concat(e);for(n.trigger(t,"beforeRemove",{object:e}),s=0;s<o.length;s++)switch(r=o[s],r.type){case"body":a.removeBody(t,r,i);break;case"constraint":a.removeConstraint(t,r,i);break;case"composite":a.removeComposite(t,r,i);break;case"mouseConstraint":a.removeConstraint(t,r.constraint)}return n.trigger(t,"afterRemove",{object:e}),t},a.addComposite=function(t,e){return t.composites.push(e),e.parent=t,a.setModified(t,!0,!0,!1),t},a.removeComposite=function(t,e,i){var n,s=t.composites.indexOf(e);if(-1!==s&&(a.removeCompositeAt(t,s),a.setModified(t,!0,!0,!1)),i)for(n=0;n<t.composites.length;n++)a.removeComposite(t.composites[n],e,!0);return t},a.removeCompositeAt=function(t,e){return t.composites.splice(e,1),a.setModified(t,!0,!0,!1),t},a.addBody=function(t,e){return t.bodies.push(e),a.setModified(t,!0,!0,!1),t},a.removeBody=function(t,e,i){var n,s=t.bodies.indexOf(e);if(-1!==s&&(a.removeBodyAt(t,s),a.setModified(t,!0,!0,!1)),i)for(n=0;n<t.composites.length;n++)a.removeBody(t.composites[n],e,!0);return t},a.removeBodyAt=function(t,e){return t.bodies.splice(e,1),a.setModified(t,!0,!0,!1),t},a.addConstraint=function(t,e){return t.constraints.push(e),a.setModified(t,!0,!0,!1),t},a.removeConstraint=function(t,e,i){var n,s=t.constraints.indexOf(e);if(-1!==s&&a.removeConstraintAt(t,s),i)for(n=0;n<t.composites.length;n++)a.removeConstraint(t.composites[n],e,!0);return t},a.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),a.setModified(t,!0,!0,!1),t},a.clear=function(t,e,i){if(i)for(var n=0;n<t.composites.length;n++)a.clear(t.composites[n],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,a.setModified(t,!0,!0,!1),t},a.allBodies=function(t){var e,i=[].concat(t.bodies);for(e=0;e<t.composites.length;e++)i=i.concat(a.allBodies(t.composites[e]));return i},a.allConstraints=function(t){var e,i=[].concat(t.constraints);for(e=0;e<t.composites.length;e++)i=i.concat(a.allConstraints(t.composites[e]));return i},a.allComposites=function(t){var e,i=[].concat(t.composites);for(e=0;e<t.composites.length;e++)i=i.concat(a.allComposites(t.composites[e]));return i},a.get=function(t,e,i){var n,s;switch(i){case"body":n=a.allBodies(t);break;case"constraint":n=a.allConstraints(t);break;case"composite":n=a.allComposites(t).concat(t)}return n?(s=n.filter(function(t){return""+t.id==""+e}),0===s.length?null:s[0]):null},a.move=function(t,e,i){return a.remove(t,e),a.add(i,e),t},a.rebase=function(t){var e,i=a.allBodies(t).concat(a.allConstraints(t)).concat(a.allComposites(t));for(e=0;e<i.length;e++)i[e].id=s.nextId();return a.setModified(t,!0,!0,!1),t},a.translate=function(t,e,i){var n,s=i?a.allBodies(t):t.bodies;for(n=0;n<s.length;n++)o.translate(s[n],e);return a.setModified(t,!0,!0,!1),t},a.rotate=function(t,e,i,n){var s,r,h,u,l=Math.cos(e),c=Math.sin(e),f=n?a.allBodies(t):t.bodies;for(s=0;s<f.length;s++)r=f[s],h=r.position.x-i.x,u=r.position.y-i.y,o.setPosition(r,{x:i.x+(h*l-u*c),y:i.y+(h*c+u*l)}),o.rotate(r,e);return a.setModified(t,!0,!0,!1),t},a.scale=function(t,e,i,n,s){var r,h,u,l,c=s?a.allBodies(t):t.bodies;for(r=0;r<c.length;r++)h=c[r],u=h.position.x-n.x,l=h.position.y-n.y,o.setPosition(h,{x:n.x+u*e,y:n.y+l*i}),o.scale(h,e,i);return a.setModified(t,!0,!0,!1),t},a.bounds=function(t){var e,i,n=a.allBodies(t),s=[];for(e=0;e<n.length;e+=1)i=n[e],s.push(i.bounds.min,i.bounds.max);return r.create(s)}}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){e?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};t.exports=i},function(t,e,i){var n=i(0),s=i(24),r=i(593),o=new n({Mixins:[s.Alpha,s.Flip,s.Visible],initialize:function(t,e,i,n,s,r,o,a){this.layer=t,this.index=e,this.x=i,this.y=n,this.width=s,this.height=r,this.baseWidth=o!==undefined?o:s,this.baseHeight=a!==undefined?a:r,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;return e?e.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;return e?e.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*e.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){return e===undefined&&(e=new r),e.x=this.getLeft(),e.y=this.getTop(),e.width=this.getRight()-e.x,e.height=this.getBottom()-e.y,e},getCenterX:function(t){return this.getLeft(t)+this.width/2},getCenterY:function(t){return this.getTop(t)+this.height/2},destroy:function(){this.collisionCallback=undefined,this.collisionCallbackContext=undefined,this.properties=undefined},intersects:function(t,e,i,n){return!(i<=this.pixelX||n<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){return t&&e?this.canCollide||this.hasInterestingFace:t?this.collides:!!e&&this.hasInterestingFace},resetCollision:function(t){if(t===undefined&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t){this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,e,i,n,s){if(e===undefined&&(e=t),i===undefined&&(i=t),n===undefined&&(n=t),s===undefined&&(s=!0),this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=n,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=n,s){this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(t,e){return null===t?(this.collisionCallback=undefined,this.collisionCallbackContext=undefined):(this.collisionCallback=t,this.collisionCallbackContext=e),this},setSize:function(t,e,i,n){return t!==undefined&&(this.width=t),e!==undefined&&(this.height=e),i!==undefined&&(this.baseWidth=i),n!==undefined&&(this.baseHeight=n),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t,e=this.layer.tilemapLayer;return e&&(t=e.gidMap[this.index])?t:null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});t.exports=o},function(t,e,i){var n=i(21).f,s=i(56),r=i(17)("toStringTag");t.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(1),s=i(72),r=i(10),o=i(249),a="["+o+"]",h="",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),c=function(t,e,i){var s={},a=r(function(){return!!o[t]()||h[t]()!=h}),u=s[t]=a?e(f):o[t];i&&(s[i]=u),n(n.P+n.F*a,"String",s)},f=c.trim=function(t,e){return t=s(t)+"",1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports={}},function(t,e,i){var n=i(11);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var n,s,r,o,a,h,u,l=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(12),r=i(42),o=i(45),a=i(104),h=i(124),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visibleMenuItems=[],e.horizontal=!1,e.backRoute="menu",e.quitGameModal=h["default"],e}return l(e,t),e.prototype.init=function(){},e.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.sceneWillMount()},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.sceneDidMount()},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.sceneWillUnmount()},e.prototype.onKeyDown=function(t){switch(t.key){case o.Keys.RETURN:return this.handleBack();case o.Keys.EXIT:return this.handleQuit()}return!0},e.prototype.sceneWillMount=function(){},e.prototype.sceneDidMount=function(){},e.prototype.sceneWillUnmount=function(){},e.prototype.handleQuit=function(){return a.showModal(this.quitGameModal).then(function(t){t&&s["default"].exit()}),!1},e.prototype.handleBack=function(){return r.routeTo(this.backRoute),!1},e.prototype.sendGA=function(){},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.sendGA()},e}(n["default"]),e["default"]=u},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x-t.width*t.originX+.5*t.width};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.width*t.originX;return t.x=e+i-.5*t.width,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.height*t.originY;return t.y=e+i-.5*t.height,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.y-t.height*t.originY+.5*t.height};t.exports=i},function(t,e,i){var n=i(0),s=i(91),r=i(416),o=i(417),a=i(275),h=new n({initialize:function(t,e,i){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),this.x=t,this.y=e,this._radius=i,this._diameter=2*i},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return a(this,t)},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,e){return e===undefined&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=h},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new s(this.x,this.y,this.z)},crossVectors:function(t,e){var i=t.x,n=t.y,s=t.z,r=e.x,o=e.y,a=e.z;return this.x=n*a-s*o,this.y=s*r-i*a,this.z=i*o-n*r,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0;return Math.sqrt(e*e+i*i+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0;return e*e+i*i+n*n},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,n=t*t+e*e+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,o=t.z;return this.x=i*o-n*r,this.y=n*s-e*o,this.z=e*r-i*s,this},lerp:function(t,e){var i,n,s;return e===undefined&&(e=0),i=this.x,n=this.y,s=this.z,this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=s+e*(t.z-s),this},transformMat3:function(t){var e=this.x,i=this.y,n=this.z,s=t.val;return this.x=e*s[0]+i*s[3]+n*s[6],this.y=e*s[1]+i*s[4]+n*s[7],this.z=e*s[2]+i*s[5]+n*s[8],this},transformMat4:function(t){var e=this.x,i=this.y,n=this.z,s=t.val;return this.x=s[0]*e+s[4]*i+s[8]*n+s[12],this.y=s[1]*e+s[5]*i+s[9]*n+s[13],this.z=s[2]*e+s[6]*i+s[10]*n+s[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,n=this.z,s=t.val,r=e*s[0]+i*s[4]+n*s[8]+s[12],o=e*s[1]+i*s[5]+n*s[9]+s[13],a=e*s[2]+i*s[6]+n*s[10]+s[14],h=e*s[3]+i*s[7]+n*s[11]+s[15];return this.x=r/h,this.y=o/h,this.z=a/h,this},transformQuat:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,o=t.z,a=t.w,h=a*e+r*n-o*i,u=a*i+o*e-s*n,l=a*n+s*i-r*e,c=-s*e-r*i-o*n;return this.x=h*a+c*-s+u*-o-l*-r,this.y=u*a+c*-r+l*-s-h*-o,this.z=l*a+c*-o+h*-r-u*-s,this},project:function(t){var e=this.x,i=this.y,n=this.z,s=t.val,r=s[0],o=s[1],a=s[2],h=s[3],u=s[4],l=s[5],c=s[6],f=s[7],d=s[8],p=s[9],g=s[10],y=s[11],m=s[12],v=s[13],x=s[14],b=s[15],_=1/(e*h+i*f+n*y+b);return this.x=(e*r+i*u+n*d+m)*_,this.y=(e*o+i*l+n*p+v)*_,this.z=(e*a+i*c+n*g+x)*_,this},unproject:function(t,e){var i=t.x,n=t.y,s=t.z,r=t.w,o=this.x-i,a=r-this.y-1-n,h=this.z;return this.x=2*o/s-1,this.y=2*a/r-1,this.z=2*h-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});s.ZERO=new s,s.RIGHT=new s(1,0,0),s.LEFT=new s(-1,0,0),s.UP=new s(0,-1,0),s.DOWN=new s(0,1,0),s.FORWARD=new s(0,0,1),s.BACK=new s(0,0,-1),s.ONE=new s(1,1,1),t.exports=s},function(t,e,i){var n=i(0),s=i(306),r=i(18),o=i(4),a=new n({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(t,e){return e===undefined&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){var i,n;return t||(t=new r),e===undefined&&(e=16),i=this.getLength(),e>i&&(e=i/2),n=Math.max(1,Math.round(i/e)),s(this.getSpacedPoints(n),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return t===undefined&&(t=new o),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){var e,i,n,s,r;if(t===undefined&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;for(this.needsUpdate=!1,e=[],n=this.getPoint(0,this._tmpVec2A),s=0,e.push(0),r=1;r<=t;r++)i=this.getPoint(r/t,this._tmpVec2B),s+=i.distance(n),e.push(s),n.copy(i);return this.cacheArcLengths=e,e},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){var e,i;for(t===undefined&&(t=this.defaultDivisions),e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getRandomPoint:function(t){return t===undefined&&(t=new o),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){var e,i,n;for(t===undefined&&(t=this.defaultDivisions),e=[],i=0;i<=t;i++)n=this.getUtoTmapping(i/t,null,t),e.push(this.getPoint(n));return e},getStartPoint:function(t){return t===undefined&&(t=new o),this.getPointAt(0,t)},getTangent:function(t,e){var i,n,s;return e===undefined&&(e=new o),i=1e-4,n=t-i,s=t+i,n<0&&(n=0),s>1&&(s=1),this.getPoint(n,this._tmpVec2A),this.getPoint(s,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var n,s,r,o,a,h,u,l,c=this.getLengths(i),f=0,d=c.length;for(n=e?Math.min(e,c[d-1]):t*c[d-1],s=0,r=d-1;s<=r;)if(f=Math.floor(s+(r-s)/2),(o=c[f]-n)<0)s=f+1;else{if(!(o>0)){r=f;break}r=f-1}return f=r,c[f]===n?f/(d-1):(a=c[f],h=c[f+1],u=h-a,l=(n-a)/u,(f+l)/(d-1))},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ADD:i(1294),COMPLETE:i(1295),FILE_COMPLETE:i(1296),FILE_KEY_COMPLETE:i(1297),FILE_LOAD_ERROR:i(1298),FILE_LOAD:i(1299),FILE_PROGRESS:i(1300),POST_PROCESS:i(1301),PROGRESS:i(1302),START:i(1303)}},function(t,e,i){var n=i(127),s=function(t,e){var i,s=n(t);for(i in e)s.hasOwnProperty(i)||(s[i]=e[i]);return s};t.exports=s},function(t,e,i){var n=i(0),s=new n({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){var i,n;for(i=0;i<this.entries.length;i++)if(n=this.entries[i],n[t]===e)return n},getArray:function(){return this.entries.slice(0)},"delete":function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){var t;for(t=0;t<this.entries.length;t++)this.entries[t]},each:function(t,e){var i,n=this.entries.slice(),s=n.length;if(e)for(i=0;i<s&&!1!==t.call(e,n[i],i);i++);else for(i=0;i<s&&!1!==t(n[i],i);i++);return this},iterate:function(t,e){var i,n=this.entries.length;if(e)for(i=0;i<n&&!1!==t.call(e,this.entries[i],i);i++);else for(i=0;i<n&&!1!==t(this.entries[i],i);i++);return this},iterateLocal:function(t){var e,i,n,s=[];for(e=1;e<arguments.length;e++)s.push(arguments[e]);for(i=this.entries.length,e=0;e<i;e++)n=this.entries[e],n[t].apply(n,s);return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new s;return t.entries.forEach(function(t){e.set(t)}),this.entries.forEach(function(t){e.set(t)}),e},intersect:function(t){var e=new s;return this.entries.forEach(function(i){t.contains(i)&&e.set(i)}),e},difference:function(t){var e=new s;return this.entries.forEach(function(i){t.contains(i)||e.set(i)}),e},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}});t.exports=s},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(1396),a=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,o],initialize:function(t,e,i,n,s){r.call(this,t,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,s),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.hasOwnProperty(e)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,o=t.y2-t.y1,a=e-t.x1,h=i-t.y1,u=n*n+s*s,l=n*r+s*o,c=n*a+s*h,f=r*r+o*o,d=r*a+o*h,p=u*f-l*l,g=0===p?0:1/p,y=(f*c-l*d)*g,m=(u*d-l*c)*g;return y>=0&&m>=0&&y+m<1};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};t.exports=i},function(t,e,i){var n,s={};t.exports=s,n=i(28),function(){s.on=function(t,e,i){var n,s,r=e.split(" ");for(s=0;s<r.length;s++)n=r[s],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(i);return i},s.off=function(t,e,i){var s,r,o,a,h;if(!e)return void(t.events={});for("function"==typeof e&&(i=e,e=n.keys(t.events).join(" ")),s=e.split(" "),r=0;r<s.length;r++){if(o=t.events[s[r]],a=[],i&&o)for(h=0;h<o.length;h++)o[h]!==i&&a.push(o[h]);t.events[s[r]]=a}},s.trigger=function(t,e,i){var s,r,o,a,h,u,l=t.events;if(l&&n.keys(l).length>0)for(i||(i={}),s=e.split(" "),h=0;h<s.length;h++)if(r=s[h],o=l[r])for(a=n.clone(i,!1),a.name=r,a.source=t,u=0;u<o.length;u++)o[u].apply(t,[a])}}()},function(t,e,i){var n,s,r,o,a,h,u={};t.exports=u,n=i(62),s=i(69),r=i(178),o=i(70),a=i(340),h=i(28),function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(t){var e,i,n,r,o=t;return o.bodyA&&!o.pointA&&(o.pointA={x:0,y:0}),o.bodyB&&!o.pointB&&(o.pointB={x:0,y:0}),e=o.bodyA?s.add(o.bodyA.position,o.pointA):o.pointA,i=o.bodyB?s.add(o.bodyB.position,o.pointB):o.pointB,n=s.magnitude(s.sub(e,i)),o.length="undefined"!=typeof o.length?o.length:n,o.id=o.id||h.nextId(),o.label=o.label||"Constraint",o.type="constraint",o.stiffness=o.stiffness||(o.length>0?1:.7),o.damping=o.damping||0,o.angularStiffness=o.angularStiffness||0,o.angleA=o.bodyA?o.bodyA.angle:o.angleA,o.angleB=o.bodyB?o.bodyB.angle:o.angleB,o.plugin={},r={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0},0===o.length&&o.stiffness>.1?(r.type="pin",r.anchors=!1):o.stiffness<.9&&(r.type="spring"),o.render=h.extend(r,o.render),o},u.preSolveAll=function(t){var e,i,n;for(e=0;e<t.length;e+=1)i=t[e],n=i.constraintImpulse,i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)},u.solveAll=function(t,e){var i,n,s,r;for(i=0;i<t.length;i+=1)n=t[i],s=!n.bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic,(s||r)&&u.solve(t[i],e);for(i=0;i<t.length;i+=1)n=t[i],s=!n.bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic,s||r||u.solve(t[i],e)},u.solve=function(t,e){var i,n,r,o,a,h,l,c,f,d,p,g,y,m,v,x,b=t.bodyA,_=t.bodyB,w=t.pointA,T=t.pointB;(b||_)&&(b&&!b.isStatic&&(s.rotate(w,b.angle-t.angleA,w),t.angleA=b.angle),_&&!_.isStatic&&(s.rotate(T,_.angle-t.angleB,T),t.angleB=_.angle),i=w,n=T,b&&(i=s.add(b.position,w)),_&&(n=s.add(_.position,T)),i&&n&&(r=s.sub(i,n),o=s.magnitude(r),o<u._minLength&&(o=u._minLength),a=(o-t.length)/o,h=t.stiffness<1?t.stiffness*e:t.stiffness,l=s.mult(r,a*h),c=(b?b.inverseMass:0)+(_?_.inverseMass:0),f=(b?b.inverseInertia:0)+(_?_.inverseInertia:0),d=c+f,t.damping&&(x=s.create(),y=s.div(r,o),v=s.sub(_&&s.sub(_.position,_.positionPrev)||x,b&&s.sub(b.position,b.positionPrev)||x),m=s.dot(y,v)),b&&!b.isStatic&&(g=b.inverseMass/c,b.constraintImpulse.x-=l.x*g,b.constraintImpulse.y-=l.y*g,b.position.x-=l.x*g,b.position.y-=l.y*g,t.damping&&(b.positionPrev.x-=t.damping*y.x*m*g,b.positionPrev.y-=t.damping*y.y*m*g),p=s.cross(w,l)/d*u._torqueDampen*b.inverseInertia*(1-t.angularStiffness),b.constraintImpulse.angle-=p,b.angle-=p),_&&!_.isStatic&&(g=_.inverseMass/c,_.constraintImpulse.x+=l.x*g,_.constraintImpulse.y+=l.y*g,_.position.x+=l.x*g,_.position.y+=l.y*g,t.damping&&(_.positionPrev.x+=t.damping*y.x*m*g,_.positionPrev.y+=t.damping*y.y*m*g),p=s.cross(T,l)/d*u._torqueDampen*_.inverseInertia*(1-t.angularStiffness),_.constraintImpulse.angle+=p,_.angle+=p)))},u.postSolveAll=function(t){var e,i,h,l,c;for(e=0;e<t.length;e++)if(i=t[e],h=i.constraintImpulse,!(i.isStatic||0===h.x&&0===h.y&&0===h.angle)){for(r.set(i,!1),l=0;l<i.parts.length;l++)c=i.parts[l],n.translate(c.vertices,h),l>0&&(c.position.x+=h.x,c.position.y+=h.y),0!==h.angle&&(n.rotate(c.vertices,h.angle,i.position),a.rotate(c.axes,h.angle),l>0&&s.rotateAbout(c.position,h.angle,i.position,c.position)),o.update(c.bounds,c.vertices,i.velocity);h.angle*=u._warming,h.x*=u._warming,h.y*=u._warming}}}()},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(66);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(66),s=i(17)("toStringTag"),r="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,a;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(i=o(e=Object(t),s))?i:r?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n,s,r,o,a,h,u,l,c,f=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(45),s=i(12),r=i(51),o=i(40),a=i(104),h=i(36),u="leaveGameModalYes",l="leaveGameModalNo",c=function(t){function e(){var e=t.call(this)||this;return e.question=h._("sure_leave"),e.yes=h._("yes"),e.no=h._("no"),e.YES_ID=u,e.NO_ID=l,e.initFocus=l,e.focused=null,e.horizontal=!0,e.els=[u,l],e.onClick=e.onClick.bind(e),e.onMouseOver=e.onMouseOver.bind(e),e}return f(e,t),e.prototype.componentDidMount=function(){this.setKeys(),this.refs[u].addEventListener("click",this.onClick,!1),this.refs[l].addEventListener("click",this.onClick,!1),this.refs[u].addEventListener("mouseover",this.onMouseOver,!1),this.refs[l].addEventListener("mouseover",this.onMouseOver,!1),this.focus(this.initFocus)},e.prototype.componentWillUnmount=function(){this.refs[u].removeEventListener("click",this.onClick,!1),this.refs[l].removeEventListener("click",this.onClick,!1),this.refs[u].removeEventListener("mouseover",this.onMouseOver,!1),this.refs[l].removeEventListener("mouseover",this.onMouseOver,!1)},e.prototype.render=function(){return'\n\t\t\t<div class="question">'+o["default"](this.question)+'</div>\n\t\t\t<div class="answers">\n\t\t\t\t<div class="answer" id="'+this.YES_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+o["default"](this.yes)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="answer" id="'+this.NO_ID+'">\n\t\t\t\t\t<div class="pointer"></div>\n\t\t\t\t\t<div class="word">'+o["default"](this.no)+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){switch(t.key){case this.backwardKey:this.focus(u);break;case this.forwardKey:this.focus(l);break;case n.Keys.RETURN:a.hideModal(!1);break;case n.Keys.ENTER:a.hideModal(this.focused===u);break;case n.Keys.EXIT:s["default"].Device.exit()}return!1},e.prototype.onClick=function(t){for(var e=t.target;e&&e.id!==u&&e.id!==l;)e=e.parentNode||null;return e&&e.id?a.hideModal(e.id===u):a.hideModal(!1),!1},e.prototype.onMouseOver=function(t){for(var e=t.target;e&&e.id!==u&&e.id!==l;)e=e.parentNode||null;return e&&"string"==typeof e.id&&this.focus(e.id),!1},e.prototype.focus=function(t){if(t!==this.focused)switch(this.focused=t){case u:this.select(this.refs[u]),this.unselect(this.refs[l]);break;case l:this.select(this.refs[l]),this.unselect(this.refs[u])}},e.prototype.select=function(t){t.className+=" focused"},e.prototype.unselect=function(t){t.className=t.className.replace(" focused","")},e.prototype.setKeys=function(){this.horizontal?(this.forwardKey=n.Keys.RIGHT,this.backwardKey=n.Keys.LEFT):(this.forwardKey=n.Keys.DOWN,this.backwardKey=n.Keys.UP)},e.modalType="modal-leave-game",e}(r["default"]),e["default"]=c},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(t,e,i){var n=i(37),s=function(t,e,i){return t=n(t,0,1),(i-e)*t};t.exports=s},function(t,e,i){var n=i(0),s=i(435),r=new n({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(t){var e,i,n=this.list;if(Array.isArray(t)){for(e=[],i=0;i<t.length;i++)e.push(n[t[i]]);return e}return n[t]},getAll:function(){var t,e={};for(t in this.list)this.list.hasOwnProperty(t)&&(e[t]=this.list[t]);return e},query:function(t){var e,i={};for(e in this.list)this.list.hasOwnProperty(e)&&e.match(t)&&(i[e]=this.list[e]);return i},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},setValue:function(t,e){var i,n,r,o;return this._frozen?this:(this.has(t)?this.values[t]=e:(i=this,n=this.list,r=this.events,o=this.parent,Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return n[t]},set:function(e){if(!i._frozen){var a=n[t];n[t]=e,r.emit(s.CHANGE_DATA,o,t,e,a),r.emit(s.CHANGE_DATA_KEY+t,o,e,a)}}}),n[t]=e,r.emit(s.SET_DATA,o,t,e)),this)},each:function(t,e){var i,n,s=[this.parent,null,undefined];for(i=1;i<arguments.length;i++)s.push(arguments[i]);for(n in this.list)s[1]=n,s[2]=this.list[n],t.apply(e,s);return this},merge:function(t,e){e===undefined&&(e=!0);for(var i in t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit(s.REMOVE_DATA,this.parent,t,e)}return this},pop:function(t){var e=undefined;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit(s.REMOVE_DATA,this.parent,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(s.CHANGE_DATA),this.events.off(s.SET_DATA),this.events.off(s.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t,e=0;for(t in this.list)this.list[t]!==undefined&&e++;return e}}});t.exports=r},function(t,e,i){(function(e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={android:!1,chromeOS:!1,cocoonJS:!1,cocoonJSApp:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};t.exports=function(){var t,n=navigator.userAgent;if(/Windows/.test(n)?i.windows=!0:/Mac OS/.test(n)&&!/like Mac OS/.test(n)?i.macOS=!0:/Android/.test(n)?i.android=!0:/Linux/.test(n)?i.linux=!0:/iP[ao]d|iPhone/i.test(n)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10),i.iPhone=-1!==n.toLowerCase().indexOf("iphone"),i.iPad=-1!==n.toLowerCase().indexOf("ipad")):/Kindle/.test(n)||/\bKF[A-Z][A-Z]+/.test(n)||/Silk.*Mobile Safari/.test(n)?i.kindle=!0:/CrOS/.test(n)&&(i.chromeOS=!0),(/Windows Phone/i.test(n)||/IEMobile/i.test(n))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0),t=/Silk/.test(n),(i.windows||i.macOS||i.linux&&!t||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(n)&&/Touch/i.test(n))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),window.cordova!==undefined&&(i.cordova=!0),void 0!==e&&e.versions&&e.versions.node&&(i.node=!0),i.node&&"object"==typeof e.versions&&(i.nodeWebkit=!!e.versions["node-webkit"],i.electron=!!e.versions.electron),navigator.isCocoonJS){i.cocoonJS=!0;try{i.cocoonJSApp="undefined"!=typeof CocoonJS}catch(s){i.cocoonJSApp=!1}}return window.ejecta!==undefined&&(i.ejecta=!0),/Crosswalk/.test(n)&&(i.crosswalk=!0),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(e,i(1147))},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){return i===undefined&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),n?(i+t)/e:i+t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s;if(!(e>=t.length)){for(i=t.length-1,n=t[e],s=e;s<i;s++)t[s]=t[s+1];return t.length=i,n}};t.exports=i},function(t,e,i){var n=i(0),s=i(170),r=i(550),o=i(551),a=i(283),h=new n({initialize:function(t,e,i,n){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return a(this,t)},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,e){return e===undefined&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return e===undefined&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s;return!(t.width<=0||t.height<=0)&&(n=(e-t.x)/t.width,s=(i-t.y)/t.height,n*=n,s*=s,n+s<.25)};t.exports=i},function(t,e,i){var n=i(404),s=i(0),r=i(207),o=i(3),a=i(6),h=i(13),u=i(546),l=i(151),c=i(96),f=new s({initialize:function(t,e,i){i?e&&!Array.isArray(e)&&(e=[e]):Array.isArray(e)?h(e[0])&&(i=e,e=null):h(e)&&(i=e,e=null),this.scene=t,this.children=new l(e),this.isParent=!0,this.classType=o(i,"classType",c),this.active=o(i,"active",!0),this.maxSize=o(i,"maxSize",-1),this.defaultKey=o(i,"defaultKey",null),this.defaultFrame=o(i,"defaultFrame",null),this.runChildUpdate=o(i,"runChildUpdate",!1),this.createCallback=o(i,"createCallback",null),this.removeCallback=o(i,"removeCallback",null),this.createMultipleCallback=o(i,"createMultipleCallback",null),i&&this.createMultiple(i)},create:function(t,e,i,n,s,r){if(t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=this.defaultKey),n===undefined&&(n=this.defaultFrame),s===undefined&&(s=!0),r===undefined&&(r=!0),this.isFull())return null;var o=new this.classType(this.scene,t,e,i,n);return this.scene.sys.displayList.add(o),o.preUpdate&&this.scene.sys.updateList.add(o),o.visible=s,o.setActive(r),this.add(o),o},createMultiple:function(t){var e,i,n;if(this.isFull())return[];if(Array.isArray(t)||(t=[t]),e=[],t[0].key)for(i=0;i<t.length;i++)n=this.createFromConfig(t[i]),e=e.concat(n);return e},createFromConfig:function(t){var e,i,s,r,h,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L;if(this.isFull())return[];if(this.classType=o(t,"classType",this.classType),e=o(t,"key",undefined),i=o(t,"frame",null),s=o(t,"visible",!0),r=o(t,"active",!0),h=[],e===undefined)return h;for(Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]),l=o(t,"repeat",0),c=o(t,"randomKey",!1),f=o(t,"randomFrame",!1),d=o(t,"yoyo",!1),p=o(t,"frameQuantity",1),g=o(t,"max",0),y=u(e,i,{max:g,qty:p,random:c,randomB:f,repeat:l,yoyo:d}),m=0;m<y.length&&(v=this.create(0,0,y[m].a,y[m].b,s,r));m++)h.push(v);return x=a(t,"setXY.x",0),b=a(t,"setXY.y",0),_=a(t,"setXY.stepX",0),w=a(t,"setXY.stepY",0),n.SetXY(h,x,b,_,w),T=a(t,"setRotation.value",0),S=a(t,"setRotation.step",0),n.SetRotation(h,T,S),A=a(t,"setScale.x",1),E=a(t,"setScale.y",A),P=a(t,"setScale.stepX",0),O=a(t,"setScale.stepY",0),n.SetScale(h,A,E,P,O),M=a(t,"setAlpha.value",1),C=a(t,"setAlpha.step",0),n.SetAlpha(h,M,C),I=o(t,"hitArea",null),R=o(t,"hitAreaCallback",null),I&&n.SetHitArea(h,I,R),L=o(t,"gridAlign",!1),L&&n.GridAlign(h,L),this.createMultipleCallback&&this.createMultipleCallback.call(this,h),h},preUpdate:function(t,e){var i,n,s;if(this.runChildUpdate&&0!==this.children.size)for(i=this.children.entries.slice(),n=0;n<i.length;n++)s=i[n],s.active&&s.update(t,e)},add:function(t,e){return e===undefined&&(e=!1),this.isFull()?this:(this.children.set(t),this.createCallback&&this.createCallback.call(this,t),e&&(this.scene.sys.displayList.add(t),t.preUpdate&&this.scene.sys.updateList.add(t)),t.on(r.DESTROY,this.remove,this),this)},addMultiple:function(t,e){if(e===undefined&&(e=!1),Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return this},remove:function(t,e,i){return e===undefined&&(e=!1),i===undefined&&(i=!1),this.children.contains(t)?(this.children["delete"](t),this.removeCallback&&this.removeCallback.call(this,t),t.off(r.DESTROY,this.remove,this),i?t.destroy():e&&(t.scene.sys.displayList.remove(t),t.preUpdate&&t.scene.sys.updateList.remove(t)),this):this},clear:function(t,e){var i,n,s;for(t===undefined&&(t=!1),e===undefined&&(e=!1),i=this.children,n=0;n<i.size;n++)s=i.entries[n],s.off(r.DESTROY,this.remove,this),e?s.destroy():t&&(s.scene.sys.displayList.remove(s),s.preUpdate&&s.scene.sys.updateList.remove(s));return this.children.clear(),this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(t,e,i,n,s,r,o){return this.getHandler(!0,1,t,e,i,n,s,r,o)},getFirstNth:function(t,e,i,n,s,r,o,a){return this.getHandler(!0,t,e,i,n,s,r,o,a)},getLast:function(t,e,i,n,s,r,o){return this.getHandler(!1,1,t,e,i,n,s,r,o)},getLastNth:function(t,e,i,n,s,r,o,a){return this.getHandler(!1,t,e,i,n,s,r,o,a)},getHandler:function(t,e,i,n,s,r,o,a,h){var u,l,c,f;if(i===undefined&&(i=!1),n===undefined&&(n=!1),c=0,f=this.children.entries,t)for(l=0;l<f.length;l++)if(u=f[l],u.active===i){if(++c===e)break}else u=null;else for(l=f.length-1;l>=0;l--)if(u=f[l],u.active===i){if(++c===e)break}else u=null;return u?("number"==typeof s&&(u.x=s),"number"==typeof r&&(u.y=r),u):n?this.create(s,r,o,a,h):null},get:function(t,e,i,n,s){return this.getFirst(!1,!0,t,e,i,n,s)},getFirstAlive:function(t,e,i,n,s,r){return this.getFirst(!0,t,e,i,n,s,r)},getFirstDead:function(t,e,i,n,s,r){return this.getFirst(!1,t,e,i,n,s,r)},playAnimation:function(t,e){return n.PlayAnimation(this.children.entries,t,e),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(t){var e,i;for(t===undefined&&(t=!0),e=0,i=0;i<this.children.size;i++)this.children.entries[i].active===t&&e++;return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-t},setDepth:function(t,e){return n.SetDepth(this.children.entries,t,e),this},kill:function(t){this.children.contains(t)&&t.setActive(!1)},killAndHide:function(t){this.children.contains(t)&&(t.setActive(!1),t.setVisible(!1))},toggleVisible:function(){return n.ToggleVisible(this.children.entries),this},destroy:function(t){var e,i,n;if(t===undefined&&(t=!1),this.scene&&!this.ignoreDestroy){if(t)for(e=this.children,i=0;i<e.size;i++)n=e.entries[i],n.off(r.DESTROY,this.remove,this),n.destroy();this.children.clear(),this.scene=undefined,this.children=undefined}}});t.exports=f},function(t,e,i){var n=i(294),s=function(t,e){if("string"==typeof t&&n.hasOwnProperty(t)){if(e){var i=e.slice(0);return i.unshift(0),function(e){return i[0]=e,n[t].apply(this,i)}}return n[t]}return"function"==typeof t?t:(Array.isArray(t)&&t.length,n.Power0)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};t.exports=i},function(t,e,i){var n=i(16),s=function(t,e,i,s,r,o){var a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T=n.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*s),S=i.pathData,A=i.pathIndexes;for(a=0;a<A.length;a+=3)h=2*A[a],u=2*A[a+1],l=2*A[a+2],c=S[h+0]-r,f=S[h+1]-o,d=S[u+0]-r,p=S[u+1]-o,g=S[l+0]-r,y=S[l+1]-o,m=e.getX(c,f),v=e.getY(c,f),x=e.getX(d,p),b=e.getY(d,p),_=e.getX(g,y),w=e.getY(g,y),t.setTexture2D(),t.batchTri(m,v,x,b,_,w,0,0,1,1,T,T,T,t.tintEffect)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NONE:0,A:1,B:2,BOTH:3}},function(t,e,i){var n,s={};t.exports=s,n=i(156),function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(t,e){var i,n,r,o,a,h=e*e*e;for(i=0;i<t.length;i++)n=t[i],r=n.speed*n.speed+n.angularSpeed*n.angularSpeed,0===n.force.x&&0===n.force.y?(o=Math.min(n.motion,r),a=Math.max(n.motion,r),n.motion=s._minBias*o+(1-s._minBias)*a,n.sleepThreshold>0&&n.motion<s._motionSleepThreshold*h?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&s.set(n,!0)):n.sleepCounter>0&&(n.sleepCounter-=1)):s.set(n,!1)},s.afterCollisions=function(t,e){var i,n,r,o,a,h,u,l=e*e*e;for(i=0;i<t.length;i++)n=t[i],n.isActive&&(r=n.collision,o=r.bodyA.parent,a=r.bodyB.parent,o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic||(o.isSleeping||a.isSleeping)&&(h=o.isSleeping&&!o.isStatic?o:a,u=h===o?a:o,!h.isStatic&&u.motion>s._motionWakeThreshold*l&&s.set(h,!1)))},s.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||n.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&n.trigger(t,"sleepEnd"))}}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height};t.exports=i},function(t,e,i){var n=i(0),s=i(3),r=new n({initialize:function(t){t===undefined&&(t={}),this.name=s(t,"name","layer"),this.x=s(t,"x",0),this.y=s(t,"y",0),this.width=s(t,"width",0),this.height=s(t,"height",0),this.tileWidth=s(t,"tileWidth",0),this.tileHeight=s(t,"tileHeight",0),this.baseTileWidth=s(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(t,"baseTileHeight",this.tileHeight),this.widthInPixels=s(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(t,"alpha",1),this.visible=s(t,"visible",!0),this.properties=s(t,"properties",{}),this.indexes=s(t,"indexes",[]),this.collideIndexes=s(t,"collideIndexes",[]),this.callbacks=s(t,"callbacks",[]),this.bodies=s(t,"bodies",[]),this.data=s(t,"data",[]),this.tilemapLayer=s(t,"tilemapLayer",null)}});t.exports=r},function(t,e,i){var n=i(0),s=i(3),r=new n({initialize:function(t){t===undefined&&(t={}),this.name=s(t,"name","map"),this.width=s(t,"width",0),this.height=s(t,"height",0),this.tileWidth=s(t,"tileWidth",0),this.tileHeight=s(t,"tileHeight",0),this.widthInPixels=s(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(t,"heightInPixels",this.height*this.tileHeight),this.format=s(t,"format",null),this.orientation=s(t,"orientation","orthogonal"),this.renderOrder=s(t,"renderOrder","right-down"),this.version=s(t,"version","1"),this.properties=s(t,"properties",{}),this.layers=s(t,"layers",[]),this.images=s(t,"images",[]),this.objects=s(t,"objects",{}),this.collision=s(t,"collision",{}),this.tilesets=s(t,"tilesets",[]),this.imageCollections=s(t,"imageCollections",[]),this.tiles=s(t,"tiles",[])}});t.exports=r},function(t,e,i){var n=i(64),s=i(8),r="__core-js_shared__",o=s[r]||(s[r]={});(t.exports=function(t,e){return o[t]||(o[t]=e!==undefined?e:{})})("versions",[]).push({version:n.version,mode:i(101)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(57),s=i(22),r=i(117);t.exports=function(t){return function(e,i,o){var a,h=n(e),u=s(h.length),l=r(o,u);if(t&&i!=i){for(;u>l;)if((a=h[l++])!=a)return!0}else for(;u>l;l++)if((t||l in h)&&h[l]===i)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(66);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(11),s=i(66),r=i(17)("match");t.exports=function(t){var e;return n(t)&&((e=t[r])!==undefined?!!e:"RegExp"==s(t))}},function(t,e,i){var n,s=i(17)("iterator"),r=!1;try{n=[7][s](),n["return"]=function(){r=!0},Array.from(n,function(){throw 2})}catch(o){}t.exports=function(t,e){var i,n,o;if(!e&&!r)return!1;i=!1;try{n=[7],o=n[s](),o.next=function(){return{done:i=!0}},n[s]=function(){return o},t(n)}catch(o){}return i}},function(t,e,i){"use strict";var n=i(5);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var n=i(48),s=i(49),r=i(10),o=i(72),a=i(17);t.exports=function(t,e,i){var h=a(t),u=i(o,h,""[t]),l=u[0],c=u[1];r(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})&&(s(String.prototype,t,l),n(RegExp.prototype,h,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}))}},function(t,e,i){var n=i(5),s=i(41),r=i(17)("species");t.exports=function(t,e){var i,o=n(t).constructor;return o===undefined||(i=n(o)[r])==undefined?e:s(i)}},function(t,e,i){var n=i(8),s=n.navigator;t.exports=s&&s.userAgent||""},function(t,e,i){"use strict";var n=i(8),s=i(1),r=i(49),o=i(123),a=i(100),h=i(122),u=i(121),l=i(11),c=i(10),f=i(187),d=i(137),p=i(250);t.exports=function(t,e,i,g,y,m){var v,x,b,_,w,T=n[t],S=T,A=y?"set":"add",E=S&&S.prototype,P={},O=function(t){var e=E[t];r(E,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?undefined:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};return"function"==typeof S&&(m||E.forEach&&!c(function(){(new S).entries().next()}))?(v=new S,x=v[A](m?{}:-0,1)!=v,b=c(function(){v.has(1)}),_=f(function(t){new S(t)}),w=!m&&c(function(){for(var t=new S,e=5;e--;)t[A](e,e);return!t.has(-0)}),_||(S=e(function(e,i){u(e,S,t);var n=p(new T,e,S);return i!=undefined&&h(i,y,n[A],n),n}),S.prototype=E,E.constructor=S),(b||w)&&(O("delete"),O("has"),y&&O("get")),(w||x)&&O(A),m&&E.clear&&delete E.clear):(S=g.getConstructor(e,t,y,A),o(S.prototype,i),a.NEED=!0),d(S,t),P[t]=S,s(s.G+s.W+s.F*(S!=T),P),m||g.setStrong(S,t,y),S}},function(t,e,i){for(var n,s=i(8),r=i(48),o=i(115),a=o("typed_array"),h=o("view"),u=!(!s.ArrayBuffer||!s.DataView),l=u,c=0,f=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<f;)(n=s[d[c++]])?(r(n.prototype,a,!0),r(n.prototype,h,!0)):l=!1;t.exports={ABV:u,CONSTR:l,TYPED:a,VIEW:h}},function(t,e,i){"use strict";t.exports=i(101)||!i(10)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(8)[t]})},function(t,e,i){"use strict";var n=i(1);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var n=i(1),s=i(41),r=i(65),o=i(122);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,a,h=arguments[1];return s(this),e=h!==undefined,e&&s(h),t==undefined?new this:(i=[],e?(n=0,a=r(h,arguments[2],2),o(t,!1,function(t){i.push(a(t,n++))})):o(t,!1,i.push,i),new this(i))}})}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(873);e["default"]=n["default"]},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(894),s=i(12);e.getStartCountKey=function(){return s["default"].CONFIG.gameName+"_startCount2"},e.getStartCount=function(){var t=s["default"].Storage.get(e.getStartCountKey());return parseInt(t,10)},e.shouldShowAd=function(){return 0<e.adsControl.getAdOccurrence()&&e.getStartCount()>=e.adsControl.getAdOccurrence()},e.raiseStartCount=function(){var t=e.getStartCount();s["default"].Storage.set(e.getStartCountKey(),(t||0===t?t:1)+1)},e.lowerStartCount=function(){var t=e.getStartCount();s["default"].Storage.set(e.getStartCountKey(),(t||1<t?t:1)-1)},e.restartStartCount=function(){s["default"].Storage.set(e.getStartCountKey(),0)},e.initAdsControl=function(){var t={gameName:s["default"].CONFIG.gameName,gameTitle:s["default"].CONFIG.gameTitle,baseUrl:s["default"].CONFIG.baseUrl,platform:s["default"].Device.isHbbTV?"hbbtv":s["default"].Device.getPlatform(),device:s["default"].Device.getDevice(),version:s["default"].CONFIG.version,model:s["default"].Device.getModel(),userAgent:s["default"].Device.getUserAgent(),env:s["default"].CONFIG.env,gaAccount:s["default"].CONFIG.GA_ADS_ACCOUNT},i=s["default"].CONFIG.adsConfigUrl;return e.adsControl=new n.Ads(i,t),e.adsControl.init()}},function(t,e,i){var n,s,r=this&&this.__assign||function(){return(r=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(895),e.GA_ID_DEBUG="UA-122747211-3",e.GA_TRACKER_NAME="ADS_TRACKER",e.GA_DEBUG_TRACKER="ADS_DEBUG_TRACKER",e.SAMPLE_RATE=10,e.PRODUCTION="production",e.adTypes={banner:"banner",video:"pre-roll video",rectangle:"rectangle"},s=function(){function t(t){this.appConfig=t;var i=this.appConfig,s=i.env,o=i.gaAccount,a={};s===e.PRODUCTION&&(a.sampleRate=e.SAMPLE_RATE),n.initGA(o||"",r({name:e.GA_TRACKER_NAME},a)),n.initGA(e.GA_ID_DEBUG,{name:e.GA_DEBUG_TRACKER}),n.ga(e.GA_TRACKER_NAME+".set","checkProtocolTask",null),n.ga(e.GA_DEBUG_TRACKER+".set","checkProtocolTask",null)}return t.prototype.sendError=function(t,i,s){void 0===s&&(s="not specified");var r=this.appConfig.device;n.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" error",""+r,i||"undefined"),n.ga(e.GA_DEBUG_TRACKER+".send","event",""+s,""+r,""+(i||"undefined"))},t.prototype.sendStart=function(t,i){var s=this.appConfig.device;n.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" start",""+s,i)},t.prototype.sendSuccess=function(t,i){var s=this.appConfig.device;n.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" success",""+s,i)},t.prototype.sendMissing=function(t,i){var s=this.appConfig.device;n.ga(e.GA_TRACKER_NAME+".send","event","Ad "+t+" missed",""+s,i)},t}(),e.AdsGA=s},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d=this&&this.__assign||function(){return(d=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),s=i(82),r=i(925),o=i(926),a=!1,h=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n?r["default"].apply(void 0,e):(t=window).ga.apply(t,e)},u=function(){o.initRealGAScript(),n=!1},l=function(){n=!0},c=function(t,e){h("create",t,d({storage:"none",clientId:s["default"].get("ga:clientId")},e)),h(function(t){s["default"].set("ga:clientId",t.get("clientId"))})},f=function(t,e){try{a||(window.document.cookie,u())}catch(t){l()}finally{a=!0,c(t,e)}},e.initGA=f,e["default"]=h},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g;Object.defineProperty(e,"__esModule",{value:!0}),n=i(45),s=i(939),r=i(35),o=i(397),a=i(42),h=function(t){var e=0===t.className.length?[]:t.className.split(" ");e.push("focused"),t.className=e.join(" ")},u=function(t){var e=0===t.className.length?[]:t.className.split(" ");t.className=e.filter(function(t){return"focused"!==t}).join(" ")},l={currentFocus:null,controlDelegates:{},focus:function(t){var e,i=l.currentFocus,n=document.getElementById(t);n&&(i&&(e=document.getElementById(i))&&u(e),h(n),l.currentFocus=t)}},c=function(t){l.focus(t)},e.focus=c,f=function(t){var e,i,r,h,u=l.currentFocus,c=l.controlDelegates;if(u){if(e=[n.Keys.UP,n.Keys.DOWN,n.Keys.LEFT,n.Keys.RIGHT],i={key:s.getKey(t.keyCode),target:document.getElementById(u),originalEvent:t},r=!0,!i.key)return t.preventDefault(),!1;if(o.isModalShown()&&(r=o.modalOnKeyDown(i)),c[u]&&(r=c[u].onKeyDown(i)),!1!==r&&(h=a.getCurrentScene())&&(r=h.onKeyDown(i)),!1===r||-1!==e.indexOf(i.key))return t.preventDefault(),!1}return!0},d=function(t){return f(t)},e.fakeKeyDown=d,p=function(){return d({keyCode:s.getKeyCode(n.Keys.ENTER)||13,preventDefault:r.noop})},e.fakeEnter=p,g=function(){return d({keyCode:s.getKeyCode(n.Keys.RETURN)||8,preventDefault:r.noop})},e.fakeReturn=g,window.document.addEventListener("keydown",f,!0),window.document.addEventListener("fakeReturn",g,!0),window.document.body.addEventListener("mousedown",function(t){return!(2===t.button&&!g())||(t.preventDefault(),!1)},!0)},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(198),s=i(398),r=i(40),o=i(947),a=i(12),h=i(200),u=i(36),l=i(45),c=i(104),f=i(162),d=i(124),p=i(951),g=i(42),y=i(141),m=i(35),v=1e3,x=!0,b="gameCanvas",_="gameReady",w="gameOver",T="gameLoading",S="gameLoadingDots",A="hasNoHighScore",E="gamePause",P="gameHighscore",O="gameDebug",M="gameFPS",C="gameTargetFPS",I=400,R=function(t){function e(){var e=t.call(this)||this;return e.debug=a["default"].CONFIG.debug,e.animationFrame=null,e.gameRunning=!1,e.targetFps=60,e.fps=60,e.missedFrames=0,e.extraFrames=0,e.usingTimeout=!1,e.lastFrameTime=null,e.now=null,e.gameComponent=null,e.hsComponent=null,e.paused=!1,e.gameEnded=!1,e.hasHighscore=!1,e.isReady=!0,e.isLoaded=!0,e.GameComponentClass=s["default"],e.HighscoreComponentClass=o["default"],e.leaveGameModal=f["default"],e.quitGameModal=d["default"],e.rewardModal=p["default"],e.highscoreShownAt=0,e.maxHighscoreCount=10,e.loadingTime=I,e.maxLoadingDots=5,e.currentLoadingDots=0,e.getAnimationFrame=function(t){setTimeout(function(){t.apply(e,[])},e.getNextFrameTimeout())},e.els=[b,_,w,A,E,T,S,P,O,M,C],e.animationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||e.getAnimationFrame,("Panasonic Viera"===a["default"].Device.device||a["default"].Device.isHbbTV)&&(e.animationFrame=e.getAnimationFrame),e.usingTimeout=e.animationFrame===e.getAnimationFrame,e.gameoverWithReward=e.gameoverWithReward.bind(e),e.pause=e.pause.bind(e),e.setReady=e.setReady.bind(e),e.unpause=e.unpause.bind(e),e.onGameCanvasClick=e.onGameCanvasClick.bind(e),e}return L(e,t),e.prototype.sceneWillMount=function(){n.raiseStartCount(),this.gameRunning=!0,this.lastFrameTime=null,this.now=null,this.paused=!1,this.gameEnded=!1,this.hasHighscore=!1,window.document.addEventListener("gameover",this.gameoverWithReward,!1),window.document.addEventListener("visibilitychange",this.pause,!1)},e.prototype.sceneDidMount=function(){this.hsComponent=new this.HighscoreComponentClass,this.hsComponent.mount(this.refs[P]),this.gameComponent=new this.GameComponentClass,this.gameComponent.mount(this.refs[b]),this.hide(this.refs[w]),this.hide(this.refs[P]),this.paused||this.hide(this.refs[E]),this.isLoaded||this.isReady?this.isReady||(this.gameRunning=!1):this.hide(this.refs[_]),this.debug||this.hide(this.refs[O]),this.frame(),this.refs[E].addEventListener("click",this.unpause,!1),this.refs[b].addEventListener("click",this.onGameCanvasClick,!1),this.refs[_]&&this.refs[_].addEventListener("click",this.setReady,!1)},e.prototype.sceneWillUnmount=function(){this.gameRunning=!1,this.gameComponent&&this.gameComponent.unmount(),this.gameComponent=null,this.hsComponent&&this.hsComponent.unmount(),this.hsComponent=null,window.document.removeEventListener("gameover",this.gameoverWithReward,!1),window.document.removeEventListener("visibilitychange",this.pause,!1),this.refs[E].removeEventListener("click",this.unpause,!1),this.refs[b].removeEventListener("click",this.onGameCanvasClick,!1),this.refs[_]&&this.refs[_].removeEventListener("click",this.setReady,!1)},e.prototype.render=function(){return'\n\t\t<div class="scene game-scene">\n\t\t\t<div id="'+b+'"></div>\n\t\t\t'+this.getReadyHtml()+"\n\t\t\t"+this.getGameOverHtml()+"\n\t\t\t"+this.getPauseHtml()+"\n\t\t\t"+this.getLoadingHtml()+'\n\t\t\t<div id="'+P+'"></div>\n\t\t\t'+this.getDebugFPS()+"\n\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){var e=this;return t.key===l.Keys.RETURN?this.onReturn():t.key===l.Keys.EXIT?(this.pause(x),c.showModal(this.quitGameModal).then(function(t){t?a["default"].Device.exit():e.pause()}),!1):!(this.handleGameComponentOnKeyDown(t)||(this.hasHighscore&&this.hsComponent?(t.key===l.Keys.ENTER&&Date.now()-this.highscoreShownAt>v?this.saveScore(this.getScoreValue(),this.hsComponent?this.hsComponent.getName():""):this.hsComponent.onKeyDown(t),1):this.gameEnded?(this.restart(),1):this.paused?(this.unpause(),1):!this.isReady&&(this.setReady(),1)))},e.prototype.handleGameComponentOnKeyDown=function(t){return!!(this.gameRunning&&this.gameComponent&&this.isReady)&&(this.gameComponent.onKeyDown(t),!0)},e.prototype.getReadyHtml=function(){return this.isReady?"":'\n\t\t\t<div id="'+_+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t'+r["default"](u._("get_ready"),"big")+"<br />\n\t\t\t\t\t"+r["default"](u._("any_to_start"),"big")+"\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t"},e.prototype.getPauseHtml=function(){return'\n\t\t<div id="'+E+'" class="backdrop">\n\t\t\t<h1 class="info">\n\t\t\t\t'+r["default"](u._("paused"),"big")+"<br />\n\t\t\t\t"+r["default"](u._("any_to_continue"),"big")+"\n\t\t\t</h1>\n\t\t</div>\n\t\t"},e.prototype.getGameOverHtml=function(){return'\n\t\t\t<div id="'+w+'" class="backdrop">\n\t\t\t\t<h1 class="info">\n\t\t\t\t\t'+r["default"](u._("gameover"),"big")+'<br />\n\t\t\t\t\t<div id="'+e.HAS_NO_HIGHSCORE+'">'+r["default"](u._("any_to_continue"),"big")+"</div>\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t"},e.prototype.getLoadingHtml=function(){return this.isLoaded?"":'\n\t\t\t<div id="'+T+'" class="backdrop">\n\t\t\t\t<div id="loadingWrapper">\n\t\t\t\t\t<div id="'+e.LOADING_DOTS+'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.onReturn=function(){var t=this;return this.gameComponent&&this.gameComponent.onReturn()||(this.pause(x),c.showModal(this.leaveGameModal).then(function(e){e?g.routeTo(t.backRoute):t.pause()})),!1},e.prototype.pause=function(t){void 0===t&&(t=!1),!this.gameEnded&&this.isReady&&(a["default"].SoundManager.pause(),this.gameRunning=!1,(this.paused=!0)!==t&&this.show(this.refs[E]))},e.prototype.unpause=function(){this.gameRunning=!0,a["default"].SoundManager.unPause(),this.paused=!1,this.hide(this.refs[E]),this.lastFrameTime=Date.now()-this.getNextFrameTimeout(),this.frame()},e.prototype.sendGA=function(){setTimeout(function(){h["default"]("send","pageview",a["default"].CONFIG.gameName+"#newgame")},3e3)},e.prototype.getDebugFPS=function(){return this.debug?'\n\t\t<div id="'+O+'">\n\t\t\tFPS: <span id="'+M+'"></span><br />\n\t\t\t<small>Target FPS: <span id="'+C+'"></span></small><br />\n\t\t\t<small>'+(this.usingTimeout?"Using setTimeout":"Using requestAnimationFrame")+"</small>\n\t\t</div>\n\t\t":""},e.prototype.onGameCanvasClick=function(t){this.onKeyDown({key:l.Keys.ENTER,target:this.refs[b],originalEvent:t})},e.prototype.getNextFrameTimeout=function(){switch(this.targetFps){case 20:return 50;case 25:return 40;case 30:return 33;case 35:return 29;case 40:return 25;case 45:return 22;case 50:return 20;case 55:return 18;case 60:default:return 16}},e.prototype.frameTime=function(){return this.now&&this.lastFrameTime?this.now-this.lastFrameTime:this.getNextFrameTimeout()},e.prototype.frame=function(){var t=this;this.now=Date.now(),this.lastFrameTime?this.adjustFps():this.lastFrameTime=this.now,this.step(this.frameTime()),this.gameRunning&&this.animationFrame&&this.animationFrame.apply(this.timeout?this:window,[function(){t.frame&&t.frame.apply(t,[])}]),this.lastFrameTime=this.now},e.prototype.step=function(t){if(!this.isLoaded)return this.gameComponent.loadingStep(),void this.loadingShown(t);this.gameComponent&&this.gameComponent.step(t)},e.prototype.loadingShown=function(t){this.gameComponent.loaded?(this.gameComponent.step(0),this.hide(this.refs[T]),this.isReady||(this.show(this.refs[_]),this.gameRunning=!1),this.isLoaded=!0):(this.loadingTime-=t,this.loadingTime<=0&&(this.currentLoadingDots++,this.currentLoadingDots>this.maxLoadingDots&&(this.currentLoadingDots=0),this.refs[e.LOADING_DOTS].innerHTML=0<this.currentLoadingDots?r["default"](m.repeat(".",this.currentLoadingDots),"big"):"",this.loadingTime=I))},e.prototype.adjustFps=function(){this.fps=~~((9*this.fps+1e3/this.frameTime())/10);var t=this.targetFps-this.fps;t>this.targetFps/2?this.missedFrames++:t<3&&this.extraFrames++,10<this.missedFrames&&20<this.targetFps&&(this.targetFps-=5,this.missedFrames=0),10<this.extraFrames&&this.targetFps<60&&(this.targetFps+=5,this.extraFrames=0),this.debug&&(this.refs[M].innerHTML=this.fps.toString(10),this.refs[C].innerHTML=this.targetFps.toString(10))},e.prototype.restart=function(){n.shouldShowAd()?g.routeTo("game"):(n.raiseStartCount(),this.gameEnded=!1,this.hasHighscore=!1,this.gameRunning=!0,window.ga&&window.ga("send","pageview",a["default"].CONFIG.gameName+"#newgame"),this.gameComponent&&this.gameComponent.unmount(),this.gameComponent=new this.GameComponentClass,this.gameComponent.mount(this.refs[b]),this.lastFrameTime=null,this.frame(),this.hide(this.refs[w]),this.hide(this.refs[P]))},e.prototype.setReady=function(){this.gameRunning=!0,this.isReady=!0,this.hide(this.refs[_]),this.lastFrameTime=Date.now()-this.getNextFrameTimeout(),this.frame()},e.prototype.gameoverWithReward=function(){var t=this;this.gameEnded||(this.pause(!0),this.gameEnded=!0,a["default"].CONFIG.adsConfigUrl&&a["default"].CONFIG.reward&&!e.adRewardPlayed?c.showModal(this.rewardModal).then(function(i){i?(n.lowerStartCount(),e.adRewardPlayed=!0,t.gameComponent&&t.gameComponent.reward(),g.routeTo("adplayer")):t.gameover()}):this.gameover())},e.prototype.gameover=function(){this.pause(!0),this.gameEnded=!0,e.adRewardPlayed=!1,this.show(this.refs[w]),this.gameComponent&&this.getScore()},e.prototype.getScoreValue=function(){return this.gameComponent?this.gameComponent.getScore():0},e.prototype.getScore=function(){var t=this.getScoreValue(),e=a["default"].Storage.get(a["default"].CONFIG.gameName+"_highscore")||[];e.length<this.maxHighscoreCount||e[e.length-1].score<t?(this.show(this.refs[P]),this.hide(this.refs[A]),this.hsComponent.setScore(t),this.hasHighscore=!0,this.highscoreShownAt=Date.now()):(this.hide(this.refs[P]),this.show(this.refs[A]),this.hasHighscore=!1)},e.prototype.saveScore=function(t,e){var i=a["default"].Storage.get(a["default"].CONFIG.gameName+"_highscore")||[];i.push({user:e,score:t}),a["default"].Storage.set("last_used_user",e),a["default"].Storage.set(a["default"].CONFIG.gameName+"_highscore",this.orderedScore(i)),g.routeTo("highscores")},e.prototype.orderedScore=function(t){return t.sort(function(t,e){return t.score<e.score?1:t.score>e.score?-1:0}).slice(0,this.maxHighscoreCount)},e.adRewardPlayed=!1,e.GAME_CANVAS=b,e.GAME_READY=_,e.GAME_OVER=w,e.GAME_LOADING=T,e.LOADING_DOTS=S,e.HAS_NO_HIGHSCORE=A,e.PAUSE=E,e.HIGHSCORE=P,e.DEBUG=O,e.FPS=M,e.TARGET_FPS=C,e}(y["default"]),e["default"]=R},function(t,e,i){var n=i(105),s=i(146),r=i(91),o=i(0),a=i(24),h=i(19),u=i(18),l=i(92),c=new o({Extends:h,Mixins:[a.Depth,a.GetBounds,a.Origin,a.ScaleMode,a.Transform,a.ScrollFactor,a.Visible],initialize:function(t,e,i,s,r){s===undefined&&(s=1),r===undefined&&(r=s),h.call(this,t,"Zone"),this.setPosition(e,i),this.width=s,this.height=r,this.blendMode=n.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){return i===undefined&&(i=!0),this.width=t,this.height=e,i&&this.input&&this.input.hitArea instanceof u&&(this.input.hitArea.width=t,this.input.hitArea.height=e),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},setCircleDropZone:function(t){return this.setDropZone(new s(0,0,t),r)},setRectangleDropZone:function(t,e){return this.setDropZone(new u(0,0,t,e),l)},setDropZone:function(t,e){return t===undefined?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(t,e,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});t.exports=c},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ADD_ANIMATION:i(977),ANIMATION_COMPLETE:i(978),ANIMATION_REPEAT:i(979),ANIMATION_RESTART:i(980),ANIMATION_START:i(981),PAUSE_ALL:i(982),REMOVE_ANIMATION:i(983),RESUME_ALL:i(984),SPRITE_ANIMATION_COMPLETE:i(985),SPRITE_ANIMATION_KEY_COMPLETE:i(986),SPRITE_ANIMATION_KEY_REPEAT:i(987),SPRITE_ANIMATION_KEY_RESTART:i(988),SPRITE_ANIMATION_KEY_START:i(989),SPRITE_ANIMATION_KEY_UPDATE:i(990),SPRITE_ANIMATION_REPEAT:i(991),SPRITE_ANIMATION_RESTART:i(992),SPRITE_ANIMATION_START:i(993),SPRITE_ANIMATION_UPDATE:i(994)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 2*(t.width+t.height)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={defaultPipeline:null,pipeline:null,initPipeline:function(t){t===undefined&&(t="TextureTintPipeline");var e=this.scene.sys.game.renderer;return!!(e&&e.gl&&e.hasPipeline(t))&&(this.defaultPipeline=e.getPipeline(t),this.pipeline=this.defaultPipeline,!0)},setPipeline:function(t){var e=this.scene.sys.game.renderer;return e&&e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DESTROY:i(1009)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i,n;for(e=t.length-1;e>0;e--)i=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[i],t[i]=n;return t};t.exports=i},function(t,e,i){var n=i(0),s=i(24),r=i(78),o=i(15),a=i(94),h=i(18),u=i(93),l=i(290),c=i(4),f=new n({Extends:o,Mixins:[s.Alpha,s.Visible],initialize:function(t,e,i,n){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new h,this.dirty=!0,this._x=t,this._y=e,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=i,this._height=n,this._bounds=new h,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(i/2,n/2),this.originX=.5,this.originY=.5,this._customViewport=!1},setOrigin:function(t,e){return t===undefined&&(t=.5),e===undefined&&(e=t),this.originX=t,this.originY=e,this},getScroll:function(t,e,i){var n,s;return i===undefined&&(i=new c),n=.5*this.width,s=.5*this.height,i.x=t-n,i.y=e-s,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(t){var e=.5*this.width;return this.midPoint.x=t,this.scrollX=t-e,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(t){var e=.5*this.height;return this.midPoint.y=t,this.scrollY=t-e,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(t,e){return this.centerOnX(t),this.centerOnY(e),this},centerToBounds:function(){var t,e,i;return this.useBounds&&(t=this._bounds,e=.5*this.width,i=.5*this.height,this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-e,this.scrollY=t.centerY-i),this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){var e,i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O;if(this.disableCull)return t;if(e=this.matrix.matrix,i=e[0],n=e[1],s=e[2],r=e[3],!(o=i*r-n*s))return t;for(a=e[4],h=e[5],u=this.scrollX,l=this.scrollY,c=this.width,f=this.height,d=this.culledObjects,p=t.length,o=1/o,d.length=0,g=0;g<p;++g)y=t[g],y.hasOwnProperty("width")&&!y.parentContainer?(m=y.width,v=y.height,x=y.x-u*y.scrollFactorX-m*y.originX,b=y.y-l*y.scrollFactorY-v*y.originY,_=x*i+b*s+a,w=x*n+b*r+h,T=(x+m)*i+(b+v)*s+a,S=(x+m)*n+(b+v)*r+h,A=this.y,E=A+f,P=this.x,O=P+c,T>P&&_<O&&S>A&&w<E&&d.push(y)):d.push(y);return d},getWorldPoint:function(t,e,i){var n,s,r,o,a,h,u,l,f,d,p,g,y,m,v,x,b,_,w,T,S,A;return i===undefined&&(i=new c),n=this.matrix.matrix,s=n[0],r=n[1],o=n[2],a=n[3],h=n[4],u=n[5],(l=s*a-r*o)?(l=1/l,f=a*l,d=-r*l,p=-o*l,g=s*l,y=(o*u-a*h)*l,m=(r*h-s*u)*l,v=Math.cos(this.rotation),x=Math.sin(this.rotation),b=this.zoom,_=this.resolution,w=this.scrollX,T=this.scrollY,S=t+(w*v-T*x)*b,A=e+(w*x+T*v)*b,i.x=(S*f+A*p)*_+y,i.y=(S*d+A*g)*_+m,i):(i.x=t,i.y=e,i)},ignore:function(t){var e,i,n=this.id;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++)i=t[e],Array.isArray(i)?this.ignore(i):i.isParent?this.ignore(i.getChildren()):i.cameraFilter|=n;return this},preRender:function(t){var e,i,n,s,r=this.width,o=this.height,a=.5*r,h=.5*o,u=this.zoom*t,l=this.matrix,c=r*this.originX,f=o*this.originY,d=this.scrollX,p=this.scrollY;this.useBounds&&(d=this.clampX(d),p=this.clampY(p)),this.roundPixels&&(c=Math.round(c),f=Math.round(f)),this.scrollX=d,this.scrollY=p,e=d+a,i=p+h,this.midPoint.set(e,i),n=r/u,s=o/u,this.worldView.setTo(e-n/2,i-s/2,n,s),l.applyITRS(this.x+c,this.y+f,this.rotation,u,u),l.translate(-c,-f)},clampX:function(t){var e=this._bounds,i=this.displayWidth,n=e.x+(i-this.width)/2,s=Math.max(n,n+e.width-i);return t<n?t=n:t>s&&(t=s),t},clampY:function(t){var e=this._bounds,i=this.displayHeight,n=e.y+(i-this.height)/2,s=Math.max(n,n+e.height-i);return t<n?t=n:t>s&&(t=s),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return t===undefined&&(t=0),this.rotation=r(t),this},setBackgroundColor:function(t){return t===undefined&&(t="rgba(0,0,0,0)"),this.backgroundColor=l(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,e,i,n,s){return s===undefined&&(s=!1),this._bounds.setTo(t,e,i,n),this.dirty=!0,this.useBounds=!0,s?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(t){t===undefined&&(t=new h);var e=this._bounds;return t.setTo(e.x,e.y,e.width,e.height),t},setName:function(t){return t===undefined&&(t=""),this.name=t,this},setPosition:function(t,e){return e===undefined&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return t===undefined&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=t,this.sceneManager=t.sys.game.scene,this.scaleManager=t.sys.scale;var e=this.scaleManager.resolution;return this.resolution=e,this._cx=this._x*e,this._cy=this._y*e,this._cw=this._width*e,this._ch=this._height*e,this.updateSystem(),this},setScroll:function(t,e){return e===undefined&&(e=t),this.scrollX=t,this.scrollY=e,this},setSize:function(t,e){return e===undefined&&(e=t),this.width=t,this.height=e,this},setViewport:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setZoom:function(t){return t===undefined&&(t=1),0===t&&(t=.001),this.zoom=t,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},updateSystem:function(){var t,e;this.scaleManager&&(t=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,e=this.sceneManager,t&&!this._customViewport?e.customViewports++:!t&&this._customViewport&&e.customViewports--,this.dirty=!0,this._customViewport=t)},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this._cx=t*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._cy=t*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this._cw=t*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this._ch=t*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});t.exports=f},function(t,e){var i="",n=function(){var t=function(t){var e,i,n=["i","webkitI","msI","mozI","oI"];for(e=0;e<n.length;e++)if((i=n[e]+"mageSmoothingEnabled")in t)return i;return null},e=function(e){return""===i&&(i=t(e)),i&&(e[i]=!0),e};return{disable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!1),e},enable:e,getPrefix:t,isEnabled:function(t){return null!==i?t[i]:null}}};t.exports=n()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return(e-t)*i+t};t.exports=i},function(t,e,i){var n=i(166),s={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};t.exports=function(){var t=navigator.userAgent;return/Edge\/\d+/.test(t)?s.edge=!0:/Chrome\/(\d+)/.test(t)&&!n.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(t)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&n.iOS?s.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(t)?s.opera=!0:/Safari/.test(t)&&!n.windowsPhone?s.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(s.silk=!0),s}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0)},clone:function(){return new s(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,n){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return Math.sqrt(t*t+e*e+i*i+n*n)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return t*t+e*e+i*i+n*n},normalize:function(){var t=this.x,e=this.y,i=this.z,n=this.w,s=t*t+e*e+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=e*s,this.z=i*s,this.w=n*s),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){var i,n,s,r;return e===undefined&&(e=0),i=this.x,n=this.y,s=this.z,r=this.w,this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=s+e*(t.z-s),this.w=r+e*(t.w-r),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0,s=t.w-this.w||0;return Math.sqrt(e*e+i*i+n*n+s*s)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0,s=t.w-this.w||0;return e*e+i*i+n*n+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,n=this.z,s=this.w,r=t.val;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12]*s,this.y=r[1]*e+r[5]*i+r[9]*n+r[13]*s,this.z=r[2]*e+r[6]*i+r[10]*n+r[14]*s,this.w=r[3]*e+r[7]*i+r[11]*n+r[15]*s,this},transformQuat:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,o=t.z,a=t.w,h=a*e+r*n-o*i,u=a*i+o*e-s*n,l=a*n+s*i-r*e,c=-s*e-r*i-o*n;return this.x=h*a+c*-s+u*-o-l*-r,this.y=u*a+c*-r+l*-s-h*-o,this.z=l*a+c*-o+h*-r-u*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});s.prototype.sub=s.prototype.subtract,s.prototype.mul=s.prototype.multiply,s.prototype.div=s.prototype.divide,s.prototype.dist=s.prototype.distance,s.prototype.distSq=s.prototype.distanceSq,s.prototype.len=s.prototype.length,s.prototype.lenSq=s.prototype.lengthSq,t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ADD:i(1190),ERROR:i(1191),LOAD:i(1192),READY:i(1193),REMOVE:i(1194)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i;if(e)"string"==typeof e?i=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(i=e);else if(t.parentElement)return t;return i||(i=document.body),i.appendChild(t),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};t.exports=i},function(t,e,i){var n=i(0),s=i(127),r=i(15),o=i(128),a=i(54),h=i(2),u=new n({Extends:r,initialize:function(t){r.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,t.events.on(a.BLUR,function(){this.pauseOnBlur&&this.onBlur()},this),t.events.on(a.FOCUS,function(){this.pauseOnBlur&&this.onFocus()},this),t.events.on(a.PRE_STEP,this.update,this),t.events.once(a.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(t,e){var i,n,r,o;e===undefined&&(e={}),i=this.add(t,e),i.spritemap=this.jsonCache.get(t).spritemap;for(n in i.spritemap)i.spritemap.hasOwnProperty(n)&&(r=s(e),o=i.spritemap[n],r.loop=!!o.hasOwnProperty("loop")&&o.loop,i.addMarker({name:n,start:o.start,duration:o.end-o.start,config:r}));return i},play:function(t,e){var i=this.add(t);return i.once(o.COMPLETE,i.destroy,i),e?e.name?(i.addMarker(e),i.play(e.name)):i.play(e):i.play()},playAudioSprite:function(t,e,i){var n=this.addAudioSprite(t);return n.once(o.COMPLETE,n.destroy,n),n.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeByKey:function(t){var e,i,n=0;for(e=this.sounds.length-1;e>=0;e--)i=this.sounds[e],i.key===t&&(i.destroy(),this.sounds.splice(e,1),n++);return n},pauseAll:function(){this.forEachActiveSound(function(t){t.pause()}),this.emit(o.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(t){t.resume()}),this.emit(o.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(t){t.stop()}),this.emit(o.STOP_ALL,this)},unlock:h,onBlur:h,onFocus:h,update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(i){i.update(t,e)})},destroy:function(){this.removeAllListeners(),this.forEachActiveSound(function(t){t.destroy()}),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach(function(n,s){n.pendingRemove||t.call(e||i,n,s,i.sounds)})},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit(o.GLOBAL_RATE,this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit(o.GLOBAL_DETUNE,this,t)}}});t.exports=u},function(t,e,i){var n=i(0),s=i(15),r=i(128),o=i(32),a=i(2),h=new n({Extends:s,initialize:function(t,e,i){s.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=o(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(!this.markers[t.name]&&(t=o(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},t),this.markers[t.name]=t,!0))},updateMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(!!this.markers[t.name]&&(this.markers[t.name]=o(!0,this.markers[t.name],t),!0))},removeMarker:function(t){var e=this.markers[t];return e?(this.markers[t]=null,e):null},play:function(t,e){if(t===undefined&&(t=""),"object"==typeof t&&(e=t,t=""),"string"!=typeof t)return!1;if(t){if(!this.markers[t])return!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=o(this.currentConfig,e),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var t=1.0005777895065548,e=this.currentConfig.detune+this.manager.detune,i=Math.pow(t,e);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.emit(r.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});t.exports=h},function(t,e,i){var n=i(0),s=i(37),r=i(32),o=new n({initialize:function(t,e,i,n,s,r,o){this.texture=t,this.name=e,this.source=t.source[i],this.sourceIndex=i,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(r,o,n,s)},setSize:function(t,e,i,n){var s,r,o;return i===undefined&&(i=0),n===undefined&&(n=0),this.cutX=i,this.cutY=n,this.cutWidth=t,this.cutHeight=e,this.width=t,this.height=e,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*e),this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2),s=this.data,r=s.cut,r.x=i,r.y=n,r.w=t,r.h=e,r.r=i+t,r.b=n+e,s.sourceSize.w=t,s.sourceSize.h=e,s.spriteSourceSize.w=t,s.spriteSourceSize.h=e,s.radius=.5*Math.sqrt(t*t+e*e),o=s.drawImage,o.x=i,o.y=n,o.width=t,o.height=e,this.updateUVs()},setTrim:function(t,e,i,n,s,r){var o=this.data,a=o.spriteSourceSize;return o.trim=!0,o.sourceSize.w=t,o.sourceSize.h=e,a.x=i,a.y=n,a.w=s,a.h=r,a.r=i+s,a.b=n+r,this.x=i,this.y=n,this.width=s,this.height=r,this.halfWidth=.5*s,this.halfHeight=.5*r,this.centerX=Math.floor(s/2),this.centerY=Math.floor(r/2),this.updateUVs()},setCropUVs:function(t,e,i,n,r,o,a){var h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T=this.cutX,S=this.cutY,A=this.cutWidth,E=this.cutHeight,P=this.realWidth,O=this.realHeight;return e=s(e,0,P),i=s(i,0,O),n=s(n,0,P-e),r=s(r,0,O-i),h=T+e,u=S+i,l=n,c=r,f=this.data,f.trim?(d=f.spriteSourceSize,n=s(n,0,A-e),r=s(r,0,E-i),p=e+n,g=i+r,y=!(d.r<e||d.b<i||d.x>p||d.y>g),y?(m=Math.max(d.x,e),v=Math.max(d.y,i),x=Math.min(d.r,p)-m,b=Math.min(d.b,g)-v,l=x,c=b,h=o?T+(A-(m-d.x)-x):T+(m-d.x),u=a?S+(E-(v-d.y)-b):S+(v-d.y),e=m,i=v,n=x,r=b):(h=0,u=0,l=0,c=0)):(o&&(h=T+(A-e-n)),a&&(u=S+(E-i-r))),_=this.source.width,w=this.source.height,t.u0=Math.max(0,h/_),t.v0=Math.max(0,u/w),t.u1=Math.min(1,(h+l)/_),t.v1=Math.min(1,(u+c)/w),t.x=e,t.y=i,t.cx=h,t.cy=u,t.cw=l,t.ch=c,t.width=n,t.height=r,t.flipX=o,t.flipY=a,t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},updateUVs:function(){var t,e,i=this.cutX,n=this.cutY,s=this.cutWidth,r=this.cutHeight,o=this.data.drawImage;return o.width=s,o.height=r,t=this.source.width,e=this.source.height,this.u0=i/t,this.v0=n/e,this.u1=(i+s)/t,this.v1=(n+r)/e,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/e,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var t=new o(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=r(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.texture=null,this.source=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=o},function(t,e,i){var n=i(312),s=i(0),r=i(2),o=i(224),a=new s({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=r,this.removeCallback=r,this._sortKey=""},add:function(t,e){return e?n.Add(this.list,t):n.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,e,i){return i?n.AddAt(this.list,t,e):n.AddAt(this.list,t,e,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(e===undefined&&(e=function(e,i){return e[t]-i[t]}),o.inplace(this.list,e),this):this},getByName:function(t){return n.GetFirst(this.list,"name",t)},getRandom:function(t,e){return n.GetRandom(this.list,t,e)},getFirst:function(t,e,i,s){return n.GetFirst(this.list,t,e,i,s)},getAll:function(t,e,i,s){return n.GetAll(this.list,t,e,i,s)},count:function(t,e){return n.CountAllMatching(this.list,t,e)},swap:function(t,e){n.Swap(this.list,t,e)},moveTo:function(t,e){return n.MoveTo(this.list,t,e)},remove:function(t,e){return e?n.Remove(this.list,t):n.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,e){return e?n.RemoveAt(this.list,t):n.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,e,i){return i?n.RemoveBetween(this.list,t,e):n.RemoveBetween(this.list,t,e,this.removeCallback,this)},removeAll:function(t){for(var e=this.list.length;e--;)this.remove(this.list[e],t);return this},bringToTop:function(t){return n.BringToTop(this.list,t)},sendToBack:function(t){return n.SendToBack(this.list,t)},moveUp:function(t){return n.MoveUp(this.list,t),t},moveDown:function(t){return n.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(t,e){return n.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,s){return n.SetAll(this.list,t,e,i,s),this},each:function(t,e){var i,n=[null];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<this.list.length;i++)n[0]=this.list[i],t.apply(e,n)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});t.exports=a},function(t,e,i){var n=i(313),s=i(544),r=function(t,e){if(e===undefined&&(e=90),!n(t))return null;if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)t=s(t),t.reverse();else if(-90===e||270===e||"rotateRight"===e)t.reverse(),t=s(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t};t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
//! stable.js 0.1.6, https://github.com/Two-Screen/stable
//!  2017 Angry Bytes and contributors. MIT licensed.
!function(){function e(t,e){var n,s,r,o;if("function"!=typeof e&&(e=function(t,e){return(t+"").localeCompare(e)}),(n=t.length)<=1)return t;for(s=Array(n),r=1;r<n;r*=2)i(t,e,r,s),o=t,t=s,s=o;return t}var i,n=function(t,i){return e(t.slice(),i)};n.inplace=function(t,n){var s=e(t,n);return s!==t&&i(s,null,t.length,t),t},i=function(t,e,i,n){var s,r,o,a,h,u=t.length,l=0,c=2*i;for(s=0;s<u;s+=c)for(r=s+i,o=r+i,r>u&&(r=u),o>u&&(o=u),a=s,h=r;;)if(a<r&&h<o)e(t[a],t[h])<=0?n[l++]=t[a++]:n[l++]=t[h++];else if(a<r)n[l++]=t[a++];else{if(!(h<o))break;n[l++]=t[h++]}},t.exports=n}()},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(1373),a=i(1374),h=i(1375),u=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,h],initialize:function(t,e,i,n,s,a,h){s===undefined&&(s=""),h===undefined&&(h=0),r.call(this,t,"BitmapText"),this.font=n;var u=this.scene.sys.cache.bitmapFont.get(n);this.fontData=u.data,this._text="",this._fontSize=a||this.fontData.size,this._letterSpacing=0,this._align=h,this._bounds=o(this,!1,this._bounds),this._dirty=!1,this.setTexture(u.texture,u.frame),this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.setText(s)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return t===undefined&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=""+t,this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(t){return this._dirty&&o(this,t,this._bounds),this._bounds},setFont:function(t,e,i){if(e===undefined&&(e=this._fontSize),i===undefined&&(i=this._align),t!==this.font){var n=this.scene.sys.cache.bitmapFont.get(t);n&&(this.font=t,this.fontData=n.data,this._fontSize=e,this._align=i,this.setTexture(n.texture,n.frame),o(this,!1,this._bounds))}return this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=s.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=a,t.exports=u},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(1495),a=i(2),h=new n({Extends:r,Mixins:[s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Pipeline,s.ScaleMode,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,o],initialize:function(t,e,i,n,s,o,a,h,u){var l,c;if(r.call(this,t,"Mesh"),n.length!==s.length)throw Error("Mesh Vertex count must match UV count");if(l=n.length/2|0,o.length>0&&o.length<l)throw Error("Mesh Color count must match Vertex count");if(a.length>0&&a.length<l)throw Error("Mesh Alpha count must match Vertex count");if(0===o.length)for(c=0;c<l;++c)o[c]=16777215;if(0===a.length)for(c=0;c<l;++c)a[c]=1;this.vertices=new Float32Array(n),this.uv=new Float32Array(s),this.colors=new Uint32Array(o),this.alphas=new Float32Array(a),this.tintFill=!1,this.setTexture(h,u),this.setPosition(e,i),this.setSizeToFrame(),this.initPipeline()},setAlpha:a});t.exports=h},function(t,e,i){var n=i(9),s=function(t,e,i){var s,r,o,a,h,u,l,c,f,d,p,g,y;return i===undefined&&(i=new n),s=t.x1,r=t.y1,o=t.x2,a=t.y2,h=e.x1,u=e.y1,l=e.x2,c=e.y2,f=(l-h)*(r-u)-(c-u)*(s-h),d=(o-s)*(r-u)-(a-r)*(s-h),0!=(p=(c-u)*(o-s)-(l-h)*(a-r))&&(g=f/p,y=d/p,g>=0&&g<=1&&y>=0&&y<=1&&(i.x=s+g*(o-s),i.y=r+g*(a-r),!0))};t.exports=s},function(t,e,i){var n=i(6),s={},r={};r.register=function(t,e,i,n,r){s[t]={plugin:e,mapping:i,settingsKey:n,configKey:r}},r.getPlugin=function(t){return s[t]},r.install=function(t){var e,i,r,o,a,h=t.scene.sys,u=h.settings.input,l=h.game.config;for(e in s)i=s[e].plugin,r=s[e].mapping,o=s[e].settingsKey,a=s[e].configKey,n(u,o,l[a])&&(t[r]=new i(t))},r.remove=function(t){s.hasOwnProperty(t)&&delete s[t]},t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ANY_KEY_DOWN:i(1629),ANY_KEY_UP:i(1630),COMBO_MATCH:i(1631),DOWN:i(1632),KEY_DOWN:i(1633),KEY_UP:i(1634),UP:i(1635)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){return t===undefined&&(t=""),e===undefined&&(e=!0),i===undefined&&(i=""),n===undefined&&(n=""),s===undefined&&(s=0),{responseType:t,async:e,user:i,password:n,timeout:s,header:undefined,headerValue:undefined,requestedWith:!1,overrideMimeType:undefined}};t.exports=i},function(t,e,i){var n=i(0),s=i(610),r=i(96),o=new n({Extends:r,Mixins:[s.Acceleration,s.Angular,s.Bounce,s.Debug,s.Drag,s.Enable,s.Friction,s.Gravity,s.Immovable,s.Mass,s.Size,s.Velocity],initialize:function(t,e,i,n,s){r.call(this,t,e,i,n,s),this.body=null}});t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Bounce:i(1726),Collision:i(1727),Force:i(1728),Friction:i(1729),Gravity:i(1730),Mass:i(1731),Static:i(1732),Sensor:i(1733),SetBody:i(1734),Sleep:i(1736),Transform:i(1749),Velocity:i(1750)}},function(t,e){var i={};t.exports=i,function(){i.create=function(t,e){var n=t.bodyA,s=t.bodyB,r={id:i.id(n,s),bodyA:n,bodyB:s,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||s.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(r,t,e),r},i.update=function(t,e,n){var s,r,o,a,h,u;if(t.collision=e,e.collided){for(s=e.supports,r=t.activeContacts,o=e.parentA,a=e.parentB,t.inverseMass=o.inverseMass+a.inverseMass,t.friction=Math.min(o.friction,a.friction),t.frictionStatic=Math.max(o.frictionStatic,a.frictionStatic),t.restitution=Math.max(o.restitution,a.restitution),t.slop=Math.max(o.slop,a.slop),h=0;h<s.length;h++)r[h]=s[h].contact;u=s.length,u<r.length&&(r.length=u),t.separation=e.depth,i.setActive(t,!0,n)}else!0===t.isActive&&i.setActive(t,!1,n)},i.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}}()},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CalculateFacesAt:i(348),CalculateFacesWithin:i(99),Copy:i(1773),CreateFromTiles:i(1774),CullTiles:i(1775),Fill:i(1776),FilterTiles:i(1777),FindByIndex:i(1778),FindTile:i(1779),ForEachTile:i(1780),GetTileAt:i(235),GetTileAtWorldXY:i(1781),GetTilesWithin:i(39),GetTilesWithinShape:i(1782),GetTilesWithinWorldXY:i(1783),HasTileAt:i(643),HasTileAtWorldXY:i(1784),IsInLayerBounds:i(179),PutTileAt:i(349),PutTileAtWorldXY:i(1785),PutTilesAt:i(1786),Randomize:i(1787),RemoveTileAt:i(644),RemoveTileAtWorldXY:i(1788),RenderDebug:i(1789),ReplaceByIndex:i(642),SetCollision:i(1790),SetCollisionBetween:i(1791),SetCollisionByExclusion:i(1792),SetCollisionByProperty:i(1793),SetCollisionFromCollisionGroup:i(1794),SetTileIndexCallback:i(1795),SetTileLocationCallback:i(1796),Shuffle:i(1797),SwapByIndex:i(1798),TileToWorldX:i(236),TileToWorldXY:i(1799),TileToWorldY:i(237),WeightedRandomize:i(1800),WorldToTileX:i(112),WorldToTileXY:i(1801),WorldToTileY:i(113)}},function(t,e,i){var n=i(179),s=function(t,e,i,s){if(i===undefined&&(i=!1),n(t,e,s)){var r=s.data[e][t]||null;return null===r?null:-1===r.index?i?r:null:r}return null};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=i.baseTileWidth,s=i.tilemapLayer,r=0;return s&&(e===undefined&&(e=s.scene.cameras.main),r=s.x+e.scrollX*(1-s.scrollFactorX),n*=s.scaleX),r+t*n};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=i.baseTileHeight,s=i.tilemapLayer,r=0;return s&&(e===undefined&&(e=s.scene.cameras.main),r=s.y+e.scrollY*(1-s.scrollFactorY),n*=s.scaleY),r+t*n};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n,s,r,o,a){(i===undefined||i<=0)&&(i=32),(n===undefined||n<=0)&&(n=32),s===undefined&&(s=0),r===undefined&&(r=0),o===undefined&&(o={}),a===undefined&&(a={}),this.name=t,this.firstgid=e,this.tileWidth=i,this.tileHeight=n,this.tileMargin=s,this.tileSpacing=r,this.tileProperties=o,this.tileData=a,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){return this.image=t,this.glTexture=t.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(t,e){return t!==undefined&&(this.tileWidth=t),e!==undefined&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,e){return t!==undefined&&(this.tileMargin=t),e!==undefined&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,e){var i,n,s,r,o=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);for(o=Math.floor(o),a=Math.floor(a),this.rows=o,this.columns=a,this.total=o*a,this.texCoordinates.length=0,i=this.tileMargin,n=this.tileMargin,s=0;s<this.rows;s++){for(r=0;r<this.columns;r++)this.texCoordinates.push({x:i,y:n}),i+=this.tileWidth+this.tileSpacing;i=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s;return t.hasOwnProperty(e)?(s=typeof t[e],n="function"===s?function(i,n,s){return t[e](i,n,s)}:function(){return t[e]}):n="function"==typeof i?i:function(){return i},n};t.exports=i},function(t,e,i){var n=i(355),s=i(25),r=i(173),o=i(172),a=i(239),h=i(657),u=i(353),l=i(6),c=i(354),f=i(356),d=i(357),p=function(t,e,i){var p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y;for(i===undefined&&(i=n),p=i.targets?i.targets:u(e),g=h(e),y=a(e,"delay",i.delay),m=a(e,"duration",i.duration),v=l(e,"easeParams",i.easeParams),x=o(l(e,"ease",i.ease),v),b=a(e,"hold",i.hold),_=a(e,"repeat",i.repeat),w=a(e,"repeatDelay",i.repeatDelay),T=r(e,"yoyo",i.yoyo),S=r(e,"flipX",i.flipX),A=r(e,"flipY",i.flipY),E=[],P=0;P<g.length;P++)for(O=g[P].key,M=g[P].value,C=0;C<p.length;C++)I=c(O,M),R=d(p[C],O,I.getEnd,I.getStart,o(l(M,"ease",x),v),a(M,"delay",y),a(M,"duration",m),r(M,"yoyo",T),a(M,"hold",b),a(M,"repeat",_),a(M,"repeatDelay",w),r(M,"flipX",S),r(M,"flipY",A)),E.push(R);for(L=new f(t,E,p),L.offset=s(e,"offset",null),L.completeDelay=s(e,"completeDelay",0),L.loop=Math.round(s(e,"loop",0)),L.loopDelay=Math.round(s(e,"loopDelay",0)),L.paused=r(e,"paused",!1),L.useFrames=r(e,"useFrames",!1),k=l(e,"callbackScope",L),D=[L,null],F=f.TYPES,N=0;N<F.length;N++)B=F[N],(U=l(e,B,!1))&&(G=l(e,B+"Scope",k),Y=l(e,B+"Params",[]),L.setCallback(B,U,D.concat(Y),G));return L};t.exports=p},function(t,e,i){var n=i(0),s=i(19),r=i(96),o=i(4),a=i(214),h=new n({Extends:s,initialize:function(t,e,i,n,h,u){s.call(this,t,"Sprite3D"),this.gameObject=new r(t,0,0,h,u),this.position=new a(e,i,n),this.size=new o(this.gameObject.width,this.gameObject.height),this.scale=new o(1,1),this.adjustScaleX=!0,this.adjustScaleY=!0,this._visible=!0},project:function(t){var e=this.position,i=this.gameObject;t.project(e,i),t.getPointSize(e,this.size,this.scale),this.scale.x<=0||this.scale.y<=0?i.setVisible(!1):(i.visible||i.setVisible(!0),this.adjustScaleX&&(i.scaleX=this.scale.x),this.adjustScaleY&&(i.scaleY=this.scale.y),i.setDepth(-1*i.z))},setVisible:function(t){return this.visible=t,this},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.gameObject.visible=t}},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},z:{get:function(){return this.position.z},set:function(t){this.position.z=t}}});t.exports=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1845))},function(t,e,i){var n=i(11),s=i(8).document,r=n(s)&&n(s.createElement);t.exports=function(t){return r?s.createElement(t):{}}},function(t,e,i){var n=i(8),s=i(64),r=i(101),o=i(361),a=i(21).f;t.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,i){var n=i(182)("keys"),s=i(115);t.exports=function(t){return n[t]||(n[t]=s(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(8).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(11),s=i(5),r=function(t,e){if(s(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(65)(Function.call,i(58).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):undefined),check:r}},function(t,e){t.exports="\t\n\x0B\f\r \u2028\u2029\ufeff"},function(t,e,i){var n=i(11),s=i(248).set;t.exports=function(t,e,i){var r,o=e.constructor;return o!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&n(r)&&s&&s(t,r),t}},function(t,e,i){"use strict";var n=i(73),s=i(72);t.exports=function(t){var e=s(this)+"",i="",r=n(t);if(r<0||r==Infinity)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var n=i(73),s=i(72);t.exports=function(t){return function(e,i){var r,o,a=s(e)+"",h=n(i),u=a.length;return h<0||h>=u?t?"":undefined:(r=a.charCodeAt(h),r<55296||r>56319||h+1===u||(o=a.charCodeAt(h+1))<56320||o>57343?t?a.charAt(h):r:t?a.slice(h,h+2):o-56320+(r-55296<<10)+65536)}}},function(t,e,i){"use strict";var n=i(101),s=i(1),r=i(49),o=i(48),a=i(139),h=i(256),u=i(137),l=i(59),c=i(17)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",g=function(){return this};t.exports=function(t,e,i,y,m,v,x){var b,_,w,T,S,A,E,P,O,M,C,I;if(h(i,e,y),b=function(t){if(!f&&t in S)return S[t];switch(t){case d:case p:return function(){return new i(this,t)}}return function(){return new i(this,t)}},_=e+" Iterator",w=m==p,T=!1,S=t.prototype,A=S[c]||S["@@iterator"]||m&&S[m],E=A||b(m),P=m?w?b("entries"):E:undefined,O="Array"==e?S.entries||A:A,O&&(I=l(O.call(new t)))!==Object.prototype&&I.next&&(u(I,_,!0),n||"function"==typeof I[c]||o(I,c,g)),w&&A&&A.name!==p&&(T=!0,E=function(){return A.call(this)}),n&&!x||!f&&!T&&S[c]||o(S,c,E),a[e]=E,a[_]=g,m)if(M={values:w?E:b(p),keys:v?E:b(d),entries:P},x)for(C in M)C in S||r(S,C,M[C]);else s(s.P+s.F*(f||T),e,M);return M}},function(t,e,i){"use strict";var n=i(118),s=i(114),r=i(137),o={};i(48)(o,i(17)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(o,{next:s(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var n=i(186),s=i(72);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return s(t)+""}},function(t,e,i){var n=i(17)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(s){}}return!0}},function(t,e,i){var n=i(139),s=i(17)("iterator"),r=Array.prototype;t.exports=function(t){return t!==undefined&&(n.Array===t||r[s]===t)}},function(t,e,i){"use strict";var n=i(21),s=i(114);t.exports=function(t,e,i){e in t?n.f(t,e,s(0,i)):t[e]=i}},function(t,e,i){var n=i(161),s=i(17)("iterator"),r=i(139);t.exports=i(64).getIteratorMethod=function(t){if(t!=undefined)return t[s]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(762);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){"use strict";var n=i(31),s=i(117),r=i(22);t.exports=function(t){for(var e=n(this),i=r(e.length),o=arguments.length,a=s(o>1?arguments[1]:undefined,i),h=o>2?arguments[2]:undefined,u=h===undefined?i:s(h,i);u>a;)e[a++]=t;return e}},function(t,e,i){"use strict";var n=i(102),s=i(377),r=i(139),o=i(57);t.exports=i(255)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=undefined,s(1)):"keys"==e?s(0,i):"values"==e?s(0,t[i]):s(0,[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e,i){var n,s,r,o=i(65),a=i(367),h=i(247),u=i(243),l=i(8),c=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,y=0,m={},v="onreadystatechange",x=function(){var t,e=+this;m.hasOwnProperty(e)&&(t=m[e],delete m[e],t())},b=function(t){x.call(t.data)};f&&d||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++y]=function(){a("function"==typeof t?t:Function(t),e)},n(y),y},d=function(t){delete m[t]},"process"==i(66)(c)?n=function(t){c.nextTick(o(x,t,1))}:g&&g.now?n=function(t){g.now(o(x,t,1))}:p?(s=new p,r=s.port2,s.port1.onmessage=b,n=o(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):n=v in u("script")?function(t){h.appendChild(u("script"))[v]=function(){h.removeChild(this),x.call(t)}}:function(t){setTimeout(o(x,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,i){var n=i(8),s=i(265).set,r=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,h="process"==i(66)(o);t.exports=function(){var t,e,i,u,l,c,f=function(){var n,s;for(h&&(n=o.domain)&&n.exit();t;){s=t.fn,t=t.next;try{s()}catch(r){throw t?i():e=undefined,r}}e=undefined,n&&n.enter()};return h?i=function(){o.nextTick(f)}:!r||n.navigator&&n.navigator.standalone?a&&a.resolve?(c=a.resolve(undefined),i=function(){c.then(f)}):i=function(){s.call(n,f)}:(u=!0,l=document.createTextNode(""),new r(f).observe(l,{characterData:!0}),i=function(){l.data=u=!u}),function(n){var s={fn:n,next:undefined};e&&(e.next=s),t||(t=s,i()),e=s}}},function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(e!==undefined||i!==undefined)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=s(e),this.reject=s(i)}var s=i(41);t.exports.f=function(t){return new n(t)}},function(t,e,i){"use strict";function n(t,e,i){var n,s,r,o=Array(i),a=8*i-e-1,h=(1<<a)-1,u=h>>1,l=23===e?V(2,-24)-V(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for(t=j(t),t!=t||t===z?(s=t!=t?1:0,n=h):(n=H(K(t)/q),t*(r=V(2,-n))<1&&(n--,r*=2),t+=n+u>=1?l/r:l*V(2,1-u),t*r>=2&&(n++,r/=2),n+u>=h?(s=0,n=h):n+u>=1?(s=(t*r-1)*V(2,e),n+=u):(s=t*V(2,u-1)*V(2,e),n=0));e>=8;o[c++]=255&s,s/=256,e-=8);for(n=n<<e|s,a+=e;a>0;o[c++]=255&n,n/=256,a-=8);return o[--c]|=128*f,o}function s(t,e,i){var n,s=8*i-e-1,r=(1<<s)-1,o=r>>1,a=s-7,h=i-1,u=t[h--],l=127&u;for(u>>=7;a>0;l=256*l+t[h],h--,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=e;a>0;n=256*n+t[h],h--,a-=8);if(0===l)l=1-o;else{if(l===r)return n?NaN:u?-z:z;n+=V(2,e),l-=o}return(u?-1:1)*n*V(2,l-e)}function r(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function o(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function h(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return n(t,52,8)}function l(t){return n(t,23,4)}function c(t,e,i){R(t[N],e,{get:function(){return this[i]}})}function f(t,e,i,n){var s,r,o,a=+i,h=C(a);if(h+e>t[tt])throw X(B);return s=t[$]._b,r=h+t[et],o=s.slice(r,r+e),n?o:o.reverse()}function d(t,e,i,n,s,r){var o,a,h,u,l=+i,c=C(l);if(c+e>t[tt])throw X(B);for(o=t[$]._b,a=c+t[et],h=n(+s),u=0;u<e;u++)o[a+u]=h[r?u:e-u-1]}var p,g,y,m,v,x,b=i(8),_=i(20),w=i(101),T=i(193),S=i(48),A=i(123),E=i(10),P=i(121),O=i(73),M=i(22),C=i(386),I=i(119).f,R=i(21).f,L=i(263),k=i(137),D="ArrayBuffer",F="DataView",N="prototype",B="Wrong index!",U=b[D],G=b[F],Y=b.Math,X=b.RangeError,z=b.Infinity,W=U,j=Y.abs,V=Y.pow,H=Y.floor,K=Y.log,q=Y.LN2,J="buffer",Z="byteLength",Q="byteOffset",$=_?"_b":J,tt=_?"_l":Z,et=_?"_o":Q;if(T.ABV){if(!E(function(){U(1)})||!E(function(){new U(-1)})||E(function(){return new U,new U(1.5),new U(NaN),U.name!=D})){for(U=function(t){return P(this,U),new W(C(t))},p=U[N]=W[N],g=I(W),y=0;g.length>y;)(m=g[y++])in U||S(U,m,W[m]);w||(p.constructor=U)}v=new G(new U(2)),x=G[N].setInt8,v.setInt8(0,2147483648),v.setInt8(1,2147483649),!v.getInt8(0)&&v.getInt8(1)||A(G[N],{setInt8:function(t,e){x.call(this,t,e<<24>>24)},setUint8:function(t,e){x.call(this,t,e<<24>>24)}},!0)}else U=function(t){P(this,U,D);var e=C(t);this._b=L.call(Array(e),0),this[tt]=e},G=function(t,e,i){var n,s;if(P(this,G,F),P(t,U,F),n=t[tt],(s=O(e))<0||s>n)throw X("Wrong offset!");if(i=i===undefined?n-s:M(i),s+i>n)throw X("Wrong length!");this[$]=t,this[et]=s,this[tt]=i},_&&(c(U,Z,"_l"),c(G,J,"_b"),c(G,Z,"_l"),c(G,Q,"_o")),A(G[N],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return r(f(this,4,t,arguments[1]))},getUint32:function(t){return r(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return s(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return s(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,o,e)},setUint8:function(t,e){d(this,1,t,o,e)},setInt16:function(t,e){d(this,2,t,a,e,arguments[2])},setUint16:function(t,e){d(this,2,t,a,e,arguments[2])},setInt32:function(t,e){d(this,4,t,h,e,arguments[2])},setUint32:function(t,e){d(this,4,t,h,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,u,e,arguments[2])}});k(U,D),k(G,F),S(G[N],T.VIEW,!0),e[D]=U,e[F]=G},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x;e.__esModule=!0,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){var e,i,n;for(e=1;e<arguments.length;e++){i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},h={IDLE:"IDLE",BUFFERING:"BUFFERING",PLAYING:"PLAYING",PAUSED:"PAUSED"},u={SMOOTH_STREAMING:"SMOOTH_STREAMING",WIDEVINE:"WIDEVINE",MPEG_DASH:"MPEG_DASH",MP4:"MP4",HLS:"HLS"},l={PLAYREADY:"PLAYREADY",WIDEVINE:"WIDEVINE",VERIMATRIX:"VERIMATRIX"},c={START_PLAY:"START_PLAY",PLAY:"PLAY",PAUSE:"PAUSE",STOP:"STOP",SEEK:"SEEK",SHOW:"SHOW",HIDE:"HIDE",SET_PLAYBACK_SPEED:"SET_PLAYBACK_SPEED",SET_VIDEO_DIMENSIONS:"SET_VIDEO_DIMENSIONS",SET_AUDIO_TRACK:"SET_AUDIO_TRACK",MUTE:"MUTE",UNMUTE:"UNMUTE",SET_VOLUME:"SET_VOLUME",GET_CURRENT_BITRATE:"GET_CURRENT_BITRATE",GET_VIDEO_RESOLUTION:"GET_VIDEO_RESOLUTION"},f={mediaType:"",isLiveStream:!1,mode4K:!1},d={type:"",option:{}},p={width:1280,height:720,top:0,left:0,seekStep:2e4},g={width:1280,height:720,left:0,top:0},y={url:"",duration:0,currentTime:0,currentState:h.IDLE,prevState:h.IDLE,looping:!1,speed:1,initialStartPosition:0,hasBeenOpened:!1},m={INVALID_NUMBER_OF_PARAMS:"Invalid number of parameters",INVALID_TYPE_OF_PARAM:"Invalid type of parameter, it must be {type}",INVALID_RANGE_OF_PARAM:"Invalid range of parameter, it must be inside range {range}",METHOD_NOT_IMPLEMENTED:"{methodName} method is not implemented",NOT_SPECIFIED_MEDIA_URL:"No video URL specified in Player"},v={SMOOTH_STREAMING:"application/vnd.ms-sstr+xml",WIDEVINE:"video/mp4",MPEG_DASH:"application/dash+xml",MP4:"video/mp4",HLS:"application/vnd.apple.mpegurl"},a=o=function(){function t(){var e,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(n(this,t),e=this.validateParamsOfConstructor({config:i},arguments.length))throw Error(e);this.config=r({},p,i),this.eventStack={},this.mediaOption=r({},f),this.drmConfig=r({},d),this.property=r({},y,this.config)}return t.prototype.validateParamsOfConstructor=function(t,e){var i,n=t.config;return e>1?this.getErrMsgInvalidNumberOfParams():"object"!==(void 0===n?"undefined":s(n))?(i={requiredType:"object",parameterName:"config"},this.getErrMsgInvalidTypeOfParam(i)):""},t.prototype["native"]=function(t){arguments.length>1&&arguments[1]!==undefined&&arguments[1];throw Error(this.getErrMsgMethodNotImplemented("native"))},t.prototype.onDurationChange=function(t){"number"!=typeof t||Number.isNaN(t)||(this.property.duration=Math.floor(t),this.trigger("durationchange",this.property.duration))},t.prototype.onTimeUpdate=function(t){var e,i,n;"number"!=typeof t||Number.isNaN(t)||(e=Math.round(t),i=this.mediaOption.isLiveStream,n=this.property.duration,(i||n<=0||e<=n)&&(this.property.currentTime=e,this.trigger("timeupdate",this.property.currentTime)))},t.prototype.onEnd=function(){this.property.looping&&this.property.duration?(this.seek(0),this["native"](t.NATIVE_CMD.PLAY)):(this.setState(t.STATE.IDLE),this.trigger("end",this.property.currentTime))},t.prototype.onError=function(t,e,i){this.trigger("error",t,e,i)},t.prototype.deriveMediaType=function(e){return e.match(/\/manifest/i)?t.MEDIA_TYPE.SMOOTH_STREAMING:e.match(/\.wvm/)?t.MEDIA_TYPE.WIDEVINE:e.match(/\.mpd/)?t.MEDIA_TYPE.MPEG_DASH:e.match(/\.m3u8/)?t.MEDIA_TYPE.HLS:e.match(/\.mp4/)?t.MEDIA_TYPE.MP4:""},t.prototype.determineMimeType=function(t){return v[t]||""},t.prototype.setState=function(e){var i=this.property.currentState;i!==t.STATE.BUFFERING&&(this.property.prevState=i),this.property.currentState=e,this.trigger("statechange",this.property.currentState)},t.prototype.getState=function(){return this.property.currentState},t.prototype.getCurrentTime=function(){return this.property.currentTime},t.prototype.getDuration=function(){return this.property.duration},t.prototype.getPlaybackSpeed=function(){return this.property.speed},t.prototype.reset=function(){this.property=r({},y,this.config),this.mediaOption=r({},f),this.drmConfig=r({},d)},t.prototype.show=function(e,i,n,s){var o,a,h={width:e,height:i,left:n,top:s},u=this.validateParamsOfShow(h,arguments.length);if(u)throw Error(u);o=this.property,a={},a.height="number"==typeof i?i:o.height,a.width="number"==typeof e?e:o.width,a.left="number"==typeof n?n:o.left,a.top="number"==typeof s?s:o.top,r(this.property,a),this["native"](t.NATIVE_CMD.SHOW,a)},t.prototype.validateParamsOfShow=function(t,e){var i,n,s,r,o=t.width,a=t.height,h=t.left,u=t.top;return e>4?this.getErrMsgInvalidNumberOfParams():void 0!==o&&"number"!=typeof o?(i={requiredType:"number or undefined",parameterName:"width"},this.getErrMsgInvalidTypeOfParam(i)):void 0!==a&&"number"!=typeof a?(n={requiredType:"number or undefined",parameterName:"height"},this.getErrMsgInvalidTypeOfParam(n)):void 0!==h&&"number"!=typeof h?(s={requiredType:"number or undefined",parameterName:"left"},this.getErrMsgInvalidTypeOfParam(s)):void 0!==u&&"number"!=typeof u?(r={requiredType:"number or undefined",parameterName:"top"},this.getErrMsgInvalidTypeOfParam(r)):""},t.prototype.hide=function(){this["native"](t.NATIVE_CMD.HIDE)},t.prototype.fullscreen=function(){var t=g.width,e=g.height,i=g.left,n=g.top;this.show(t,e,i,n)},t.prototype.setURL=function(t){this.property.url=t},t.prototype.setLooping=function(t){this.property.looping=t},t.prototype.setInitialStartPosition=function(t){this.property.initialStartPosition=t},t.prototype.open=function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},s=arguments.length>3&&arguments[3]!==undefined&&arguments[3],o={url:e,position:i,mediaOption:n,looping:s},a=this.validateParamsOfOpen(o,arguments.length);if(a)throw Error(a);this.property.url&&this.property.currentState!==t.STATE.IDLE&&this.stop(),this.reset(),this.setURL(e),this.setLooping(s),this.setInitialStartPosition(i),this.property.hasBeenOpened=!0,this.mediaOption=r({},f,n)},t.prototype.validateParamsOfOpen=function(t,e){var i,n,r,o,a=t.url,h=t.position,u=t.mediaOption,l=t.looping;return e>4?this.getErrMsgInvalidNumberOfParams():"string"!=typeof a?(i={requiredType:"string",parameterName:"url"},this.getErrMsgInvalidTypeOfParam(i)):"number"!=typeof h?(n={requiredType:"number",parameterName:"position"},this.getErrMsgInvalidTypeOfParam(n)):"object"!==(void 0===u?"undefined":s(u))?(r={requiredType:"object",parameterName:"mediaOption"},this.getErrMsgInvalidTypeOfParam(r)):"boolean"!=typeof l?(o={requiredType:"boolean",parameterName:"looping"},this.getErrMsgInvalidTypeOfParam(o)):""},t.prototype.setDrm=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this.validateParamsOfSetDrm({drmConfig:t},arguments.length);if(e)throw Error(e);this.drmConfig=r({},d,t)},t.prototype.validateParamsOfSetDrm=function(t,e){var i=t.drmConfig;return e>1?this.getErrMsgInvalidNumberOfParams():"object"!==(void 0===i?"undefined":s(i))?this.getErrMsgInvalidTypeOfParam({requiredType:"object"}):""},t.prototype.play=function(){var e=this.property,i=e.url,n=e.speed,s=e.initialStartPosition;if(!i)throw Error(m.NOT_SPECIFIED_MEDIA_URL);this.show(),1!==n&&this.setPlaybackSpeed(1),this.property.hasBeenOpened?(this.property.hasBeenOpened=!1,this["native"](t.NATIVE_CMD.START_PLAY,{url:i,position:s})):this["native"](t.NATIVE_CMD.PLAY,{})},t.prototype.pause=function(){var e=this["native"](t.NATIVE_CMD.PAUSE);return e&&1!==this.property.speed&&this.setPlaybackSpeed(1),e},t.prototype.stop=function(){this["native"](t.NATIVE_CMD.STOP),this.reset()},t.prototype.seek=function(e){var i,n=this.validateParamsOfSeek({position:e},arguments.length);if(n)throw Error(n);i=e,i<0?i=0:i>this.property.duration&&(i=this.property.duration),this["native"](t.NATIVE_CMD.SEEK,{position:i})},t.prototype.validateParamsOfSeek=function(t,e){var i=t.position;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof i?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.jumpForward=function(t){var e,i,n,s,r=this.validateParamsOfJumpForward({skip:t},arguments.length);if(r)throw Error(r);e=this.property,i=e.currentTime,n=e.seekStep,s=t||n,this.seek(i+s)},t.prototype.validateParamsOfJumpForward=function(t,e){var i=t.skip;return e>1?this.getErrMsgInvalidNumberOfParams():void 0!==i&&"number"!=typeof i?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.jumpBackward=function(t){var e,i,n,s,r=this.validateParamsOfJumpBackward({skip:t},arguments.length);if(r)throw Error(r);e=this.property,i=e.currentTime,n=e.seekStep,s=t||n,this.seek(i-s)},t.prototype.validateParamsOfJumpBackward=function(t,e){var i=t.skip;return e>1?this.getErrMsgInvalidNumberOfParams():void 0!==i&&"number"!=typeof i?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.setPlaybackSpeed=function(e){var i=this.validateParamsOfSetPlaybackSpeed({speed:e},arguments.length);if(i)throw Error(i);this.property.speed=e,this["native"](t.NATIVE_CMD.SET_PLAYBACK_SPEED,{speed:this.property.speed})},t.prototype.validateParamsOfSetPlaybackSpeed=function(t,e){var i=t.speed;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof i?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):""},t.prototype.setVideoDimensions=function(e,i){var n=this.validateParamsOfSetVideoDimensions({width:e,height:i},arguments.length);if(n)throw Error(n);this["native"](t.NATIVE_CMD.SET_VIDEO_DIMENSIONS,{width:e,height:i})},t.prototype.validateParamsOfSetVideoDimensions=function(t,e){var i=t.width,n=t.height;return 2!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof i||"number"!=typeof n?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):i<0||n<0?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, Infinity]"}):""},t.prototype.setAudioTrack=function(e){var i=this.validateParamsOfSetAudioTrack({index:e},arguments.length);if(i)throw Error(i);this["native"](t.NATIVE_CMD.SET_AUDIO_TRACK,{index:e})},t.prototype.validateParamsOfSetAudioTrack=function(t,e){var i=t.index;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof i?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):i<0?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, Infinity]"}):""},t.prototype.mute=function(){this["native"](t.NATIVE_CMD.MUTE)},t.prototype.unmute=function(){this["native"](t.NATIVE_CMD.UNMUTE)},t.prototype.setVolume=function(e){var i=this.validateParamsOfSetVolume({volume:e},arguments.length);if(i)throw Error(i);this["native"](t.NATIVE_CMD.SET_VOLUME,{volume:e})},t.prototype.validateParamsOfSetVolume=function(t,e){var i=t.volume;return 1!==e?this.getErrMsgInvalidNumberOfParams():"number"!=typeof i?this.getErrMsgInvalidTypeOfParam({requiredType:"number"}):i<0||i>1?this.getErrMsgInvalidRangeOfParam({requiredRange:"[0, 1]"}):""},t.prototype.getBitrate=function(){var e=this["native"](t.NATIVE_CMD.GET_CURRENT_BITRATE);return("number"!=typeof e||Number.isNaN(e))&&(e=-1),e},t.prototype.getVideoResolution=function(){var e,i,n,r=this["native"](t.NATIVE_CMD.GET_VIDEO_RESOLUTION);return"object"===(void 0===r?"undefined":s(r))&&null!==r||(r={}),e=r,i=e.width,n=e.height,i="number"!=typeof i||Number.isNaN(i)?-1:i,n="number"!=typeof n||Number.isNaN(n)?-1:n,r={width:i,height:n}},t.prototype.getESN=function(){throw Error(this.getErrMsgMethodNotImplemented("getESN"))},t.prototype.subscribe=function(t,e){this.eventStack[t]||(this.eventStack[t]=[]),-1===this.eventStack[t].indexOf(e)&&this.eventStack[t].push(e)},t.prototype.unsubscribe=function(t,e){var i,n;if(this.eventStack[t]){if(!e)return void(this.eventStack[t]=[]);i=this.eventStack[t],n=i.indexOf(e),-1!==n&&i.splice(n,1)}},t.prototype.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.eventStack[t]&&this.eventStack[t].every(function(t){return!1!==t.apply(undefined,i)})},t.prototype.setDRMVerifyPromise=function(){},t.prototype.getErrMsgInvalidNumberOfParams=function(){return m.INVALID_NUMBER_OF_PARAMS},t.prototype.getErrMsgMethodNotImplemented=function(t){return m.METHOD_NOT_IMPLEMENTED.replace("{methodName}",t)},t.prototype.getErrMsgInvalidTypeOfParam=function(t){var e=t.requiredType,i=t.parameterName,n=m.INVALID_TYPE_OF_PARAM.replace("{type}",e);return i&&(n+=" for the "+i),n},t.prototype.getErrMsgInvalidRangeOfParam=function(t){var e=t.requiredRange;return m.INVALID_RANGE_OF_PARAM.replace("{range}",e)},t}(),Object.defineProperty(o,"STATE",{enumerable:!0,writable:!0,value:h}),Object.defineProperty(o,"MEDIA_TYPE",{enumerable:!0,writable:!0,value:u}),Object.defineProperty(o,"DRM_TYPE",{enumerable:!0,writable:!0,value:l}),Object.defineProperty(o,"NATIVE_CMD",{enumerable:!0,writable:!0,value:c}),x=a,e["default"]=x},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(394),s=function(t,e){return n["default"](Math.random()*(e-t+1))+t};e["default"]=s},function(t,e,i){var n,s,r,o=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n["throw"](t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s["return"]:i[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(o){i=[6,o],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o};Object.defineProperty(e,"__esModule",{value:!0}),n=i(896),s=function(){function t(){}return t.prototype.getAndParseVAST=function(t,e){return o(this,void 0,void 0,function(){return a(this,function(i){return[2,new Promise(function(s,r){try{n.parser.parse(t,e,function(t,e){!e&&t&&t.ads||r(e),s(t)})}catch(i){r(i)}})]})})},t}(),e.VASTParser=s,r=function(){function t(t,e,i){this.tracker=new n.tracker(e,i)}return t.prototype.trackImpression=function(){this.tracker.load()},t.prototype.setProgress=function(t){this.tracker.setProgress(t)},t.prototype.errorWithCode=function(t){this.tracker.errorWithCode(t)},t.prototype.skip=function(){this.tracker.skip()},t.prototype.complete=function(){this.tracker.complete()},t}(),e.VASTTracker=r},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(141),s=i(45),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.sceneDidMount=function(){this.setKeys()},e.prototype.onKeyDown=function(e){switch(t.prototype.onKeyDown.call(this,e),e.key){case this.backwardKey:return this.focusPrevMenuItem(e.target);case this.forwardKey:return this.focusNextMenuItem(e.target);case s.Keys.ENTER:return this.enter(e.target);case s.Keys.RETURN:return this.handleBack();case s.Keys.EXIT:return this.handleQuit()}return!0},e.prototype.focusPrevMenuItem=function(t){if(!t)return!0;var e=t.id,i=this.visibleMenuItems[this.visibleMenuItems.indexOf(e)-1];return!i||(this.focus(i),!1)},e.prototype.focusNextMenuItem=function(t){if(!t)return!0;var e=t.id,i=this.visibleMenuItems[this.visibleMenuItems.indexOf(e)+1];return!i||(this.focus(i),!1)},e.prototype.setKeys=function(){this.horizontal?(this.forwardKey=s.Keys.RIGHT,this.backwardKey=s.Keys.LEFT):(this.forwardKey=s.Keys.DOWN,this.backwardKey=s.Keys.UP)},e.prototype.switchVisibility=function(t,e){var i=this.visibleMenuItems.indexOf(e);-1!==i&&(this.visibleMenuItems.splice(i,1),-1===this.visibleMenuItems.indexOf(t)&&this.visibleMenuItems.splice(i,0,t)),this.hide(this.refs[e]),this.show(this.refs[t]),this.focus(t)},e.prototype.enter=function(t){return!1},e}(n["default"]),e["default"]=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};t.exports=i},function(t,e,i){var n=i(9),s=function(t,e,i){return i===undefined&&(i=new n),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e){var i,s,r,o,a;return e===undefined&&(e=new n),i=2*Math.PI*Math.random(),s=Math.random()+Math.random(),r=s>1?2-s:s,o=r*Math.cos(i),a=r*Math.sin(i),e.x=t.x+o*t.radius,e.y=t.y+a*t.radius,e};t.exports=s},function(t,e,i){var n=i(37),s=i(0),r=i(15),o=i(204),a=i(421),h=i(422),u=i(6),l=new s({Extends:r,initialize:function(t,e,i){r.call(this),this.manager=t,this.key=e,this.type="frame",this.frames=this.getFrames(t.textureManager,u(i,"frames",[]),u(i,"defaultTextureKey",null)),this.frameRate=u(i,"frameRate",null),this.duration=u(i,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=u(i,"skipMissedFrames",!0),this.delay=u(i,"delay",0),this.repeat=u(i,"repeat",0),this.repeatDelay=u(i,"repeatDelay",0),this.yoyo=u(i,"yoyo",!1),this.showOnStart=u(i,"showOnStart",!1),this.hideOnComplete=u(i,"hideOnComplete",!1),this.paused=!1,this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this)},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i,n,s=this.getFrames(this.manager.textureManager,e);return s.length>0&&(0===t?this.frames=s.concat(this.frames):t===this.frames.length?this.frames=this.frames.concat(s):(i=this.frames.slice(0,t),n=this.frames.slice(t),this.frames=i.concat(s,n)),this.updateFrameSequence()),this},checkFrame:function(t){return t>=0&&t<this.frames.length},completeAnimation:function(t){this.hideOnComplete&&(t.parent.visible=!1),t.stop()},getFirstTick:function(t,e){e===undefined&&(e=!0),t.accumulator=0,t.nextTick=t.msPerFrame+t.currentFrame.duration,e&&(t.nextTick+=t._delay)},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i){var n,s,r,o,a,l,c,f,d,p,g,y=[],m=1;if("string"==typeof e&&(o=e,a=t.get(o),l=a.getFrameNames(),e=[],l.forEach(function(t,i){e.push({key:o,frame:i})})),!Array.isArray(e)||0===e.length)return y;for(r=0;r<e.length;r++)c=e[r],(f=u(c,"key",i))&&(d=u(c,"frame",0),p=t.getFrame(f,d),s=new h(f,d,m,p),s.duration=u(c,"duration",0),s.isFirst=!n,n&&(n.nextFrame=s,s.prevFrame=n),y.push(s),n=s,m++);if(y.length>0)for(s.isLast=!0,s.nextFrame=y[0],y[0].prevFrame=s,g=1/(y.length-1),r=0;r<y.length;r++)y[r].progress=r*g;return y},getNextTick:function(t){t.accumulator-=t.nextTick,t.nextTick=t.msPerFrame+t.currentFrame.duration},load:function(t,e){e>=this.frames.length&&(e=0),t.currentAnim!==this&&(t.currentAnim=this,t.frameRate=this.frameRate,t.duration=this.duration,t.msPerFrame=this.msPerFrame,t.skipMissedFrames=this.skipMissedFrames,t._delay=this.delay,t._repeat=this.repeat,t._repeatDelay=this.repeatDelay,t._yoyo=this.yoyo);var i=this.frames[e];0!==e||t.forward||(i=this.getLastFrame()),t.updateFrame(i)},getFrameByProgress:function(t){return t=n(t,0,1),a(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;e.isLast?t._yoyo?this.handleYoyoFrame(t,!1):t.repeatCounter>0?t._reverse&&t.forward?t.forward=!1:this.repeatAnimation(t):this.completeAnimation(t):this.updateAndGetNextTick(t,e.nextFrame)},handleYoyoFrame:function(t,e){if(e||(e=!1),t._reverse===!e&&t.repeatCounter>0)return t.forward=e,void this.repeatAnimation(t);if(t._reverse!==e&&0===t.repeatCounter)return void this.completeAnimation(t);t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this.updateAndGetNextTick(t,i)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;e.isFirst?t._yoyo?this.handleYoyoFrame(t,!0):t.repeatCounter>0?t._reverse&&!t.forward?(t.currentFrame=this.getLastFrame(),this.repeatAnimation(t)):(t.forward=!0,this.repeatAnimation(t)):this.completeAnimation(t):this.updateAndGetNextTick(t,e.prevFrame)},updateAndGetNextTick:function(t,e){t.updateFrame(e),this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);return-1!==e&&this.removeFrameAt(e),this},removeFrameAt:function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this},repeatAnimation:function(t){var e,i;if(2===t._pendingStop)return this.completeAnimation(t);t._repeatDelay>0&&!1===t.pendingRepeat?(t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=t._repeatDelay):(t.repeatCounter--,t.updateFrame(t.currentFrame[t.forward?"nextFrame":"prevFrame"]),t.isPlaying&&(this.getNextTick(t),t.pendingRepeat=!1,e=t.currentFrame,i=t.parent,this.emit(o.ANIMATION_REPEAT,this,e),i.emit(o.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,e,t.repeatCounter,i),i.emit(o.SPRITE_ANIMATION_REPEAT,this,e,t.repeatCounter,i)))},setFrame:function(t){t.forward?this.nextFrame(t):this.previousFrame(t)},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(e){t.frames.push(e.toJSON())}),t},updateFrameSequence:function(){var t,e,i=this.frames.length,n=1/(i-1);for(t=0;t<i;t++)e=this.frames[t],e.index=t+1,e.isFirst=!1,e.isLast=!1,e.progress=t*n,0===t?(e.isFirst=!0,e.isLast=1===i,e.prevFrame=this.frames[i-1],e.nextFrame=this.frames[t+1]):t===i-1?(e.isLast=!0,e.prevFrame=this.frames[i-2],e.nextFrame=this.frames[0]):i>1&&(e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[t+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++)this.frames[t].destroy();this.frames=[],this.manager=null}});t.exports=l},function(t,e,i){var n=i(205),s=i(9),r=function(t,e,i){if(i===undefined&&(i=new s),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var r=n(t)*e;return e>.5?(r-=t.width+t.height,r<=t.width?(i.x=t.right-r,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(r-t.width))):r<=t.width?(i.x=t.x+r,i.y=t.y):(i.x=t.right,i.y=t.y+(r-t.width)),i};t.exports=r},function(t,e,i){var n=i(107),s=i(9),r=function(t,e,i,r){var o,a,h,u,l,c,f,d;for(r===undefined&&(r=[]),e||(e=n(t)/i),o=t.x1,a=t.y1,h=t.x2,u=t.y2,l=0;l<e;l++)c=l/e,f=o+(h-o)*c,d=a+(u-a)*c,r.push(new s(f,d));return r};t.exports=r},function(t,e,i){var n=i(9),s=function(t,e){e===undefined&&(e=new n);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e){return e===undefined&&(e=new n),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e};t.exports=s},function(t,e,i){var n=i(108),s=function(t){return n(t,-Math.PI,Math.PI)};t.exports=s},function(t,e,i){var n=i(108),s=function(t){return n(t,-180,180)};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e){var i,s;return e===undefined&&(e=new n),i=Math.random()*Math.PI*2,s=Math.sqrt(Math.random()),e.x=t.x+s*Math.cos(i)*t.width/2,e.y=t.y+s*Math.sin(i)*t.height/2,e};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e){var i,s,r,o,a,h;return e===undefined&&(e=new n),i=t.x2-t.x1,s=t.y2-t.y1,r=t.x3-t.x1,o=t.y3-t.y1,a=Math.random(),h=Math.random(),a+h>=1&&(a=1-a,h=1-h),e.x=t.x1+(i*a+r*h),e.y=t.y1+(s*a+o*h),e};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r=n+Math.atan2(t.y-i,t.x-e);return t.x=e+s*Math.cos(r),t.y=i+s*Math.sin(r),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||this.size++,this.entries[t]=e,this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t,e=[],i=this.entries;for(t in i)e.push(i[t]);return e},has:function(t){return this.entries.hasOwnProperty(t)},"delete":function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t,e=[],i=this.entries;for(t in i)e.push(i[t]);return e},dump:function(){var t,e=this.entries;for(t in e);},each:function(t){var e,i=this.entries;for(e in i)if(!1===t(e,i[e]))break;return this},contains:function(t){var e,i=this.entries;for(e in i)if(i[e]===t)return!0;return!1},merge:function(t,e){var i,n,s;e===undefined&&(e=!1),i=this.entries,n=t.entries;for(s in n)i.hasOwnProperty(s)&&e?i[s]=n[s]:this.set(s,n[s]);return this}});t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o;if(e===undefined&&(e=0),i===undefined&&(i=" "),n===undefined&&(n=3),t=""+t,s=0,e+1>=t.length)switch(n){case 1:t=Array(e+1-t.length).join(i)+t;break;case 3:r=Math.ceil((s=e-t.length)/2),o=s-r,t=Array(o+1).join(i)+t+Array(r+1).join(i);break;default:t+=Array(e+1-t.length).join(i)}return t};t.exports=i},function(t,e,i){var n=i(445),s=i(448),r=i(450),o=i(451),a=function(t){switch(typeof t){case"string":return"rgb"===t.substr(0,3).toLowerCase()?o(t):n(t);case"number":return s(t);case"object":return r(t)}};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t<<16|e<<8|i};t.exports=i},function(t,e,i){var n=i(291),s=function(t,e,i,s){var r,o,a,h,u,l,c,f,d;return e===undefined&&(e=1),i===undefined&&(i=1),r=Math.floor(6*t),o=6*t-r,a=Math.floor(i*(1-e)*255),h=Math.floor(i*(1-o*e)*255),u=Math.floor(i*(1-(1-o)*e)*255),i=Math.floor(i*=255),l=i,c=i,f=i,d=r%6,0===d?(c=u,f=a):1===d?(l=h,f=a):2===d?(l=a,f=u):3===d?(l=a,c=h):4===d?(l=u,c=a):5===d&&(c=a,f=h),s?s.setTo?s.setTo(l,c,f,s.alpha,!1):(s.r=l,s.g=c,s.b=f,s.color=n(l,c,f),s):{r:l,g:c,b:f,color:n(l,c,f)}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t};t.exports=i},function(t,e,i){var n=i(453),s=i(454),r=i(455),o=i(456),a=i(457),h=i(458),u=i(459),l=i(460),c=i(461),f=i(462),d=i(463),p=i(464);t.exports={Power0:u,Power1:l.Out,Power2:o.Out,Power3:c.Out,Power4:f.Out,Linear:u,Quad:l.Out,Cubic:o.Out,Quart:c.Out,Quint:f.Out,Sine:d.Out,Expo:h.Out,Circ:r.Out,Elastic:a.Out,Back:n.Out,Bounce:s.Out,Stepped:p,"Quad.easeIn":l.In,"Cubic.easeIn":o.In,"Quart.easeIn":c.In,"Quint.easeIn":f.In,"Sine.easeIn":d.In,"Expo.easeIn":h.In,"Circ.easeIn":r.In,"Elastic.easeIn":a.In,"Back.easeIn":n.In,"Bounce.easeIn":s.In,"Quad.easeOut":l.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":c.Out,"Quint.easeOut":f.Out,"Sine.easeOut":d.Out,"Expo.easeOut":h.Out,"Circ.easeOut":r.Out,"Elastic.easeOut":a.Out,"Back.easeOut":n.Out,"Bounce.easeOut":s.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":h.InOut,"Circ.easeInOut":r.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":n.InOut,"Bounce.easeInOut":s.InOut}},function(t,e,i){function n(){var t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}var s=i(166),r=i(212),o=i(43),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};t.exports=function(){var t,e;a.canvas=!!window.CanvasRenderingContext2D||s.cocoonJS;try{a.localStorage=!!localStorage.getItem}catch(i){a.localStorage=!1}return a.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),a.fileSystem=!!window.requestFileSystem,t=!1,e=function(){var e,i,n,r,a;if(window.WebGLRenderingContext)try{return e=o.createWebGL(this),s.cocoonJS&&(e.screencanvas=!1),i=e.getContext("webgl")||e.getContext("experimental-webgl"),n=o.create2D(this),r=n.getContext("2d"),a=r.createImageData(1,1),t=a.data instanceof Uint8ClampedArray,o.remove(e),o.remove(n),!!i}catch(h){return!1}return!1},a.webGL=e(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,r.firefox&&r.firefoxVersion<21&&(a.getUserMedia=!1),!s.iOS&&(r.ie||r.firefox||r.chrome)&&(a.canvasBitBltShift=!0),(r.safari||r.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(a.littleEndian=n()),a.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==a.littleEndian&&t,a}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return i===undefined&&(i=1e-4),Math.abs(t-e)<i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r=.5*(n-e),o=.5*(s-i),a=t*t;return(2*i-2*n+r+o)*(t*a)+(-3*i+3*n-2*r-o)*a+r*t+i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)};t.exports=i},function(t,e,i){var n=i(33),s=function(t){return t*n.RAD_TO_DEG};t.exports=s},function(t,e,i){var n=i(0),s=1e-6,r=new n({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new r(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},zero:function(){var t=this.val;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,this},xyz:function(t,e,i){this.identity();var n=this.val;return n[12]=t,n[13]=e,n[14]=i,this},scaling:function(t,e,i){this.zero();var n=this.val;return n[0]=t,n[5]=e,n[10]=i,n[15]=1,this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],n=t[3],s=t[6],r=t[7],o=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=s,t[11]=t[14],t[12]=n,t[13]=r,t[14]=o,this},invert:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],h=t[7],u=t[8],l=t[9],c=t[10],f=t[11],d=t[12],p=t[13],g=t[14],y=t[15],m=e*o-i*r,v=e*a-n*r,x=e*h-s*r,b=i*a-n*o,_=i*h-s*o,w=n*h-s*a,T=u*p-l*d,S=u*g-c*d,A=u*y-f*d,E=l*g-c*p,P=l*y-f*p,O=c*y-f*g,M=m*O-v*P+x*E+b*A-_*S+w*T;return M?(M=1/M,t[0]=(o*O-a*P+h*E)*M,t[1]=(n*P-i*O-s*E)*M,t[2]=(p*w-g*_+y*b)*M,t[3]=(c*_-l*w-f*b)*M,t[4]=(a*A-r*O-h*S)*M,t[5]=(e*O-n*A+s*S)*M,t[6]=(g*x-d*w-y*v)*M,t[7]=(u*w-c*x+f*v)*M,t[8]=(r*P-o*A+h*T)*M,t[9]=(i*A-e*P-s*T)*M,t[10]=(d*_-p*x+y*m)*M,t[11]=(l*x-u*_-f*m)*M,t[12]=(o*S-r*E-a*T)*M,t[13]=(e*E-i*S+n*T)*M,t[14]=(p*v-d*b-g*m)*M,t[15]=(u*b-l*v+c*m)*M,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],h=t[7],u=t[8],l=t[9],c=t[10],f=t[11],d=t[12],p=t[13],g=t[14],y=t[15];return t[0]=o*(c*y-f*g)-l*(a*y-h*g)+p*(a*f-h*c),t[1]=-(i*(c*y-f*g)-l*(n*y-s*g)+p*(n*f-s*c)),t[2]=i*(a*y-h*g)-o*(n*y-s*g)+p*(n*h-s*a),t[3]=-(i*(a*f-h*c)-o*(n*f-s*c)+l*(n*h-s*a)),t[4]=-(r*(c*y-f*g)-u*(a*y-h*g)+d*(a*f-h*c)),t[5]=e*(c*y-f*g)-u*(n*y-s*g)+d*(n*f-s*c),t[6]=-(e*(a*y-h*g)-r*(n*y-s*g)+d*(n*h-s*a)),t[7]=e*(a*f-h*c)-r*(n*f-s*c)+u*(n*h-s*a),t[8]=r*(l*y-f*p)-u*(o*y-h*p)+d*(o*f-h*l),t[9]=-(e*(l*y-f*p)-u*(i*y-s*p)+d*(i*f-s*l)),t[10]=e*(o*y-h*p)-r*(i*y-s*p)+d*(i*h-s*o),t[11]=-(e*(o*f-h*l)-r*(i*f-s*l)+u*(i*h-s*o)),t[12]=-(r*(l*g-c*p)-u*(o*g-a*p)+d*(o*c-a*l)),t[13]=e*(l*g-c*p)-u*(i*g-n*p)+d*(i*c-n*l),t[14]=-(e*(o*g-a*p)-r*(i*g-n*p)+d*(i*a-n*o)),t[15]=e*(o*c-a*l)-r*(i*c-n*l)+u*(i*a-n*o),this},determinant:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],h=t[7],u=t[8],l=t[9],c=t[10],f=t[11],d=t[12],p=t[13],g=t[14],y=t[15];return(e*o-i*r)*(c*y-f*g)-(e*a-n*r)*(l*y-f*p)+(e*h-s*r)*(l*g-c*p)+(i*a-n*o)*(u*y-f*d)-(i*h-s*o)*(u*g-c*d)+(n*h-s*a)*(u*p-l*d)},multiply:function(t){var e=this.val,i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],h=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],p=e[12],g=e[13],y=e[14],m=e[15],v=t.val,x=v[0],b=v[1],_=v[2],w=v[3];return e[0]=x*i+b*o+_*l+w*p,e[1]=x*n+b*a+_*c+w*g,e[2]=x*s+b*h+_*f+w*y,e[3]=x*r+b*u+_*d+w*m,x=v[4],b=v[5],_=v[6],w=v[7],e[4]=x*i+b*o+_*l+w*p,e[5]=x*n+b*a+_*c+w*g,e[6]=x*s+b*h+_*f+w*y,e[7]=x*r+b*u+_*d+w*m,x=v[8],b=v[9],_=v[10],w=v[11],e[8]=x*i+b*o+_*l+w*p,e[9]=x*n+b*a+_*c+w*g,e[10]=x*s+b*h+_*f+w*y,e[11]=x*r+b*u+_*d+w*m,x=v[12],b=v[13],_=v[14],w=v[15],e[12]=x*i+b*o+_*l+w*p,e[13]=x*n+b*a+_*c+w*g,e[14]=x*s+b*h+_*f+w*y,e[15]=x*r+b*u+_*d+w*m,this},multiplyLocal:function(t){var e=[],i=this.val,n=t.val;return e[0]=i[0]*n[0]+i[1]*n[4]+i[2]*n[8]+i[3]*n[12],e[1]=i[0]*n[1]+i[1]*n[5]+i[2]*n[9]+i[3]*n[13],e[2]=i[0]*n[2]+i[1]*n[6]+i[2]*n[10]+i[3]*n[14],e[3]=i[0]*n[3]+i[1]*n[7]+i[2]*n[11]+i[3]*n[15],e[4]=i[4]*n[0]+i[5]*n[4]+i[6]*n[8]+i[7]*n[12],e[5]=i[4]*n[1]+i[5]*n[5]+i[6]*n[9]+i[7]*n[13],e[6]=i[4]*n[2]+i[5]*n[6]+i[6]*n[10]+i[7]*n[14],e[7]=i[4]*n[3]+i[5]*n[7]+i[6]*n[11]+i[7]*n[15],e[8]=i[8]*n[0]+i[9]*n[4]+i[10]*n[8]+i[11]*n[12],e[9]=i[8]*n[1]+i[9]*n[5]+i[10]*n[9]+i[11]*n[13],e[10]=i[8]*n[2]+i[9]*n[6]+i[10]*n[10]+i[11]*n[14],e[11]=i[8]*n[3]+i[9]*n[7]+i[10]*n[11]+i[11]*n[15],e[12]=i[12]*n[0]+i[13]*n[4]+i[14]*n[8]+i[15]*n[12],e[13]=i[12]*n[1]+i[13]*n[5]+i[14]*n[9]+i[15]*n[13],e[14]=i[12]*n[2]+i[13]*n[6]+i[14]*n[10]+i[15]*n[14],e[15]=i[12]*n[3]+i[13]*n[7]+i[14]*n[11]+i[15]*n[15],this.fromArray(e)},translate:function(t){var e=t.x,i=t.y,n=t.z,s=this.val;return s[12]=s[0]*e+s[4]*i+s[8]*n+s[12],s[13]=s[1]*e+s[5]*i+s[9]*n+s[13],s[14]=s[2]*e+s[6]*i+s[10]*n+s[14],s[15]=s[3]*e+s[7]*i+s[11]*n+s[15],this},translateXYZ:function(t,e,i){var n=this.val;return n[12]=n[0]*t+n[4]*e+n[8]*i+n[12],n[13]=n[1]*t+n[5]*e+n[9]*i+n[13],n[14]=n[2]*t+n[6]*e+n[10]*i+n[14],n[15]=n[3]*t+n[7]*e+n[11]*i+n[15],this},scale:function(t){var e=t.x,i=t.y,n=t.z,s=this.val;return s[0]=s[0]*e,s[1]=s[1]*e,s[2]=s[2]*e,s[3]=s[3]*e,s[4]=s[4]*i,s[5]=s[5]*i,s[6]=s[6]*i,s[7]=s[7]*i,s[8]=s[8]*n,s[9]=s[9]*n,s[10]=s[10]*n,s[11]=s[11]*n,this},scaleXYZ:function(t,e,i){var n=this.val;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*e,n[5]=n[5]*e,n[6]=n[6]*e,n[7]=n[7]*e,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),s=1-i,r=t.x,o=t.y,a=t.z,h=s*r,u=s*o;return this.fromArray([h*r+i,h*o-n*a,h*a+n*o,0,h*o+n*a,u*o+i,u*a-n*r,0,h*a-n*o,u*a+n*r,s*a*a+i,0,0,0,0,1]),this},rotate:function(t,e){var i,n,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P=this.val,O=e.x,M=e.y,C=e.z,I=Math.sqrt(O*O+M*M+C*C);return Math.abs(I)<s?null:(I=1/I,O*=I,M*=I,C*=I,i=Math.sin(t),n=Math.cos(t),r=1-n,o=P[0],a=P[1],h=P[2],u=P[3],l=P[4],c=P[5],f=P[6],d=P[7],p=P[8],g=P[9],y=P[10],m=P[11],v=O*O*r+n,x=M*O*r+C*i,b=C*O*r-M*i,_=O*M*r-C*i,w=M*M*r+n,T=C*M*r+O*i,S=O*C*r+M*i,A=M*C*r-O*i,E=C*C*r+n,P[0]=o*v+l*x+p*b,P[1]=a*v+c*x+g*b,P[2]=h*v+f*x+y*b,P[3]=u*v+d*x+m*b,P[4]=o*_+l*w+p*T,P[5]=a*_+c*w+g*T,P[6]=h*_+f*w+y*T,P[7]=u*_+d*w+m*T,P[8]=o*S+l*A+p*E,P[9]=a*S+c*A+g*E,P[10]=h*S+f*A+y*E,P[11]=u*S+d*A+m*E,this)},rotateX:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),s=e[4],r=e[5],o=e[6],a=e[7],h=e[8],u=e[9],l=e[10],c=e[11];return e[4]=s*n+h*i,e[5]=r*n+u*i,e[6]=o*n+l*i,e[7]=a*n+c*i,e[8]=h*n-s*i,e[9]=u*n-r*i,e[10]=l*n-o*i,e[11]=c*n-a*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],o=e[2],a=e[3],h=e[8],u=e[9],l=e[10],c=e[11];return e[0]=s*n-h*i,e[1]=r*n-u*i,e[2]=o*n-l*i,e[3]=a*n-c*i,e[8]=s*i+h*n,e[9]=r*i+u*n,e[10]=o*i+l*n,e[11]=a*i+c*n,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],o=e[2],a=e[3],h=e[4],u=e[5],l=e[6],c=e[7];return e[0]=s*n+h*i,e[1]=r*n+u*i,e[2]=o*n+l*i,e[3]=a*n+c*i,e[4]=h*n-s*i,e[5]=u*n-r*i,e[6]=l*n-o*i,e[7]=c*n-a*i,this},fromRotationTranslation:function(t,e){var i=this.val,n=t.x,s=t.y,r=t.z,o=t.w,a=n+n,h=s+s,u=r+r,l=n*a,c=n*h,f=n*u,d=s*h,p=s*u,g=r*u,y=o*a,m=o*h,v=o*u;return i[0]=1-(d+g),i[1]=c+v,i[2]=f-m,i[3]=0,i[4]=c-v,i[5]=1-(l+g),i[6]=p+y,i[7]=0,i[8]=f+m,i[9]=p-y,i[10]=1-(l+d),i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},fromQuat:function(t){var e=this.val,i=t.x,n=t.y,s=t.z,r=t.w,o=i+i,a=n+n,h=s+s,u=i*o,l=i*a,c=i*h,f=n*a,d=n*h,p=s*h,g=r*o,y=r*a,m=r*h;return e[0]=1-(f+p),e[1]=l+m,e[2]=c-y,e[3]=0,e[4]=l-m,e[5]=1-(u+p),e[6]=d+g,e[7]=0,e[8]=c+y,e[9]=d-g,e[10]=1-(u+f),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},frustum:function(t,e,i,n,s,r){var o=this.val,a=1/(e-t),h=1/(n-i),u=1/(s-r);return o[0]=2*s*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*s*h,o[6]=0,o[7]=0,o[8]=(e+t)*a,o[9]=(n+i)*h,o[10]=(r+s)*u,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s*2*u,o[15]=0,this},perspective:function(t,e,i,n){var s=this.val,r=1/Math.tan(t/2),o=1/(i-n);return s[0]=r/e,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=r,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+i)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*i*o,s[15]=0,this},perspectiveLH:function(t,e,i,n){var s=this.val;return s[0]=2*i/t,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*i/e,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-n/(i-n),s[11]=1,s[12]=0,s[13]=0,s[14]=i*n/(i-n),s[15]=0,this},ortho:function(t,e,i,n,s,r){var o=this.val,a=t-e,h=i-n,u=s-r;return a=0===a?a:1/a,h=0===h?h:1/h,u=0===u?u:1/u,o[0]=-2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*h,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*u,o[11]=0,o[12]=(t+e)*a,o[13]=(n+i)*h,o[14]=(r+s)*u,o[15]=1,this},lookAt:function(t,e,i){var n,r,o,a,h,u,l,c,f,d,p=this.val,g=t.x,y=t.y,m=t.z,v=i.x,x=i.y,b=i.z,_=e.x,w=e.y,T=e.z;return Math.abs(g-_)<s&&Math.abs(y-w)<s&&Math.abs(m-T)<s?this.identity():(n=g-_,r=y-w,o=m-T,a=1/Math.sqrt(n*n+r*r+o*o),n*=a,r*=a,o*=a,h=x*o-b*r,u=b*n-v*o,l=v*r-x*n,a=Math.sqrt(h*h+u*u+l*l),a?(a=1/a,h*=a,u*=a,l*=a):(h=0,u=0,l=0),c=r*l-o*u,f=o*h-n*l,d=n*u-r*h,a=Math.sqrt(c*c+f*f+d*d),a?(a=1/a,c*=a,f*=a,d*=a):(c=0,f=0,d=0),p[0]=h,p[1]=c,p[2]=n,p[3]=0,p[4]=u,p[5]=f,p[6]=r,p[7]=0,p[8]=l,p[9]=d,p[10]=o,p[11]=0,p[12]=-(h*g+u*y+l*m),p[13]=-(c*g+f*y+d*m),p[14]=-(n*g+r*y+o*m),p[15]=1,this)},yawPitchRoll:function(t,e,i){var n,s,r,h,u;return this.zero(),o.zero(),a.zero(),n=this.val,s=o.val,r=a.val,h=Math.sin(i),u=Math.cos(i),n[10]=1,n[15]=1,n[0]=u,n[1]=h,n[4]=-h,n[5]=u,h=Math.sin(e),u=Math.cos(e),s[0]=1,s[15]=1,s[5]=u,s[10]=u,s[9]=-h,s[6]=h,h=Math.sin(t),u=Math.cos(t),r[5]=1,r[15]=1,r[0]=u,r[2]=-h,r[8]=h,r[10]=u,this.multiplyLocal(o),this.multiplyLocal(a),this},setWorldMatrix:function(t,e,i,n,s){return this.yawPitchRoll(t.y,t.x,t.z),o.scaling(i.x,i.y,i.z),a.xyz(e.x,e.y,e.z),this.multiplyLocal(o),this.multiplyLocal(a),n!==undefined&&this.multiplyLocal(n),s!==undefined&&this.multiplyLocal(s),this}}),o=new r,a=new r;t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};i.DefaultScene.push("CameraManager3D"),i.Global.push("facebook"),t.exports=i},function(t,e,i){var n=i(492),s=i(94),r=i(0),o=i(52),a=i(493),h=i(163),u=i(210),l=i(93),c=new r({initialize:function(t){this.game=t,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:t.config.clearBeforeRender,backgroundColor:t.config.backgroundColor,resolution:t.config.resolution,antialias:t.config.antialias,roundPixels:t.config.roundPixels},this.scaleMode=t.config.antialias?h.LINEAR:h.NEAREST,this.gameCanvas=t.canvas,this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d"),this.currentContext=this.gameContext,this.blendModes=a(),this.currentScaleMode=0,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this._tempMatrix4=new l,this.init()},init:function(){this.game.scale.on("resize",this.onResize,this);var t=this.game.scale.baseSize;this.resize(t.width,t.height)},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},resize:function(t,e){this.width=t,this.height=e,this.scaleMode===h.NEAREST&&u.disable(this.gameContext)},onContextLost:function(){},onContextRestored:function(){},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,n=this.height;t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),e.clearBeforeRender&&t.clearRect(0,0,i,n),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,n)),t.save(),this.drawCount=0},render:function(t,e,i,n){var r,o,a=e.list,h=a.length,u=n._cx,l=n._cy,c=n._cw,f=n._ch,d=n.renderToTexture?n.context:t.sys.context;for(d.save(),this.game.scene.customViewports&&(d.beginPath(),d.rect(u,l,c,f),d.clip()),this.currentContext=d,n.transparent||(d.fillStyle=n.backgroundColor.rgba,d.fillRect(u,l,c,f)),d.globalAlpha=n.alpha,d.globalCompositeOperation="source-over",this.drawCount+=a.length,n.renderToTexture&&n.emit(s.PRE_RENDER,n),n.matrix.copyToContext(d),r=0;r<h;r++)o=a[r],o.willRender(n)&&(o.mask&&o.mask.preRenderCanvas(this,o,n),o.renderCanvas(this,o,i,n),o.mask&&o.mask.postRenderCanvas(this,o,n));d.setTransform(1,0,0,1,0,0),d.globalCompositeOperation="source-over",d.globalAlpha=1,n.flashEffect.postRenderCanvas(d),n.fadeEffect.postRenderCanvas(d),n.dirty=!1,d.restore(),n.renderToTexture&&(n.emit(s.POST_RENDER,n),t.sys.context.drawImage(n.canvas,u,l))},postRender:function(){var t;this.gameContext.restore(),t=this.snapshotState,t.callback&&(n(this.gameCanvas,t),t.callback=null)},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,t,e,i)},snapshotArea:function(t,e,i,n,s,r,o){var a=this.snapshotState;return a.callback=s,a.type=r,a.encoder=o,a.getPixel=!1,a.x=t,a.y=e,a.width=Math.min(i,this.gameCanvas.width),a.height=Math.min(n,this.gameCanvas.height),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(t,e,i,n){var s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x=i.alpha*t.alpha;0!==x&&(s=this.currentContext,r=this._tempMatrix1,o=this._tempMatrix2,a=this._tempMatrix3,h=e.canvasData,u=h.x,l=h.y,c=e.cutWidth,f=e.cutHeight,d=e.source.resolution,p=-t.displayOriginX+e.x,g=-t.displayOriginY+e.y,y=t.flipX?-1:1,m=t.flipY?-1:1,t.isCropped&&(v=t._crop,v.flipX===t.flipX&&v.flipY===t.flipY||e.updateCropUVs(v,t.flipX,t.flipY),c=v.cw,f=v.ch,u=v.cx,l=v.cy,p=-t.displayOriginX+v.x,g=-t.displayOriginY+v.y,-1===y&&(p>=0?p=-(p+c):p<0&&(p=Math.abs(p)-c)),-1===m&&(g>=0?g=-(g+f):g<0&&(g=Math.abs(g)-f))),o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(i.matrix),n?(r.multiplyWithOffset(n,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),o.e=t.x,o.f=t.y,r.multiply(o,a)):(o.e-=i.scrollX*t.scrollFactorX,o.f-=i.scrollY*t.scrollFactorY,r.multiply(o,a)),s.save(),a.setToContext(s),s.scale(y,m),s.globalCompositeOperation=this.blendModes[t.blendMode],s.globalAlpha=x,s.drawImage(e.source.image,u,l,c,f,p,g,c/d,f/d),s.restore())},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});t.exports=c},function(t,e,i){var n=i(209),s=i(94),r=i(0),o=i(52),a=i(213),h=i(168),u=i(215),l=i(93),c=i(16),f=i(494),d=i(495),p=i(496),g=i(305),y=new r({initialize:function(t){var e=this,i=t.config,s={alpha:i.transparent,depth:!1,antialias:i.antialias,premultipliedAlpha:i.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:i.failIfMajorPerformanceCaveat,powerPreference:i.powerPreference};this.config={clearBeforeRender:i.clearBeforeRender,antialias:i.antialias,backgroundColor:i.backgroundColor,contextCreation:s,resolution:i.resolution,roundPixels:i.roundPixels,maxTextures:i.maxTextures,maxTextureSize:i.maxTextureSize,batchSize:i.batchSize,maxLights:i.maxLights},this.game=t,this.type=o.WEBGL,this.width=0,this.height=0,this.canvas=t.canvas,this.lostContextCallbacks=[],this.restoredContextCallbacks=[],this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this.currentActiveTextureUnit=0,this.currentTextures=Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=Infinity,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.canvas.addEventListener("webglcontextlost",function(t){var i,n;for(e.contextLost=!0,t.preventDefault(),i=0;i<e.lostContextCallbacks.length;++i)n=e.lostContextCallbacks[i],n[0].call(n[1],e)},!1),this.canvas.addEventListener("webglcontextrestored",function(){var t,i;for(e.contextLost=!1,e.init(e.config),t=0;t<e.restoredContextCallbacks.length;++t)i=e.restoredContextCallbacks[t],i[0].call(i[1],e)},!1),this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new n(0,0,0,0),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this._tempMatrix4=new l,this.init(this.config)},init:function(t){var e,i,n,s,r,a,h=this.game,l=this.canvas,c=t.backgroundColor;if(!(e=h.config.context?h.config.context:l.getContext("webgl",t.contextCreation)||l.getContext("experimental-webgl",t.contextCreation))||e.isContextLost())throw this.contextLost=!0,Error("WebGL unsupported");for(this.gl=e,h.context=e,i=0;i<=27;i++)this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD});for(this.blendModes[1].func=[e.ONE,e.DST_ALPHA],this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[e.ZERO,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=e.BYTE,this.glFormats[1]=e.SHORT,this.glFormats[2]=e.UNSIGNED_BYTE,this.glFormats[3]=e.UNSIGNED_SHORT,this.glFormats[4]=e.FLOAT,n=e.getSupportedExtensions(),t.maxTextures||(t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),t.maxTextureSize||(t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)),s="WEBGL_compressed_texture_",r="WEBKIT_"+s,this.compression.ETC1=e.getExtension(s+"etc1")||e.getExtension(r+"etc1"),this.compression.PVRTC=e.getExtension(s+"pvrtc")||e.getExtension(r+"pvrtc"),this.compression.S3TC=e.getExtension(s+"s3tc")||e.getExtension(r+"s3tc"),this.supportedExtensions=n,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.clearColor(c.redGL,c.greenGL,c.blueGL,c.alphaGL),a=0;a<this.currentTextures.length;++a)this.currentTextures[a]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new g({game:h,renderer:this})),this.addPipeline("BitmapMaskPipeline",new d({game:h,renderer:this})),this.addPipeline("Light2D",new p({game:h,renderer:this,maxLights:t.maxLights})),this.setBlendMode(o.BlendModes.NORMAL),h.textures.once(u.READY,this.boot,this),this},boot:function(){var t,e,i,n;for(t in this.pipelines)this.pipelines[t].boot();e=this.game.textures.getFrame("__DEFAULT"),this.pipelines.TextureTintPipeline.currentFrame=e,this.blankTexture=e,i=this.gl,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on("resize",this.onResize,this),n=this.game.scale.baseSize,this.resize(n.width,n.height,this.game.scale.resolution)},onResize:function(t,e,i,n){e.width===this.width&&e.height===this.height&&n===this.resolution||this.resize(e.width,e.height,n)},resize:function(t,e,i){var n,s=this.gl,r=this.pipelines;this.width=t,this.height=e,this.resolution=i,s.viewport(0,0,t,e);for(n in r)r[n].resize(t,e,i);return this.drawingBufferHeight=s.drawingBufferHeight,s.scissor(0,s.drawingBufferHeight-e,t,e),this.defaultCamera.setSize(t,e),this},onContextRestored:function(t,e){return this.restoredContextCallbacks.push([t,e]),this},onContextLost:function(t,e){return this.lostContextCallbacks.push([t,e]),this},hasExtension:function(t){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(t)},getExtension:function(t){return this.hasExtension(t)?(t in this.extensions||(this.extensions[t]=this.gl.getExtension(t)),this.extensions[t]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(t){return t in this.pipelines},getPipeline:function(t){return this.hasPipeline(t)?this.pipelines[t]:null},removePipeline:function(t){return delete this.pipelines[t],this},addPipeline:function(t,e){return this.hasPipeline(t)||(this.pipelines[t]=e),e.name=t,this.pipelines[t].resize(this.width,this.height,this.config.resolution),e},pushScissor:function(t,e,i,n,s){var r,o;return s===undefined&&(s=this.drawingBufferHeight),r=this.scissorStack,o=[t,e,i,n],r.push(o),this.setScissor(t,e,i,n,s),this.currentScissor=o,o},setScissor:function(t,e,i,n,s){var r,o,a,h,u=this.gl,l=this.currentScissor,c=i>0&&n>0;l&&c&&(r=l[0],o=l[1],a=l[2],h=l[3],c=r!==t||o!==e||a!==i||h!==n),c&&(this.flush(),u.scissor(t,s-e-n,i,n))},popScissor:function(){var t,e=this.scissorStack;e.pop(),t=e[e.length-1],t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},setPipeline:function(t,e){return this.currentPipeline===t&&this.currentPipeline.vertexBuffer===this.currentVertexBuffer&&this.currentPipeline.program===this.currentProgram||(this.flush(),this.currentPipeline=t,this.currentPipeline.bind()),this.currentPipeline.onBind(e),this.currentPipeline},rebindPipeline:function(t){var e=this.gl;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.disable(e.STENCIL_TEST),e.clear(e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),e.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=t,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(t,e){var i,n;return e===undefined&&(e=!1),i=this.gl,n=this.blendModes[t],!!(e||t!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(n.equation),n.func.length>2?i.blendFuncSeparate(n.func[0],n.func[1],n.func[2],n.func[3]):i.blendFunc(n.func[0],n.func[1]),this.currentBlendMode=t,!0)},addBlendMode:function(t,e){return this.blendModes.push({func:t,equation:e})-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>17&&this.blendModes[t]&&this.blendModes.splice(t,1),this},setBlankTexture:function(t){t===undefined&&(t=!1),!t&&0===this.currentActiveTextureUnit&&this.currentTextures[0]||this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(t,e,i){i===undefined&&(i=!0);var n=this.gl;return t!==this.currentTextures[e]&&(i&&this.flush(),this.currentActiveTextureUnit!==e&&(n.activeTexture(n.TEXTURE0+e),this.currentActiveTextureUnit=e),n.bindTexture(n.TEXTURE_2D,t),this.currentTextures[e]=t),this},setFramebuffer:function(t,e){var i,n,s;return e===undefined&&(e=!1),i=this.gl,n=this.width,s=this.height,t!==this.currentFramebuffer&&(t&&t.renderTexture?(n=t.renderTexture.width,s=t.renderTexture.height):this.flush(),i.bindFramebuffer(i.FRAMEBUFFER,t),i.viewport(0,0,n,s),e&&(t?(this.drawingBufferHeight=s,this.pushScissor(0,0,n,s)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=t),this},setProgram:function(t){var e=this.gl;return t!==this.currentProgram&&(this.flush(),e.useProgram(t),this.currentProgram=t),this},setVertexBuffer:function(t){var e=this.gl;return t!==this.currentVertexBuffer&&(this.flush(),e.bindBuffer(e.ARRAY_BUFFER,t),this.currentVertexBuffer=t),this},setIndexBuffer:function(t){var e=this.gl;return t!==this.currentIndexBuffer&&(this.flush(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.currentIndexBuffer=t),this},createTextureFromSource:function(t,e,i,n){var s=this.gl,r=s.NEAREST,h=s.CLAMP_TO_EDGE;return e=t?t.width:e,i=t?t.height:i,a(e,i)&&(h=s.REPEAT),n===o.ScaleModes.LINEAR&&this.config.antialias&&(r=s.LINEAR),t||"number"!=typeof e||"number"!=typeof i?this.createTexture2D(0,r,r,h,h,s.RGBA,t):this.createTexture2D(0,r,r,h,h,s.RGBA,null,e,i)},createTexture2D:function(t,e,i,n,s,r,o,a,h,u){var l,c;return u=u===undefined||null===u||u,l=this.gl,c=l.createTexture(),this.setTexture2D(c,0),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,e),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,i),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,s),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,n),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),null===o||o===undefined?l.texImage2D(l.TEXTURE_2D,t,r,a,h,0,r,l.UNSIGNED_BYTE,null):(l.texImage2D(l.TEXTURE_2D,t,r,r,l.UNSIGNED_BYTE,o),a=o.width,h=o.height),this.setTexture2D(null,0),c.isAlphaPremultiplied=u,c.isRenderTexture=!1,c.width=a,c.height=h,this.nativeTextures.push(c),c},createFramebuffer:function(t,e,i,n){var s,r,o=this.gl,a=o.createFramebuffer(),h=0;if(this.setFramebuffer(a),n&&(s=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,s),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,t,e),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)),i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,i,0),(h=o.checkFramebufferStatus(o.FRAMEBUFFER))!==o.FRAMEBUFFER_COMPLETE)throw r={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},Error("Framebuffer incomplete. Framebuffer status: "+r[h]);return a.renderTexture=i,this.setFramebuffer(null),a},createProgram:function(t,e){var i=this.gl,n=i.createProgram(),s=i.createShader(i.VERTEX_SHADER),r=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(s,t),i.shaderSource(r,e),i.compileShader(s),i.compileShader(r),!i.getShaderParameter(s,i.COMPILE_STATUS))throw Error("Failed to compile Vertex Shader:\n"+i.getShaderInfoLog(s));if(!i.getShaderParameter(r,i.COMPILE_STATUS))throw Error("Failed to compile Fragment Shader:\n"+i.getShaderInfoLog(r));if(i.attachShader(n,s),i.attachShader(n,r),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw Error("Failed to link program:\n"+i.getProgramInfoLog(n));return n},createVertexBuffer:function(t,e){var i=this.gl,n=i.createBuffer();return this.setVertexBuffer(n),i.bufferData(i.ARRAY_BUFFER,t,e),this.setVertexBuffer(null),n},createIndexBuffer:function(t,e){var i=this.gl,n=i.createBuffer();return this.setIndexBuffer(n),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,e),this.setIndexBuffer(null),n},deleteTexture:function(t){var e=this.nativeTextures.indexOf(t);return-1!==e&&h(this.nativeTextures,e),this.gl.deleteTexture(t),this.currentTextures[0]!==t||this.game.pendingDestroy||this.setBlankTexture(!0),this},deleteFramebuffer:function(t){return this.gl.deleteFramebuffer(t),this},deleteProgram:function(t){return this.gl.deleteProgram(t),this},deleteBuffer:function(t){return this.gl.deleteBuffer(t),this},preRenderCamera:function(t){var e,i=t._cx,n=t._cy,r=t._cw,o=t._ch,a=this.pipelines.TextureTintPipeline,h=t.backgroundColor;t.renderToTexture?(this.flush(),this.pushScissor(i,n,r,-o),this.setFramebuffer(t.framebuffer),e=this.gl,e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),a.projOrtho(i,r+i,n,o+n,-1e3,1e3),h.alphaGL>0&&a.drawFillRect(i,n,r+i,o+n,c.getTintFromFloats(h.redGL,h.greenGL,h.blueGL,1),h.alphaGL),t.emit(s.PRE_RENDER,t)):(this.pushScissor(i,n,r,o),h.alphaGL>0&&a.drawFillRect(i,n,r,o,c.getTintFromFloats(h.redGL,h.greenGL,h.blueGL,1),h.alphaGL))},postRenderCamera:function(t){var e,i,n=this.pipelines.TextureTintPipeline;t.flashEffect.postRenderWebGL(n,c.getTintFromFloats),t.fadeEffect.postRenderWebGL(n,c.getTintFromFloats),t.dirty=!1,this.popScissor(),t.renderToTexture&&(n.flush(),this.setFramebuffer(null),t.emit(s.POST_RENDER,t),n.projOrtho(0,n.width,n.height,0,-1e3,1e3),e=c.getTintAppendFloatAlpha,i=t.pipeline?t.pipeline:n,i.batchTexture(t,t.glTexture,t.width,t.height,t.x,t.y,t.width,t.height,t.zoom,t.zoom,t.rotation,t.flipX,!t.flipY,1,1,0,0,0,0,t.width,t.height,e(t._tintTL,t._alphaTL),e(t._tintTR,t._alphaTR),e(t._tintBL,t._alphaBL),e(t._tintBR,t._alphaBR),t._isTinted&&t.tintFill,0,0,this.defaultCamera,null),this.setBlankTexture(!0))},preRender:function(){var t,e,i,n;if(!this.contextLost){t=this.gl,e=this.pipelines,t.bindFramebuffer(t.FRAMEBUFFER,null),this.config.clearBeforeRender&&(i=this.config.backgroundColor,t.clearColor(i.redGL,i.greenGL,i.blueGL,i.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)),t.enable(t.SCISSOR_TEST);for(n in e)e[n].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(t,e,i,n){var s,r,a,h,u,l,c;if(!this.contextLost){s=e.list,r=s.length,a=this.pipelines;for(h in a)a[h].onRender(t,n);for(this.preRenderCamera(n),u=0;u<r;u++)l=s[u],l.willRender(n)&&(l.blendMode!==this.currentBlendMode&&this.setBlendMode(l.blendMode),c=l.mask,c?(c.preRenderWebGL(this,l,n),l.renderWebGL(this,l,i,n),c.postRenderWebGL(this,l)):l.renderWebGL(this,l,i,n));this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(n)}},postRender:function(){var t,e,i;if(!this.contextLost){this.flush(),t=this.snapshotState,t.callback&&(f(this.canvas,t),t.callback=null),e=this.pipelines;for(i in e)e[i].onPostRender()}},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,t,e,i)},snapshotArea:function(t,e,i,n,s,r,o){var a=this.snapshotState;return a.callback=s,a.type=r,a.encoder=o,a.getPixel=!1,a.x=t,a.y=e,a.width=Math.min(i,this.gl.drawingBufferWidth),a.height=Math.min(n,this.gl.drawingBufferHeight),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},canvasToTexture:function(t,e,i){var n,s,r;return i===undefined&&(i=!1),n=this.gl,e?(this.setTexture2D(e,0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),e.width=t.width,e.height=t.height,this.setTexture2D(null,0)):(s=n.CLAMP_TO_EDGE,!i&&a(t.width,t.height)&&(s=n.REPEAT),r=this.config.antialias?n.LINEAR:n.NEAREST,e=this.createTexture2D(0,r,r,s,s,n.RGBA,t,t.width,t.height,!0)),e},setTextureFilter:function(t,e){var i=this.gl,n=[i.LINEAR,i.NEAREST][e];return this.setTexture2D(t,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,n),this.setTexture2D(null,0),this},setFloat1:function(t,e,i){return this.setProgram(t),this.gl.uniform1f(this.gl.getUniformLocation(t,e),i),this},setFloat2:function(t,e,i,n){return this.setProgram(t),this.gl.uniform2f(this.gl.getUniformLocation(t,e),i,n),this},setFloat3:function(t,e,i,n,s){return this.setProgram(t),this.gl.uniform3f(this.gl.getUniformLocation(t,e),i,n,s),this},setFloat4:function(t,e,i,n,s,r){return this.setProgram(t),this.gl.uniform4f(this.gl.getUniformLocation(t,e),i,n,s,r),this},setFloat1v:function(t,e,i){return this.setProgram(t),this.gl.uniform1fv(this.gl.getUniformLocation(t,e),i),this},setFloat2v:function(t,e,i){return this.setProgram(t),this.gl.uniform2fv(this.gl.getUniformLocation(t,e),i),this},setFloat3v:function(t,e,i){return this.setProgram(t),this.gl.uniform3fv(this.gl.getUniformLocation(t,e),i),this},setFloat4v:function(t,e,i){return this.setProgram(t),this.gl.uniform4fv(this.gl.getUniformLocation(t,e),i),this},setInt1:function(t,e,i){return this.setProgram(t),this.gl.uniform1i(this.gl.getUniformLocation(t,e),i),this},setInt2:function(t,e,i,n){return this.setProgram(t),this.gl.uniform2i(this.gl.getUniformLocation(t,e),i,n),this},setInt3:function(t,e,i,n,s){return this.setProgram(t),this.gl.uniform3i(this.gl.getUniformLocation(t,e),i,n,s),this},setInt4:function(t,e,i,n,s,r){return this.setProgram(t),this.gl.uniform4i(this.gl.getUniformLocation(t,e),i,n,s,r),this},setMatrix2:function(t,e,i,n){return this.setProgram(t),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(t,e),i,n),this},setMatrix3:function(t,e,i,n){return this.setProgram(t),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(t,e),i,n),this},setMatrix4:function(t,e,i,n){return this.setProgram(t),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(t,e),i,n),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){var t,e;for(t in this.pipelines)this.pipelines[t].destroy(),delete this.pipelines[t];for(e=0;e<this.nativeTextures.length;e++)this.deleteTexture(this.nativeTextures[e]),delete this.nativeTextures[e];delete this.gl,delete this.game,this.contextLost=!0,this.extensions={},this.nativeTextures.length=0}});t.exports=y},function(t,e,i){var n=i(0),s=i(16),r=new n({initialize:function(t){this.name="WebGLPipeline",this.game=t.game,this.view=t.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=t.gl,this.vertexCount=0,this.vertexCapacity=t.vertexCapacity,this.renderer=t.renderer,this.vertexData=t.vertices?t.vertices:new ArrayBuffer(t.vertexCapacity*t.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(t.vertices?t.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(t.vertShader,t.fragShader),this.attributes=t.attributes,this.vertexSize=t.vertexSize,this.topology=t.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=s.getComponentCount(t.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(t,e,i,n,s){return this.attributes.push({name:t,size:e,type:this.renderer.glFormats[i],normalized:n,offset:s}),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(t,e,i){return this.width=t*i,this.height=e*i,this.resolution=i,this},bind:function(){var t,e,i,n=this.gl,s=this.vertexBuffer,r=this.attributes,o=this.program,a=this.renderer,h=this.vertexSize;for(a.setProgram(o),a.setVertexBuffer(s),t=0;t<r.length;++t)e=r[t],i=n.getAttribLocation(o,e.name),i>=0?(n.enableVertexAttribArray(i),n.vertexAttribPointer(i,e.size,e.type,e.normalized,h,e.offset)):n.disableVertexAttribArray(i);return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){var t,e,i,n;return this.flushLocked?this:(this.flushLocked=!0,t=this.gl,e=this.vertexCount,i=this.topology,n=this.vertexSize,0===e?void(this.flushLocked=!1):(t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*n)),t.drawArrays(i,0,e),this.vertexCount=0,this.flushLocked=!1,this))},destroy:function(){var t=this.gl;return t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(t,e){return this.renderer.setFloat1(this.program,t,e),this},setFloat2:function(t,e,i){return this.renderer.setFloat2(this.program,t,e,i),this},setFloat3:function(t,e,i,n){return this.renderer.setFloat3(this.program,t,e,i,n),this},setFloat4:function(t,e,i,n,s){return this.renderer.setFloat4(this.program,t,e,i,n,s),this},setFloat1v:function(t,e){return this.renderer.setFloat1v(this.program,t,e),this},setFloat2v:function(t,e){return this.renderer.setFloat2v(this.program,t,e),this},setFloat3v:function(t,e){return this.renderer.setFloat3v(this.program,t,e),this},setFloat4v:function(t,e){return this.renderer.setFloat4v(this.program,t,e),this},setInt1:function(t,e){return this.renderer.setInt1(this.program,t,e),this},setInt2:function(t,e,i){return this.renderer.setInt2(this.program,t,e,i),this},setInt3:function(t,e,i,n){return this.renderer.setInt3(this.program,t,e,i,n),this},setInt4:function(t,e,i,n,s){return this.renderer.setInt4(this.program,t,e,i,n,s),this},setMatrix2:function(t,e,i){return this.renderer.setMatrix2(this.program,t,e,i),this},setMatrix3:function(t,e,i){return this.renderer.setMatrix3(this.program,t,e,i),this},setMatrix4:function(t,e,i){return this.renderer.setMatrix4(this.program,t,e,i),this}});t.exports=r},function(t,e,i){var n=i(0),s=i(126),r=i(3),o=i(1198),a=i(1199),h=i(1200),u=i(93),l=i(16),c=i(304),f=new n({Extends:c,Mixins:[o],initialize:function(t){var e=t.renderer.config;c.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:r(t,"topology",t.renderer.gl.TRIANGLES),vertShader:r(t,"vertShader",h),fragShader:r(t,"fragShader",a),vertexCapacity:r(t,"vertexCapacity",6*e.batchSize),vertexSize:r(t,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=e.batchSize,this.batches=[],this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this._tempMatrix4=new u,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return c.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(t,e,i){return c.prototype.resize.call(this,t,e,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(t,e){return t===undefined&&(t=this.renderer.blankTexture.glTexture),e===undefined&&(e=0),this.requireTextureBatch(t,e)&&this.pushBatch(t,e),this},requireTextureBatch:function(t,e){var i=this.batches,n=i.length;return!(n>0)||!((e>0?i[n-1].textures[e-1]:i[n-1].texture)===t)},pushBatch:function(t,e){if(0===e)this.batches.push({first:this.vertexCount,texture:t,textures:[]});else{var i=[];i[e-1]=t,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){var t,e,i,n,s,r,o,a,h,u,l,c,f;if(this.flushLocked)return this;if(this.flushLocked=!0,t=this.gl,e=this.vertexCount,i=this.topology,n=this.vertexSize,s=this.renderer,r=this.batches,o=r.length,a=0,h=null,0===o||0===e)return this.flushLocked=!1,this;for(t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*n)),f=0;f<o-1;f++){if(h=r[f],u=r[f+1],h.textures.length>0){for(l=0;l<h.textures.length;++l)(c=h.textures[l])&&s.setTexture2D(c,1+l,!1);t.activeTexture(t.TEXTURE0)}a=u.first-h.first,null===h.texture||a<=0||(s.setTexture2D(h.texture,0,!1),t.drawArrays(i,h.first,a))}if(h=r[o-1],h.textures.length>0){for(l=0;l<h.textures.length;++l)(c=h.textures[l])&&s.setTexture2D(c,1+l,!1);t.activeTexture(t.TEXTURE0)}return a=e-h.first,h.texture&&a>0&&(s.setTexture2D(h.texture,0,!1),t.drawArrays(i,h.first,a)),this.vertexCount=0,r.length=0,this.flushLocked=!1,this},batchSprite:function(t,e,i){var n,s,r,o,a,h,u,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k;this.renderer.setPipeline(this),n=this._tempMatrix1,s=this._tempMatrix2,r=this._tempMatrix3,o=t.frame,a=o.glTexture,h=o.u0,u=o.v0,c=o.u1,f=o.v1,d=o.x,p=o.y,g=o.cutWidth,y=o.cutHeight,m=-t.displayOriginX+d,v=-t.displayOriginY+p,t.isCropped&&(x=t._crop,x.flipX===t.flipX&&x.flipY===t.flipY||o.updateCropUVs(x,t.flipX,t.flipY),h=x.u0,u=x.v0,c=x.u1,f=x.v1,g=x.width,y=x.height,d=x.x,p=x.y,m=-t.displayOriginX+d,v=-t.displayOriginY+p),t.flipX&&(m+=g,g*=-1),t.flipY&&(v+=y,y*=-1),b=m+g,_=v+y,s.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),n.copyFrom(e.matrix),i?(n.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),s.e=t.x,s.f=t.y,n.multiply(s,r)):(s.e-=e.scrollX*t.scrollFactorX,s.f-=e.scrollY*t.scrollFactorY,n.multiply(s,r)),w=r.getX(m,v),T=r.getY(m,v),S=r.getX(m,_),A=r.getY(m,_),E=r.getX(b,_),P=r.getY(b,_),O=r.getX(b,v),M=r.getY(b,v),C=l.getTintAppendFloatAlpha(t._tintTL,e.alpha*t._alphaTL),I=l.getTintAppendFloatAlpha(t._tintTR,e.alpha*t._alphaTR),R=l.getTintAppendFloatAlpha(t._tintBL,e.alpha*t._alphaBL),L=l.getTintAppendFloatAlpha(t._tintBR,e.alpha*t._alphaBR),e.roundPixels&&(w=Math.round(w),T=Math.round(T),S=Math.round(S),A=Math.round(A),E=Math.round(E),P=Math.round(P),O=Math.round(O),M=Math.round(M)),this.setTexture2D(a,0),k=t._isTinted&&t.tintFill,this.batchQuad(w,T,S,A,E,P,O,M,h,u,c,f,C,I,R,L,k,a,0)},batchQuad:function(t,e,i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v){var x,b,_,w=!1;return this.vertexCount+6>this.vertexCapacity&&(this.flush(),w=!0,this.setTexture2D(m,v)),x=this.vertexViewF32,b=this.vertexViewU32,_=this.vertexCount*this.vertexComponentCount-1,x[++_]=t,x[++_]=e,x[++_]=h,x[++_]=u,x[++_]=y,b[++_]=f,x[++_]=i,x[++_]=n,x[++_]=h,x[++_]=c,x[++_]=y,b[++_]=p,x[++_]=s,x[++_]=r,x[++_]=l,x[++_]=c,x[++_]=y,b[++_]=g,x[++_]=t,x[++_]=e,x[++_]=h,x[++_]=u,x[++_]=y,b[++_]=f,x[++_]=s,x[++_]=r,x[++_]=l,x[++_]=c,x[++_]=y,b[++_]=g,x[++_]=o,x[++_]=a,x[++_]=l,x[++_]=u,x[++_]=y,b[++_]=d,this.vertexCount+=6,w},batchTri:function(t,e,i,n,s,r,o,a,h,u,l,c,f,d,p,g){var y,m,v,x=!1;return this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(p,g),x=!0),y=this.vertexViewF32,m=this.vertexViewU32,v=this.vertexCount*this.vertexComponentCount-1,y[++v]=t,y[++v]=e,y[++v]=o,y[++v]=a,y[++v]=d,m[++v]=l,y[++v]=i,y[++v]=n,y[++v]=o,y[++v]=u,y[++v]=d,m[++v]=c,y[++v]=s,y[++v]=r,y[++v]=h,y[++v]=u,y[++v]=d,m[++v]=f,this.vertexCount+=3,x},batchTexture:function(t,e,i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C){var I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K,q,J,Z,Q,$,tt;this.renderer.setPipeline(this,t),I=this._tempMatrix1,R=this._tempMatrix2,L=this._tempMatrix3,k=m/i+E,D=v/n+P,F=(m+x)/i+E,N=(v+b)/n+P,B=o,U=a,G=-g,Y=-y,t.isCropped&&(X=t._crop,B=X.width,U=X.height,o=X.width,a=X.height,m=X.x,v=X.y,z=m,W=v,c&&(z=x-X.x-X.width),f&&!e.isRenderTexture&&(W=b-X.y-X.height),k=z/i+E,D=W/n+P,F=(z+X.width)/i+E,N=(W+X.height)/n+P,G=-g+m,Y=-y+v),f^=!C&&e.isRenderTexture?1:0,c&&(B*=-1,G+=o),f&&(U*=-1,Y+=a),j=G+B,V=Y+U,R.applyITRS(s,r,l,h,u),I.copyFrom(O.matrix),M?(I.multiplyWithOffset(M,-O.scrollX*d,-O.scrollY*p),R.e=s,R.f=r,I.multiply(R,L)):(R.e-=O.scrollX*d,R.f-=O.scrollY*p,I.multiply(R,L)),H=L.getX(G,Y),K=L.getY(G,Y),q=L.getX(G,V),J=L.getY(G,V),Z=L.getX(j,V),Q=L.getY(j,V),$=L.getX(j,Y),tt=L.getY(j,Y),O.roundPixels&&(H=Math.round(H),K=Math.round(K),q=Math.round(q),J=Math.round(J),Z=Math.round(Z),Q=Math.round(Q),$=Math.round($),tt=Math.round(tt)),this.setTexture2D(e,0),this.batchQuad(H,K,q,J,Z,Q,$,tt,k,D,F,N,_,w,T,S,A,e,0)},batchTextureFrame:function(t,e,i,n,s,r,o){var a,h,u,c,f,d,p,g,y,m,v,x;this.renderer.setPipeline(this),a=this._tempMatrix1.copyFrom(r),h=this._tempMatrix2,u=e+t.width,c=i+t.height,o?a.multiply(o,h):h=a,f=h.getX(e,i),d=h.getY(e,i),p=h.getX(e,c),g=h.getY(e,c),y=h.getX(u,c),m=h.getY(u,c),v=h.getX(u,i),x=h.getY(u,i),this.setTexture2D(t.glTexture,0),n=l.getTintAppendFloatAlpha(n,s),this.batchQuad(f,d,p,g,y,m,v,x,t.u0,t.v0,t.u1,t.v1,n,n,n,n,0,t.glTexture,0)},drawFillRect:function(t,e,i,n,s,r){var o,a=t+i,h=e+n;this.setTexture2D(),o=l.getTintAppendFloatAlphaAndSwap(s,r),this.batchQuad(t,e,t,h,a,h,a,e,0,0,1,1,o,o,o,o,2)},batchFillRect:function(t,e,i,n,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_;this.renderer.setPipeline(this),o=this._tempMatrix3,r&&r.multiply(s,o),a=t+i,h=e+n,u=o.getX(t,e),l=o.getY(t,e),c=o.getX(t,h),f=o.getY(t,h),d=o.getX(a,h),p=o.getY(a,h),g=o.getX(a,e),y=o.getY(a,e),m=this.currentFrame,v=m.u0,x=m.v0,b=m.u1,_=m.v1,this.batchQuad(u,l,c,f,d,p,g,y,v,x,b,_,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(t,e,i,n,s,r,o,a){var h,u,l,c,f,d,p,g,y,m,v,x;this.renderer.setPipeline(this),h=this._tempMatrix3,a&&a.multiply(o,h),u=h.getX(t,e),l=h.getY(t,e),c=h.getX(i,n),f=h.getY(i,n),d=h.getX(s,r),p=h.getY(s,r),g=this.currentFrame,y=g.u0,m=g.v0,v=g.u1,x=g.v1,this.batchTri(u,l,c,f,d,p,y,m,v,x,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(t,e,i,n,s,r,o,a,h){var u=this.tempTriangle;u[0].x=t,u[0].y=e,u[0].width=o,u[1].x=i,u[1].y=n,u[1].width=o,u[2].x=s,u[2].y=r,u[2].width=o,u[3].x=t,u[3].y=e,u[3].width=o,this.batchStrokePath(u,o,!1,a,h)},batchFillPath:function(t,e,i){var n,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k;for(this.renderer.setPipeline(this),n=this._tempMatrix3,i&&i.multiply(e,n),r=t.length,o=this.polygonCache,u=this.fillTint.TL,l=this.fillTint.TR,c=this.fillTint.BL,f=this.tintEffect,d=0;d<r;++d)h=t[d],o.push(h.x,h.y);for(a=s(o),r=a.length,p=this.currentFrame,g=0;g<r;g+=3)y=2*a[g+0],m=2*a[g+1],v=2*a[g+2],x=o[y+0],b=o[y+1],_=o[m+0],w=o[m+1],T=o[v+0],S=o[v+1],A=n.getX(x,b),E=n.getY(x,b),P=n.getX(_,w),O=n.getY(_,w),M=n.getX(T,S),C=n.getY(T,S),I=p.u0,R=p.v0,L=p.u1,k=p.v1,this.batchTri(A,E,P,O,M,C,I,R,L,k,u,l,c,f);o.length=0},batchStrokePath:function(t,e,i,n,s){var r,o,a,h;for(this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0,r=t.length-1,o=0;o<r;o++)a=t[o],h=t[o+1],this.batchLine(a.x,a.y,h.x,h.y,a.width/2,h.width/2,e,o,!i&&o===r-1,n,s)},batchLine:function(t,e,i,n,s,r,o,a,h,u,l){var c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H;this.renderer.setPipeline(this),c=this._tempMatrix3,l&&l.multiply(u,c),f=i-t,d=n-e,p=Math.sqrt(f*f+d*d),g=s*(n-e)/p,y=s*(t-i)/p,m=r*(n-e)/p,v=r*(t-i)/p,x=i-m,b=n-v,_=t-g,w=e-y,T=i+m,S=n+v,A=t+g,E=e+y,P=c.getX(x,b),O=c.getY(x,b),M=c.getX(_,w),C=c.getY(_,w),I=c.getX(T,S),R=c.getY(T,S),L=c.getX(A,E),k=c.getY(A,E),D=this.strokeTint,F=this.tintEffect,N=D.TL,B=D.TR,U=D.BL,G=D.BR,Y=this.currentFrame,X=Y.u0,z=Y.v0,W=Y.u1,j=Y.v1,this.batchQuad(L,k,M,C,P,O,I,R,X,z,W,j,N,B,U,G,F),o<=2||(V=this.prevQuad,H=this.firstQuad,a>0&&V[4]?this.batchQuad(L,k,M,C,V[0],V[1],V[2],V[3],X,z,W,j,N,B,U,G,F):(H[0]=L,H[1]=k,H[2]=M,H[3]=C,H[4]=1),h&&H[4]?this.batchQuad(P,O,I,R,H[0],H[1],H[2],H[3],X,z,W,j,N,B,U,G,F):(V[0]=P,V[1]=O,V[2]=I,V[3]=R,V[4]=1))}});t.exports=f},function(t,e,i){var n=i(18),s=function(t,e){var i,s,r,o,a,h,u,l;if(e===undefined&&(e=new n),0===t.length)return e;for(i=Number.MAX_VALUE,s=Number.MAX_VALUE,r=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,l=0;l<t.length;l++)a=t[l],Array.isArray(a)?(h=a[0],u=a[1]):(h=a.x,u=a.y),i=Math.min(i,h),s=Math.min(s,u),r=Math.max(r,h),o=Math.max(o,u);return e.x=i,e.y=s,e.width=r-i,e.height=o-s,e};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n={CENTER:i(513),ORIENTATION:i(514),SCALE_MODE:i(515),ZOOM:i(516)};t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){t.parentNode&&t.parentNode.removeChild(t)};t.exports=i},function(t,e,i){var n=i(168),s=function(t,e,i,s){var r,o,a;if(s===undefined&&(s=t),!Array.isArray(e))return r=t.indexOf(e),-1!==r?(n(t,r),i&&i.call(s,e),e):null;for(o=e.length-1;o>=0;)a=e[o],r=t.indexOf(a),-1!==r?(n(t,r),i&&i.call(s,a)):e.pop(),o--;return e};t.exports=s},function(t,e,i){var n=i(0),s=i(218),r=i(301),o=i(30),a=i(1304),h=i(1305),u=i(2),l=i(532),c=new n({initialize:function(t,e){this.scene=t,this.game,this.facebook,this.config=e,this.settings=l.create(e),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},init:function(t){this.settings.status=s.INIT,this.sceneUpdate=u,this.game=t,this.canvas=t.canvas,this.context=t.context;var e=t.plugins;this.plugins=e,e.addToScene(this,r.Global,[r.CoreScene,h(this),a(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},install:function(t){Array.isArray(t)||(t=[t]),this.plugins.installLocal(this,t)},step:function(t,e){this.events.emit(o.PRE_UPDATE,t,e),this.events.emit(o.UPDATE,t,e),this.sceneUpdate.call(this.scene,t,e),this.events.emit(o.POST_UPDATE,t,e)},render:function(t){var e=this.displayList;e.depthSort(),this.cameras.render(t,e),this.events.emit(o.RENDER,t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){return this.settings.active&&(this.settings.status=s.PAUSED,this.settings.active=!1,this.events.emit(o.PAUSE,this,t)),this},resume:function(t){return this.settings.active||(this.settings.status=s.RUNNING,this.settings.active=!0,this.events.emit(o.RESUME,this,t)),this},sleep:function(t){return this.settings.status=s.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(o.SLEEP,this,t),this},wake:function(t){var e=this.settings;return e.status=s.RUNNING,e.active=!0,e.visible=!0,this.events.emit(o.WAKE,this,t),e.isTransition&&this.events.emit(o.TRANSITION_WAKE,e.transitionFrom,e.transitionDuration),this},isSleeping:function(){return this.settings.status===s.SLEEPING},isActive:function(){return this.settings.status===s.RUNNING},isPaused:function(){return this.settings.status===s.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,e){return t?this.resume(e):this.pause(e)},start:function(t){t&&(this.settings.data=t),this.settings.status=s.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(o.START,this),this.events.emit(o.READY,this,t)},shutdown:function(t){this.events.off(o.TRANSITION_INIT),this.events.off(o.TRANSITION_START),this.events.off(o.TRANSITION_COMPLETE),this.events.off(o.TRANSITION_OUT),this.settings.status=s.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(o.SHUTDOWN,this,t)},destroy:function(){var t,e;for(this.settings.status=s.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(o.DESTROY,this),this.events.removeAllListeners(),t=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],e=0;e<t.length;e++)this[t[e]]=null}});t.exports=c},function(t,e,i){var n=i(0),s=i(221),r=i(541),o=new n({initialize:function(t,e,i,n,s){Array.isArray(i)||(i=[i]),this.manager=t,this.key=e,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var o=0;o<i.length;o++)this.source.push(new r(this,i[o],n,s))},add:function(t,e,i,n,r,o){var a=new s(this,t,e,i,n,r,o);return this.frames[t]=a,1===this.frameTotal&&(this.firstFrame=t),this.frameTotal++,a},has:function(t){return this.frames[t]},get:function(t){t||(t=this.firstFrame);var e=this.frames[t];return e||(e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++)if(this.source[e]===t)return e;return-1},getFramesFromTextureSource:function(t,e){var i,n,s;e===undefined&&(e=!1),i=[];for(n in this.frames)("__BASE"!==n||e)&&(s=this.frames[n],s.sourceIndex===t&&i.push(s));return i},getFrameNames:function(t){var e,i;return t===undefined&&(t=!1),e=Object.keys(this.frames),t||-1!==(i=e.indexOf("__BASE"))&&e.splice(i,1),e},getSourceImage:function(t){t!==undefined&&null!==t&&1!==this.frameTotal||(t="__BASE");var e=this.frames[t];return e?e.source.image:this.frames.__BASE.source.image},getDataSourceImage:function(t){var e,i;return t!==undefined&&null!==t&&1!==this.frameTotal||(t="__BASE"),e=this.frames[t],i=e?e.sourceIndex:this.frames.__BASE.sourceIndex,this.dataSource[i].image},setDataSource:function(t){var e,i;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++)i=this.source[e],this.dataSource.push(new r(this,t[e],i.width,i.height))},setFilter:function(t){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(t);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(t)},destroy:function(){var t,e,i;for(t=0;t<this.source.length;t++)this.source[t].destroy();for(t=0;t<this.dataSource.length;t++)this.dataSource[t].destroy();for(e in this.frames)i=this.frames[e],i.destroy();this.source=[],this.dataSource=[],this.frames={},this.manager=null}});t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Matrix:i(1345),Add:i(1352),AddAt:i(1353),BringToTop:i(1354),CountAllMatching:i(1355),Each:i(1356),EachInRange:i(1357),FindClosestInSorted:i(421),GetAll:i(1358),GetFirst:i(1359),GetRandom:i(314),MoveDown:i(1360),MoveTo:i(1361),MoveUp:i(1362),NumberArray:i(1363),NumberArrayStep:i(1364),QuickSelect:i(545),Range:i(546),Remove:i(309),RemoveAt:i(1365),RemoveBetween:i(1366),RemoveRandomElement:i(1367),Replace:i(1368),RotateLeft:i(437),RotateRight:i(438),SafeRange:i(129),SendToBack:i(1369),SetAll:i(1370),Shuffle:i(208),SpliceOne:i(168),StableSort:i(224),Swap:i(1371)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i;if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){e===undefined&&(e=0),i===undefined&&(i=t.length);var n=e+Math.floor(Math.random()*i);return t[n]===undefined?null:t[n]};t.exports=i},function(t,e,i){var n=i(25),s=function(t,e){var i,s,r,o,a,h,u,l,c,f=n(e,"anims",null);return null===f?t:("string"==typeof f?t.anims.play(f):"object"==typeof f&&(i=t.anims,s=n(f,"key",undefined),r=n(f,"startFrame",undefined),o=n(f,"delay",0),a=n(f,"repeat",0),h=n(f,"repeatDelay",0),u=n(f,"yoyo",!1),l=n(f,"play",!1),c=n(f,"delayedPlay",0),i.setDelay(o),i.setRepeat(a),i.setRepeatDelay(h),i.setYoyo(u),l?i.play(s,r):c>0?i.delayedPlay(c,s,r):i.load(s)),t)};t.exports=s},function(t,e,i){var n=i(1378),s=i(1381),r=i(0),o=i(24),a=i(221),h=i(19),u=i(222),l=new r({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.ScaleMode,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,n],initialize:function(t,e,i,n,s){h.call(this,t,"Blitter"),this.setTexture(n,s),this.setPosition(e,i),this.initPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(t,e,i,n,r){n===undefined&&(n=!0),r===undefined&&(r=this.children.length),i===undefined?i=this.frame:i instanceof a||(i=this.texture.get(i));var o=new s(this,t,e,i,n);return this.children.addAt(o,r,!1),this.dirty=!0,o},createFromCallback:function(t,e,i,n){var s,r,o=this.createMultiple(e,i,n);for(s=0;s<o.length;s++)r=o[s],t.call(this,r,s);return o},createMultiple:function(t,e,i){var n,s;return e===undefined&&(e=this.frame.name),i===undefined&&(i=!0),Array.isArray(e)||(e=[e]),n=[],s=this,e.forEach(function(e){for(var r=0;r<t;r++)n.push(s.create(0,0,e,i))}),n},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});t.exports=l},function(t,e,i){var n=i(312),s=i(105),r=i(0),o=i(24),a=i(207),h=i(19),u=i(18),l=i(1382),c=i(548),f=i(4),d=new r({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.ScrollFactor,o.Transform,o.Visible,l],initialize:function(t,e,i,n){h.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this.tempTransformMatrix=new o.TransformMatrix,this._displayList=t.sys.displayList,this._sortKey="",this._sysEvents=t.sys.events,this.setPosition(e,i),this.clearAlpha(),this.setBlendMode(s.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return t===undefined&&(t=!0),this.exclusive=t,this},getBounds:function(t){var e,i,n,s;if(t===undefined&&(t=new u),t.setTo(this.x,this.y,0,0),this.list.length>0)for(e=this.list,i=new u,n=0;n<e.length;n++)s=e[n],s.getBounds&&(s.getBounds(i),c(i,t,t));return t},addHandler:function(t){t.once(a.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(t),t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this)},removeHandler:function(t){t.off(a.DESTROY,this.remove),this.exclusive&&(t.parentContainer=null)},pointToContainer:function(t,e){if(e===undefined&&(e=new f),this.parentContainer)return this.parentContainer.pointToContainer(t,e);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(t){return n.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return n.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(e===undefined&&(e=function(e,i){return e[t]-i[t]}),n.StableSort.inplace(this.list,e),this):this},getByName:function(t){return n.GetFirst(this.list,"name",t)},getRandom:function(t,e){return n.GetRandom(this.list,t,e)},getFirst:function(t,e,i,s){return n.GetFirst(this.list,t,e,i,s)},getAll:function(t,e,i,s){return n.GetAll(this.list,t,e,i,s)},count:function(t,e,i,s){return n.CountAllMatching(this.list,t,e,i,s)},swap:function(t,e){return n.Swap(this.list,t,e),this},moveTo:function(t,e){return n.MoveTo(this.list,t,e),this},remove:function(t,e){var i,s=n.Remove(this.list,t,this.removeHandler,this);if(e&&s)for(Array.isArray(s)||(s=[s]),i=0;i<s.length;i++)s[i].destroy();return this},removeAt:function(t,e){var i=n.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var s,r=n.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(s=0;s<r.length;s++)r[s].destroy();return this},removeAll:function(t){var e,i=n.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(t)for(e=0;e<i.length;e++)i[e].destroy();return this},bringToTop:function(t){return n.BringToTop(this.list,t),this},sendToBack:function(t){return n.SendToBack(this.list,t),this},moveUp:function(t){return n.MoveUp(this.list,t),this},moveDown:function(t){return n.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(t,e,i){return n.Replace(this.list,t,e)&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,s){return n.SetAll(this.list,t,e,i,s),this},each:function(t,e){var i,n=[null],s=this.list.slice(),r=s.length;for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<r;i++)n[0]=s[i],t.apply(e,n);return this},iterate:function(t,e){var i,n=[null];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<this.list.length;i++)n[0]=this.list[i],t.apply(e,n);return this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});t.exports=d},function(t,e,i){var n=i(225),s=i(0),r=i(1385),o=new s({Extends:n,Mixins:[r],initialize:function(t,e,i,s,r,o,a){n.call(this,t,e,i,s,r,o,a),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});t.exports=o},function(t,e,i){var n=i(209),s=i(0),r=i(320),o=i(419),a=i(423),h=i(424),u=i(428),l=i(206),c=i(433),f=i(434),d=i(431),p=i(169),g=i(19),y=i(3),m=i(6),v=i(33),x=i(1391),b=new s({Extends:g,Mixins:[o,a,h,u,l,c,f,d,x],initialize:function(t,e){var i=m(e,"x",0),n=m(e,"y",0);g.call(this,t,"Graphics"),this.setPosition(i,n),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(e)},setDefaultStyles:function(t){return m(t,"lineStyle",null)&&(this.defaultStrokeWidth=m(t,"lineStyle.width",1),this.defaultStrokeColor=m(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=m(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),m(t,"fillStyle",null)&&(this.defaultFillColor=m(t,"fillStyle.color",16777215),this.defaultFillAlpha=m(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return i===undefined&&(i=1),this.commandBuffer.push(r.LINE_STYLE,t,e,i),this._lineWidth=t,this},fillStyle:function(t,e){return e===undefined&&(e=1),this.commandBuffer.push(r.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,i,n,s){return s===undefined&&(s=1),this.commandBuffer.push(r.GRADIENT_FILL_STYLE,s,t,e,i,n),this},lineGradientStyle:function(t,e,i,n,s,o){return o===undefined&&(o=1),this.commandBuffer.push(r.GRADIENT_LINE_STYLE,t,o,e,i,n,s),this},setTexture:function(t,e,i){if(i===undefined&&(i=0),t===undefined)this.commandBuffer.push(r.CLEAR_TEXTURE);else{var n=this.scene.sys.textures.getFrame(t,e);n&&(2===i&&(i=3),this.commandBuffer.push(r.SET_TEXTURE,n,i))}return this},beginPath:function(){return this.commandBuffer.push(r.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(r.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(r.FILL_PATH),this},fill:function(){return this.commandBuffer.push(r.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(r.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(r.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,v.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,v.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,n){return this.commandBuffer.push(r.FILL_RECT,t,e,i,n),this},strokeRect:function(t,e,i,n){var s=this._lineWidth/2,r=t-s,o=t+s;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+n),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+n),this.strokePath(),this.beginPath(),this.moveTo(r,e),this.lineTo(o+i,e),this.strokePath(),this.beginPath(),this.moveTo(r,e+n),this.lineTo(o+i,e+n),this.strokePath(),this},fillRoundedRect:function(t,e,i,n,s){var r,o,a,h;return s===undefined&&(s=20),r=s,o=s,a=s,h=s,"number"!=typeof s&&(r=y(s,"tl",20),o=y(s,"tr",20),a=y(s,"bl",20),h=y(s,"br",20)),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,-v.TAU,0),this.lineTo(t+i,e+n-h),this.arc(t+i-h,e+n-h,h,0,v.TAU),this.lineTo(t+a,e+n),this.arc(t+a,e+n-a,a,v.TAU,Math.PI),this.lineTo(t,e+r),this.arc(t+r,e+r,r,-Math.PI,-v.TAU),this.fillPath(),this},strokeRoundedRect:function(t,e,i,n,s){var r,o,a,h;return s===undefined&&(s=20),r=s,o=s,a=s,h=s,"number"!=typeof s&&(r=y(s,"tl",20),o=y(s,"tr",20),a=y(s,"bl",20),h=y(s,"br",20)),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,-v.TAU,0),this.lineTo(t+i,e+n-h),this.arc(t+i-h,e+n-h,h,0,v.TAU),this.lineTo(t+a,e+n),this.arc(t+a,e+n-a,a,v.TAU,Math.PI),this.lineTo(t,e+r),this.arc(t+r,e+r,r,-Math.PI,-v.TAU),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return!i||i<1?i=1:(t-=i/2,e-=i/2),this.commandBuffer.push(r.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,n,s,o){return this.commandBuffer.push(r.FILL_TRIANGLE,t,e,i,n,s,o),this},strokeTriangle:function(t,e,i,n,s,o){return this.commandBuffer.push(r.STROKE_TRIANGLE,t,e,i,n,s,o),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,n){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,n),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(r.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(r.MOVE_TO,t,e),this},lineFxTo:function(t,e,i,n){return this.commandBuffer.push(r.LINE_FX_TO,t,e,i,n,1),this},moveFxTo:function(t,e,i,n){return this.commandBuffer.push(r.MOVE_FX_TO,t,e,i,n,1),this},strokePoints:function(t,e,i){e===undefined&&(e=!1),i===undefined&&(i=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<i;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),this.strokePath(),this},fillPoints:function(t,e,i){e===undefined&&(e=!1),i===undefined&&(i=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<i;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),this.fillPath(),this},strokeEllipseShape:function(t,e){e===undefined&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,n,s){var r,o;return s===undefined&&(s=32),r=new p(t,e,i,n),o=r.getPoints(s),this.strokePoints(o,!0)},fillEllipseShape:function(t,e){e===undefined&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,n,s){var r,o;return s===undefined&&(s=32),r=new p(t,e,i,n),o=r.getPoints(s),this.fillPoints(o,!0)},arc:function(t,e,i,n,s,o,a){return o===undefined&&(o=!1),a===undefined&&(a=0),this.commandBuffer.push(r.ARC,t,e,i,n,s,o,a),this},slice:function(t,e,i,n,s,o,a){return o===undefined&&(o=!1),a===undefined&&(a=0),this.commandBuffer.push(r.BEGIN_PATH),this.commandBuffer.push(r.MOVE_TO,t,e),this.commandBuffer.push(r.ARC,t,e,i,n,s,o,a),this.commandBuffer.push(r.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(r.SAVE),this},restore:function(){return this.commandBuffer.push(r.RESTORE),this},translate:function(t,e){return this.commandBuffer.push(r.TRANSLATE,t,e),this},scale:function(t,e){return this.commandBuffer.push(r.SCALE,t,e),this},rotate:function(t){return this.commandBuffer.push(r.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var n,s,r,o=this.scene.sys,a=o.game.renderer;return e===undefined&&(e=o.scale.width),i===undefined&&(i=o.scale.height),b.TargetCamera.setScene(this.scene),b.TargetCamera.setViewport(0,0,e,i),b.TargetCamera.scrollX=this.x,b.TargetCamera.scrollY=this.y,"string"==typeof t?o.textures.exists(t)?(n=o.textures.get(t),(r=n.getSourceImage())instanceof HTMLCanvasElement&&(s=r.getContext("2d"))):(n=o.textures.createCanvas(t,e,i),s=n.getSourceImage().getContext("2d")):t instanceof HTMLCanvasElement&&(s=t.getContext("2d")),s&&(this.renderCanvas(a,this,0,b.TargetCamera,null,s,!1),n&&n.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});b.TargetCamera=new n,t.exports=b},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,LINE_FX_TO:12,MOVE_FX_TO:13,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(t,e,i){var n=i(9),s=function(t,e,i){var s,r;return i===undefined&&(i=new n),s=t.width/2,r=t.height/2,i.x=t.x+s*Math.cos(e),i.y=t.y+r*Math.sin(e),i};t.exports=s},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(554),a=i(222),h=i(556),u=i(1401),l=new n({Extends:r,Mixins:[s.Depth,s.Pipeline,s.Transform,s.Visible,u],initialize:function(t,e,i,n){if(r.call(this,t,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!=typeof i&&!Array.isArray(i)||(n=i,i=null),this.setTexture(e,i),this.initPipeline(),this.emitters=new a(this),this.wells=new a(this),n){Array.isArray(n)||(n=[n]);for(var s=0;s<n.length;s++)this.createEmitter(n[s])}},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){var e,i;return this.frame=this.texture.get(t),e=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),i=[],e.forEach(function(t){i.push(t.name)}),this.frameNames=i,this.defaultFrame=this.frame,this},setEmitterFrames:function(t,e){var i,n,s;for(Array.isArray(t)||(t=[t]),i=e.frames,i.length=0,n=0;n<t.length;n++)s=t[n],-1!==this.frameNames.indexOf(s)&&i.push(this.texture.get(s));return i.length>0?e.defaultFrame=i[0]:e.defaultFrame=this.defaultFrame,this},addEmitter:function(t){return this.emitters.add(t)},createEmitter:function(t){return this.addEmitter(new h(this,t))},addGravityWell:function(t){return this.wells.add(t)},createGravityWell:function(t){return this.addGravityWell(new o(t))},emitParticle:function(t,e,i){var n,s,r=this.emitters.list;for(n=0;n<r.length;n++)s=r[n],s.active&&s.emitParticle(t,e,i);return this},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(t,e){var i,n,s;for(e*=this.timeScale,i=this.emitters.list,n=0;n<i.length;n++)s=i[n],s.active&&s.preUpdate(t,e)},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});t.exports=l},function(t,e,i){var n=i(105),s=i(209),r=i(43),o=i(0),a=i(24),h=i(52),u=i(221),l=i(19),c=i(1405),f=i(16),d=i(562),p=new o({Extends:l,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScaleMode,a.ScrollFactor,a.Tint,a.Transform,a.Visible,c],initialize:function(t,e,i,n,o){var a,u;e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=32),o===undefined&&(o=32),l.call(this,t,"RenderTexture"),this.renderer=t.sys.game.renderer,this.textureManager=t.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=r.create2D(this,n,o),this.context=this.canvas.getContext("2d"),this.framebuffer=null,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(d(),this.canvas),this.frame=this.texture.get(),this._saved=!1,this._eraseMode=!1,this.camera=new s(0,0,n,o),this.dirty=!1,this.gl=null,a=this.renderer,a.type===h.WEBGL?(u=a.gl,this.gl=u,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=a.createFramebuffer(n,o,this.frame.source.glTexture,!1)):a.type===h.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas),this.camera.setScene(t),this.setPosition(e,i),this.setSize(n,o),this.setOrigin(0,0),this.initPipeline()},setSize:function(t,e){return this.resize(t,e)},resize:function(t,e){if(e===undefined&&(e=t),t!==this.width||e!==this.height){if(this.canvas.width=t,this.canvas.height=e,this.gl){var i=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer),this.frame.source.glTexture=this.renderer.createTexture2D(0,i.NEAREST,i.NEAREST,i.CLAMP_TO_EDGE,i.CLAMP_TO_EDGE,i.RGBA,null,t,e,!1),this.framebuffer=this.renderer.createFramebuffer(t,e,this.frame.source.glTexture,!1),this.frame.glTexture=this.frame.source.glTexture}this.frame.source.width=t,this.frame.source.height=e,this.camera.setSize(t,e),this.frame.setSize(t,e),this.width=t,this.height=e}return this},setGlobalTint:function(t){return this.globalTint=t,this},setGlobalAlpha:function(t){return this.globalAlpha=t,this},saveTexture:function(t){return this.textureManager.renameTexture(this.texture.key,t),this._saved=!0,this.texture},fill:function(t,e){var i,n,s,r,o,a;return e===undefined&&(e=1),i=255&(t>>16|0),n=255&(t>>8|0),s=255&(0|t),r=this.gl,r?(o=this.renderer,a=this.getBounds(),o.setFramebuffer(this.framebuffer,!0),this.pipeline.drawFillRect(a.x,a.y,a.right,a.bottom,f.getTintFromFloats(i/255,n/255,s/255,1),e),o.setFramebuffer(null,!0)):(this.context.fillStyle="rgba("+i+","+n+","+s+","+e+")",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this},clear:function(){var t,e,i;return this.dirty&&(t=this.gl,t?(e=this.renderer,e.setFramebuffer(this.framebuffer,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.setFramebuffer(null,!0)):(i=this.context,i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.restore()),this.dirty=!1),this},erase:function(t,e,i){this._eraseMode=!0;var s=this.renderer.currentBlendMode;return this.renderer.setBlendMode(n.ERASE),this.draw(t,e,i,1,16777215),this.renderer.setBlendMode(s),this._eraseMode=!1,this},draw:function(t,e,i,n,s){var r,o,a,h,u,l;return n===undefined&&(n=this.globalAlpha),s=s===undefined?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(s>>16)+(65280&s)+((255&s)<<16),Array.isArray(t)||(t=[t]),r=this.gl,this.camera.preRender(1,1),r?(o=this.camera._cx,a=this.camera._cy,h=this.camera._cw,u=this.camera._ch,this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(o,a,h,u,u),l=this.pipeline,l.projOrtho(0,this.width,0,this.height,-1e3,1e3),this.batchList(t,e,i,n,s),l.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),l.projOrtho(0,l.width,l.height,0,-1e3,1e3)):(this.renderer.setContext(this.context),this.batchList(t,e,i,n,s),this.renderer.setContext()),this.dirty=!0,this},drawFrame:function(t,e,i,n,s,r){var o,a,h,u,l,c,f;return i===undefined&&(i=0),n===undefined&&(n=0),s===undefined&&(s=this.globalAlpha),r=r===undefined?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(r>>16)+(65280&r)+((255&r)<<16),o=this.gl,a=this.textureManager.getFrame(t,e),a&&(this.camera.preRender(1,1),o?(h=this.camera._cx,u=this.camera._cy,l=this.camera._cw,c=this.camera._ch,this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(h,u,l,c,c),f=this.pipeline,f.projOrtho(0,this.width,0,this.height,-1e3,1e3),f.batchTextureFrame(a,i,n,r,s,this.camera.matrix,null),f.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),f.projOrtho(0,f.width,f.height,0,-1e3,1e3)):this.batchTextureFrame(a,i,n,s,r),this.dirty=!0),this},batchList:function(t,e,i,n,s){var r,o;for(r=0;r<t.length;r++)(o=t[r])&&o!==this&&(o.renderWebGL||o.renderCanvas?this.drawGameObject(o,e,i):o.isParent||o.list?this.batchGroup(o.getChildren(),e,i):"string"==typeof o?this.batchTextureFrameKey(o,null,e,i,n,s):o instanceof u?this.batchTextureFrame(o,e,i,n,s):Array.isArray(o)&&this.batchList(o,e,i,n,s))},batchGroup:function(t,e,i){var n,s,r,o;for(e===undefined&&(e=0),i===undefined&&(i=0),n=0;n<t.length;n++)s=t[n],s.willRender()&&(r=s.x+e,o=s.y+i,this.drawGameObject(s,r,o))},batchGameObjectWebGL:function(t,e,i){var n,s;e===undefined&&(e=t.x),i===undefined&&(i=t.y),n=t.x,s=t.y,this._eraseMode||this.renderer.setBlendMode(t.blendMode),t.setPosition(e,i),t.renderWebGL(this.renderer,t,0,this.camera,null),t.setPosition(n,s)},batchGameObjectCanvas:function(t,e,i){var s,r,o;e===undefined&&(e=t.x),i===undefined&&(i=t.y),s=t.x,r=t.y,this._eraseMode&&(o=t.blendMode,t.blendMode=n.ERASE),t.setPosition(e,i),t.renderCanvas(this.renderer,t,0,this.camera,null),t.setPosition(s,r),this._eraseMode&&(t.blendMode=o)},batchTextureFrameKey:function(t,e,i,n,s,r){var o=this.textureManager.getFrame(t,e);o&&this.batchTextureFrame(o,i,n,s,r)},batchTextureFrame:function(t,e,i,n,s){var r,o,a,h;e===undefined&&(e=0),i===undefined&&(i=0),this.gl?this.pipeline.batchTextureFrame(t,e,i,s,n,this.camera.matrix,null):(r=this.context,o=t.canvasData,a=t.source.image,h=this.camera.matrix,r.globalAlpha=this.globalAlpha,r.setTransform(h[0],h[1],h[2],h[3],h[4],h[5]),r.drawImage(a,o.x,o.y,o.width,o.height,e,i,o.width,o.height))},preDestroy:function(){this._saved||(r.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null)}});t.exports=p},function(t,e,i){var n=i(216),s=i(43),r=i(0),o=i(24),a=i(52),h=i(19),u=i(1411),l=i(6),c=i(308),f=i(1412),d=i(1415),p=new r({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScaleMode,o.ScrollFactor,o.Tint,o.Transform,o.Visible,f],initialize:function(t,e,i,n,r){e===undefined&&(e=0),i===undefined&&(i=0),h.call(this,t,"Text"),this.renderer=t.sys.game.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.canvas=s.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,r),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text="",this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),r&&r.padding&&this.setPadding(r.padding),r&&r.lineSpacing&&(this.lineSpacing=r.lineSpacing),this.setText(n),t.sys.game.config.renderType===a.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",n(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e,i=this.style;return i.wordWrapCallback?(e=i.wordWrapCallback.call(i.wordWrapCallbackScope,t,this),Array.isArray(e)&&(e=e.join("\n")),e):i.wordWrapWidth?i.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y="",m=t.replace(/ +/gi," ").split(this.splitRegExp),v=m.length;for(n=0;n<v;n++)if(s=m[n],r="",s=s.replace(/^ *|\s*$/gi,""),e.measureText(s).width<i)y+=s+"\n";else{for(o=i,a=s.split(" "),h=0;h<a.length;h++){if(u=a[h],l=u+" ",(c=e.measureText(l).width)>o){if(0===h){for(f=l;f.length&&(f=f.slice(0,-1),!((c=e.measureText(f).width)<=o)););if(!f.length)throw Error("This text's wordWrapWidth setting is less than a single character!");d=u.substr(f.length),a[h]=d,r+=f}p=a[h].length?h:h+1,g=a.slice(p).join(" ").replace(/[ \n]*$/gi,""),m[n+1]=g+" "+(m[n+1]||""),v=m.length;break}r+=l,o-=c}y+=r.replace(/[ \n]*$/gi,"")+"\n"}return y=y.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){var n,s,r,o,a,h,u="",l=t.split(this.splitRegExp);for(n=0;n<l.length;n++){for(s=i,r=l[n].split(" "),o=0;o<r.length;o++)a=e.measureText(r[o]).width,h=a+e.measureText(" ").width,h>s?(o>0&&(u+="\n"),u+=r[o]+" ",s=i-a):(s-=h,u+=r[o],o<r.length-1&&(u+=" "));n<l.length-1&&(u+="\n")}return u},getWrappedText:function(t){return t===undefined&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=""+t,this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,n,s,r){return this.style.setShadow(t,e,i,n,s,r)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setPadding:function(t,e,i,n){var s,r,o;return"object"==typeof t?(s=t,r=l(s,"x",null),null!==r?(t=r,i=r):(t=l(s,"left",0),i=l(s,"right",t)),o=l(s,"y",null),null!==o?(e=o,n=o):(e=l(s,"top",0),n=l(s,"bottom",e))):(t===undefined&&(t=0),e===undefined&&(e=t),i===undefined&&(i=t),n===undefined&&(n=e)),this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=n,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t,e,i,n,s,r,o,a,h,l=this.canvas,c=this.context,f=this.style,d=f.resolution,p=f.metrics;for(f.syncFont(l,c),t=this._text,(f.wordWrapWidth||f.wordWrapCallback)&&(t=this.runWordWrap(this._text)),e=t.split(this.splitRegExp),i=u(this,p,e),n=this.padding,s=i.width+n.left+n.right,r=i.height+n.top+n.bottom,0===f.fixedWidth&&(this.width=s),0===f.fixedHeight&&(this.height=r),this.updateDisplayOrigin(),s*=d,r*=d,s=Math.max(s,1),r=Math.max(r,1),l.width!==s||l.height!==r?(l.width=s,l.height=r,this.frame.setSize(s,r),f.syncFont(l,c)):c.clearRect(0,0,s,r),c.save(),c.scale(d,d),f.backgroundColor&&(c.fillStyle=f.backgroundColor,c.fillRect(0,0,s,r)),f.syncStyle(l,c),c.textBaseline="alphabetic",c.translate(n.left,n.top),h=0;h<i.lines;h++)o=f.strokeThickness/2,a=f.strokeThickness/2+h*i.lineHeight+p.ascent,h>0&&(a+=i.lineSpacing*h),f.rtl?o=s-o:"right"===f.align?o+=i.width-i.lineWidths[h]:"center"===f.align&&(o+=(i.width-i.lineWidths[h])/2),this.autoRound&&(o=Math.round(o),a=Math.round(a)),f.strokeThickness&&(this.style.syncShadow(c,f.shadowStroke),c.strokeText(e[h],o,a)),f.color&&(this.style.syncShadow(c,f.shadowFill),c.fillText(e[h],o,a));return c.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=o.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&c(this.canvas),s.remove(this.canvas),this.texture.destroy()}});t.exports=p},function(t,e,i){var n=i(43),s=i(0),r=i(24),o=i(52),a=i(19),h=i(479),u=i(210),l=i(1417),c=i(4),f=8,d=new s({Extends:a,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScaleMode,r.ScrollFactor,r.Tint,r.Transform,r.Visible,l],initialize:function(t,e,i,s,r,u,l){var f,d,p=t.sys.game.renderer;a.call(this,t,"TileSprite"),f=t.sys.textures.get(u),d=f.get(l),s&&r?(s=Math.floor(s),r=Math.floor(r)):(s=d.width,r=d.height),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=p,this.canvas=n.create(this,s,r),this.context=this.canvas.getContext("2d"),this.displayTexture=f,this.displayFrame=d,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=h(d.width),this.potHeight=h(d.height),this.fillCanvas=n.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(e,i),this.setSize(s,r),this.setFrame(l),this.setOriginFromFrame(),this.initPipeline(),t.sys.game.config.renderType===o.WEBGL&&t.sys.game.renderer.onContextRestored(function(t){var e=t.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=t.createTexture2D(0,e.LINEAR,e.LINEAR,e.REPEAT,e.REPEAT,e.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(t,e){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){return this.displayFrame=this.displayTexture.get(t),this.displayFrame.cutWidth&&this.displayFrame.cutHeight?this.renderFlags|=f:this.renderFlags&=~f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,e){return t!==undefined&&(this.tilePositionX=t),e!==undefined&&(this.tilePositionY=e),this},setTileScale:function(t,e){return t===undefined&&(t=this.tileScaleX),e===undefined&&(e=t),this.tileScaleX=t,this.tileScaleY=e,this},updateTileTexture:function(){var t,e,i,n,s;this.dirty&&this.renderer&&(t=this.displayFrame,e=this.fillContext,i=this.fillCanvas,n=this.potWidth,s=this.potHeight,this.renderer.gl||(n=t.cutWidth,s=t.cutHeight),e.clearRect(0,0,n,s),i.width=n,i.height=s,e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,n,s),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=e.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1)},updateCanvas:function(){var t,e,i,n,s,r=this.canvas;if(r.width===this.width&&r.height===this.height||(r.width=this.width,r.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)return void(this.dirty=!1);t=this.context,this.scene.sys.game.config.antialias||u.disable(t),e=this._tileScale.x,i=this._tileScale.y,n=this._tilePosition.x,s=this._tilePosition.y,t.clearRect(0,0,this.width,this.height),t.save(),t.scale(e,i),t.translate(-n,-s),t.fillStyle=this.fillPattern,t.fillRect(n,s,this.width/e,this.height/i),t.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),n.remove(this.canvas),n.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});t.exports=d},function(t,e,i){var n=i(0),s=i(327),r=i(572),o=new n({initialize:function(t){this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,e){return s(this,t,e)},setTo:function(t){var e,i,n;if(this.area=0,this.points=[],"string"==typeof t&&(t=t.split(" ")),!Array.isArray(t))return this;for(i=Number.MAX_VALUE,n=0;n<t.length;n++)e={x:0,y:0},"number"==typeof t[n]||"string"==typeof t[n]?(e.x=parseFloat(t[n]),e.y=parseFloat(t[n+1]),n++):Array.isArray(t[n])?(e.x=t[n][0],e.y=t[n][1]):(e.x=t[n].x,e.y=t[n].y),this.points.push(e),e.y<i&&(i=e.y);return this.calculateArea(i),this},calculateArea:function(){var t,e,i,n;if(this.points.length<3)return this.area=0,this.area;for(t=0,n=0;n<this.points.length-1;n++)e=this.points[n],i=this.points[n+1],t+=(i.x-e.x)*(e.y+i.y);return e=this.points[0],i=this.points[this.points.length-1],t+=(e.x-i.x)*(i.y+e.y),this.area=.5*-t,this.area},getPoints:function(t,e,i){return r(this,t,e,i)}});t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o,a,h,u=!1;for(n=-1,s=t.points.length-1;++n<t.points.length;s=n)r=t.points[n].x,o=t.points[n].y,a=t.points[s].x,h=t.points[s].y,(o<=i&&i<h||h<=i&&i<o)&&e<(a-r)*(i-o)/(h-o)+r&&(u=!u);return u};t.exports=i},function(t,e,i){var n=i(0),s=i(226),r=new n({Extends:s,initialize:function(t,e,i,n,r){var o=[0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,1,1,1,0,0,1,1,1,0],h=[16777215,16777215,16777215,16777215,16777215,16777215],u=[1,1,1,1,1,1];s.call(this,t,e,i,o,a,h,u,n,r),this.resetPosition()},setFrame:function(t){return this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,t=this.frame,this.uv[0]=t.u0,this.uv[1]=t.v0,this.uv[2]=t.u0,this.uv[3]=t.v1,this.uv[4]=t.u1,this.uv[5]=t.v1,this.uv[6]=t.u0,this.uv[7]=t.v0,this.uv[8]=t.u1,this.uv[9]=t.v1,this.uv[10]=t.u1,this.uv[11]=t.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(t){this.vertices[0]=t-this.x,this.vertices[6]=t-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(t){this.vertices[1]=t-this.y,this.vertices[7]=t-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(t){this.vertices[10]=t-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(t){this.vertices[11]=t-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(t){this.vertices[2]=t-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(t){this.vertices[3]=t-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(t){this.vertices[4]=t-this.x,this.vertices[8]=t-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(t){this.vertices[5]=t-this.y,this.vertices[9]=t-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(t){this.alphas[0]=t,this.alphas[3]=t}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(t){this.alphas[5]=t}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(t){this.alphas[1]=t}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(t){this.alphas[2]=t,this.alphas[4]=t}},topLeftColor:{get:function(){return this.colors[0]},set:function(t){this.colors[0]=t,this.colors[3]=t}},topRightColor:{get:function(){return this.colors[5]},set:function(t){this.colors[5]=t}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(t){this.colors[1]=t}},bottomRightColor:{get:function(){return this.colors[2]},set:function(t){this.colors[2]=t,this.colors[4]=t}},setTopLeft:function(t,e){return this.topLeftX=t,this.topLeftY=e,this},setTopRight:function(t,e){return this.topRightX=t,this.topRightY=e,this},setBottomLeft:function(t,e){return this.bottomLeftX=t,this.bottomLeftY=e,this},setBottomRight:function(t,e){return this.bottomRightX=t,this.bottomRightY=e,this},resetPosition:function(){var t=this.x,e=this.y,i=Math.floor(this.width/2),n=Math.floor(this.height/2);return this.setTopLeft(t-i,e-n),this.setTopRight(t+i,e-n),this.setBottomLeft(t-i,e+n),this.setBottomRight(t+i,e+n),this},resetAlpha:function(){var t=this.alphas;return t[0]=1,t[1]=1,t[2]=1,t[3]=1,t[4]=1,t[5]=1,this},resetColors:function(){var t=this.colors;return t[0]=16777215,t[1]=16777215,t[2]=16777215,t[3]=16777215,t[4]=16777215,t[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_;for(i===undefined&&(i=!1),n===undefined&&(n=[]),s=t.x3-t.x1,r=t.y3-t.y1,o=t.x2-t.x1,a=t.y2-t.y1,h=s*s+r*r,u=s*o+r*a,l=o*o+a*a,c=h*l-u*u,f=0===c?0:1/c,x=t.x1,b=t.y1,_=0;_<e.length&&(g=e[_].x-x,y=e[_].y-b,m=s*g+r*y,v=o*g+a*y,d=(l*m-u*v)*f,p=(h*v-u*m)*f,!(d>=0&&p>=0&&d+p<1&&(n.push({x:e[_].x,y:e[_].y}),i)));_++);return n};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s=Math.cos(n),r=Math.sin(n),o=t.x1-e,a=t.y1-i;return t.x1=o*s-a*r+e,t.y1=o*r+a*s+i,o=t.x2-e,a=t.y2-i,t.x2=o*s-a*r+e,t.y2=o*r+a*s+i,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 0===t.height?NaN:t.width/t.height};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s=Math.cos(n),r=Math.sin(n),o=t.x1-e,a=t.y1-i;return t.x1=o*s-a*r+e,t.y1=o*r+a*s+i,o=t.x2-e,a=t.y2-i,t.x2=o*s-a*r+e,t.y2=o*r+a*s+i,o=t.x3-e,a=t.y3-i,t.x3=o*s-a*r+e,t.y3=o*r+a*s+i,t};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BUTTON_DOWN:i(1615),BUTTON_UP:i(1616),CONNECTED:i(1617),DISCONNECTED:i(1618),GAMEPAD_BUTTON_DOWN:i(1619),GAMEPAD_BUTTON_UP:i(1620)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)};t.exports=i},function(t,e,i){var n=i(32),s=i(230),r=function(t,e){var i,r=t===undefined?s():n({},t);if(e)for(i in e)e[i]!==undefined&&(r[i]=e[i]);return r};t.exports=r},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=i(518),l=new n({Extends:r,initialize:function(t,e,i,n){var s,o,u="xml";h(e)&&(s=e,e=a(s,"key"),i=a(s,"url"),n=a(s,"xhrSettings"),u=a(s,"extension",u)),o={type:"xml",cache:t.cacheManager.xml,extension:u,responseType:"text",key:e,url:i,xhrSettings:n},r.call(this,t,o)},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});o.register("xml",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,i));return this}),t.exports=l},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={COLLIDE:i(1704),PAUSE:i(1705),RESUME:i(1706)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Acceleration:i(1708),BodyScale:i(1709),BodyType:i(1710),Bounce:i(1711),CheckAgainst:i(1712),Collides:i(1713),Debug:i(1714),Friction:i(1715),Gravity:i(1716),Offset:i(1717),SetGameObject:i(1718),Velocity:i(1719)}},function(t,e,i){var n,s,r={};t.exports=r,n=i(69),s=i(28),function(){r.fromVertices=function(t){var e,i,r,o,a={};for(e=0;e<t.length;e++)i=(e+1)%t.length,r=n.normalise({x:t[i].y-t[e].y,y:t[e].x-t[i].x}),o=0===r.y?Infinity:r.x/r.y,o=""+o.toFixed(3),a[o]=r;return s.values(a)},r.rotate=function(t,e){var i,n,s,r,o;if(0!==e)for(i=Math.cos(e),n=Math.sin(e),s=0;s<t.length;s++)r=t[s],o=r.x*i-r.y*n,r.y=r.x*n+r.y*i,r.x=o}}()},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={AFTER_UPDATE:i(1737),BEFORE_UPDATE:i(1738),COLLISION_ACTIVE:i(1739),COLLISION_END:i(1740),COLLISION_START:i(1741),DRAG_END:i(1742),DRAG:i(1743),DRAG_START:i(1744),PAUSE:i(1745),RESUME:i(1746),SLEEP_END:i(1747),SLEEP_START:i(1748)}},function(t,e,i){var n=i(111),s=i(47),r=i(0),o=i(232),a=i(3),h=i(153),u=i(62),l=new r({Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(t,e,i){var n,s,r,o;this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this,n=a(i,"body",null),s=a(i,"addToWorld",!0),n?this.setBody(n,s):(r=e.getCollisionGroup(),o=a(r,"objects",[]),o.length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i))},setFromTileRectangle:function(t){var e,i,s,r;return t===undefined&&(t={}),h(t,"isStatic")||(t.isStatic=!0),h(t,"addToWorld")||(t.addToWorld=!0),e=this.tile.getBounds(),i=e.x+e.width/2,s=e.y+e.height/2,r=n.rectangle(i,s,e.width,e.height,t),this.setBody(r,t.addToWorld),this},setFromTileCollision:function(t){var e,i,r,o,l,c,f,d,p,g,y,m,v,x,b,_,w,T;for(t===undefined&&(t={}),h(t,"isStatic")||(t.isStatic=!0),h(t,"addToWorld")||(t.addToWorld=!0),e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,r=this.tile.getLeft(),o=this.tile.getTop(),l=this.tile.getCollisionGroup(),c=a(l,"objects",[]),f=[],d=0;d<c.length;d++)p=c[d],g=r+p.x*e,y=o+p.y*i,m=p.width*e,v=p.height*i,x=null,p.rectangle?x=n.rectangle(g+m/2,y+v/2,m,v,t):p.ellipse?x=n.circle(g+m/2,y+v/2,m/2,t):(p.polygon||p.polyline)&&(b=p.polygon?p.polygon:p.polyline,_=b.map(function(t){return{x:t.x*e,y:t.y*i}}),w=u.create(_),T=u.centre(w),g+=T.x,y+=T.y,x=n.fromVertices(g,y,w,t)),x&&f.push(x);return 1===f.length?this.setBody(f[0],t.addToWorld):f.length>1&&(t.parts=f,this.setBody(s.create(t),t.addToWorld)),this},setBody:function(t,e){return e===undefined&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=undefined,this.body=undefined),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=undefined}});t.exports=l},function(t,e,i){var n,s,r,o={};t.exports=o,n=i(344),s=i(233),r=i(70),function(){o.collisions=function(t,e){var i,a,h,u,l,c,f,d,p,g,y,m=[],v=e.pairs.table,x=e.metrics;for(i=0;i<t.length;i++)if(a=t[i][0],h=t[i][1],(!a.isStatic&&!a.isSleeping||!h.isStatic&&!h.isSleeping)&&o.canCollide(a.collisionFilter,h.collisionFilter)&&(x.midphaseTests+=1,r.overlaps(a.bounds,h.bounds)))for(u=a.parts.length>1?1:0;u<a.parts.length;u++)for(l=a.parts[u],c=h.parts.length>1?1:0;c<h.parts.length;c++)f=h.parts[c],(l===a&&f===h||r.overlaps(l.bounds,f.bounds))&&(d=s.id(l,f),p=v[d],g=p&&p.isActive?p.collision:null,y=n.collides(l,f,g),x.narrowphaseTests+=1,y.reused&&(x.narrowReuseCount+=1),y.collided&&(m.push(y),x.narrowDetections+=1));return m},o.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}}()},function(t,e,i){var n,s,r={};t.exports=r,n=i(62),s=i(69),function(){r.collides=function(t,e,i){var o,a,h,u,l,c,f,d,p,g,y,m,v,x=!1;if(i?(l=t.parent,c=e.parent,f=l.speed*l.speed+l.angularSpeed*l.angularSpeed+c.speed*c.speed+c.angularSpeed*c.angularSpeed,x=i&&i.collided&&f<.2,u=i):u={collided:!1,bodyA:t,bodyB:e},i&&x){if(d=u.axisBody,p=d===t?e:t,g=[d.axes[i.axisNumber]],h=r._overlapAxes(d.vertices,p.vertices,g),u.reused=!0,h.overlap<=0)return u.collided=!1,u}else{if(o=r._overlapAxes(t.vertices,e.vertices,t.axes),o.overlap<=0)return u.collided=!1,u;if(a=r._overlapAxes(e.vertices,t.vertices,e.axes),a.overlap<=0)return u.collided=!1,u;o.overlap<a.overlap?(h=o,u.axisBody=t):(h=a,u.axisBody=e),u.axisNumber=h.axisNumber}return u.bodyA=t.id<e.id?t:e,u.bodyB=t.id<e.id?e:t,u.collided=!0,u.depth=h.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,t=u.bodyA,e=u.bodyB,s.dot(h.axis,s.sub(e.position,t.position))<0?u.normal={x:h.axis.x,y:h.axis.y}:u.normal={x:-h.axis.x,y:-h.axis.y},u.tangent=s.perp(u.normal),u.penetration=u.penetration||{},u.penetration.x=u.normal.x*u.depth,u.penetration.y=u.normal.y*u.depth,y=r._findSupports(t,e,u.normal),m=[],n.contains(t.vertices,y[0])&&m.push(y[0]),n.contains(t.vertices,y[1])&&m.push(y[1]),m.length<2&&(v=r._findSupports(e,t,s.neg(u.normal)),n.contains(e.vertices,v[0])&&m.push(v[0]),m.length<2&&n.contains(e.vertices,v[1])&&m.push(v[1])),m.length<1&&(m=[y[0]]),u.supports=m,u},r._overlapAxes=function(t,e,i){var n,o,a,h=s._temp[0],u=s._temp[1],l={overlap:Number.MAX_VALUE};for(a=0;a<i.length;a++){if(o=i[a],r._projectToAxis(h,t,o),r._projectToAxis(u,e,o),(n=Math.min(h.max-u.min,u.max-h.min))<=0)return l.overlap=n,l;n<l.overlap&&(l.overlap=n,l.axis=o,l.axisNumber=a)}return l},r._projectToAxis=function(t,e,i){var n,r,o=s.dot(e[0],i),a=o;for(n=1;n<e.length;n+=1)r=s.dot(e[n],i),r>a?a=r:r<o&&(o=r);t.min=o,t.max=a},r._findSupports=function(t,e,i){var n,r,o,a,h,u,l,c=Number.MAX_VALUE,f=s._temp[0],d=e.vertices,p=t.position;for(h=0;h<d.length;h++)r=d[h],f.x=r.x-p.x,f.y=r.y-p.y,(n=-s.dot(i,f))<c&&(c=n,o=r);return u=o.index-1>=0?o.index-1:d.length-1,r=d[u],f.x=r.x-p.x,f.y=r.y-p.y,c=-s.dot(i,f),a=r,l=(o.index+1)%d.length,r=d[l],f.x=r.x-p.x,f.y=r.y-p.y,n=-s.dot(i,f),n<c&&(a=r),[o,a]}}()},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(635);n.Body=i(47),n.Composite=i(134),n.World=i(347),n.Detector=i(343),n.Grid=i(636),n.Pairs=i(637),n.Pair=i(233),n.Query=i(1752),n.Resolver=i(638),n.SAT=i(344),n.Constraint=i(157),n.Common=i(28),n.Engine=i(639),n.Events=i(156),n.Sleeping=i(178),n.Plugin=i(346),n.Bodies=i(111),n.Composites=i(632),n.Axes=i(340),n.Bounds=i(70),n.Svg=i(1754),n.Vector=i(69),n.Vertices=i(62),n.World.add=n.Composite.add,n.World.remove=n.Composite.remove,n.World.addComposite=n.Composite.addComposite,n.World.addBody=n.Composite.addBody,n.World.addConstraint=n.Composite.addConstraint,n.World.clear=n.Composite.clear,t.exports=n},function(t,e,i){var n,s={};t.exports=s,n=i(28),function(){s._registry={},s.register=function(t){if(s.isPlugin(t)||n.warn("Plugin.register:",s.toString(t),"does not implement all required fields."),t.name in s._registry){var e=s._registry[t.name],i=s.versionParse(t.version).number,r=s.versionParse(e.version).number;i>r?(n.warn("Plugin.register:",s.toString(e),"was upgraded to",s.toString(t)),s._registry[t.name]=t):i<r?n.warn("Plugin.register:",s.toString(e),"can not be downgraded to",s.toString(t)):t!==e&&n.warn("Plugin.register:",s.toString(t),"is already registered to different plugin object")}else s._registry[t.name]=t;return t},s.resolve=function(t){return s._registry[s.dependencyParse(t).name]},s.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},s.isPlugin=function(t){return t&&t.name&&t.version&&t.install},s.isUsed=function(t,e){return t.used.indexOf(e)>-1},s.isFor=function(t,e){var i=t["for"]&&s.dependencyParse(t["for"]);return!t["for"]||e.name===i.name&&s.versionSatisfies(e.version,i.range)},s.use=function(t,e){var i,r,o,a,h;if(t.uses=(t.uses||[]).concat(e||[]),0===t.uses.length)return void n.warn("Plugin.use:",s.toString(t),"does not specify any dependencies to install.");for(i=s.dependencies(t),r=n.topologicalSort(i),o=[],a=0;a<r.length;a+=1)r[a]!==t.name&&(h=s.resolve(r[a]),h?s.isUsed(t,h.name)||(s.isFor(h,t)||(n.warn("Plugin.use:",s.toString(h),"is for",h["for"],"but installed on",s.toString(t)+"."),h._warned=!0),h.install?h.install(t):(n.warn("Plugin.use:",s.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(o.push(" "+s.toString(h)),delete h._warned):o.push(" "+s.toString(h)),t.used.push(h.name)):o.push(" "+r[a]));o.length>0&&!h.silent&&n.info(o.join("  "))},s.dependencies=function(t,e){var i,r=s.dependencyParse(t),o=r.name;if(e=e||{},!(o in e)){for(t=s.resolve(t)||t,e[o]=n.map(t.uses||[],function(e){s.isPlugin(e)&&s.register(e);var i=s.dependencyParse(e),o=s.resolve(e);return o&&!s.versionSatisfies(o.version,i.range)?(n.warn("Plugin.dependencies:",s.toString(o),"does not satisfy",s.toString(i),"used by",s.toString(r)+"."),o._warned=!0,t._warned=!0):o||(n.warn("Plugin.dependencies:",s.toString(e),"used by",s.toString(r),"could not be resolved."),t._warned=!0),i.name}),i=0;i<e[o].length;i+=1)s.dependencies(e[o][i],e);return e}},s.dependencyParse=function(t){if(n.isString(t)){return/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t)||n.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}}return{name:t.name,range:t.range||t.version}},s.versionParse=function(t){var e,i,s,r;return/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t)||n.warn("Plugin.versionParse:",t,"is not a valid version or range."),e=t.split("-"),t=e[0],i=isNaN(+t[0]),s=i?t.substr(1):t,r=n.map(s.split("."),function(t){return+t}),{isRange:i,version:s,range:t,operator:i?t[0]:"",parts:r,prerelease:e[1],number:1e8*r[0]+1e4*r[1]+r[2]}},s.versionSatisfies=function(t,e){e=e||"*";var i=s.versionParse(e),n=i.parts,r=s.versionParse(t),o=r.parts;if(i.isRange){if("*"===i.operator||"*"===t)return!0;if("~"===i.operator)return o[0]===n[0]&&o[1]===n[1]&&o[2]>=n[2];if("^"===i.operator)return n[0]>0?o[0]===n[0]&&r.number>=i.number:n[1]>0?o[1]===n[1]&&o[2]>=n[2]:o[2]===n[2]}return t===e||"*"===t}}()},function(t,e,i){var n,s,r={};t.exports=r,n=i(134),i(157),s=i(28),function(){r.create=function(t){var e=n.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}}};return s.extend(e,i,t)}}()},function(t,e,i){var n=i(235),s=function(t,e,i){var s=n(t,e,!0,i),r=n(t,e-1,!0,i),o=n(t,e+1,!0,i),a=n(t-1,e,!0,i),h=n(t+1,e,!0,i),u=s&&s.collides;return u&&(s.faceTop=!0,s.faceBottom=!0,s.faceLeft=!0,s.faceRight=!0),r&&r.collides&&(u&&(s.faceTop=!1),r.faceBottom=!u),o&&o.collides&&(u&&(s.faceBottom=!1),o.faceTop=!u),a&&a.collides&&(u&&(s.faceLeft=!1),a.faceRight=!u),h&&h.collides&&(u&&(s.faceRight=!1),h.faceLeft=!u),s&&!s.collides&&s.resetFaces(),s};t.exports=s},function(t,e,i){var n=i(136),s=i(179),r=i(348),o=i(135),a=function(t,e,i,a,h){var u,l,c,f,d;return s(e,i,h)?(a===undefined&&(a=!0),u=h.data[i][e],l=u&&u.collides,t instanceof n?(null===h.data[i][e]&&(h.data[i][e]=new n(h,t.index,e,i,t.width,t.height)),h.data[i][e].copy(t)):(c=t,null===h.data[i][e]?h.data[i][e]=new n(h,c,e,i,h.tileWidth,h.tileHeight):h.data[i][e].index=c),f=h.data[i][e],d=-1!==h.collideIndexes.indexOf(f.index),o(f,d),a&&l!==f.collides&&r(e,i,h),f):null};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=i.collideIndexes.indexOf(t);e&&-1===n?i.collideIndexes.push(t):e||-1===n||i.collideIndexes.splice(n,1)};t.exports=i},function(t,e,i){var n=i(61),s=i(180),r=i(181),o=i(136),a=function(t,e,i,a,h){var u,l,c,f,d=new s({tileWidth:i,tileHeight:a}),p=new r({name:t,tileWidth:i,tileHeight:a,format:n.ARRAY_2D,layers:[d]}),g=[],y=e.length,m=0;for(u=0;u<e.length;u++){for(g[u]=[],l=e[u],c=0;c<l.length;c++)f=parseInt(l[c],10),isNaN(f)||-1===f?g[u][c]=h?null:new o(d,-1,c,u,i,a):g[u][c]=new o(d,f,c,u,i,a);0===m&&(m=l.length)}return p.width=d.width=m,p.height=d.height=y,p.widthInPixels=d.widthInPixels=m*i,p.heightInPixels=d.heightInPixels=y*a,d.data=g,p};t.exports=a},function(t,e,i){var n=i(61),s=i(181),r=i(645),o=i(653),a=function(t,e,i,a,h,u,l,c){var f,d,p;return i===undefined&&(i=32),a===undefined&&(a=32),h===undefined&&(h=10),u===undefined&&(u=10),c===undefined&&(c=!1),f=null,Array.isArray(l)?(d=e!==undefined?e:"map",f=r(d,n.ARRAY_2D,l,i,a,c)):e!==undefined&&(p=t.cache.tilemap.get(e))&&(f=r(e,p.format,p.data,i,a,c)),null===f&&(f=new s({tileWidth:i,tileHeight:a,width:h,height:u})),new o(t,f)};t.exports=a},function(t,e,i){var n=i(6),s=function(t){var e=n(t,"targets",null);return null===e?e:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t){return!!t.getStart&&"function"==typeof t.getStart}function n(t){return!!t.getEnd&&"function"==typeof t.getEnd}function s(t){return i(t)||n(t)}var r=function(t,e){var o,a,h,u=function(t,e,i){return i},l=function(t,e,i){return i},c=typeof e;if("number"===c)u=function(){return e};else if("string"===c)switch(a=e[0],h=parseFloat(e.substr(2)),a){case"+":u=function(t,e,i){return i+h};break;case"-":u=function(t,e,i){return i-h};break;case"*":u=function(t,e,i){return i*h};break;case"/":u=function(t,e,i){return i/h};break;default:u=function(){return parseFloat(e)}}else"function"===c?u=e:"object"===c&&s(e)?(n(e)&&(u=e.getEnd),i(e)&&(l=e.getStart)):e.hasOwnProperty("value")&&(o=r(t,e.value));return o||(o={getEnd:u,getStart:l}),o};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};t.exports=i},function(t,e,i){var n=i(0),s=i(27),r=i(7),o=i(174),a=new n({initialize:function(t,e,i){this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=o.PENDING_ADD,this._pausedState=o.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(){return this.data[0].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},isPaused:function(){return this.state===o.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){var n,s;for(i===undefined&&(i=!1),n=0;n<this.totalData;n++)if(s=this.data[n],s.key===t){s.end=e,i&&(s.start=s.current);break}return this},restart:function(){return this.state===o.REMOVED?(this.seek(0),this.parent.makeActive(this)):(this.stop(),this.play()),this},calcDuration:function(){var t,e,i=0,n=this.data;for(t=0;t<this.totalData;t++)e=n[t],e.t1=e.duration+e.hold,e.yoyo&&(e.t1+=e.duration),e.t2=e.t1+e.repeatDelay,e.totalDuration=e.delay+e.t1,-1===e.repeat?e.totalDuration+=999999999999*e.t2:e.repeat>0&&(e.totalDuration+=e.t2*e.repeat),e.totalDuration>i&&(i=e.totalDuration);this.duration=i,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){var t,e,i,n,s=this.data,r=this.totalTargets;for(t=0;t<this.totalData;t++)e=s[t],i=e.target,n=e.gen,e.delay=n.delay(t,r,i),e.duration=n.duration(t,r,i),e.hold=n.hold(t,r,i),e.repeat=n.repeat(t,r,i),e.repeatDelay=n.repeatDelay(t,r,i);return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.paused&&!this.parentIsTimeline?(this.state=o.PENDING_ADD,this._pausedState=o.INIT,!1):(this.state=o.INIT,!0)},nextState:function(){var t,e;this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,t=this.callbacks.onLoop,t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)),this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):this.state=o.ACTIVE):this.completeDelay>0?(this.countdown=this.completeDelay,this.state=o.COMPLETE_DELAY):(e=this.callbacks.onComplete,e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=o.PENDING_REMOVE)},pause:function(){if(this.state!==o.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED,this},play:function(t){if(this.state===o.ACTIVE)return this;this.state!==o.PENDING_REMOVE&&this.state!==o.REMOVED||(this.init(),this.parent.makeActive(this),t=!0);var e=this.callbacks.onStart;return this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?(e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=o.ACTIVE):(this.countdown=this.calculatedOffset,this.state=o.OFFSET_DELAY)):this.paused?(this.paused=!1,this.parent.makeActive(this)):(this.resetTweenData(t),this.state=o.ACTIVE,e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.parent.makeActive(this)),this},resetTweenData:function(t){var e,i,n=this.data;for(e=0;e<this.totalData;e++)i=n[e],i.progress=0,i.elapsed=0,i.repeatCounter=-1===i.repeat?999999999999:i.repeat,t?(i.start=i.getStartValue(i.target,i.key,i.start),i.end=i.getEndValue(i.target,i.key,i.end),i.current=i.start,i.state=o.PLAYING_FORWARD):i.delay>0?(i.elapsed=i.delay,i.state=o.DELAY):i.state=o.PENDING_RENDER},resume:function(){return this.state===o.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t){var e,i,n,s,r,o,a=this.data;for(e=0;e<this.totalData;e++)i=this.totalDuration*t,n=a[e],s=0,r=0,i<=n.delay?(s=0,r=0):i>=n.totalDuration?(s=1,r=n.duration):i>n.delay&&i<=n.t1?(i=Math.max(0,i-n.delay),s=i/n.t1,r=n.duration*s):i>n.t1&&i<n.totalDuration&&(i-=n.delay,i-=n.t1,(i=i/n.t2%1*n.t2)>n.repeatDelay&&(s=i/n.t1,r=n.duration*s)),n.progress=s,n.elapsed=r,o=n.ease(n.progress),n.current=n.start+(n.end-n.start)*o,n.target[n.key]=n.current;return this},setCallback:function(t,e,i,n){return this.callbacks[t]={func:e,scope:n,params:i},this},complete:function(t){if(t===undefined&&(t=0),t)this.countdown=t,this.state=o.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=o.PENDING_REMOVE}return this},stop:function(t){return this.state===o.ACTIVE&&t!==undefined&&this.seek(t),this.state!==o.REMOVED&&(this.state!==o.PAUSED&&this.state!==o.PENDING_ADD||(this.parent._destroy.push(this),this.parent._toProcess++),this.state=o.PENDING_REMOVE),this},update:function(t,e){var i,n,s,r;if(this.state===o.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:for(i=!1,n=0;n<this.totalData;n++)this.updateTweenData(this,this.data[n],e)&&(i=!0);i||this.nextState();break;case o.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=o.ACTIVE);break;case o.OFFSET_DELAY:this.countdown-=e,this.countdown<=0&&(s=this.callbacks.onStart,s&&(s.params[1]=this.targets,s.func.apply(s.scope,s.params)),this.state=o.ACTIVE);break;case o.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(r=this.callbacks.onComplete,r&&r.func.apply(r.scope,r.params),this.state=o.PENDING_REMOVE)}return this.state===o.PENDING_REMOVE},setStateFromEnd:function(t,e,i){var n,s;return e.yoyo?(e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),n=t.callbacks.onYoyo,n&&(n.params[1]=e.target,n.func.apply(n.scope,n.params)),e.start=e.getStartValue(e.target,e.key,e.start),o.PLAYING_BACKWARD):e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),s=t.callbacks.onRepeat,s&&(s.params[1]=e.target,s.func.apply(s.scope,s.params)),e.start=e.getStartValue(e.target,e.key,e.start),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,o.REPEAT_DELAY):o.PLAYING_FORWARD):o.COMPLETE},setStateFromStart:function(t,e,i){if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var n=t.callbacks.onRepeat;return n&&(n.params[1]=e.target,n.func.apply(n.scope,n.params)),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,o.REPEAT_DELAY):o.PLAYING_FORWARD}return o.COMPLETE},updateTweenData:function(t,e,i){var n,s,r,a,h,u,l;switch(e.state){case o.PLAYING_FORWARD:case o.PLAYING_BACKWARD:if(!e.target){e.state=o.COMPLETE;break}n=e.elapsed,s=e.duration,r=0,n+=i,n>s&&(r=n-s,n=s),a=e.state===o.PLAYING_FORWARD,h=n/s,u=a?e.ease(h):e.ease(1-h),e.current=e.start+(e.end-e.start)*u,e.target[e.key]=e.current,e.elapsed=n,e.progress=h,l=t.callbacks.onUpdate,l&&(l.params[1]=e.target,l.func.apply(l.scope,l.params)),1===h&&(a?e.hold>0?(e.elapsed=e.hold-r,e.state=o.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,r):e.state=this.setStateFromStart(t,e,r));break;case o.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=o.PENDING_RENDER);break;case o.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=o.PLAYING_FORWARD);break;case o.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case o.PENDING_RENDER:e.target?(e.start=e.getStartValue(e.target,e.key,e.target[e.key]),e.end=e.getEndValue(e.target,e.key,e.start),e.current=e.start,e.target[e.key]=e.start,e.state=o.PLAYING_FORWARD):e.state=o.COMPLETE}return e.state!==o.COMPLETE}});a.TYPES=["onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"],r.register("tween",function(t){return this.scene.sys.tweens.add(t)}),s.register("tween",function(t){return this.scene.sys.tweens.create(t)}),t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s,r,o,a,h,u,l,c,f){return{target:t,key:e,getEndValue:i,getStartValue:n,ease:s,duration:0,totalDuration:0,delay:0,yoyo:a,hold:0,repeat:0,repeatDelay:0,flipX:c,flipY:f,progress:0,elapsed:0,repeatCounter:0,start:0,current:0,end:0,t1:0,t2:0,gen:{delay:r,duration:o,hold:h,repeat:u,repeatDelay:l},state:0}};t.exports=i},function(t,e,i){var n=i(0),s=i(300),r=i(482),o=i(483),a=i(489),h=i(151),u=i(241),l=i(4),c=i(147),f=i(214),d=new c,p=new f,g=new c,y=new c,m=new s,v=new n({initialize:function(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,this.name="",this.direction=new c(0,0,-1),this.up=new c(0,1,0),this.position=new c,this.pixelScale=128,this.projection=new s,this.view=new s,this.combined=new s,this.invProjectionView=new s,this.near=1,this.far=100,this.ray={origin:new c,direction:new c},this.viewportWidth=0,this.viewportHeight=0,this.billboardMatrixDirty=!0,this.children=new h},setPosition:function(t,e,i){return this.position.set(t,e,i),this.update()},setScene:function(t){return this.scene=t,this},setPixelScale:function(t){return this.pixelScale=t,this.update()},add:function(t){return this.children.set(t),this.displayList.add(t.gameObject),this.updateList.add(t.gameObject),this.updateChildren(),t},remove:function(t){return this.displayList.remove(t.gameObject),this.updateList.remove(t.gameObject),this.children["delete"](t),this},clear:function(){var t,e=this.getChildren();for(t=0;t<e.length;t++)this.remove(e[t]);return this},getChildren:function(){return this.children.entries},create:function(t,e,i,n,s,r){r===undefined&&(r=!0);var o=new u(this.scene,t,e,i,n,s);return this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o.visible=r,this.children.set(o),this.updateChildren(),o},createMultiple:function(t,e,i,n){var s,r,o;for(n===undefined&&(n=!0),s=[],r=0;r<t;r++)o=new u(this.scene,0,0,0,e,i),this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o.visible=n,this.children.set(o),s.push(o);return s},createRect:function(t,e,i,n){var s,r,o,a,h,u,l,c,f;for("number"==typeof t&&(t={x:t,y:t,z:t}),"number"==typeof e&&(e={x:e,y:e,z:e}),s=t.x*t.y*t.z,r=this.createMultiple(s,i,n),o=0,a=.5-t.z/2;a<t.z/2;a++)for(h=.5-t.y/2;h<t.y/2;h++)for(u=.5-t.x/2;u<t.x/2;u++)l=u*e.x,c=h*e.y,f=a*e.z,r[o].position.set(l,c,f),o++;return this.update(),r},randomSphere:function(t,e){e===undefined&&(e=this.getChildren());for(var i=0;i<e.length;i++)r(e[i].position,t);return this.update()},randomCube:function(t,e){e===undefined&&(e=this.getChildren());for(var i=0;i<e.length;i++)o(e[i].position,t);return this.update()},translateChildren:function(t,e){e===undefined&&(e=this.getChildren());for(var i=0;i<e.length;i++)e[i].position.add(t);return this.update()},transformChildren:function(t,e){e===undefined&&(e=this.getChildren());for(var i=0;i<e.length;i++)e[i].position.transformMat4(t);return this.update()},setViewport:function(t,e){return this.viewportWidth=t,this.viewportHeight=e,this.update()},translate:function(t,e,i){return"object"==typeof t?(this.position.x+=t.x||0,this.position.y+=t.y||0,this.position.z+=t.z||0):(this.position.x+=t||0,this.position.y+=e||0,this.position.z+=i||0),this.update()},lookAt:function(t,e,i){var n=this.direction,s=this.up;return"object"==typeof t?n.copy(t):n.set(t,e,i),n.subtract(this.position).normalize(),d.copy(n).cross(s).normalize(),s.copy(d).cross(n).normalize(),this.update()},rotate:function(t,e){return a(this.direction,e,t),a(this.up,e,t),this.update()},rotateAround:function(t,e,i){return d.copy(t).subtract(this.position),this.translate(d),this.rotate(e,i),this.translate(d.negate()),this.update()},project:function(t,e){var i,n,s,r;return e===undefined&&(e=new f),i=this.viewportWidth,n=this.viewportHeight,s=v.NEAR_RANGE,r=v.FAR_RANGE,p.set(t.x,t.y,t.z,1),p.transformMat4(this.combined),0===p.w&&(p.w=1),p.x=p.x/p.w,p.y=p.y/p.w,p.z=p.z/p.w,e.x=i/2*p.x+(0+i/2),e.y=n/2*p.y+(0+n/2),e.z=(r-s)/2*p.z+(r+s)/2,(0===e.w||e.w)&&(e.w=1/p.w),e},unproject:function(t,e){e===undefined&&(e=new c);var i=p.set(0,0,this.viewportWidth,this.viewportHeight);return e.copy(t).unproject(i,this.invProjectionView)},getPickRay:function(t,e){var i=this.ray.origin.set(t,e,0),n=this.ray.direction.set(t,e,1),s=p.set(0,0,this.viewportWidth,this.viewportHeight),r=this.invProjectionView;return i.unproject(s,r),n.unproject(s,r),n.subtract(i).normalize(),this.ray},updateChildren:function(){var t,e=this.children.entries;for(t=0;t<e.length;t++)e[t].project(this);return this},update:function(){return this.updateChildren()},updateBillboardMatrix:function(){var t=g.set(this.direction).negate(),e=y.set(this.up).cross(t).normalize(),i=d.set(t).cross(e).normalize(),n=m.val;n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=0,n[4]=i.x,n[5]=i.y,n[6]=i.z,n[7]=0,n[8]=t.x,n[9]=t.y,n[10]=t.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this.billboardMatrixDirty=!1},getPointSize:function(t,e,i){var n,s,r,o,a,h,u,c,f;return i===undefined&&(i=new l),this.billboardMatrixDirty&&this.updateBillboardMatrix(),n=d,s=e.x/this.pixelScale/2,r=e.y/this.pixelScale/2,n.set(-s,-r,0).transformMat4(m).add(t),this.project(n,n),o=n.x,a=n.y,n.set(s,r,0).transformMat4(m).add(t),this.project(n,n),h=n.x,u=n.y,c=h-o,f=u-a,i.set(c,f)},destroy:function(){this.children.clear(),this.scene=undefined,this.children=undefined},setX:function(t){return this.position.x=t,this.update()},setY:function(t){return this.position.y=t,this.update()},setZ:function(t){return this.position.z=t,this.update()},x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.update()}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.update()}},z:{get:function(){return this.position.z},set:function(t){this.position.z=t,this.update()}}});v.FAR_RANGE=1,v.NEAR_RANGE=0,t.exports=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1861))},function(t,e,i){t.exports=!i(20)&&!i(10)(function(){return 7!=Object.defineProperty(i(243)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){e.f=i(17)},function(t,e,i){var n=i(56),s=i(57),r=i(183)(!1),o=i(245)("IE_PROTO");t.exports=function(t,e){var i,a=s(t),h=0,u=[];for(i in a)i!=o&&n(a,i)&&u.push(i);for(;e.length>h;)n(a,i=e[h++])&&(~r(u,i)||u.push(i));return u}},function(t,e,i){var n=i(21),s=i(5),r=i(116);t.exports=i(20)?Object.defineProperties:function(t,e){var i,o,a,h;for(s(t),i=r(e),o=i.length,a=0;o>a;)n.f(t,h=i[a++],e[h]);return t}},function(t,e,i){var n=i(57),s=i(119).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return s(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?a(t):s(n(t))}},function(t,e,i){"use strict";var n=i(116),s=i(184),r=i(160),o=i(31),a=i(159),h=Object.assign;t.exports=!h||i(10)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=n})?function(t,e){for(var i,h,u,l,c,f=o(t),d=arguments.length,p=1,g=s.f,y=r.f;d>p;)for(i=a(arguments[p++]),h=g?n(i).concat(g(i)):n(i),u=h.length,l=0;u>l;)y.call(i,c=h[l++])&&(f[c]=i[c]);return f}:h},function(t,e,i){"use strict";var n=i(41),s=i(11),r=i(367),o=[].slice,a={},h=function(t,e,i){if(!(e in a)){for(var n=[],s=0;s<e;s++)n[s]="a["+s+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),a=function(){var n=i.concat(o.call(arguments));return this instanceof a?h(e,n.length,n):r(e,n,t)};return s(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e){t.exports=function(t,e,i){var n=i===undefined;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(8).parseInt,s=i(138).trim,r=i(249),o=/^[-+]?0[xX]/;t.exports=8!==n(r+"08")||22!==n(r+"0x16")?function(t,e){var i=s(t+"",3);return n(i,e>>>0||(o.test(i)?16:10))}:n},function(t,e,i){var n=i(8).parseFloat,s=i(138).trim;t.exports=1/n(i(249)+"-0")!=-Infinity?function(t){var e=s(t+"",3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(66);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(11),s=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&s(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var n=i(252),s=Math.pow,r=s(2,-52),o=s(2,-23),a=s(2,127)*(2-o),h=s(2,-126),u=function(t){return t+1/r-1/r};t.exports=Math.fround||function(t){var e,i,s=Math.abs(t),l=n(t);return s<h?l*u(s/h/o)*h*o:(e=(1+o/r)*s,i=e-(e-s),i>a||i!=i?l*Infinity:l*i)}},function(t,e,i){var n=i(5);t.exports=function(t,e,i,s){try{return s?e(n(i)[0],i[1]):e(i)}catch(o){var r=t["return"];throw r!==undefined&&n(r.call(t)),o}}},function(t,e,i){var n=i(41),s=i(31),r=i(159),o=i(22);t.exports=function(t,e,i,a,h){var u,l,c,f,d;if(n(e),u=s(t),l=r(u),c=o(u.length),f=h?c-1:0,d=h?-1:1,i<2)for(;;){if(f in l){a=l[f],f+=d;break}if(f+=d,h?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;h?f>=0:c>f;f+=d)f in l&&(a=e(a,l[f],f,u));return a}},function(t,e,i){"use strict";var n=i(31),s=i(117),r=i(22);t.exports=[].copyWithin||function(t,e){var i=n(this),o=r(i.length),a=s(t,o),h=s(e,o),u=arguments.length>2?arguments[2]:undefined,l=Math.min((u===undefined?o:s(u,o))-h,o-a),c=1;for(h<a&&a<h+l&&(c=-1,h+=l-1,a+=l-1);l-- >0;)h in i?i[a]=i[h]:delete i[a],a+=c,h+=c;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){i(20)&&"g"!=/./g.flags&&i(21).f(RegExp.prototype,"flags",{configurable:!0,get:i(188)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,i){var n=i(5),s=i(11),r=i(267);t.exports=function(t,e){var i,o;return n(t),s(e)&&e.constructor===t?e:(i=r.f(t),o=i.resolve,o(e),i.promise)}},function(t,e,i){"use strict";var n=i(382),s=i(140),r="Map";t.exports=i(192)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{get:function(t){var e=n.getEntry(s(this,r),t);return e&&e.v},set:function(t,e){return n.def(s(this,r),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(21).f,s=i(118),r=i(123),o=i(65),a=i(121),h=i(122),u=i(255),l=i(377),c=i(120),f=i(20),d=i(100).fastKey,p=i(140),g=f?"_s":"size",y=function(t,e){var i,n=d(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,u){var l=t(function(t,n){a(t,l,e,"_i"),t._t=e,t._i=s(null),t._f=undefined,t._l=undefined,t[g]=0,n!=undefined&&h(n,i,t[u],t)});return r(l.prototype,{clear:function(){for(var t=p(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=undefined),delete i[n.i];t._f=t._l=undefined,t[g]=0},"delete":function(t){var i,n,s=p(this,e),r=y(s,t);return r&&(i=r.n,n=r.p,delete s._i[r.i],r.r=!0,n&&(n.n=i),i&&(i.p=n),s._f==r&&(s._f=i),s._l==r&&(s._l=n),s[g]--),!!r},forEach:function(t){var i,n;for(p(this,e),i=o(t,arguments.length>1?arguments[1]:undefined,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(p(this,e),t)}}),f&&n(l.prototype,"size",{get:function(){return p(this,e)[g]}}),l},def:function(t,e,i){var n,s,r=y(t,e);return r?r.v=i:(t._l=r={i:s=d(e,!0),k:e,v:i,p:n=t._l,n:undefined,r:!1},t._f||(t._f=r),n&&(n.n=r),t[g]++,"F"!==s&&(t._i[s]=r)),t},getEntry:y,setStrong:function(t,e,i){u(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=undefined},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?l(0,i.k):"values"==e?l(0,i.v):l(0,[i.k,i.v]):(t._t=undefined,l(1))},i?"entries":"values",!i,!0),c(e)}}},function(t,e,i){"use strict";var n=i(382),s=i(140),r="Set";t.exports=i(192)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return n.def(s(this,r),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,s=i(75)(0),r=i(49),o=i(100),a=i(365),h=i(385),u=i(11),l=i(10),c=i(140),f="WeakMap",d=o.getWeak,p=Object.isExtensible,g=h.ufstore,y={},m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},v={get:function(t){if(u(t)){var e=d(t);return!0===e?g(c(this,f)).get(t):e?e[this._i]:undefined}},set:function(t,e){return h.def(c(this,f),t,e)}},x=t.exports=i(192)(f,m,v,h,!0,!0);l(function(){return 7!=(new x).set((Object.freeze||Object)(y),7).get(y)})&&(n=h.getConstructor(m,f),a(n.prototype,v),o.NEED=!0,s(["delete","has","get","set"],function(t){var e=x.prototype,i=e[t];r(e,t,function(e,s){if(u(e)&&!p(e)){this._f||(this._f=new n);var r=this._f[t](e,s);return"set"==t?this:r}return i.call(this,e,s)})}))},function(t,e,i){"use strict";var n=i(123),s=i(100).getWeak,r=i(5),o=i(11),a=i(121),h=i(122),u=i(75),l=i(56),c=i(140),f=u(5),d=u(6),p=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},m=function(t,e){return f(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var i=m(this,t);i?i[1]=e:this.a.push([t,e])},"delete":function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,r){var u=t(function(t,n){a(t,u,e,"_i"),t._t=e,t._i=p++,t._l=undefined,n!=undefined&&h(n,i,t[r],t)});return n(u.prototype,{"delete":function(t){if(!o(t))return!1;var i=s(t);return!0===i?g(c(this,e))["delete"](t):i&&l(i,this._i)&&delete i[this._i]},has:function(t){if(!o(t))return!1;var i=s(t);return!0===i?g(c(this,e)).has(t):i&&l(i,this._i)}}),u},def:function(t,e,i){var n=s(r(e),!0);return!0===n?g(t).set(e,i):n[t._i]=i,t},ufstore:g}},function(t,e,i){var n=i(73),s=i(22);t.exports=function(t){var e,i;if(t===undefined)return 0;if(e=n(t),i=s(e),e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(119),s=i(184),r=i(5),o=i(8).Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(r(t)),i=s.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";function n(t,e,i,u,l,c,f,d){for(var p,g,y=l,m=0,v=!!f&&a(f,d,3);m<u;){if(m in i){if(p=v?v(i[m],m,e):i[m],g=!1,r(p)&&(g=p[h],g=g!==undefined?!!g:s(p)),g&&c>0)y=n(t,e,p,o(p.length),y,c-1)-1;else{if(y>=9007199254740991)throw TypeError();t[y]=p}y++}m++}return y}var s=i(185),r=i(11),o=i(22),a=i(65),h=i(17)("isConcatSpreadable");t.exports=n},function(t,e,i){var n=i(22),s=i(251),r=i(72);t.exports=function(t,e,i,o){var a,h,u=r(t)+"",l=u.length,c=i===undefined?" ":i+"",f=n(e);return f<=l||""==c?u:(a=f-l,h=s.call(c,Math.ceil(a/c.length)),h.length>a&&(h=h.slice(0,a)),o?h+u:u+h)}},function(t,e,i){var n=i(116),s=i(57),r=i(160).f;t.exports=function(t){return function(e){for(var i,o=s(e),a=n(o),h=a.length,u=0,l=[];h>u;)r.call(o,i=a[u++])&&l.push(t?[i,o[i]]:o[i]);return l}}},function(t,e,i){var n=i(161),s=i(392);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return s(this)}}},function(t,e,i){var n=i(122);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e){t.exports=Math.scale||function(t,e,i,n,s){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||s!=s?NaN:t===Infinity||t===-Infinity?t:(t-e)*(s-n)/(i-e)+n}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t<<0};e["default"]=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),s={uid:"",tracker:{get:function(){return s.uid}},config:{}},r=function(t,e){void 0===e&&(e={});var i=e.name||"default";e.sampleRate&&n.getIntInInterval(0,100)>e.sampleRate||(s.config[i]={v:1,tid:t},e&&"none"===e.storage?s.uid=e.clientId||n.uuid():s.uid=n.uuid())},o=function(t,e,i){s.config[t]&&(s.config[t][e]=i)},a=function(t,e){var i,n,r,o,a,h,u=s.config,l=s.uid;if(u[t]){for(i=u[t],n=i.v,r=i.tid,o="",o+="v="+n+"&",o+="tid="+r+"&",o+="cid="+l,a=1;u[t]["dimension"+a];)o+="&cd"+a+"="+u[t]["dimension"+a],a+=1;Object.keys(e).forEach(function(t){o+="&"+t+"="+e[t]}),h=new XMLHttpRequest,h.open("POST","http://www.google-analytics.com/collect",!0),h.setRequestHeader("Content-type","application/x-www-form-urlencode"),h.send(o)}},h=function(t,e,i,n,s){var r={t:"event"};e&&(r.ec=e),i&&(r.ea=i),n&&(r.el=n),s&&(r.ev=s),a(t,r)},u=function(t,e,i,n,s,r,o,h){var u={};e&&(u.dl=e),i&&(u.dh=i),n&&(u.dp=n),s&&(u.dt=s),r&&(u.cd=r),o&&(u.cg1=o),h&&(u.linkid=h),a(t,u)},l=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];switch(e){case"event":h.apply(void 0,[t].concat(i));break;case"pageview":u.apply(void 0,[t].concat(i))}};e.mpGA=function(t){var e,i,n,a,h;for(e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if("function"==typeof t)t(s.tracker);else if("string"==typeof t)switch(n=t.split("."),a=n[2===n.length?1:0],h=2===n.length?n[0]:"default",a){case"create":r.apply(void 0,e);break;case"set":o.apply(void 0,[h].concat(e));break;case"send":l.apply(void 0,[h].concat(e))}}},function(t,e){var i=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n["throw"](t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s["return"]:i[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(o){i=[6,o],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},s=this;Object.defineProperty(e,"__esModule",{value:!0}),e.request=function(t,e){return void 0===e&&(e="GET"),i(s,void 0,void 0,function(){return n(this,function(e){return[2,new Promise(function(e,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){200===n.status?4===n.readyState&&e(n.responseText):i(n.response)},n.send()})]})})}},function(t,e){var i,n,s,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),i=function(){function t(){var t=this;this.modalRoot=window.document.getElementById("modal"),this.shown=!1,this.component=null,this.promise=null,this.resolve=null,this.reject=null,this.showModal=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return t.component=new(e.bind.apply(e,[void 0].concat(i))),t.component.mount(t.modalRoot),t.modalRoot.className=e.modalType||"",t.modalRoot.style.display="block",t.shown=!0,t.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),t.promise},this.hideModal=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.component&&t.shown&&(t.shown=!1,t.modalRoot.style.display="none",t.component.unmount(),t.component=null,"function"==typeof t.resolve&&t.resolve.apply(t,e),t.reject=null,t.resolve=null,t.promise=null)}}return t.prototype.modalOnKeyDown=function(t){return!this.component||(this.component.onKeyDown(t),!1)},t}(),n=new i,s=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return n.showModal.apply(n,[t].concat(e))},e.showModal=s,r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.hideModal.apply(n,t)},e.hideModal=r,o=function(){return n.shown},e.isModalShown=o,a=function(t){return n.modalOnKeyDown(t)},e.modalOnKeyDown=a},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(51),r=function(t){function e(){var e=t.call(this)||this;return e.loaded=!0,e.useCanvas=n["default"].useCanvas(),e.useWebGL=n["default"].useWebGL(),e.id="gameWrap",e.DomRenderer=null,e.CanvasRenderer=null,e.els=[e.id],e}return o(e,t),e.prototype.componentWillMount=function(){(this.DomRenderer||this.CanvasRenderer)&&(this.useCanvas&&this.CanvasRenderer?this.renderer=new this.CanvasRenderer:!this.useCanvas&&this.DomRenderer&&(this.renderer=new this.DomRenderer))},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.renderer&&this.renderer.mount(this.refs[this.id])},e.prototype.componentWillUnmount=function(){this.renderer&&this.renderer.unmount()},e.prototype.getScore=function(){return 0},e.prototype.reward=function(){},e.prototype.step=function(t){},e.prototype.loadingStep=function(){},e.prototype.onReturn=function(){return!1},e.prototype.render=function(){return'\n\t\t\t<div id="'+this.id+'"></div>\n\t\t'},e}(s["default"]),e["default"]=r},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(952),s=function(t){function e(){var e=t.call(this)||this;return e.keys={level:!0,info:{gold:!0,score:!0,distance:!0},player:{speedMax:!0,crit:!0,pMaxShield:!0,pShield:!0,pHealth:!0,pMaxHealth:!0,pDamage:!0,cadency:!0,pos:!0}},e}return r(e,t),e}(n["default"]),e.Checkpoints=s},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(162),i(401),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n["default"]),e["default"]=s},function(t,e){},function(t,e,i){var n,s,r,o,a,h,u,l,c,f=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(103),r=i(104),o=i(42),a=i(202),h=i(403),u=1280,l=720,e.MAIN_SCENE="mainScene",c=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.restartRoute="game",e}return f(i,t),i.prototype.sceneDidMount=function(){this.game=new h.Game({type:n["default"].useWebGL()?h.WEBGL:h.CANVAS,width:u,height:l,parent:this.refs[a["default"].GAME_CANVAS],transparent:!0,audio:{disableWebAudio:!0},physics:{"default":"arcade",arcade:{debug:n["default"].CONFIG.debug},frames:60}}),this.hsComponent=new this.HighscoreComponentClass,this.hsComponent.mount(this.refs[a["default"].HIGHSCORE]),this.hide(this.refs[a["default"].HIGHSCORE]),this.paused||this.hide(this.refs[a["default"].PAUSE]),this.hide(this.refs[a["default"].GAME_OVER]),this.refs[a["default"].GAME_CANVAS].addEventListener("click",this.onGameCanvasClick,!1)},i.prototype.sceneWillUnmount=function(){t.prototype.sceneWillUnmount.call(this),this.game.destroy(!0)},i.prototype.handleGameComponentOnKeyDown=function(t){return!(!this.gameRunning||this.gameEnded||(this.game.scene.getScene(e.MAIN_SCENE).onKeyDown(t),0))},i.prototype.onReturn=function(){var t=this;return this.pause(),r.showModal(this.leaveGameModal).then(function(e){e&&t.handleBack()})["catch"](function(t){s["default"].error(t)}),!1},i.prototype.restart=function(){o.routeTo(this.restartRoute)},i.prototype.handleQuit=function(){return this.pause(),this.game.destroy(!0),t.prototype.handleQuit.call(this)},i.prototype.unpause=function(){this.gameRunning=!0,this.paused=!1,n["default"].SoundManager.unPause(),this.hide(this.refs[a["default"].PAUSE]),this.game.scene.resume(e.MAIN_SCENE)},i.prototype.pause=function(t){void 0===t&&(t=!1),this.gameEnded||(this.gameRunning=!1,this.game.scene.pause(e.MAIN_SCENE),n["default"].SoundManager.pause(),(this.paused=!0)!==t&&this.show(this.refs[a["default"].PAUSE]))},i.prototype.getScoreValue=function(){return this.game.scene.getScene(e.MAIN_SCENE).getScore()},i.prototype.gameoverWithReward=function(){this.pause(!0),t.prototype.gameoverWithReward.call(this)},i.prototype.gameover=function(){this.pause(!0),this.gameEnded=!0,a["default"].adRewardPlayed=!1,this.show(this.refs[a["default"].GAME_OVER]),this.getScore()},i}(a["default"]),e["default"]=c},function(t,e,i){(function(e){var n,s,r;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
i(963),n=i(52),s=i(32),r={Actions:i(404),Animations:i(1052),Cache:i(1067),Cameras:i(1070),Core:i(1146),Class:i(0),Create:i(1201),Curves:i(1207),Data:i(1210),Display:i(1212),DOM:i(1241),Events:i(1242),Game:i(1244),GameObjects:i(1343),Geom:i(584),Input:i(1613),Loader:i(1647),Math:i(468),Physics:i(1671),Plugins:i(1758),Renderer:i(1760),Scale:i(1765),Scene:i(530),Scenes:i(1766),Sound:i(1768),Structs:i(1769),Textures:i(1770),Tilemaps:i(1772),Time:i(1821),Tweens:i(1823),Utils:i(1833)},r.Cameras.Sprite3D=i(1841),r.GameObjects.Sprite3D=i(241),r.GameObjects.Factories.Sprite3D=i(1843),r.GameObjects.Creators.Sprite3D=i(1844),r.FacebookInstantGamesPlugin=i(543),r=s(!1,r,n),t.exports=r,e.Phaser=r}).call(e,i(158))},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Angle:i(972),Call:i(973),GetFirst:i(974),GetLast:i(975),GridAlign:i(976),IncAlpha:i(1010),IncX:i(1011),IncXY:i(1012),IncY:i(1013),PlaceOnCircle:i(1014),PlaceOnEllipse:i(1015),PlaceOnLine:i(1016),PlaceOnRectangle:i(1017),PlaceOnTriangle:i(1018),PlayAnimation:i(1019),PropertyValueInc:i(77),PropertyValueSet:i(53),RandomCircle:i(1020),RandomEllipse:i(1021),RandomLine:i(1022),RandomRectangle:i(1023),RandomTriangle:i(1024),Rotate:i(1025),RotateAround:i(1026),RotateAroundDistance:i(1027),ScaleX:i(1028),ScaleXY:i(1029),ScaleY:i(1030),SetAlpha:i(1031),SetBlendMode:i(1032),SetDepth:i(1033),SetHitArea:i(1034),SetOrigin:i(1035),SetRotation:i(1036),SetScale:i(1037),SetScaleX:i(1038),SetScaleY:i(1039),SetTint:i(1040),SetVisible:i(1041),SetX:i(1042),SetXY:i(1043),SetY:i(1044),ShiftPosition:i(1045),Shuffle:i(1046),SmootherStep:i(1047),SmoothStep:i(1048),Spread:i(1049),ToggleVisible:i(1050),WrapInRectangle:i(1051)}},function(t,e,i){var n,s=i(273),r=[];r[s.BOTTOM_CENTER]=i(406),r[s.BOTTOM_LEFT]=i(407),r[s.BOTTOM_RIGHT]=i(408),r[s.CENTER]=i(409),r[s.LEFT_CENTER]=i(411),r[s.RIGHT_CENTER]=i(412),r[s.TOP_CENTER]=i(413),r[s.TOP_LEFT]=i(414),r[s.TOP_RIGHT]=i(415),n=function(t,e,i,n,s){return r[i](t,e,n,s)},t.exports=n},function(t,e,i){var n=i(83),s=i(142),r=i(84),o=i(143),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)+i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(83),s=i(85),r=i(84),o=i(86),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)-i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(83),s=i(87),r=i(84),o=i(88),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)+i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(410),s=i(142),r=i(145),o=function(t,e,i,o){return i===undefined&&(i=0),o===undefined&&(o=0),n(t,s(e)+i,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(143),s=i(144),r=function(t,e,i){return n(t,e),s(t,i)};t.exports=r},function(t,e,i){var n=i(145),s=i(85),r=i(144),o=i(86),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)-i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(145),s=i(87),r=i(144),o=i(88),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)+i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(142),s=i(89),r=i(143),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,n(e)+i),o(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(85),s=i(89),r=i(86),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,n(e)-i),o(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(87),s=i(89),r=i(88),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,n(e)+i),o(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(274),s=i(164),r=i(33),o=i(9),a=function(t,e,i){i===undefined&&(i=new o);var a=s(e,0,r.PI2);return n(t,a,i)};t.exports=a},function(t,e,i){var n=i(418),s=i(274),r=i(164),o=i(33),a=function(t,e,i,a){var h,u;for(a===undefined&&(a=[]),e||(e=n(t)/i),h=0;h<e;h++)u=r(h/e,0,o.PI2),a.push(s(t,u));return a};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.PI*t.radius*2};t.exports=i},function(t,e,i){var n=i(37),s=2,r={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,s){return t===undefined&&(t=1),e===undefined?this.alpha=t:(this._alphaTL=n(t,0,1),this._alphaTR=n(e,0,1),this._alphaBL=n(i,0,1),this._alphaBR=n(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=n(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=~s:this.renderFlags|=s}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=n(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=s)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=n(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=s)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=n(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=s)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=n(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=s)}}};t.exports=r},function(t,e,i){var n=i(276),s=i(0),r=i(204),o=new s({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.once(r.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(t){return t instanceof n&&(t=t.key),this.nextAnim=t,this.parent},setDelay:function(t){return t===undefined&&(t=0),this._delay=t,this.parent},getDelay:function(){return this._delay},delayedPlay:function(t,e,i){return this.play(e,!0,i),this.nextTick+=t,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(t,e){return e===undefined&&(e=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,e),this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),t!==undefined&&this.updateFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),t!==undefined&&this.updateFrame(t),this.parent},isPaused:{get:function(){return this._paused}},play:function(t,e,i){return e===undefined&&(e=!1),i===undefined&&(i=0),t instanceof n&&(t=t.key),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!0,this._reverse=!1,this._startAnimation(t,i))},playReverse:function(t,e,i){return e===undefined&&(e=!1),i===undefined&&(i=0),t instanceof n&&(t=t.key),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(t,i))},_startAnimation:function(t,e){var i,n,s;return this.load(t,e),i=this.currentAnim,n=this.parent,this.repeatCounter=-1===this._repeat?Number.MAX_VALUE:this._repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,i.showOnStart&&(n.visible=!0),s=this.currentFrame,i.emit(r.ANIMATION_START,i,s,n),n.emit(r.SPRITE_ANIMATION_KEY_START+t,i,s,n),n.emit(r.SPRITE_ANIMATION_START,i,s,n),n},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var t=this.currentFrame.progress;return this.forward||(t=1-t),t},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},remove:function(t,e){e===undefined&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(t){return this._repeat=t,this.repeatCounter=0,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(t){return this._repeatDelay=t,this.parent},restart:function(t){var e,i,n;return t===undefined&&(t=!1),e=this.currentAnim,e.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(e.frames[0]),i=this.parent,n=this.currentFrame,e.emit(r.ANIMATION_RESTART,e,n,i),i.emit(r.SPRITE_ANIMATION_KEY_RESTART+e.key,e,n,i),i.emit(r.SPRITE_ANIMATION_RESTART,e,n,i),this.parent},stop:function(){var t,e,i,n;return this._pendingStop=0,this.isPlaying=!1,t=this.parent,e=this.currentAnim,i=this.currentFrame,e&&(e.emit(r.ANIMATION_COMPLETE,e,i,t),t.emit(r.SPRITE_ANIMATION_KEY_COMPLETE+e.key,e,i,t),t.emit(r.SPRITE_ANIMATION_COMPLETE,e,i,t)),this.nextAnim&&(n=this.nextAnim,this.nextAnim=null,this.play(n)),t},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},setTimeScale:function(t){return t===undefined&&(t=1),this._timeScale=t,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(t,e){if(this.currentAnim&&this.isPlaying&&!this.currentAnim.paused){if(this.accumulator+=e*this._timeScale,1===this._pendingStop&&(this._pendingStopValue-=e,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(t){var e=this.parent;return this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,e.isCropped&&e.frame.updateCropUVs(e._crop,e.flipX,e.flipY),e.setSizeToFrame(),t.frame.customPivot?e.setOrigin(t.frame.pivotX,t.frame.pivotY):e.updateDisplayOrigin(),e},updateFrame:function(t){var e,i=this.setCurrentFrame(t);this.isPlaying&&(t.setAlpha&&(i.alpha=t.alpha),e=this.currentAnim,i.emit(r.SPRITE_ANIMATION_KEY_UPDATE+e.key,e,t,i),i.emit(r.SPRITE_ANIMATION_UPDATE,e,t,i),3===this._pendingStop&&this._pendingStopValue===t&&this.currentAnim.completeAnimation(this))},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(t){return t===undefined&&(t=!1),this._yoyo=t,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}});t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r;if(!e.length)return NaN;if(1===e.length)return e[0];if(n=1,i){if(t<e[0][i])return e[0];for(;e[n][i]<t;)n++}else for(;e[n]<t;)n++;return n>e.length&&(n=e.length),i?(s=e[n-1][i],r=e[n][i],r-t<=t-s?e[n]:e[n-1]):(s=e[n-1],r=e[n],r-t<=t-s?r:s)};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n){this.textureKey=t,this.textureFrame=e,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=undefined}});t.exports=s},function(t,e,i){var n=i(105),s={_blendMode:n.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){"string"==typeof t&&(t=n[t]),(t|=0)>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.scene.sys.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===undefined&&(t=0),this.depth=t,this}};t.exports=i},function(t,e,i){var n=i(277),s=i(205),r=function(t,e,i,r){var o,a;for(r===undefined&&(r=[]),e||(e=s(t)/i),o=0;o<e;o++)a=o/e,r.push(n(t,a));return r};t.exports=r},function(t,e,i){var n=i(9),s=function(t,e,i){return i===undefined&&(i=new n),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s=Math.cos(n),r=Math.sin(n),o=t.x-e,a=t.y-i;return t.x=o*s-a*r+e,t.y=o*r+a*s+i,t};t.exports=i},function(t,e,i){var n=i(429),s=i(430),r={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return t===undefined&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return t===undefined&&this.texture&&(t=this),new n(this.scene,t)},createGeometryMask:function(t){return t===undefined&&"Graphics"===this.type&&(t=this),new s(this.scene,t)}};t.exports=r},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e){var i,n,s,r,o,a,h=t.sys.game.renderer;this.renderer=h,this.bitmapMask=e,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,h&&h.gl&&(i=h.width,n=h.height,s=0==(i&i-1)&&0==(n&n-1),r=h.gl,o=s?r.REPEAT:r.CLAMP_TO_EDGE,a=r.LINEAR,this.mainTexture=h.createTexture2D(0,a,a,o,o,r.RGBA,null,i,n),this.maskTexture=h.createTexture2D(0,a,a,o,o,r.RGBA,null,i,n),this.mainFramebuffer=h.createFramebuffer(i,n,this.mainTexture,!1),this.maskFramebuffer=h.createFramebuffer(i,n,this.maskTexture,!1),h.onContextRestored(function(t){var e=t.width,i=t.height,n=0==(e&e-1)&&0==(i&i-1),s=t.gl,r=n?s.REPEAT:s.CLAMP_TO_EDGE,o=s.LINEAR;this.mainTexture=t.createTexture2D(0,o,o,r,r,s.RGBA,null,e,i),this.maskTexture=t.createTexture2D(0,o,o,r,r,s.RGBA,null,e,i),this.mainFramebuffer=t.createFramebuffer(e,i,this.mainTexture,!1),this.maskFramebuffer=t.createFramebuffer(e,i,this.maskTexture,!1)},this))},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BitmapMaskPipeline.beginMask(this,e,i)},postRenderWebGL:function(t){t.pipelines.BitmapMaskPipeline.endMask(this)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var t=this.renderer;t&&t.gl&&(t.deleteTexture(this.mainTexture),t.deleteTexture(this.maskTexture),t.deleteFramebuffer(this.mainFramebuffer),t.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.renderer=null}});t.exports=s},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e){this.geometryMask=e,this.invertAlpha=!1},setShape:function(t){this.geometryMask=t},preRenderWebGL:function(t,e,i){var n=t.gl,s=this.geometryMask;t.flush(),n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.NOTEQUAL,1,1),n.stencilOp(n.REPLACE,n.REPLACE,n.REPLACE),s.renderWebGL(t,s,0,i),t.flush(),n.colorMask(!0,!0,!0,!0),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,1,1):n.stencilFunc(n.EQUAL,1,1),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},postRenderWebGL:function(t){var e=t.gl;t.flush(),e.disable(e.STENCIL_TEST)},preRenderCanvas:function(t,e,i){var n=this.geometryMask;t.currentContext.save(),n.renderCanvas(t,n,0,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return e===undefined&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,scaleMode:t.scaleMode,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e};t.exports=i},function(t,e,i){var n=i(33),s=i(93),r=i(281),o=i(282),a=4,h={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===this._scaleX?this.renderFlags&=~a:this.renderFlags|=a}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===this._scaleY?this.renderFlags&=~a:this.renderFlags|=a}},angle:{get:function(){return o(this._rotation*n.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=r(t)}},setPosition:function(t,e,i,n){return t===undefined&&(t=0),e===undefined&&(e=t),i===undefined&&(i=0),n===undefined&&(n=0),this.x=t,this.y=e,this.z=i,this.w=n,this},setRandomPosition:function(t,e,i,n){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=this.scene.sys.scale.width),n===undefined&&(n=this.scene.sys.scale.height),this.x=t+Math.random()*i,this.y=e+Math.random()*n,this},setRotation:function(t){return t===undefined&&(t=0),this.rotation=t,this},setAngle:function(t){return t===undefined&&(t=0),this.angle=t,this},setScale:function(t,e){return t===undefined&&(t=1),e===undefined&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return t===undefined&&(t=0),this.x=t,this},setY:function(t){return t===undefined&&(t=0),this.y=t,this},setZ:function(t){return t===undefined&&(t=0),this.z=t,this},setW:function(t){return t===undefined&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return t===undefined&&(t=new s),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){t===undefined&&(t=new s),e===undefined&&(e=new s);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return t}};t.exports=h},function(t,e){var i=1,n={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=i):(this._visible=!1,this.renderFlags&=~i)}},setVisible:function(t){return this.visible=t,this}};t.exports=n},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CHANGE_DATA:i(1005),CHANGE_DATA_KEY:i(1006),REMOVE_DATA:i(1007),SET_DATA:i(1008)}},function(t,e,i){var n=i(205),s=i(9),r=function(t,e,i,r){var o,a,h,u;if(r===undefined&&(r=[]),!e&&!i)return r;for(e?i=Math.round(n(t)/e):e=n(t)/i,o=t.x,a=t.y,h=0,u=0;u<i;u++)switch(r.push(new s(o,a)),h){case 0:o+=e,o>=t.right&&(h=1,a+=o-t.right,o=t.right);break;case 1:a+=e,a>=t.bottom&&(h=2,o-=a-t.bottom,a=t.bottom);break;case 2:o-=e,o<=t.left&&(h=3,a-=t.left-o,o=t.left);break;case 3:a-=e,a<=t.top&&(h=0,a=t.top)}return r};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n;for(e===undefined&&(e=1),i=null,n=0;n<e;n++)i=t.shift(),t.push(i);return i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n;for(e===undefined&&(e=1),i=null,n=0;n<e;n++)i=t.pop(),t.unshift(i);return i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d;for(e===undefined&&(e=1),i===undefined&&(i=[]),n=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),o=Math.round(t.y2),a=Math.abs(r-n),h=Math.abs(o-s),u=n<r?1:-1,l=s<o?1:-1,c=a-h,i.push({x:n,y:s}),f=1;n!==r||s!==o;)d=c<<1,d>-h&&(c-=h,n+=u),d<a&&(c+=a,s+=l),f%e==0&&i.push({x:n,y:s}),f++;return i};t.exports=i},function(t,e,i){var n=i(276),s=i(0),r=i(288),o=i(15),a=i(204),h=i(54),u=i(6),l=i(289),c=new s({Extends:o,initialize:function(t){o.call(this),this.game=t,this.textureManager=null,this.globalTimeScale=1,this.anims=new r,this.paused=!1,this.name="AnimationManager",t.events.once(h.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(h.DESTROY,this.destroy,this)},add:function(t,e){if(!this.anims.has(t))return e.key=t,this.anims.set(t,e),this.emit(a.ADD_ANIMATION,t,e),this},exists:function(t){return this.anims.has(t)},create:function(t){var e=t.key,i=!1;return e&&((i=this.get(e))||(i=new n(this,e,t),this.anims.set(e,i),this.emit(a.ADD_ANIMATION,e,i))),i},fromJSON:function(t,e){var i,n;if(e===undefined&&(e=!1),e&&this.anims.clear(),"string"==typeof t&&(t=JSON.parse(t)),i=[],t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(n=0;n<t.anims.length;n++)i.push(this.create(t.anims[n]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&"frame"===t.type&&i.push(this.create(t));return i},generateFrameNames:function(t,e){var i,n,s,r=u(e,"prefix",""),o=u(e,"start",0),a=u(e,"end",0),h=u(e,"suffix",""),c=u(e,"zeroPad",0),f=u(e,"outputArray",[]),d=u(e,"frames",!1),p=this.textureManager.get(t);if(!p)return f;if(i=o<a?1:-1,a+=i,e)if(Array.isArray(d))for(n=0;n<d.length;n++)s=r+l(d[n],c,"0",1)+h,p.has(s)&&f.push({key:t,frame:s});else for(n=o;n!==a;n+=i)s=r+l(n,c,"0",1)+h,p.has(s)&&f.push({key:t,frame:s});else for(d=p.getFrameNames(),n=0;n<d.length;n++)f.push({key:t,frame:d[n]});return f},generateFrameNumbers:function(t,e){var i,n=u(e,"start",0),s=u(e,"end",-1),r=u(e,"first",!1),o=u(e,"outputArray",[]),a=u(e,"frames",!1),h=this.textureManager.get(t);if(!h)return o;if(r&&h.has(r)&&o.push({key:t,frame:r}),Array.isArray(a))for(i=0;i<a.length;i++)h.has(a[i])&&o.push({key:t,frame:a[i]});else for(-1===s&&(s=h.frameTotal),i=n;i<=s;i++)h.has(i)&&o.push({key:t,frame:i});return o},get:function(t){return this.anims.get(t)},load:function(t,e,i){var n=this.get(e);return n&&n.load(t,i),t},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(t,e){var i;if(Array.isArray(e)||(e=[e]),this.get(t)){for(i=0;i<e.length;i++)e[i].anims.play(t);return this}},remove:function(t){var e=this.get(t);return e&&(this.emit(a.REMOVE_ANIMATION,t,e),this.anims["delete"](t)),e},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},staggerPlay:function(t,e,i){var n;if(i===undefined&&(i=0),Array.isArray(e)||(e=[e]),this.get(t)){for(n=0;n<e.length;n++)e[n].anims.delayedPlay(i*n,t);return this}},toJSON:function(t){if(t!==undefined&&""!==t)return this.anims.get(t).toJSON();var e={anims:[],globalTimeScale:this.globalTimeScale};return this.anims.each(function(t,i){e.anims.push(i.toJSON())}),e},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});t.exports=c},function(t,e,i){var n=i(0),s=i(288),r=i(15),o=i(442),a=new n({initialize:function(){this.entries=new s,this.events=new r},add:function(t,e){return this.entries.set(t,e),this.events.emit(o.ADD,this,t,e),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);return e&&(this.entries["delete"](t),this.events.emit(o.REMOVE,this,t,e.data)),this},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ADD:i(1068),REMOVE:i(1069)}},function(t,e,i){var n=i(441),s=i(0),r=i(54),o=new s({initialize:function(t){this.game=t,this.binary=new n,this.bitmapFont=new n,this.json=new n,this.physics=new n,this.shader=new n,this.audio=new n,this.text=new n,this.html=new n,this.obj=new n,this.tilemap=new n,this.xml=new n,this.custom={},this.game.events.once(r.DESTROY,this.destroy,this)},addCustom:function(t){return this.custom.hasOwnProperty(t)||(this.custom[t]=new n),this.custom[t]},destroy:function(){var t,e,i=["binary","bitmapFont","json","physics","shader","audio","text","html","obj","tilemap","xml"];for(t=0;t<i.length;t++)this[i[t]].destroy(),this[i[t]]=null;for(e in this.custom)this.custom[e].destroy();this.custom=null,this.game=null}});t.exports=o},function(t,e,i){var n=i(209),s=i(43),r=i(293),o=i(37),a=i(0),h=i(24),u=i(452),l=i(211),c=i(18),f=i(4),d=new a({Extends:n,Mixins:[h.Flip,h.Tint],initialize:function(t,e,i,s){n.call(this,t,e,i,s),this.inputEnabled=!0,this.fadeEffect=new u.Fade(this),this.flashEffect=new u.Flash(this),this.shakeEffect=new u.Shake(this),this.panEffect=new u.Pan(this),this.zoomEffect=new u.Zoom(this),this.lerp=new f(1,1),this.followOffset=new f,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(t){var e=this.scene.sys.game.renderer;return e.gl?(this.glTexture=e.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=e.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=s.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,t&&this.setPipeline(t),this},setPipeline:function(t){if("string"==typeof t){var e=this.scene.sys.game.renderer;e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t))}else this.pipeline=t;return this},clearRenderToTexture:function(){var t=this.scene.sys.game.renderer;return t.gl?(this.framebuffer&&t.deleteFramebuffer(this.framebuffer),this.glTexture&&t.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(s.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this},setDeadzone:function(t,e){var i,n,s,o;return t===undefined?this.deadzone=null:(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new c(0,0,t,e),this._follow&&(i=this.width/2,n=this.height/2,s=this._follow.x-this.followOffset.x,o=this._follow.y-this.followOffset.y,this.midPoint.set(s,o),this.scrollX=s-i,this.scrollY=o-n),r(this.deadzone,this.midPoint.x,this.midPoint.y)),this},fadeIn:function(t,e,i,n,s,r){return this.fadeEffect.start(!1,t,e,i,n,!0,s,r)},fadeOut:function(t,e,i,n,s,r){return this.fadeEffect.start(!0,t,e,i,n,!0,s,r)},fadeFrom:function(t,e,i,n,s,r,o){return this.fadeEffect.start(!1,t,e,i,n,s,r,o)},fade:function(t,e,i,n,s,r,o){return this.fadeEffect.start(!0,t,e,i,n,s,r,o)},flash:function(t,e,i,n,s,r,o){return this.flashEffect.start(t,e,i,n,s,r,o)},shake:function(t,e,i,n,s){return this.shakeEffect.start(t,e,i,n,s)},pan:function(t,e,i,n,s,r,o){return this.panEffect.start(t,e,i,n,s,r,o)},zoomTo:function(t,e,i,n,s,r){return this.zoomEffect.start(t,e,i,n,s,r)},preRender:function(t){var e,i,n,s,o,a,h=this.width,u=this.height,c=.5*h,f=.5*u,d=this.zoom*t,p=this.matrix,g=h*this.originX,y=u*this.originY,m=this._follow,v=this.deadzone,x=this.scrollX,b=this.scrollY;v&&r(v,this.midPoint.x,this.midPoint.y),m&&(e=m.x-this.followOffset.x,i=m.y-this.followOffset.y,v?(e<v.x?x=l(x,x-(v.x-e),this.lerp.x):e>v.right&&(x=l(x,x+(e-v.right),this.lerp.x)),i<v.y?b=l(b,b-(v.y-i),this.lerp.y):i>v.bottom&&(b=l(b,b+(i-v.bottom),this.lerp.y))):(x=l(x,e-g,this.lerp.x),b=l(b,i-y,this.lerp.y))),this.useBounds&&(x=this.clampX(x),b=this.clampY(b)),this.roundPixels&&(g=Math.round(g),y=Math.round(y)),this.scrollX=x,this.scrollY=b,n=x+c,s=b+f,this.midPoint.set(n,s),o=h/d,a=u/d,this.worldView.setTo(n-o/2,s-a/2,o,a),p.applyITRS(this.x+g,this.y+y,this.rotation,d,d),p.translate(-g,-y),this.shakeEffect.preRender()},setLerp:function(t,e){return t===undefined&&(t=1),e===undefined&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,n,s,r){var a,h,u,l;return e===undefined&&(e=!1),i===undefined&&(i=1),n===undefined&&(n=i),s===undefined&&(s=0),r===undefined&&(r=s),this._follow=t,this.roundPixels=e,i=o(i,0,1),n=o(n,0,1),this.lerp.set(i,n),this.followOffset.set(s,r),a=this.width/2,h=this.height/2,u=t.x-s,l=t.y-r,this.midPoint.set(u,l),this.scrollX=u-a,this.scrollY=l-h,this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),n.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});t.exports=d},function(t,e,i){var n=i(68),s=function(t){var e,i,s,r,o=new n;return t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n}),e=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e&&(i=parseInt(e[1],16),s=parseInt(e[2],16),r=parseInt(e[3],16),o.setTo(i,s,r)),o};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){return n<<24|t<<16|e<<8|i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o,a,h,u;return n===undefined&&(n={h:0,s:0,v:0}),t/=255,e/=255,i/=255,s=Math.min(t,e,i),r=Math.max(t,e,i),o=r-s,a=0,h=0===r?0:o/r,u=r,r!==s&&(r===t?a=(e-i)/o+(e<i?6:0):r===e?a=(i-t)/o+2:r===i&&(a=(t-e)/o+4),a/=6),n.hasOwnProperty("_h")?(n._h=a,n._s=h,n._v=u):(n.h=a,n.s=h,n.v=u),n};t.exports=i},function(t,e,i){var n=i(68),s=i(449),r=function(t){var e=s(t);return new n(e.r,e.g,e.b,e.a)};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}};t.exports=i},function(t,e,i){var n=i(68),s=function(t){return new n(t.r,t.g,t.b,t.a)};t.exports=s},function(t,e,i){var n=i(68),s=function(t){var e,i,s,r,o=new n,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());return a&&(e=parseInt(a[1],10),i=parseInt(a[2],10),s=parseInt(a[3],10),r=a[4]!==undefined?parseFloat(a[4]):1,o.setTo(e,i,s,255*r)),o};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Fade:i(1090),Flash:i(1091),Pan:i(1092),Shake:i(1125),Zoom:i(1126)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1093),Out:i(1094),InOut:i(1095)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1096),Out:i(1097),InOut:i(1098)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1099),Out:i(1100),InOut:i(1101)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1102),Out:i(1103),InOut:i(1104)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1105),Out:i(1106),InOut:i(1107)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1108),Out:i(1109),InOut:i(1110)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=i(1111)},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1112),Out:i(1113),InOut:i(1114)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1115),Out:i(1116),InOut:i(1117)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1118),Out:i(1119),InOut:i(1120)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(1121),Out:i(1122),InOut:i(1123)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=i(1124)},function(t,e,i){var n=i(0),s=i(52),r=i(466),o=i(3),a=i(6),h=i(13),u=i(468),l=i(2),c=i(301),f=i(290),d=new n({initialize:function(t){var e,i,n,d,p,g,y,m;t===undefined&&(t={}),e=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],i="#ffffff",this.width=a(t,"width",1024),this.height=a(t,"height",768),this.zoom=a(t,"zoom",1),this.resolution=a(t,"resolution",1),this.parent=a(t,"parent",undefined),this.scaleMode=a(t,"scaleMode",0),this.expandParent=a(t,"expandParent",!0),this.autoRound=a(t,"autoRound",!1),this.autoCenter=a(t,"autoCenter",0),this.resizeInterval=a(t,"resizeInterval",500),this.fullscreenTarget=a(t,"fullscreenTarget",null),this.minWidth=a(t,"minWidth",0),this.maxWidth=a(t,"maxWidth",0),this.minHeight=a(t,"minHeight",0),this.maxHeight=a(t,"maxHeight",0),n=a(t,"scale",null),n&&(this.width=a(n,"width",this.width),this.height=a(n,"height",this.height),this.zoom=a(n,"zoom",this.zoom),this.resolution=a(n,"resolution",this.resolution),this.parent=a(n,"parent",this.parent),this.scaleMode=a(n,"mode",this.scaleMode),this.expandParent=a(n,"expandParent",this.expandParent),this.autoRound=a(n,"autoRound",this.autoRound),this.autoCenter=a(n,"autoCenter",this.autoCenter),this.resizeInterval=a(n,"resizeInterval",this.resizeInterval),this.fullscreenTarget=a(n,"fullscreenTarget",this.fullscreenTarget),this.minWidth=a(n,"min.width",this.minWidth),this.maxWidth=a(n,"max.width",this.maxWidth),this.minHeight=a(n,"min.height",this.minHeight),this.maxHeight=a(n,"max.height",this.maxHeight)),this.renderType=a(t,"type",s.AUTO),this.canvas=a(t,"canvas",null),this.context=a(t,"context",null),this.canvasStyle=a(t,"canvasStyle",null),this.customEnvironment=a(t,"customEnvironment",!1),this.sceneConfig=a(t,"scene",null),this.seed=a(t,"seed",[""+Date.now()*Math.random()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=a(t,"title",""),this.gameURL=a(t,"url","https://phaser.io"),this.gameVersion=a(t,"version",""),this.autoFocus=a(t,"autoFocus",!0),this.domCreateContainer=a(t,"dom.createContainer",!1),this.domBehindCanvas=a(t,"dom.behindCanvas",!1),this.inputKeyboard=a(t,"input.keyboard",!0),this.inputKeyboardEventTarget=a(t,"input.keyboard.target",window),this.inputKeyboardCapture=a(t,"input.keyboard.capture",[]),this.inputMouse=a(t,"input.mouse",!0),this.inputMouseEventTarget=a(t,"input.mouse.target",null),this.inputMouseCapture=a(t,"input.mouse.capture",!0),this.inputTouch=a(t,"input.touch",r.input.touch),this.inputTouchEventTarget=a(t,"input.touch.target",null),this.inputTouchCapture=a(t,"input.touch.capture",!0),this.inputActivePointers=a(t,"input.activePointers",1),this.inputSmoothFactor=a(t,"input.smoothFactor",0),this.inputQueue=a(t,"input.queue",!1),this.inputGamepad=a(t,"input.gamepad",!1),this.inputGamepadEventTarget=a(t,"input.gamepad.target",window),this.disableContextMenu=a(t,"disableContextMenu",!1),this.audio=a(t,"audio"),this.hideBanner=!1===a(t,"banner",null),this.hidePhaser=a(t,"banner.hidePhaser",!1),this.bannerTextColor=a(t,"banner.text",i),this.bannerBackgroundColor=a(t,"banner.background",e),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(t,"fps",null),d=a(t,"render",t),this.antialias=a(d,"antialias",!0),this.roundPixels=a(d,"roundPixels",!1),this.pixelArt=a(d,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=a(d,"transparent",!1),this.clearBeforeRender=a(d,"clearBeforeRender",!0),this.premultipliedAlpha=a(d,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=a(d,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(d,"powerPreference","default"),this.batchSize=a(d,"batchSize",2e3),this.maxLights=a(d,"maxLights",10),p=a(t,"backgroundColor",0),this.backgroundColor=f(p),0===p&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=a(t,"callbacks.preBoot",l),this.postBoot=a(t,"callbacks.postBoot",l),this.physics=a(t,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(t,"loader.baseURL",""),this.loaderPath=a(t,"loader.path",""),this.loaderMaxParallelDownloads=a(t,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=a(t,"loader.crossOrigin",undefined),this.loaderResponseType=a(t,"loader.responseType",""),this.loaderAsync=a(t,"loader.async",!0),this.loaderUser=a(t,"loader.user",""),this.loaderPassword=a(t,"loader.password",""),this.loaderTimeout=a(t,"loader.timeout",0),this.installGlobalPlugins=[],this.installScenePlugins=[],g=a(t,"plugins",null),y=c.DefaultScene,g&&(Array.isArray(g)?this.defaultPlugins=g:h(g)&&(this.installGlobalPlugins=o(g,"global",[]),this.installScenePlugins=o(g,"scene",[]),Array.isArray(g["default"])?y=g["default"]:Array.isArray(g.defaultMerge)&&(y=y.concat(g.defaultMerge)))),this.defaultPlugins=y,m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg",this.defaultImage=a(t,"images.default",m+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(t,"images.missing",m+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=s.WEBGL:window.FORCE_CANVAS&&(this.renderType=s.CANVAS))}});t.exports=d},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={os:i(166),browser:i(212),features:i(295),input:i(1148),audio:i(1149),video:i(1150),fullscreen:i(1151),canvasFeatures:i(467)}},function(t,e,i){function n(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;return i.onload=function(){var n=new Image;n.onload=function(){var t,e=r.create(n,6,1),s=e.getContext("2d");if(s.globalCompositeOperation="multiply",s.drawImage(i,0,0),s.drawImage(n,2,0),!s.getImageData(2,0,1,1))return!1;t=s.getImageData(2,0,1,1).data,r.remove(n),o.supportNewBlendModes=255===t[0]&&0===t[1]&&0===t[2]},n.src=t+"/wCKxvRF"+e},i.src=t+"AP804Oa6"+e,!1}function s(){var t,e,i=r.create(this,2,1),n=i.getContext("2d");return n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1),null!==(t=n.getImageData(0,0,1,1))&&(n.putImageData(t,1,0),e=n.getImageData(1,0,1,1),e.data[0]===t.data[0]&&e.data[1]===t.data[1]&&e.data[2]===t.data[2]&&e.data[3]===t.data[3])}var r=i(43),o={supportInverseAlpha:!1,supportNewBlendModes:!1};t.exports=function(){return document!==undefined&&(o.supportNewBlendModes=n(),o.supportInverseAlpha=s()),o}()},function(t,e,i){var n=i(33),s=i(32),r={Angle:i(1152),Distance:i(1160),Easing:i(1162),Fuzzy:i(1163),Interpolation:i(1166),Pow2:i(1171),Snap:i(1173),RandomDataGenerator:i(1175),Average:i(1176),Bernstein:i(474),Between:i(298),CatmullRom:i(297),CeilTo:i(1177),Clamp:i(37),DegToRad:i(78),Difference:i(1178),Factorial:i(475),FloatBetween:i(481),FloorTo:i(1179),FromPercent:i(164),GetSpeed:i(1180),IsEven:i(1181),IsEvenStrict:i(1182),Linear:i(211),MaxAdd:i(1183),MinSub:i(1184),Percent:i(1185),RadToDeg:i(299),RandomXY:i(1186),RandomXYZ:i(482),RandomXYZW:i(483),Rotate:i(484),RotateAround:i(427),RotateAroundDistance:i(285),RoundAwayFromZero:i(485),RoundTo:i(1187),SinCosTableGenerator:i(1188),SmootherStep:i(286),SmoothStep:i(287),TransformXY:i(486),Within:i(1189),Wrap:i(108),Vector2:i(4),Vector3:i(147),Vector4:i(214),Matrix3:i(487),Matrix4:i(300),Quaternion:i(488),RotateVec3:i(489)};r=s(!1,r,n),t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){return Math.atan2(n-e,i-t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t%=2*Math.PI,t>=0?t:t+2*Math.PI};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s=t-i,r=e-n;return s*s+r*r};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return i===undefined&&(i=1e-4),t>e-i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return i===undefined&&(i=1e-4),t<e+i};t.exports=i},function(t,e,i){var n=i(475),s=function(t,e){return n(t)/n(e)/n(t-e)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t,e){var i=1-t;return i*i*i*e}function n(t,e){var i=1-t;return 3*i*i*t*e}function s(t,e){return 3*(1-t)*t*t*e}function r(t,e){return t*t*t*e}var o=function(t,e,o,a,h){return i(t,e)+n(t,o)+s(t,a)+r(t,h)};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t,e){var i=1-t;return i*i*e}function n(t,e){return 2*(1-t)*t*e}function s(t,e){return t*t*e}var r=function(t,e,r,o){return i(t,e)+n(t,r)+s(t,o)};t.exports=r},function(t,e,i){var n=i(287),s=function(t,e,i){return e+(i-e)*n(t,0,1)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){return i===undefined&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),n?(i+t)/e:i+t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return Math.random()*(e-t)+t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s;return e===undefined&&(e=1),i=2*Math.random()*Math.PI,n=2*Math.random()-1,s=Math.sqrt(1-n*n)*e,t.x=Math.cos(i)*s,t.y=Math.sin(i)*s,t.z=n*e,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=1),t.x=(2*Math.random()-1)*e,t.y=(2*Math.random()-1)*e,t.z=(2*Math.random()-1)*e,t.w=(2*Math.random()-1)*e,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.x,n=t.y;return t.x=i*Math.cos(e)-n*Math.sin(e),t.y=i*Math.sin(e)+n*Math.cos(e),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t>0?Math.ceil(t):Math.floor(t)};t.exports=i},function(t,e,i){var n=i(4),s=function(t,e,i,s,r,o,a,h){var u,l,c,f,d,p,g;return h===undefined&&(h=new n),u=Math.sin(r),l=Math.cos(r),c=l*o,f=u*o,d=-u*a,p=l*a,g=1/(c*p+d*-f),h.x=p*g*t+-d*g*e+(s*d-i*p)*g,h.y=c*g*e+-f*g*t+(-s*c+i*f)*g,h};t.exports=s},function(t,e,i){var n=i(0),s=new n({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new s(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],n=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=n,this},invert:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],h=t[7],u=t[8],l=u*r-o*h,c=-u*s+o*a,f=h*s-r*a,d=e*l+i*c+n*f;return d?(d=1/d,t[0]=l*d,t[1]=(-u*i+n*h)*d,t[2]=(o*i-n*r)*d,t[3]=c*d,t[4]=(u*e-n*a)*d,t[5]=(-o*e+n*s)*d,t[6]=f*d,t[7]=(-h*e+i*a)*d,t[8]=(r*e-i*s)*d,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],h=t[7],u=t[8];return t[0]=r*u-o*h,t[1]=n*h-i*u,t[2]=i*o-n*r,t[3]=o*a-s*u,t[4]=e*u-n*a,t[5]=n*s-e*o,t[6]=s*h-r*a,t[7]=i*a-e*h,t[8]=e*r-i*s,this},determinant:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],h=t[7],u=t[8];return e*(u*r-o*h)+i*(-u*s+o*a)+n*(h*s-r*a)},multiply:function(t){var e=this.val,i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],h=e[6],u=e[7],l=e[8],c=t.val,f=c[0],d=c[1],p=c[2],g=c[3],y=c[4],m=c[5],v=c[6],x=c[7],b=c[8];return e[0]=f*i+d*r+p*h,e[1]=f*n+d*o+p*u,e[2]=f*s+d*a+p*l,e[3]=g*i+y*r+m*h,e[4]=g*n+y*o+m*u,e[5]=g*s+y*a+m*l,e[6]=v*i+x*r+b*h,e[7]=v*n+x*o+b*u,e[8]=v*s+x*a+b*l,this},translate:function(t){var e=this.val,i=t.x,n=t.y;return e[6]=i*e[0]+n*e[3]+e[6],e[7]=i*e[1]+n*e[4]+e[7],e[8]=i*e[2]+n*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],h=Math.sin(t),u=Math.cos(t);return e[0]=u*i+h*r,e[1]=u*n+h*o,e[2]=u*s+h*a,e[3]=u*r-h*i,e[4]=u*o-h*n,e[5]=u*a-h*s,this},scale:function(t){var e=this.val,i=t.x,n=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=n*e[3],e[4]=n*e[4],e[5]=n*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,n=t.z,s=t.w,r=e+e,o=i+i,a=n+n,h=e*r,u=e*o,l=e*a,c=i*o,f=i*a,d=n*a,p=s*r,g=s*o,y=s*a,m=this.val;return m[0]=1-(c+d),m[3]=u+y,m[6]=l-g,m[1]=u-y,m[4]=1-(h+d),m[7]=f+p,m[2]=l+g,m[5]=f-p,m[8]=1-(h+c),this},normalFromMat4:function(t){var e=t.val,i=this.val,n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],h=e[5],u=e[6],l=e[7],c=e[8],f=e[9],d=e[10],p=e[11],g=e[12],y=e[13],m=e[14],v=e[15],x=n*h-s*a,b=n*u-r*a,_=n*l-o*a,w=s*u-r*h,T=s*l-o*h,S=r*l-o*u,A=c*y-f*g,E=c*m-d*g,P=c*v-p*g,O=f*m-d*y,M=f*v-p*y,C=d*v-p*m,I=x*C-b*M+_*O+w*P-T*E+S*A;return I?(I=1/I,i[0]=(h*C-u*M+l*O)*I,i[1]=(u*P-a*C-l*E)*I,i[2]=(a*M-h*P+l*A)*I,i[3]=(r*M-s*C-o*O)*I,i[4]=(n*C-r*P+o*E)*I,i[5]=(s*P-n*M-o*A)*I,i[6]=(y*S-m*T+v*w)*I,i[7]=(m*_-g*S-v*b)*I,i[8]=(g*T-y*_+v*x)*I,this):null}});t.exports=s},function(t,e,i){var n=i(0),s=i(147),r=i(487),o=1e-6,a=new Int8Array([1,2,0]),h=new Float32Array([0,0,0]),u=new s(1,0,0),l=new s(0,1,0),c=new s,f=new r,d=new n({initialize:function(t,e,i,n){"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},set:function(t,e,i,n){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return Math.sqrt(t*t+e*e+i*i+n*n)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return t*t+e*e+i*i+n*n},normalize:function(){var t=this.x,e=this.y,i=this.z,n=this.w,s=t*t+e*e+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=e*s,this.z=i*s,this.w=n*s),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){var i,n,s,r;return e===undefined&&(e=0),i=this.x,n=this.y,s=this.z,r=this.w,this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=s+e*(t.z-s),this.w=r+e*(t.w-r),this},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(c.copy(u).cross(t).length()<o&&c.copy(l).cross(t),c.normalize(),this.setAxisAngle(c,Math.PI)):i>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(c.copy(t).cross(e),this.x=c.x,this.y=c.y,this.z=c.z,this.w=1+i,this.normalize())},setAxes:function(t,e,i){var n=f.val;return n[0]=e.x,n[3]=e.y,n[6]=e.z,n[1]=i.x,n[4]=i.y,n[7]=i.z,n[2]=-t.x,n[5]=-t.y,n[8]=-t.z,this.fromMat3(f).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(t,e){e*=.5;var i=Math.sin(e);return this.x=i*t.x,this.y=i*t.y,this.z=i*t.z,this.w=Math.cos(e),this},multiply:function(t){var e=this.x,i=this.y,n=this.z,s=this.w,r=t.x,o=t.y,a=t.z,h=t.w;return this.x=e*h+s*r+i*a-n*o,this.y=i*h+s*o+n*r-e*a,this.z=n*h+s*a+e*o-i*r,this.w=s*h-e*r-i*o-n*a,this},slerp:function(t,e){var i,n,s,r,a=this.x,h=this.y,u=this.z,l=this.w,c=t.x,f=t.y,d=t.z,p=t.w,g=a*c+h*f+u*d+l*p;return g<0&&(g=-g,c=-c,f=-f,d=-d,p=-p),i=1-e,n=e,1-g>o&&(s=Math.acos(g),r=Math.sin(s),i=Math.sin((1-e)*s)/r,n=Math.sin(e*s)/r),this.x=i*a+n*c,this.y=i*h+n*f,this.z=i*u+n*d,this.w=i*l+n*p,this},invert:function(){var t=this.x,e=this.y,i=this.z,n=this.w,s=t*t+e*e+i*i+n*n,r=s?1/s:0;return this.x=-t*r,this.y=-e*r,this.z=-i*r,this.w=n*r,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(t){var e,i,n,s,r,o;return t*=.5,e=this.x,i=this.y,n=this.z,s=this.w,r=Math.sin(t),o=Math.cos(t),this.x=e*o+s*r,this.y=i*o+n*r,this.z=n*o-i*r,this.w=s*o-e*r,this},rotateY:function(t){var e,i,n,s,r,o;return t*=.5,e=this.x,i=this.y,n=this.z,s=this.w,r=Math.sin(t),o=Math.cos(t),this.x=e*o-n*r,this.y=i*o+s*r,this.z=n*o+e*r,this.w=s*o-i*r,this},rotateZ:function(t){var e,i,n,s,r,o;return t*=.5,e=this.x,i=this.y,n=this.z,s=this.w,r=Math.sin(t),o=Math.cos(t),this.x=e*o+i*r,this.y=i*o-e*r,this.z=n*o+s*r,this.w=s*o-n*r,this},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},fromMat3:function(t){var e,i,n,s,r=t.val,o=r[0]+r[4]+r[8];return o>0?(e=Math.sqrt(o+1),this.w=.5*e,e=.5/e,this.x=(r[7]-r[5])*e,this.y=(r[2]-r[6])*e,this.z=(r[3]-r[1])*e):(i=0,r[4]>r[0]&&(i=1),r[8]>r[3*i+i]&&(i=2),n=a[i],s=a[n],e=Math.sqrt(r[3*i+i]-r[3*n+n]-r[3*s+s]+1),h[i]=.5*e,e=.5/e,h[n]=(r[3*n+i]+r[3*i+n])*e,h[s]=(r[3*s+i]+r[3*i+s])*e,this.x=h[0],this.y=h[1],this.z=h[2],this.w=(r[3*s+n]-r[3*n+s])*e),this}});t.exports=d},function(t,e,i){var n=i(147),s=i(300),r=i(488),o=new s,a=new r,h=new n,u=function(t,e,i){return a.setAxisAngle(e,i),o.fromRotationTranslation(a,h.set(0,0,0)),t.transformMat4(o)};t.exports=u},function(t,e,i){var n=i(491),s=i(43),r=i(52),o=i(295),a=function(t){var e,a,h,u,l,c=t.config;if((c.customEnvironment||c.canvas)&&c.renderType===r.AUTO)throw Error("Must set explicit renderType in custom environment");if(!c.customEnvironment&&!c.canvas&&c.renderType!==r.HEADLESS)if(c.renderType===r.CANVAS||c.renderType!==r.CANVAS&&!o.webGL){if(!o.canvas)throw Error("Cannot create Canvas or WebGL context, aborting.");c.renderType=r.CANVAS}else c.renderType=r.WEBGL;c.antialias||s.disableSmoothing(),e=t.scale.baseSize,a=e.width,h=e.height,c.canvas?(t.canvas=c.canvas,t.canvas.width=a,t.canvas.height=h):t.canvas=s.create(t,a,h,c.renderType),c.canvasStyle&&(t.canvas.style=c.canvasStyle),c.antialias||n.setCrisp(t.canvas),c.renderType!==r.HEADLESS&&(u=i(302),l=i(303),c.renderType===r.WEBGL?t.renderer=new l(t):(t.renderer=new u(t),t.context=t.renderer.gameContext))};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setCrisp:function(t){return["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"].forEach(function(e){t.style["image-rendering"]=e}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};t.exports=i},function(t,e,i){var n=i(43),s=i(68),r=i(3),o=function(t,e){var i,o,a,h,u,l,c,f=r(e,"callback"),d=r(e,"type","image/png"),p=r(e,"encoder",.92),g=Math.abs(Math.round(r(e,"x",0))),y=Math.abs(Math.round(r(e,"y",0))),m=r(e,"width",t.width),v=r(e,"height",t.height);r(e,"getPixel",!1)?(i=t.getContext("2d"),o=i.getImageData(g,y,1,1),a=o.data,f.call(null,new s(a[0],a[1],a[2],a[3]/255))):0!==g||0!==y||m!==t.width||v!==t.height?(h=n.createWebGL(this,m,v),u=h.getContext("2d"),u.drawImage(t,g,y,m,v,0,0,m,v),l=new Image,l.onerror=function(){f.call(null),n.remove(h)},l.onload=function(){f.call(null,l),n.remove(h)},l.src=h.toDataURL(d,p)):(c=new Image,c.onerror=function(){f.call(null)},c.onload=function(){f.call(null,c)},c.src=t.toDataURL(d,p))};t.exports=o},function(t,e,i){var n=i(105),s=i(467),r=function(){var t=[],e=s.supportNewBlendModes,i="source-over";return t[n.NORMAL]=i,t[n.ADD]="lighter",t[n.MULTIPLY]=e?"multiply":i,t[n.SCREEN]=e?"screen":i,t[n.OVERLAY]=e?"overlay":i,t[n.DARKEN]=e?"darken":i,t[n.LIGHTEN]=e?"lighten":i,t[n.COLOR_DODGE]=e?"color-dodge":i,t[n.COLOR_BURN]=e?"color-burn":i,t[n.HARD_LIGHT]=e?"hard-light":i,t[n.SOFT_LIGHT]=e?"soft-light":i,t[n.DIFFERENCE]=e?"difference":i,t[n.EXCLUSION]=e?"exclusion":i,t[n.HUE]=e?"hue":i,t[n.SATURATION]=e?"saturation":i,t[n.COLOR]=e?"color":i,t[n.LUMINOSITY]=e?"luminosity":i,t[n.ERASE]="destination-out",t[n.SOURCE_IN]="source-in",t[n.SOURCE_OUT]="source-out",t[n.SOURCE_ATOP]="source-atop",t[n.DESTINATION_OVER]="destination-over",t[n.DESTINATION_IN]="destination-in",t[n.DESTINATION_OUT]="destination-out",t[n.DESTINATION_ATOP]="destination-atop",t[n.LIGHTER]="lighter",t[n.COPY]="copy",t[n.XOR]="xor",t};t.exports=r},function(t,e,i){var n=i(43),s=i(68),r=i(3),o=function(t,e){var i,o,a,h,u,l,c,f,d,p,g,y=t.getContext("experimental-webgl"),m=r(e,"callback"),v=r(e,"type","image/png"),x=r(e,"encoder",.92),b=r(e,"x",0),_=r(e,"y",0),w=r(e,"width",y.drawingBufferWidth),T=r(e,"height",y.drawingBufferHeight);if(r(e,"getPixel",!1))i=new Uint8Array(4),y.readPixels(b,y.drawingBufferHeight-_,1,1,y.RGBA,y.UNSIGNED_BYTE,i),m.call(null,new s(i[0],i[1],i[2],i[3]/255));else{for(o=new Uint8Array(w*T*4),y.readPixels(b,y.drawingBufferHeight-_-T,w,T,y.RGBA,y.UNSIGNED_BYTE,o),a=n.createWebGL(this,w,T),h=a.getContext("2d"),u=h.getImageData(0,0,w,T),l=u.data,c=0;c<T;c++)for(f=0;f<w;f++)d=4*((T-c)*w+f),p=4*(c*w+f),l[p+0]=o[d+0],l[p+1]=o[d+1],l[p+2]=o[d+2],l[p+3]=o[d+3];h.putImageData(u,0,0),g=new Image,g.onerror=function(){m.call(null),n.remove(a)},g.onload=function(){m.call(null,g),n.remove(a)},g.src=a.toDataURL(v,x)}};t.exports=o},function(t,e,i){var n=i(0),s=i(1195),r=i(1196),o=i(304),a=new n({Extends:o,initialize:function(t){o.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:t.topology?t.topology:t.renderer.gl.TRIANGLES,vertShader:t.vertShader?t.vertShader:r,fragShader:t.fragShader?t.fragShader:s,vertexCapacity:t.vertexCapacity?t.vertexCapacity:3,vertexSize:t.vertexSize?t.vertexSize:2*Float32Array.BYTES_PER_ELEMENT,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){var t,e;return o.prototype.onBind.call(this),t=this.renderer,e=this.program,this.resolutionDirty&&(t.setFloat2(e,"uResolution",this.width,this.height),t.setInt1(e,"uMainSampler",0),t.setInt1(e,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(t,e,i){return o.prototype.resize.call(this,t,e,i),this.resolutionDirty=!0,this},beginMask:function(t,e,i){var n=this.renderer,s=this.gl,r=t.bitmapMask;r&&s&&(n.flush(),n.setFramebuffer(t.maskFramebuffer),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.renderWebGL(n,r,0,i),n.flush(),n.setFramebuffer(t.mainFramebuffer),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT))},endMask:function(t){var e=this.renderer,i=this.gl;t.bitmapMask&&i&&(e.setFramebuffer(null),e.setPipeline(this),e.setTexture2D(t.maskTexture,1),e.setTexture2D(t.mainTexture,0),e.setInt1(this.program,"uInvertMaskAlpha",t.invertAlpha),i.drawArrays(this.topology,0,3))}});t.exports=a},function(t,e,i){var n=i(0),s=i(1197),r=i(305),o=10,a=new n({Extends:r,initialize:function(t){o=t.maxLights,t.fragShader=s.replace("%LIGHT_COUNT%",""+o),r.call(this,t),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(t){var e,i;return r.prototype.onBind.call(this),e=this.renderer,i=this.program,this.mvpUpdate(),e.setInt1(i,"uNormSampler",1),e.setFloat2(i,"uResolution",this.width,this.height),t&&this.setNormalMap(t),this},onRender:function(t,e){var i,n,s,r,a,h,u,l,c,f,d;if(this.active=!1,!(i=t.sys.lights)||i.lights.length<=0||!i.active)return this;if(n=i.cull(e),0===(s=Math.min(n.length,o)))return this;for(this.active=!0,r=this.renderer,a=this.program,h=e.matrix,u={x:0,y:0},l=r.height,c=0;c<o;++c)r.setFloat1(a,"uLights["+c+"].radius",0);for(r.setFloat4(a,"uCamera",e.x,e.y,e.rotation,e.zoom),r.setFloat3(a,"uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),c=0;c<s;++c)f=n[c],d="uLights["+c+"].",h.transformPoint(f.x,f.y,u),r.setFloat2(a,d+"position",u.x-e.scrollX*f.scrollFactorX*e.zoom,l-(u.y-e.scrollY*f.scrollFactorY*e.zoom)),r.setFloat3(a,d+"color",f.r,f.g,f.b),r.setFloat1(a,d+"intensity",f.intensity),r.setFloat1(a,d+"radius",f.radius);return this},batchTexture:function(t,e,i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M){var C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K,q,J,Z,Q,$,tt;this.active&&(this.renderer.setPipeline(this),t.displayTexture?C=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?C=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(C=t.tileset.image.dataSource[0]),C&&(this.setTexture2D(C.glTexture,1),this.setNormalMapRotation(l),I=this._tempMatrix1,R=this._tempMatrix2,L=this._tempMatrix3,k=m/i+E,D=v/n+P,F=(m+x)/i+E,N=(v+b)/n+P,B=o,U=a,G=-g,Y=-y,t.isCropped&&(X=t._crop,B=X.width,U=X.height,o=X.width,a=X.height,m=X.x,v=X.y,z=m,W=v,c&&(z=x-X.x-X.width),f&&!e.isRenderTexture&&(W=b-X.y-X.height),k=z/i+E,D=W/n+P,F=(z+X.width)/i+E,N=(W+X.height)/n+P,G=-g+m,Y=-y+v),f^=e.isRenderTexture?1:0,c&&(B*=-1,G+=o),f&&(U*=-1,Y+=a),j=G+B,V=Y+U,R.applyITRS(s,r,l,h,u),I.copyFrom(O.matrix),M?(I.multiplyWithOffset(M,-O.scrollX*d,-O.scrollY*p),R.e=s,R.f=r,I.multiply(R,L)):(R.e-=O.scrollX*d,R.f-=O.scrollY*p,I.multiply(R,L)),H=L.getX(G,Y),K=L.getY(G,Y),q=L.getX(G,V),J=L.getY(G,V),Z=L.getX(j,V),Q=L.getY(j,V),$=L.getX(j,Y),tt=L.getY(j,Y),O.roundPixels&&(H=Math.round(H),K=Math.round(K),q=Math.round(q),J=Math.round(J),Z=Math.round(Z),Q=Math.round(Q),$=Math.round($),tt=Math.round(tt)),this.setTexture2D(e,0),this.batchQuad(H,K,q,J,Z,Q,$,tt,k,D,F,N,_,w,T,S,A,e,0)))},setNormalMap:function(t){if(this.active&&t){var e;t.texture&&(e=t.texture.dataSource[t.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(t.defaultPipeline)}},setNormalMapRotation:function(t){var e,i,n,s=this.inverseRotationMatrix;t?(e=-t,i=Math.cos(e),n=Math.sin(e),s[1]=n,s[3]=-n,s[0]=s[4]=i):(s[0]=s[4]=1,s[1]=s[3]=0),this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,s)},batchSprite:function(t,e,i){if(this.active){var n=t.texture.dataSource[t.frame.sourceIndex];n&&(this.renderer.setPipeline(this),this.setTexture2D(n.glTexture,1),this.setNormalMapRotation(t.rotation),r.prototype.batchSprite.call(this,t,e,i))}}});a.LIGHT_COUNT=o,t.exports=a},function(t,e,i){var n=i(52),s=function(t){var e,i,s,r,o,a,h,u,l=t.config;l.hideBanner||(e="WebGL",l.renderType===n.CANVAS?e="Canvas":l.renderType===n.HEADLESS&&(e="Headless"),i=l.audio,s=t.device.audio,r=!s.webAudio||i&&i.disableWebAudio?i&&i.noAudio||!s.webAudio&&!s.audioData?"No Audio":"HTML5 Audio":"Web Audio",t.device.browser.ie?window.console:(o="",a=[o],Array.isArray(l.bannerBackgroundColor)?(l.bannerBackgroundColor.forEach(function(t){o=o.concat("%c "),a.push("background: "+t),h=t}),a[a.length-1]="color: "+l.bannerTextColor+"; background: "+h):(o=o.concat("%c "),a.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor)),a.push("background: #fff"),l.gameTitle&&(o=o.concat(l.gameTitle),l.gameVersion&&(o=o.concat(" v"+l.gameVersion)),l.hidePhaser||(o=o.concat(" / "))),u="-FB",l.hidePhaser||(o=o.concat("Phaser v"+n.VERSION+u+" ("+e+" | "+r+")")),o=o.concat(" %c "+l.gameURL),a[0]=o))};t.exports=s},function(t,e,i){var n=i(0),s=i(6),r=i(2),o=i(499),a=new n({initialize:function(t,e){this.game=t,this.raf=new o,this.started=!1,this.running=!1,this.minFps=s(e,"min",5),this.targetFps=s(e,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=r,this.forceSetTimeOut=s(e,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=s(e,"deltaHistory",10),this.panicMax=s(e,"panicMax",120),this.rawDelta=0},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t,e=window.performance.now();for(this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0,this.frame=0,t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=Math.min(this._target,this.deltaHistory[t]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut)},step:function(t){var e,i,n,s,r,o,a,h=t-this.lastTime;for(h<0&&(h=0),this.rawDelta=h,e=this.deltaIndex,i=this.deltaHistory,n=this.deltaSmoothingMax,s=h,(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=i[e],s=Math.min(s,this._min)),i[e]=s,this.deltaIndex++,this.deltaIndex>n&&(this.deltaIndex=0),r=0,o=0;o<n;o++)r+=i[o];r/=n,this.delta=r,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++,a=r/this._target,this.callback(t,r,a),this.lastTime=t,this.frame++},tick:function(){this.step(window.performance.now())},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step(window.performance.now())},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=r,this.raf=null,this.game=null}});t.exports=a},function(t,e,i){var n=i(0),s=i(2),r=new n({initialize:function(){this.isRunning=!1,this.callback=s,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0;var t=this;this.step=function e(){var i=window.performance.now();t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.requestAnimationFrame(e)},this.stepTimeout=function i(){var e=Date.now(),n=Math.max(16+t.lastTime-e,0);t.lastTime=t.tick,t.tick=e,t.callback(e),t.timeOutID=window.setTimeout(i,n)}},start:function(t,e){this.isRunning||(this.callback=t,this.isSetTimeOut=e,this.isRunning=!0,this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=s}});t.exports=r},function(t,e,i){var n=i(54),s=function(t){var e,i,s,r=t.events;document.hidden!==undefined?e="visibilitychange":(i=["webkit","moz","ms"],i.forEach(function(t){document[t+"Hidden"]!==undefined&&(document.hidden=function(){return document[t+"Hidden"]},e=t+"visibilitychange")})),s=function(t){document.hidden||"pause"===t.type?r.emit(n.HIDDEN):r.emit(n.VISIBLE)},e&&document.addEventListener(e,s,!1),window.onblur=function(){r.emit(n.BLUR)},window.onfocus=function(){r.emit(n.FOCUS)},window.focus&&t.config.autoFocus&&window.focus()};t.exports=s},function(t,e,i){var n=i(502),s=i(43),r=i(6),o=function(t){var e,i,o,a,h,u=r(t,"data",[]),l=r(t,"canvas",null),c=r(t,"palette",n),f=r(t,"pixelWidth",1),d=r(t,"pixelHeight",f),p=r(t,"resizeCanvas",!0),g=r(t,"clearCanvas",!0),y=r(t,"preRender",null),m=r(t,"postRender",null),v=Math.floor(Math.abs(u[0].length*f)),x=Math.floor(Math.abs(u.length*d));for(l||(l=s.create2D(this,v,x),p=!1,g=!1),p&&(l.width=v,l.height=x),e=l.getContext("2d"),g&&e.clearRect(0,0,v,x),y&&y(l,e),i=0;i<u.length;i++)for(o=u[i],a=0;a<o.length;a++)"."!==(h=o[a])&&" "!==h&&(e.fillStyle=c[h],e.fillRect(a*f,i*d,f,d));return m&&m(l,e),l};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(t,e,i){var n=i(0),s=i(476),r=i(148),o=i(4),a=new n({Extends:r,initialize:function(t,e,i,n){r.call(this,"CubicBezierCurve"),Array.isArray(t)&&(n=new o(t[6],t[7]),i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i,this.p3=n},getStartPoint:function(t){return t===undefined&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){var i,n,r,a;return e===undefined&&(e=new o),i=this.p0,n=this.p1,r=this.p2,a=this.p3,e.set(s(t,i.x,n.x,r.x,a.x),s(t,i.y,n.y,r.y,a.y))},draw:function(t,e){var i,n;for(e===undefined&&(e=32),i=this.getPoints(e),t.beginPath(),t.moveTo(this.p0.x,this.p0.y),n=1;n<i.length;n++)t.lineTo(i[n].x,i[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),n=new o(e[2],e[3]),s=new o(e[4],e[5]),r=new o(e[6],e[7]);return new a(i,n,s,r)},t.exports=a},function(t,e,i){var n=i(0),s=i(148),r=i(78),o=i(6),a=i(299),h=i(4),u=new n({Extends:s,initialize:function(t,e,i,n,a,u,l,c){if("object"==typeof t){var f=t;t=o(f,"x",0),e=o(f,"y",0),i=o(f,"xRadius",0),n=o(f,"yRadius",i),a=o(f,"startAngle",0),u=o(f,"endAngle",360),l=o(f,"clockwise",!1),c=o(f,"rotation",0)}else n===undefined&&(n=i),a===undefined&&(a=0),u===undefined&&(u=360),l===undefined&&(l=!1),c===undefined&&(c=0);s.call(this,"EllipseCurve"),this.p0=new h(t,e),this._xRadius=i,this._yRadius=n,this._startAngle=r(a),this._endAngle=r(u),this._clockwise=l,this._rotation=r(c)},getStartPoint:function(t){return t===undefined&&(t=new h),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,e){var i,n,s,r,o,a,u,l,c,f;for(e===undefined&&(e=new h),i=2*Math.PI,n=this._endAngle-this._startAngle,s=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;n>i;)n-=i;return n<Number.EPSILON&&(n=s?0:i),this._clockwise&&!s&&(n===i?n=-i:n-=i),r=this._startAngle+t*n,o=this.p0.x+this._xRadius*Math.cos(r),a=this.p0.y+this._yRadius*Math.sin(r),0!==this._rotation&&(u=Math.cos(this._rotation),l=Math.sin(this._rotation),c=o-this.p0.x,f=a-this.p0.y,o=c*u-f*l+this.p0.x,a=c*l+f*u+this.p0.y),e.set(o,a)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=2*t,this},setHeight:function(t){return this.yRadius=2*t,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return a(this._startAngle)},set:function(t){this._startAngle=r(t)}},endAngle:{get:function(){return a(this._endAngle)},set:function(t){this._endAngle=r(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return a(this._rotation)},set:function(t){this._rotation=r(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});u.fromJSON=function(t){return new u(t)},t.exports=u},function(t,e,i){var n=i(0),s=i(148),r=i(306),o=i(18),a=i(4),h=new a,u=new n({Extends:s,initialize:function(t,e){s.call(this,"LineCurve"),Array.isArray(t)&&(e=new a(t[2],t[3]),t=new a(t[0],t[1])),this.p0=t,this.p1=e},getBounds:function(t){return t===undefined&&(t=new o),r([this.p0,this.p1],t)},getStartPoint:function(t){return t===undefined&&(t=new a),t.copy(this.p0)},getResolution:function(t){return t===undefined&&(t=1),t},getPoint:function(t,e){return e===undefined&&(e=new a),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(){return h.copy(this.p1).subtract(this.p0).normalize()},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});u.fromJSON=function(t){var e=t.points,i=new a(e[0],e[1]),n=new a(e[2],e[3]);return new u(i,n)},t.exports=u},function(t,e,i){var n=i(0),s=i(148),r=i(477),o=i(4),a=new n({Extends:s,initialize:function(t,e,i){s.call(this,"QuadraticBezier"),Array.isArray(t)&&(i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i},getStartPoint:function(t){return t===undefined&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){var i,n,s;return e===undefined&&(e=new o),i=this.p0,n=this.p1,s=this.p2,e.set(r(t,i.x,n.x,s.x),r(t,i.y,n.y,s.y))},draw:function(t,e){var i,n;for(e===undefined&&(e=32),i=this.getPoints(e),t.beginPath(),t.moveTo(this.p0.x,this.p0.y),n=1;n<i.length;n++)t.lineTo(i[n].x,i[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),n=new o(e[2],e[3]),s=new o(e[4],e[5]);return new a(i,n,s)},t.exports=a},function(t,e,i){var n=i(297),s=i(0),r=i(148),o=i(4),a=new s({Extends:r,initialize:function(t){t===undefined&&(t=[]),r.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){var e,i;for(e=0;e<t.length;e++)i=new o,"number"==typeof t[e]?(i.x=t[e],i.y=t[e+1],e++):Array.isArray(t[e])?(i.x=t[e][0],i.y=t[e][1]):(i.x=t[e].x,i.y=t[e].y),this.points.push(i);return this},addPoint:function(t,e){var i=new o(t,e);return this.points.push(i),i},getStartPoint:function(t){return t===undefined&&(t=new o),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){var i,s,r,a,h,u,l,c;return e===undefined&&(e=new o),i=this.points,s=(i.length-1)*t,r=Math.floor(s),a=s-r,h=i[0===r?r:r-1],u=i[r],l=i[r>i.length-2?i.length-1:r+1],c=i[r>i.length-3?i.length-1:r+2],e.set(n(a,h.x,u.x,l.x,c.x),n(a,h.y,u.y,l.y,c.y))},toJSON:function(){var t,e=[];for(t=0;t<this.points.length;t++)e.push(this.points[t].x),e.push(this.points[t].y);return{type:this.type,points:e}}});a.fromJSON=function(t){return new a(t.points)},t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(68);n.ColorToRGBA=i(1234),n.ComponentToHex=i(509),n.GetColor=i(291),n.GetColor32=i(446),n.HexStringToColor=i(445),n.HSLToColor=i(1235),n.HSVColorWheel=i(1236),n.HSVToRGB=i(292),n.HueToComponent=i(510),n.IntegerToColor=i(448),n.IntegerToRGB=i(449),n.Interpolate=i(1237),n.ObjectToColor=i(450),n.RandomRGB=i(1238),n.RGBStringToColor=i(451),n.RGBToHSV=i(447),n.RGBToString=i(1239),n.ValueToColor=i(290),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t};t.exports=i},function(t,e,i){var n=i(166),s=function(t){if("complete"===document.readyState||"interactive"===document.readyState)return void t();var e=function(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?n.cordova&&!n.cocoonJS?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)};t.exports=s},function(t,e,i){var n=i(307),s=function(t,e){var i=window.screen,s=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);if(s&&"string"==typeof s.type)return s.type;if("string"==typeof s)return s;if(i)return i.height>i.width?n.PORTRAIT:n.LANDSCAPE;if("number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?n.PORTRAIT:n.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return n.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return n.LANDSCAPE}return e>t?n.PORTRAIT:n.LANDSCAPE};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e;return""!==t&&("string"==typeof t?e=document.getElementById(t):t&&1===t.nodeType&&(e=t)),e||(e=document.body),e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i="";try{window.DOMParser?(e=new DOMParser,i=e.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.loadXML(t))}catch(n){i=null}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length?i:null};t.exports=i},function(t,e,i){var n=i(0),s=i(520),r=i(15),o=i(95),a=i(54),h=i(521),u=i(522),l=i(523),c=i(524),f=i(93),d=i(486),p=new n({initialize:function(t,e){var i,n;for(this.game=t,this.scaleManager,this.canvas,this.config=e,this.enabled=!0,this.events=new r,this.queue=[],this.domCallbacks={up:[],down:[],move:[],upOnce:[],downOnce:[],moveOnce:[]},this.isOver=!0,this._hasUpCallback=!1,this._hasDownCallback=!1,this._hasMoveCallback=!1,this._customCursor="",this._setCursor=0,this.defaultCursor="",this.keyboard=e.inputKeyboard?new h(this):null,this.mouse=e.inputMouse?new u(this):null,this.touch=e.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers,e.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2),i=0;i<=this.pointersTotal;i++)n=new l(this,i),n.smoothFactor=e.inputSmoothFactor,this.pointers.push(n);this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.dirty=!1,this.globalTopOnly=!0,this.ignoreEvents=!1,this.useQueue=e.inputQueue,this.time=0,this._updatedThisFrame=!1,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new f,this._tempMatrix2=new f,t.events.once(a.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(o.MANAGER_BOOT),this.useQueue?this.game.events.on(a.PRE_STEP,this.legacyUpdate,this):this.game.events.on(a.PRE_STEP,this.preStep,this),this.game.events.on(a.POST_STEP,this.postUpdate,this),this.game.events.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=!0,this.events.emit(o.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=!1,this.events.emit(o.GAME_OUT,t)},update:function(t){var e,i;for(this._updatedThisFrame||(this._setCursor=0,this._updatedThisFrame=!0),this.events.emit(o.MANAGER_UPDATE),this.ignoreEvents=!1,this.dirty=!0,e=this.pointers,i=0;i<this.pointersTotal;i++)e[i].reset(t)},preStep:function(t){this.time=t},legacyUpdate:function(t){var e,i,n,r,a,h,u;for(this.time=t,this._setCursor=0,this.events.emit(o.MANAGER_UPDATE),this.ignoreEvents=!1,this.dirty=!1,i=this.queue.length,n=this.pointers,e=0;e<this.pointersTotal;e++)n[e].reset(t);if(this.enabled&&0!==i){for(this.dirty=!0,r=this.queue.splice(0,i),a=this.mousePointer,e=0;e<i;e+=2)switch(h=r[e],u=r[e+1],h){case s.MOUSE_DOWN:a.down(u,t);break;case s.MOUSE_MOVE:a.move(u,t);break;case s.MOUSE_UP:a.up(u,t);break;case s.TOUCH_START:this.startPointer(u,t);break;case s.TOUCH_MOVE:this.updatePointer(u,t);break;case s.TOUCH_END:this.stopPointer(u,t);break;case s.TOUCH_CANCEL:this.cancelPointer(u,t);break;case s.POINTER_LOCK_CHANGE:this.events.emit(o.POINTERLOCK_CHANGE,u,this.mouse.locked)}for(e=0;e<this.pointersTotal;e++)n[e].updateMotion()}else for(e=0;e<this.pointersTotal;e++)n[e].updateMotion()},postUpdate:function(){1===this._setCursor?this.canvas.style.cursor=this._customCursor:2===this._setCursor&&(this.canvas.style.cursor=this.defaultCursor),this.dirty=!1,this._updatedThisFrame=!1},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this._setCursor=1,this._customCursor=t.cursor)},resetCursor:function(t){t.cursor&&(this._setCursor=2)},startPointer:function(t,e){var i,n,s,r,o=this.pointers,a=[];for(i=0;i<t.changedTouches.length;i++)for(n=t.changedTouches[i],s=1;s<this.pointersTotal;s++)if(r=o[s],!r.active){r.touchstart(n,e),this.activePointer=r,a.push(r);break}return a},updatePointer:function(t,e){var i,n,s,r,o=this.pointers,a=[];for(i=0;i<t.changedTouches.length;i++)for(n=t.changedTouches[i],s=1;s<this.pointersTotal;s++)if(r=o[s],r.active&&r.identifier===n.identifier){r.touchmove(n,e),this.activePointer=r,a.push(r);break}return a},stopPointer:function(t,e){var i,n,s,r,o=this.pointers,a=[];for(i=0;i<t.changedTouches.length;i++)for(n=t.changedTouches[i],s=1;s<this.pointersTotal;s++)if(r=o[s],r.active&&r.identifier===n.identifier){r.touchend(n,e),a.push(r);break}return a},cancelPointer:function(t,e){var i,n,s,r,o=this.pointers,a=[];for(i=0;i<t.changedTouches.length;i++)for(n=t.changedTouches[i],s=1;s<this.pointersTotal;s++)if(r=o[s],r.active&&r.identifier===n.identifier){r.touchend(n,e),a.push(r);break}return a},addPointer:function(t){var e,i,n,s;for(t===undefined&&(t=1),e=[],this.pointersTotal+t>10&&(t=10-this.pointersTotal),i=0;i<t;i++)n=this.pointers.length,s=new l(this,n),s.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(s),this.pointersTotal++,e.push(s);return e},processDomCallbacks:function(t,e,i){var n=0;for(n=0;n<t.length;n++)t[n](i);for(n=0;n<e.length;n++)e[n](i);return e.length>0},updateInputPlugins:function(t,e){var i,n,s=this.game.scene.getScenes(!0,!0);for(i=0;i<s.length;i++)n=s[i],n.sys.input&&n.sys.input.update(t,e)},queueTouchStart:function(t){var e,i;this.useQueue?(this.queue.push(s.TOUCH_START,t),this._hasDownCallback&&(e=this.domCallbacks,this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t),e.downOnce=[])):this.enabled&&(this.update(t.timeStamp),i=this.startPointer(t,t.timeStamp),i.forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueTouchMove:function(t){var e,i;this.useQueue?(this.queue.push(s.TOUCH_MOVE,t),this._hasMoveCallback&&(e=this.domCallbacks,this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t),e.moveOnce=[])):this.enabled&&(this.update(t.timeStamp),i=this.updatePointer(t,t.timeStamp),i.forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueTouchEnd:function(t){var e,i;this.useQueue?(this.queue.push(s.TOUCH_END,t),this._hasUpCallback&&(e=this.domCallbacks,this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t),e.upOnce=[])):this.enabled&&(this.update(t.timeStamp),i=this.stopPointer(t,t.timeStamp),i.forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueTouchCancel:function(t){if(this.useQueue)this.queue.push(s.TOUCH_CANCEL,t);else if(this.enabled){this.update(t.timeStamp);var e=this.cancelPointer(t,t.timeStamp);e.forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta)}},queueMouseDown:function(t){if(this.useQueue){if(this.queue.push(s.MOUSE_DOWN,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t),e.downOnce=[]}}else this.enabled&&(this.update(t.timeStamp),this.mousePointer.down(t,t.timeStamp),this.mousePointer.updateMotion(),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueMouseMove:function(t){if(this.useQueue){if(this.queue.push(s.MOUSE_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t),e.moveOnce=[]}}else this.enabled&&(this.update(t.timeStamp),this.mousePointer.move(t,t.timeStamp),this.mousePointer.updateMotion(),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueMouseUp:function(t){if(this.useQueue){if(this.queue.push(s.MOUSE_UP,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t),e.upOnce=[]}}else this.enabled&&(this.update(t.timeStamp),this.mousePointer.up(t,t.timeStamp),this.mousePointer.updateMotion(),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},addUpCallback:function(t,e){return e===undefined&&(e=!0),e?this.domCallbacks.upOnce.push(t):this.domCallbacks.up.push(t),this._hasUpCallback=!0,this},addDownCallback:function(t,e){return e===undefined&&(e=!0),e?this.domCallbacks.downOnce.push(t):this.domCallbacks.down.push(t),this._hasDownCallback=!0,this},addMoveCallback:function(t,e){return e===undefined&&(e=!1),e?this.domCallbacks.moveOnce.push(t):this.domCallbacks.move.push(t),this._hasMoveCallback=!0,this},inputCandidate:function(t,e){var i,n,s=t.input;if(!s||!s.enabled||!t.willRender(e))return!1;if(i=!0,n=t.parentContainer)do{if(!n.willRender(e)){i=!1;break}n=n.parentContainer}while(n);return i},hitTest:function(t,e,i,n){var s,r,o,a,h,u,l,c,f,p,g,y;for(n===undefined&&(n=this._tempHitTest),s=this._tempPoint,r=i.scrollX,o=i.scrollY,n.length=0,a=t.x,h=t.y,1!==i.resolution&&(a+=i._x,h+=i._y),i.getWorldPoint(a,h,s),t.worldX=s.x,t.worldY=s.y,u={x:0,y:0},l=this._tempMatrix,c=this._tempMatrix2,f=0;f<e.length;f++)p=e[f],this.inputCandidate(p,i)&&(g=s.x+r*p.scrollFactorX-r,y=s.y+o*p.scrollFactorY-o,p.parentContainer?(p.getWorldTransformMatrix(l,c),l.applyInverse(g,y,u)):d(g,y,p.x,p.y,p.rotation,p.scaleX,p.scaleY,u),this.pointWithinHitArea(p,u.x,u.y)&&n.push(p));return n},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var n=t.input;return!(!n||!n.hitAreaCallback(n.hitArea,e,i,t))&&(n.localX=e,n.localY=i,!0)},pointWithinInteractiveObject:function(t,e,i){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t))},transformPointer:function(t,e,i,n){var s,r,o,a=t.position,h=t.prevPosition;h.x=a.x,h.y=a.y,s=this.scaleManager.transformX(e),r=this.scaleManager.transformY(i),o=t.smoothFactor,n&&0!==o?(a.x=s*o+h.x*(1-o),a.y=r*o+h.y*(1-o)):(a.x=s,a.y=r)},destroy:function(){this.events.removeAllListeners(),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.domCallbacks={},this.pointers=[],this.queue=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});t.exports=p},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,TOUCH_CANCEL:7,POINTER_LOCK_CHANGE:6};t.exports=i},function(t,e,i){var n=i(309),s=i(0),r=i(54),o=i(95),a=i(217),h=i(0),u=new s({initialize:function(t){this.manager=t,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=h,this.onKeyUp=h,t.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputKeyboard,this.target=t.inputKeyboardEventTarget,this.addCapture(t.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(r.POST_STEP,this.postUpdate,this)},startListeners:function(){var t,e=this;this.onKeyDown=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.useQueue||e.manager.events.emit(o.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},this.onKeyUp=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.useQueue||e.manager.events.emit(o.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},(t=this.target)&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var t=this.target;t.removeEventListener("keydown",this.onKeyDown,!1),t.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(t){var e,i,n;for("string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]),e=this.captures,i=0;i<t.length;i++)n=t[i],"string"==typeof n&&(n=a[n.trim().toUpperCase()]),-1===e.indexOf(n)&&e.push(n);this.preventDefault=e.length>0},removeCapture:function(t){var e,i,s;for("string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]),e=this.captures,i=0;i<t.length;i++)s=t[i],"string"==typeof s&&(s=a[s.toUpperCase()]),n(e,s);this.preventDefault=e.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(r.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});t.exports=u},function(t,e,i){var n=i(0),s=i(295),r=i(95),o=i(0),a=new n({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseOver=o,this.onMouseOut=o,this.pointerLockChange=o,t.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.capture=t.inputMouseCapture,this.target||(this.target=this.manager.game.canvas),t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},requestPointerLock:function(){if(s.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){s.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t,e,i,n=this,r=this.manager.canvas,o=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueMouseMove(t),n.capture&&t.preventDefault())},this.onMouseDown=function(t){o&&window.focus(),!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueMouseDown(t),n.capture&&t.target===r&&t.preventDefault())},this.onMouseUp=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueMouseUp(t),n.capture&&t.target===r&&t.preventDefault())},this.onMouseOver=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&n.manager.setCanvasOver(t)},this.onMouseOut=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&n.manager.setCanvasOut(t)},(t=this.target)&&(e={passive:!0},i={passive:!1},t.addEventListener("mousemove",this.onMouseMove,this.capture?i:e),t.addEventListener("mousedown",this.onMouseDown,this.capture?i:e),t.addEventListener("mouseup",this.onMouseUp,this.capture?i:e),t.addEventListener("mouseover",this.onMouseOver,this.capture?i:e),t.addEventListener("mouseout",this.onMouseOut,this.capture?i:e),window&&(window.addEventListener("mousedown",this.onMouseDown,i),window.addEventListener("mouseup",this.onMouseUp,i)),s.pointerLock&&(this.pointerLockChange=function(t){var e=n.target;n.locked=document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e,n.manager.queue.push(t)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0)},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mouseover",this.onMouseOver),t.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp)),s.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=a},function(t,e,i){var n=i(469),s=i(0),r=i(109),o=i(296),a=i(478),h=i(4),u=new s({initialize:function(t,e){this.manager=t,this.id=e,this.event,this.downElement,this.upElement,this.camera=null,this.buttons=0,this.position=new h,this.prevPosition=new h,this.midPoint=new h(-1,-1),this.velocity=new h,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===e,this.time=0},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},reset:function(t){this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.time=t,this.movementX=0,this.movementY=0},updateMotion:function(){var t,e,i,s,r=this.position.x,h=this.position.y,u=this.midPoint.x,l=this.midPoint.y;r===u&&h===l||(t=a(this.motionFactor,u,r),e=a(this.motionFactor,l,h),o(t,r,.1)&&(t=r),o(e,h,.1)&&(e=h),this.midPoint.set(t,e),i=r-t,s=h-e,this.velocity.set(i,s),this.angle=n(t,e,r,h),this.distance=Math.sqrt(i*i+s*s))},up:function(t,e){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e),this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!1},down:function(t,e){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e),this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!1},move:function(t,e){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.manager.mouse.locked&&(this.movementX+=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY+=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.justMoved=!0,this.moveTime=e,this.dirty=!0,this.wasTouch=!1},touchstart:function(t,e){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=t,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e,this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!0,this.wasCanceled=!1},touchmove:function(t,e){this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.justMoved=!0,this.moveTime=e,this.dirty=!0,this.wasTouch=!0},touchend:function(t,e){this.buttons=0,this.event=t,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e,this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1},touchcancel:function(t){this.buttons=0,this.event=t,this.primaryDown=!1,this.justUp=!1,this.isDown=!1,this.dirty=!0,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},getDistance:function(){return this.isDown?r(this.downX,this.downY,this.x,this.y):r(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?n(this.downX,this.downY,this.x,this.y):n(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(t,e){var i,n,s,r,o,h;for(t===undefined&&(t=10),e===undefined&&(e=[]),i=this.prevPosition.x,n=this.prevPosition.y,s=this.position.x,r=this.position.y,o=0;o<t;o++)h=1/t*o,e[o]={x:a(h,i,s),y:a(h,n,r)};return e},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}}});t.exports=u},function(t,e,i){var n=i(0),s=i(95),r=i(2),o=new n({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=r,this.onTouchMove=r,this.onTouchEnd=r,this.onTouchCancel=r,this.onTouchOver=r,this.onTouchOut=r,t.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),this.enabled&&this.target&&this.startListeners()},startListeners:function(){var t,e,i,n=this,s=this.manager.canvas,r=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(t){r&&window.focus(),!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueTouchStart(t),n.capture&&t.target===s&&t.preventDefault())},this.onTouchMove=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueTouchMove(t),n.capture&&t.preventDefault())},this.onTouchEnd=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueTouchEnd(t),n.capture&&t.target===s&&t.preventDefault())},this.onTouchCancel=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&(n.manager.queueTouchCancel(t),n.capture&&t.preventDefault())},this.onTouchOver=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&n.manager.setCanvasOver(t)},this.onTouchOut=function(t){!t.defaultPrevented&&n.enabled&&n.manager&&n.manager.setCanvasOut(t)},(t=this.target)&&(e={passive:!0},i={passive:!1},t.addEventListener("touchstart",this.onTouchStart,this.capture?i:e),t.addEventListener("touchmove",this.onTouchMove,this.capture?i:e),t.addEventListener("touchend",this.onTouchEnd,this.capture?i:e),t.addEventListener("touchcancel",this.onTouchCancel,this.capture?i:e),t.addEventListener("touchover",this.onTouchOver,this.capture?i:e),t.addEventListener("touchout",this.onTouchOut,this.capture?i:e),window&&(window.addEventListener("touchstart",this.onTouchStart,i),window.addEventListener("touchend",this.onTouchEnd,i)),this.enabled=!0)},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("touchcancel",this.onTouchCancel),t.removeEventListener("touchover",this.onTouchOver),t.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchend",this.onTouchEnd))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=o},function(t,e,i){var n=i(0),s=i(54),r=i(15),o=i(14),a=i(27),h=i(7),u=i(3),l=i(26),c=i(309),f=new n({Extends:r,initialize:function(t){r.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted?this.boot():t.events.once(s.BOOT,this.boot,this)},boot:function(){var t,e,i,n,r,o,a,h=this.game.config,l=h.installGlobalPlugins;for(l=l.concat(this._pendingGlobal),t=0;t<l.length;t++)e=l[t],i=u(e,"key",null),n=u(e,"plugin",null),r=u(e,"start",!1),o=u(e,"mapping",null),a=u(e,"data",null),i&&n&&this.install(i,n,r,o,a);for(l=h.installScenePlugins,l=l.concat(this._pendingScene),t=0;t<l.length;t++)e=l[t],i=u(e,"key",null),n=u(e,"plugin",null),o=u(e,"mapping",null),i&&n&&this.installScenePlugin(i,n,o);this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(s.DESTROY,this.destroy,this)},addToScene:function(t,e,i){var n,s,r,o,a,h,u,c=this.game,f=t.scene,d=t.settings.map,p=t.settings.isBooted;for(n=0;n<e.length;n++)s=e[n],c[s]?(t[s]=c[s],d.hasOwnProperty(s)&&(f[d[s]]=t[s])):"game"===s&&d.hasOwnProperty(s)&&(f[d[s]]=c);for(o=0;o<i.length;o++)for(r=i[o],n=0;n<r.length;n++)s=r[n],l.hasCore(s)&&(a=l.getCore(s),h=new a.plugin(f,this),t[a.mapping]=h,a.custom?f[a.mapping]=h:d.hasOwnProperty(a.mapping)&&(f[d[a.mapping]]=h),p&&h.boot());for(r=this.plugins,n=0;n<r.length;n++)u=r[n],u.mapping&&(f[u.mapping]=u.plugin)},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t=t.concat(this.scenePlugins)},installScenePlugin:function(t,e,i,n){if("function"==typeof e&&!l.hasCore(t)&&(l.register(t,e,i,!0),this.scenePlugins.push(t),n)){var s=new e(n,this);n.sys[t]=s,i&&""!==i&&(n[i]=s),s.boot()}},install:function(t,e,i,n,s){if(i===undefined&&(i=!1),n===undefined&&(n=null),s===undefined&&(s=null),"function"!=typeof e)return null;if(l.hasCustom(t))return null;if(null!==n&&(i=!0),this.game.isBooted){if(l.registerCustom(t,e,n,s),i)return this.start(t)}else this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:n,data:s});return null},getIndex:function(t){var e,i,n=this.plugins;for(e=0;e<n.length;e++)if(i=n[e],i.key===t)return e;return-1},getEntry:function(t){var e=this.getIndex(t);if(-1!==e)return this.plugins[e]},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){e===undefined&&(e=t);var i=this.getEntry(e);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(t,e)),i?i.plugin:null},createEntry:function(t,e){var i,n=l.getCustom(t);return n&&(i=new n.plugin(this),n={key:e,plugin:i,active:!0,mapping:n.mapping,data:n.data},this.plugins.push(n),i.init(n.data),i.start()),n},stop:function(t){var e=this.getEntry(t);return e&&e.active&&(e.active=!1,e.plugin.stop()),this},get:function(t,e){var i,n;return e===undefined&&(e=!0),i=this.getEntry(t),i?i.plugin:(n=this.getClass(t))&&e?(i=this.createEntry(t,t),i?i.plugin:null):n||null},getClass:function(t){return l.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);e&&c(this.plugins,e),l.removeCustom(t)},removeScenePlugin:function(t){c(this.scenePlugins,t),l.remove(t)},registerGameObject:function(t,e,i){return e&&h.register(t,e),i&&a.register(t,i),this},registerFileType:function(t,e,i){o.register(t,e),i&&i.sys.load&&(i.sys.load[t]=e)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});t.exports=f},function(t,e,i){var n=i(307),s=i(0),r=i(15),o=i(527),a=i(54),h=i(1293),u=i(517),l=i(512),c=i(2),f=i(18),d=i(528),p=i(167),g=i(4),y=new s({Extends:r,initialize:function(t){r.call(this),this.game=t,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=n.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=n.CENTER.NO_CENTER,this.orientation=n.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this._requestedFullscreenChange=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var t=this.game;this.canvas=t.canvas,this.fullscreen=t.device.fullscreen,this.scaleMode!==n.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===n.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),t.events.on(a.PRE_STEP,this.step,this),this.startListeners()},parseConfig:function(t){var e,i,s,r,o,a,h,u,c,f;this.getParent(t),this.getParentBounds(),e=t.width,i=t.height,s=t.scaleMode,r=t.resolution,o=t.zoom,a=t.autoRound,"string"==typeof e&&(h=this.parentSize.width,0===h&&(h=window.innerWidth),u=parseInt(e,10)/100,e=Math.floor(h*u)),"string"==typeof i&&(c=this.parentSize.height,0===c&&(c=window.innerHeight),f=parseInt(i,10)/100,i=Math.floor(c*f)),this.resolution=1,this.scaleMode=s,this.autoRound=a,this.autoCenter=t.autoCenter,this.resizeInterval=t.resizeInterval,a&&(e=Math.floor(e),i=Math.floor(i)),this.gameSize.setSize(e,i),o===n.ZOOM.MAX_ZOOM&&(o=this.getMaxZoom()),this.zoom=o,this.baseSize.setSize(e*r,i*r),a&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),t.minWidth>0&&this.displaySize.setMin(t.minWidth*o,t.minHeight*o),t.maxWidth>0&&this.displaySize.setMax(t.maxWidth*o,t.maxHeight*o),this.displaySize.setSize(e,i),this.orientation=l(e,i)},getParent:function(t){var e,i=t.parent;null!==i&&(this.parent=u(i),this.parentIsWindow=this.parent===document.body,t.expandParent&&t.scaleMode!==n.SCALE_MODE.NONE&&(e=this.parent.getBoundingClientRect(),(this.parentIsWindow||0===e.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",e=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==e.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))),t.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(t.fullscreenTarget)))},getParentBounds:function(){var t,e,i,n,s;return!!this.parent&&(t=this.parentSize,e=this.parent.getBoundingClientRect(),this.parentIsWindow&&this.game.device.os.iOS&&(e.height=h(!0)),i=this.resolution,n=e.width*i,s=e.height*i,(t.width!==n||t.height!==s)&&(t.setSize(n,s),!0))},lockOrientation:function(t){var e=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!e&&e(t)},setParentSize:function(t,e){return this.parentSize.setSize(t,e),this.refresh()},setGameSize:function(t,e){var i=this.autoRound,n=this.resolution;return i&&(t=Math.floor(t),e=Math.floor(e)),this.gameSize.resize(t,e),this.baseSize.resize(t*n,e*n),this.updateBounds(),this.displayScale.set(t/this.canvasBounds.width,e/this.canvasBounds.height),this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution),this.updateOrientation(),this.refresh()},resize:function(t,e){var i,n,s,r=this.zoom,a=this.resolution,h=this.autoRound;return h&&(t=Math.floor(t),e=Math.floor(e)),this.gameSize.resize(t,e),this.baseSize.resize(t*a,e*a),this.displaySize.setSize(t*r*a,e*r*a),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,i=this.canvas.style,n=t*r,s=e*r,h&&(n=Math.floor(n),s=Math.floor(s)),n===t&&s===e||(i.width=n+"px",i.height=s+"px"),this.getParentBounds(),this.updateCenter(),this.updateBounds(),this.displayScale.set(t/this.canvasBounds.width,e/this.canvasBounds.height),this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution),this.updateOrientation(),this},setZoom:function(t){return this.zoom=t,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this.refresh()},refresh:function(){return this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height),this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var t=l(this.width,this.height);t!==this.orientation&&(this.orientation=t,this.emit(o.ORIENTATION_CHANGE,t))}},updateScale:function(){var t,e,i=this.canvas.style,s=this.gameSize.width,r=this.gameSize.height,o=this.zoom,a=this.autoRound,h=1;this.scaleMode===n.SCALE_MODE.NONE?(this.displaySize.setSize(s*o*h,r*o*h),t=this.displaySize.width/h,e=this.displaySize.height/h,a&&(t=Math.floor(t),e=Math.floor(e)),o>1&&(i.width=t+"px",i.height=e+"px")):this.scaleMode===n.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width*h,this.displaySize.height*h),t=this.displaySize.width/h,e=this.displaySize.height/h,a&&(t=Math.floor(t),e=Math.floor(e)),this.canvas.width=t,this.canvas.height=e):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),t=this.displaySize.width/h,e=this.displaySize.height/h,a&&(t=Math.floor(t),e=Math.floor(e)),i.width=t+"px",i.height=e+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var t=p(this.parentSize.width,this.gameSize.width,0,!0),e=p(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(t,e),1)},updateCenter:function(){var t,e,i,s,r,o,a,h=this.autoCenter;h!==n.CENTER.NO_CENTER&&(t=this.canvas,e=t.style,i=t.getBoundingClientRect(),s=i.width,r=i.height,o=Math.floor((this.parentSize.width-s)/2),a=Math.floor((this.parentSize.height-r)/2),h===n.CENTER.CENTER_HORIZONTALLY?a=0:h===n.CENTER.CENTER_VERTICALLY&&(o=0),e.marginLeft=o+"px",e.marginTop=a+"px")},updateBounds:function(){var t=this.canvasBounds,e=this.canvas.getBoundingClientRect();t.x=e.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),t.y=e.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),t.width=e.width,t.height=e.height},transformX:function(t){return(t-this.canvasBounds.left)*this.displayScale.x},transformY:function(t){return(t-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(t){var e,i;if(t===undefined&&(t={navigationUI:"hide"}),e=this.fullscreen,!e.available)return void this.emit(o.FULLSCREEN_UNSUPPORTED);e.active||(i=this.getFullscreenTarget(),this._requestedFullscreenChange=!0,e.keyboard?i[e.request](Element.ALLOW_KEYBOARD_INPUT):i[e.request](t),this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN))},getFullscreenTarget:function(){var t,e;return this.fullscreenTarget||(t=document.createElement("div"),t.style.margin="0",t.style.padding="0",t.style.width="100%",t.style.height="100%",this.fullscreenTarget=t,this._createdFullscreenTarget=!0),this._createdFullscreenTarget&&(e=this.canvas.parentNode,e.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},stopFullscreen:function(){var t,e,i=this.fullscreen;if(!i.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;i.active&&(this._requestedFullscreenChange=!0,document[i.cancel]()),this._createdFullscreenTarget&&(t=this.fullscreenTarget)&&t.parentNode&&(e=t.parentNode,e.insertBefore(this.canvas,t),e.removeChild(t)),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(t){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(t)},startListeners:function(){var t,e=this,i=this.listeners;i.orientationChange=function(){e._checkOrientation=!0,e.dirty=!0},i.windowResize=function(){e.dirty=!0},window.addEventListener("orientationchange",i.orientationChange,!1),window.addEventListener("resize",i.windowResize,!1),this.fullscreen.available&&(i.fullScreenChange=function(t){return e.onFullScreenChange(t)},i.fullScreenError=function(t){return e.onFullScreenError(t)},t=["webkit","moz",""],t.forEach(function(t){document.addEventListener(t+"fullscreenchange",i.fullScreenChange,!1),document.addEventListener(t+"fullscreenerror",i.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",i.fullScreenChange,!1),document.addEventListener("MSFullscreenError",i.fullScreenError,!1))},onFullScreenChange:function(){this._requestedFullscreenChange||this.stopFullscreen(),this._requestedFullscreenChange=!1},onFullScreenError:function(){},step:function(t,e){this.parent&&(this._lastCheck+=e,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var t,e=this.listeners;window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1),t=["webkit","moz",""],t.forEach(function(t){document.removeEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(t+"fullscreenerror",e.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy(),this.fullscreenTarget=null},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===n.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===n.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});t.exports=y},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ENTER_FULLSCREEN:i(1288),FULLSCREEN_UNSUPPORTED:i(1289),LEAVE_FULLSCREEN:i(1290),ORIENTATION_CHANGE:i(1291),RESIZE:i(1292)}},function(t,e,i){var n=i(37),s=i(0),r=i(167),o=i(4),a=new s({initialize:function(t,e,i,n){t===undefined&&(t=0),e===undefined&&(e=t),i===undefined&&(i=0),n===undefined&&(n=null),this._width=t,this._height=e,this._parent=n,this.aspectMode=i,this.aspectRatio=0===e?1:t/e,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},setAspectMode:function(t){return t===undefined&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this.snapTo.set(t,e),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this.minWidth=n(t,0,this.maxWidth),this.minHeight=n(e,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(t,e){return t===undefined&&(t=Number.MAX_VALUE),e===undefined&&(e=t),this.maxWidth=n(t,this.minWidth,Number.MAX_VALUE),this.maxHeight=n(e,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,e){switch(t===undefined&&(t=0),e===undefined&&(e=t),this.aspectMode){case a.NONE:this._width=this.getNewWidth(r(t,this.snapTo.x)),this._height=this.getNewHeight(r(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(r(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(r(e,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(t,e,!0);break;case a.ENVELOP:this.constrain(t,e,!1)}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,e){return this._width=this.getNewWidth(r(t,this.snapTo.x)),this._height=this.getNewHeight(r(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(t,e){return e===undefined&&(e=!0),t=n(t,this.minWidth,this.maxWidth),e&&this._parent&&t>this._parent.width&&(t=Math.max(this.minWidth,this._parent.width)),t},getNewHeight:function(t,e){return e===undefined&&(e=!0),t=n(t,this.minHeight,this.maxHeight),e&&this._parent&&t>this._parent.height&&(t=Math.max(this.minHeight,this._parent.height)),t},constrain:function(t,e,i){var n,s;return t===undefined&&(t=0),e===undefined&&(e=t),i===undefined&&(i=!0),t=this.getNewWidth(t),e=this.getNewHeight(e),n=this.snapTo,s=0===e?1:t/e,i&&this.aspectRatio>s||!i&&this.aspectRatio<s?(t=r(t,n.x),e=t/this.aspectRatio,n.y>0&&(e=r(e,n.y),t=e*this.aspectRatio)):(i&&this.aspectRatio<s||!i&&this.aspectRatio>s)&&(e=r(e,n.y),t=e*this.aspectRatio,n.x>0&&(t=r(t,n.x),e=t*(1/this.aspectRatio))),this._width=t,this._height=e,this},fitTo:function(t,e){return this.constrain(t,e,!0)},envelop:function(t,e){return this.constrain(t,e,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,t.exports=a},function(t,e,i){var n=i(0),s=i(218),r=i(30),o=i(54),a=i(6),h=i(149),u=i(2),l=i(530),c=i(310),f=new n({initialize:function(t,e){if(this.game=t,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)this._pending.push({key:"default",scene:e[i],autoStart:0===i,data:{}})}t.events.once(o.READY,this.bootQueue,this)},bootQueue:function(){var t,e,i,n,s;if(!this.isBooted){for(t=0;t<this._pending.length;t++)e=this._pending[t],i=e.key,n=e.scene,n instanceof l?s=this.createSceneFromInstance(i,n):"object"==typeof n?s=this.createSceneFromObject(i,n):"function"==typeof n&&(s=this.createSceneFromFunction(i,n)),i=s.sys.settings.key,this.keys[i]=s,this.scenes.push(s),this._data[i]&&(s.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(e.autoStart=!0)),(e.autoStart||s.sys.settings.active)&&this._start.push(i);for(this._pending.length=0,this._data={},this.isBooted=!0,t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start.length=0}},processQueue:function(){var t,e,i=this._pending.length,n=this._queue.length;if(0!==i||0!==n){if(i){for(t=0;t<i;t++)e=this._pending[t],this.add(e.key,e.scene,e.autoStart,e.data);for(t=0;t<this._start.length;t++)e=this._start[t],this.start(e);return this._start.length=0,void(this._pending.length=0)}for(t=0;t<this._queue.length;t++)e=this._queue[t],this[e.op](e.keyA,e.keyB);this._queue.length=0}},add:function(t,e,i,n){if(i===undefined&&(i=!1),n===undefined&&(n={}),this.isProcessing||!this.isBooted)return this._pending.push({key:t,scene:e,autoStart:i,data:n}),this.isBooted||(this._data[t]={data:n}),null;t=this.getKey(t,e);var s;return e instanceof l?s=this.createSceneFromInstance(t,e):"object"==typeof e?(e.key=t,s=this.createSceneFromObject(t,e)):"function"==typeof e&&(s=this.createSceneFromFunction(t,e)),s.sys.settings.data=n,t=s.sys.settings.key,this.keys[t]=s,this.scenes.push(s),(i||s.sys.settings.active)&&(this._pending.length?this._start.push(t):this.start(t)),s},remove:function(t){var e,i,n;if(this.isProcessing)this._queue.push({op:"remove",keyA:t,keyB:null});else{if(!(e=this.getScene(t))||e.sys.isTransitioning())return this;i=this.scenes.indexOf(e),n=e.sys.settings.key,i>-1&&(delete this.keys[n],this.scenes.splice(i,1),this._start.indexOf(n)>-1&&(i=this._start.indexOf(n),this._start.splice(i,1)),e.sys.destroy())}return this},bootScene:function(t){var e,i=t.sys,n=i.settings;t.init&&(t.init.call(t,n.data),n.status=s.INIT,n.isTransition&&i.events.emit(r.TRANSITION_INIT,n.transitionFrom,n.transitionDuration)),i.load&&(e=i.load,e.reset()),e&&t.preload?(t.preload.call(t),0===e.list.size?this.create(t):(n.status=s.LOADING,e.once(h.COMPLETE,this.loadComplete,this),e.start())):this.create(t)},loadComplete:function(t){var e=t.scene;this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(e)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){var i,n;for(this.processQueue(),this.isProcessing=!0,i=this.scenes.length-1;i>=0;i--)n=this.scenes[i].sys,n.settings.status>s.START&&n.settings.status<=s.RUNNING&&n.step(t,e)},render:function(t){var e,i;for(e=0;e<this.scenes.length;e++)i=this.scenes[e].sys,i.settings.visible&&i.settings.status>=s.LOADING&&i.settings.status<s.SLEEPING&&i.render(t);this.isProcessing=!1},create:function(t){var e=t.sys,i=e.settings;t.create&&(i.status=s.CREATING,t.create.call(t,i.data)),i.isTransition&&e.events.emit(r.TRANSITION_START,i.transitionFrom,i.transitionDuration),t.update&&(e.sceneUpdate=t.update),i.status=s.RUNNING},createSceneFromFunction:function(t,e){var i,n=new e;if(n instanceof l){if(i=n.sys.settings.key,""!==i&&(t=i),this.keys.hasOwnProperty(t))throw Error("Cannot add a Scene with duplicate key: "+t);return this.createSceneFromInstance(t,n)}return n.sys=new c(n),n.sys.settings.key=t,n.sys.init(this.game),n},createSceneFromInstance:function(t,e){var i=e.sys.settings.key;return""!==i?t=i:e.sys.settings.key=t,e.sys.init(this.game),e},createSceneFromObject:function(t,e){var i,n,s,r,o,h=new l(e),u=h.sys.settings.key;for(""!==u?t=u:h.sys.settings.key=t,h.sys.init(this.game),i=["init","preload","create","update","render"],n=0;n<i.length;n++)(s=a(e,i[n],null))&&(h[i[n]]=s);if(e.hasOwnProperty("extend"))for(r in e.extend)o=e.extend[r],"data"===r&&h.hasOwnProperty("data")&&"object"==typeof o?h.data.merge(o):"sys"!==r&&(h[r]=o);return h},getKey:function(t,e){if(t||(t="default"),"function"==typeof e)return t;if(e instanceof l?t=e.sys.settings.key:"object"==typeof e&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw Error("Cannot add a Scene with duplicate key: "+t);return t},getScenes:function(t,e){var i,n,s,r;for(t===undefined&&(t=!0),e===undefined&&(e=!1),i=[],n=this.scenes,s=0;s<n.length;s++)(r=n[s])&&(!t||t&&r.sys.isActive())&&i.push(r);return e?i.reverse():i},getScene:function(t){if("string"==typeof t){if(this.keys[t])return this.keys[t]}else for(var e=0;e<this.scenes.length;e++)if(t===this.scenes[e])return t;return null},isActive:function(t){var e=this.getScene(t);return e?e.sys.isActive():null},isVisible:function(t){var e=this.getScene(t);return e?e.sys.isVisible():null},isSleeping:function(t){var e=this.getScene(t);return e?e.sys.isSleeping():null},pause:function(t,e){var i=this.getScene(t);return i&&i.sys.pause(e),this},resume:function(t,e){var i=this.getScene(t);return i&&i.sys.resume(e),this},sleep:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.sleep(e),this},wake:function(t,e){var i=this.getScene(t);return i&&i.sys.wake(e),this},run:function(t,e){var i,n=this.getScene(t);if(!n){for(i=0;i<this._pending.length;i++)if(this._pending[i].key===t){this.queueOp("start",t,e);break}return this}n.sys.isSleeping()?n.sys.wake(e):n.sys.isBooted&&!n.sys.isActive()?n.sys.resume(e):this.start(t,e)},start:function(t,e){var i,n;if(!this.isBooted)return this._data[t]={autoStart:!0,data:e},this;if(i=this.getScene(t)){if(i.sys.isActive()||i.sys.isPaused())i.sys.shutdown(),i.sys.start(e);else if(i.sys.start(e),i.sys.load&&(n=i.sys.load),n&&i.sys.settings.hasOwnProperty("pack")&&(n.reset(),n.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=s.LOADING,n.once(h.COMPLETE,this.payloadComplete,this),n.start(),this;this.bootScene(i)}return this},stop:function(t){var e=this.getScene(t);return e&&!e.sys.isTransitioning()&&e.sys.shutdown(),this},"switch":function(t,e){var i=this.getScene(t),n=this.getScene(e);return i&&n&&i!==n&&(this.sleep(t),this.isSleeping(e)?this.wake(e):this.start(e)),this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){var e,i;return this.isProcessing?this._queue.push({op:"bringToTop",keyA:t,keyB:null}):-1!==(e=this.getIndex(t))&&e<this.scenes.length&&(i=this.getScene(t),this.scenes.splice(e,1),this.scenes.push(i)),this},sendToBack:function(t){var e,i;return this.isProcessing?this._queue.push({op:"sendToBack",keyA:t,keyB:null}):-1!==(e=this.getIndex(t))&&e>0&&(i=this.getScene(t),this.scenes.splice(e,1),this.scenes.unshift(i)),this},moveDown:function(t){var e,i,n,s;return this.isProcessing?this._queue.push({op:"moveDown",keyA:t,keyB:null}):(e=this.getIndex(t))>0&&(i=e-1,n=this.getScene(t),s=this.getAt(i),this.scenes[e]=s,this.scenes[i]=n),this},moveUp:function(t){var e,i,n,s;return this.isProcessing?this._queue.push({op:"moveUp",keyA:t,keyB:null}):(e=this.getIndex(t))<this.scenes.length-1&&(i=e+1,n=this.getScene(t),s=this.getAt(i),this.scenes[e]=s,this.scenes[i]=n),this},moveAbove:function(t,e){var i,n,s;return t===e?this:(this.isProcessing?this._queue.push({op:"moveAbove",keyA:t,keyB:e}):(i=this.getIndex(t),n=this.getIndex(e),-1!==i&&-1!==n&&(s=this.getAt(n),this.scenes.splice(n,1),this.scenes.splice(i+1,0,s))),this)},moveBelow:function(t,e){var i,n,s;return t===e?this:(this.isProcessing?this._queue.push({op:"moveBelow",keyA:t,keyB:e}):(i=this.getIndex(t),n=this.getIndex(e),-1!==i&&-1!==n&&(s=this.getAt(n),this.scenes.splice(n,1),0===i?this.scenes.unshift(s):this.scenes.splice(i,0,s))),this)},queueOp:function(t,e,i){return this._queue.push({op:t,keyA:e,keyB:i}),this},swapPosition:function(t,e){var i,n,s;return t===e?this:(this.isProcessing?this._queue.push({op:"swapPosition",keyA:t,keyB:e}):(i=this.getIndex(t),n=this.getIndex(e),i!==n&&-1!==i&&-1!==n&&(s=this.getAt(i),this.scenes[i]=this.scenes[n],this.scenes[n]=s)),this)},dump:function(){var t,e,i,n=[],r=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"];for(t=0;t<this.scenes.length;t++)e=this.scenes[t].sys,i=!e.settings.visible||e.settings.status!==s.RUNNING&&e.settings.status!==s.PAUSED?"[-] ":"[*] ",i+=e.settings.key+" ("+r[e.settings.status]+")",n.push(i)},destroy:function(){var t,e;for(t=0;t<this.scenes.length;t++)e=this.scenes[t].sys,e.destroy();this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});t.exports=f},function(t,e,i){var n=i(0),s=i(310),r=new n({initialize:function(t){this.sys=new s(this,t),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.impact,this.matter,this.facebook,this.scale},update:function(){}});t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t&&t[0].toUpperCase()+t.slice(1)};t.exports=i},function(t,e,i){var n=i(218),s=i(6),r=i(150),o=i(1306),a={create:function(t){return"string"==typeof t?t={key:t}:t===undefined&&(t={}),{status:n.PENDING,key:s(t,"key",""),active:s(t,"active",!1),visible:s(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:s(t,"pack",!1),cameras:s(t,"cameras",null),map:s(t,"map",r(o,s(t,"mapAdd",{}))),physics:s(t,"physics",{}),loader:s(t,"loader",{}),plugins:s(t,"plugins",!1),input:s(t,"input",{})}}};t.exports=a},function(t,e,i){var n=i(534),s=i(536),r=i(538),o={create:function(t){var e=t.config.audio,i=t.device.audio;return e&&e.noAudio||!i.webAudio&&!i.audioData?new s(t):!i.webAudio||e&&e.disableWebAudio?new n(t):new r(t)}};t.exports=o},function(t,e,i){var n=i(219),s=i(0),r=i(128),o=i(535),a=new s({Extends:n,initialize:function(t){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,n.call(this,t)},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},unlock:function(){var t,e,i,n;this.locked=!1,t=this,this.game.cache.audio.entries.each(function(e,i){for(var n=0;n<i.length;n++)if("true"===i[n].dataset.locked)return t.locked=!0,!1;return!0}),this.locked&&(e=!1,i=function(){e=!0},n=function(){var s,r;if(e)return void(e=!1);document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",n),s=[],t.game.cache.audio.entries.each(function(t,e){var i,n;for(i=0;i<e.length;i++)n=e[i],"true"===n.dataset.locked&&s.push(n);return!0}),0!==s.length&&(r=s[s.length-1],r.oncanplaythrough=function(){r.oncanplaythrough=null,s.forEach(function(t){t.dataset.locked="false"}),t.unlocked=!0},s.forEach(function(t){t.load()}))},this.once(r.UNLOCKED,function(){for(this.forEachActiveSound(function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration});this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}},this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",n,!1))},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){n.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,i){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:i}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(t){t.updateMute()}),this.emit(r.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(t){t.updateVolume()}),this.emit(r.GLOBAL_VOLUME,this,t)}}});t.exports=a},function(t,e,i){var n=i(220),s=i(0),r=i(128),o=new s({Extends:n,initialize:function(t,e,i){i===undefined&&(i={}),this.tags=t.game.cache.audio.get(e),this.tags&&(this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,n.call(this,t,e,i))},play:function(t,e){return!this.manager.isLocked(this,"play",[t,e])&&(!!n.prototype.play.call(this,t,e)&&(!!this.pickAndPlayAudioTag()&&(this.emit(r.PLAY,this),!0)))},pause:function(){return!this.manager.isLocked(this,"pause")&&(!(this.startTime>0)&&(!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(r.PAUSE,this),!0)))},resume:function(){return!this.manager.isLocked(this,"resume")&&(!(this.startTime>0)&&(!!n.prototype.resume.call(this)&&(!!this.pickAndPlayAudioTag()&&(this.emit(r.RESUME,this),!0))))},stop:function(){return!this.manager.isLocked(this,"stop")&&(!!n.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(r.STOP,this),!0))},pickAndPlayAudioTag:function(){var t,e,i;return this.pickAudioTag()?(t=this.currentConfig.seek,e=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+t,this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===e?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*e,this.audio.paused||this.audio.pause()),this.resetConfig(),!0):(this.reset(),!1)},pickAudioTag:function(){var t,e,i,n;if(this.audio)return!0;for(t=0;t<this.tags.length;t++)if(e=this.tags[t],"false"===e.dataset.used)return e.dataset.used="true",this.audio=e,!0;return!!this.manager.override&&(i=[],this.manager.forEachActiveSound(function(t){t.key===this.key&&t.audio&&i.push(t)},this),i.sort(function(t,e){return t.loop===e.loop?e.seek/e.duration-t.seek/t.duration:t.loop?1:-1}),n=i[0],this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0)},playCatchPromise:function(){var t=this.audio.play();t&&t["catch"](function(t){})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){n.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,e){var i,n,s;if(this.isPlaying){if(this.startTime>0)return void(this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));if(i=this.currentMarker?this.currentMarker.start:0,n=i+this.duration,s=this.audio.currentTime,this.currentConfig.loop)s>=n-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,s-n),s=this.audio.currentTime):s<i&&(this.audio.currentTime+=i,s=this.audio.currentTime),s<this.previousTime&&this.emit(r.LOOPED,this);else if(s>=n)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(r.COMPLETE,this);this.previousTime=s}},destroy:function(){n.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=this.currentConfig.volume*this.manager.volume)},calculateRate:function(){n.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||(this.updateMute(),this.emit(r.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||(this.updateVolume(),this.emit(r.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,r.RATE,t)||(this.calculateRate(),this.emit(r.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,r.DETUNE,t)||(this.calculateRate(),this.emit(r.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(r.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit(r.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this}});t.exports=o},function(t,e,i){var n=i(219),s=i(0),r=i(15),o=i(537),a=i(2),h=new s({Extends:r,initialize:function(t){r.call(this),this.game=t,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},addAudioSprite:function(t,e){var i=this.add(t,e);return i.spritemap={},i},play:function(t,e){return!1},playAudioSprite:function(t,e,i){return!1},remove:function(t){return n.prototype.remove.call(this,t)},removeByKey:function(t){return n.prototype.removeByKey.call(this,t)},pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,forEachActiveSound:function(t,e){n.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){n.prototype.destroy.call(this)}});t.exports=h},function(t,e,i){var n=i(220),s=i(0),r=i(15),o=i(32),a=new s({Extends:r,initialize:function(t,e,i){void 0===i&&(i={}),r.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!1},updateMarker:function(t){return!1},removeMarker:function(t){return null},play:function(t,e){return!1},pause:function(){return!1},resume:function(){return!1},stop:function(){return!1},destroy:function(){this.manager.remove(this),n.prototype.destroy.call(this)}});t.exports=a},function(t,e,i){var n=i(219),s=i(0),r=i(128),o=i(539),a=new s({Extends:n,initialize:function(t){this.context=this.createAudioContext(t),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),n.call(this,t),this.locked&&this.unlock()},createAudioContext:function(t){var e=t.config.audio;return e&&e.context?(e.context.resume(),e.context):new AudioContext},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},unlock:function(){var t=this,e=function i(){t.context&&t.context.resume().then(function(){document.body.removeEventListener("touchstart",i),document.body.removeEventListener("touchend",i),document.body.removeEventListener("click",i),t.unlocked=!0})};document.body&&(document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then(function(){t.context=null})}n.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit(r.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit(r.GLOBAL_VOLUME,this,t)}}});t.exports=a},function(t,e,i){var n=i(220),s=i(0),r=i(128),o=new s({Extends:n,initialize:function(t,e,i){i===undefined&&(i={}),this.audioBuffer=t.game.cache.audio.get(e),this.audioBuffer&&(this.source=null,this.loopSource=null,this.muteNode=t.context.createGain(),this.volumeNode=t.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(t.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,n.call(this,t,e,i))},play:function(t,e){return!!n.prototype.play.call(this,t,e)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(r.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(r.PAUSE,this),!0))},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!n.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(r.RESUME,this),!0))},stop:function(){return!!n.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(r.STOP,this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,n=(this.currentMarker?this.currentMarker.start:0)+t,s=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,n),Math.max(0,s)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){e.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),n.prototype.applyConfig.call(this)},update:function(t,e){this.hasEnded?(this.hasEnded=!1,n.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(r.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(r.LOOPED,this))},destroy:function(){n.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){n.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){var t,e,i=0;for(t=0;t<this.rateUpdates.length;t++)e=0,e=t<this.rateUpdates.length-1?this.rateUpdates[t+1].time:this.manager.context.currentTime-this.playTime,i+=(e-this.rateUpdates[t].time)*this.rateUpdates[t].rate;return i},getLoopTime:function(){var t,e,i=0;for(t=0;t<this.rateUpdates.length-1;t++)i+=(this.rateUpdates[t+1].time-this.rateUpdates[t].time)*this.rateUpdates[t].rate;return e=this.rateUpdates[this.rateUpdates.length-1],this.playTime+e.time+(this.duration-i)/e.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(r.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(r.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(r.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(r.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(r.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(r.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this}});t.exports=o},function(t,e,i){var n=i(43),s=i(1328),r=i(0),o=i(68),a=i(52),h=i(15),u=i(215),l=i(54),c=i(501),f=i(6),d=i(542),p=i(311),g=new r({Extends:h,initialize:function(t){h.call(this),this.game=t,this.name="TextureManager",this.list={},this._tempCanvas=n.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,t.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(l.DESTROY,this.destroy,this)},updatePending:function(){0===--this._pending&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(t){return!this.exists(t)},remove:function(t){if("string"==typeof t){if(!this.exists(t))return this;t=this.get(t)}return this.list.hasOwnProperty(t.key)&&(delete this.list[t.key],t.destroy(),this.emit(u.REMOVE,t.key)),this},addBase64:function(t,e){var i,n;return this.checkKey(t)&&(i=this,n=new Image,n.onerror=function(){i.emit(u.ERROR,t)},n.onload=function(){var e=i.create(t,n);d.Image(e,0),i.emit(u.ADD,t,e),i.emit(u.LOAD,t,e)},n.src=e),this},getBase64:function(t,e,i,s){var r,o,a,h,u;return i===undefined&&(i="image/png"),s===undefined&&(s=.92),r="",o=this.getFrame(t,e),o&&(a=o.canvasData,h=n.create2D(this,a.width,a.height),u=h.getContext("2d"),u.drawImage(o.source.image,a.x,a.y,a.width,a.height,0,0,a.width,a.height),r=h.toDataURL(i,s),n.remove(h)),r},addImage:function(t,e,i){var n=null;return this.checkKey(t)&&(n=this.create(t,e),d.Image(n,0),i&&n.setDataSource(i),this.emit(u.ADD,t,n)),n},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&(i=this.create(t,e),i.add("__BASE",0,0,0,e.width,e.height),this.emit(u.ADD,t,i)),i},generate:function(t,e){if(this.checkKey(t)){var i=n.create(this,1,1);return e.canvas=i,c(e),this.addCanvas(t,i)}return null},createCanvas:function(t,e,i){if(e===undefined&&(e=256),i===undefined&&(i=256),this.checkKey(t)){var s=n.create(this,e,i,a.CANVAS,!0);return this.addCanvas(t,s)}return null},addCanvas:function(t,e,i){i===undefined&&(i=!1);var n=null;return i?n=new s(this,t,e,e.width,e.height):this.checkKey(t)&&(n=new s(this,t,e,e.width,e.height),this.list[t]=n,this.emit(u.ADD,t,n)),n},addAtlas:function(t,e,i,n){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,n):this.addAtlasJSONHash(t,e,i,n)},addAtlasJSONArray:function(t,e,i,n){var s,r,o,a=null;if(this.checkKey(t)){if(a=this.create(t,e),Array.isArray(i))for(s=1===i.length,r=0;r<a.source.length;r++)o=s?i[0]:i[r],d.JSONArray(a,r,o);else d.JSONArray(a,0,i);n&&a.setDataSource(n),this.emit(u.ADD,t,a)}return a},addAtlasJSONHash:function(t,e,i,n){var s,r=null;if(this.checkKey(t)){if(r=this.create(t,e),Array.isArray(i))for(s=0;s<i.length;s++)d.JSONHash(r,s,i[s]);else d.JSONHash(r,0,i);n&&r.setDataSource(n),this.emit(u.ADD,t,r)}return r},addAtlasXML:function(t,e,i,n){var s=null;return this.checkKey(t)&&(s=this.create(t,e),d.AtlasXML(s,0,i),n&&s.setDataSource(n),this.emit(u.ADD,t,s)),s},addUnityAtlas:function(t,e,i,n){var s=null;return this.checkKey(t)&&(s=this.create(t,e),d.UnityYAML(s,0,i),n&&s.setDataSource(n),this.emit(u.ADD,t,s)),s},addSpriteSheet:function(t,e,i){var n,s,r=null;return this.checkKey(t)&&(r=this.create(t,e),n=r.source[0].width,s=r.source[0].height,d.SpriteSheet(r,0,0,0,n,s,i),this.emit(u.ADD,t,r)),r},addSpriteSheetFromAtlas:function(t,e){var i,n,s,r,o;return this.checkKey(t)?(i=f(e,"atlas",null),n=f(e,"frame",null),i&&n?(s=this.get(i),r=s.get(n),r?(o=this.create(t,r.source.image),r.trimmed?d.SpriteSheetFromAtlas(o,r,e):d.SpriteSheet(o,0,r.cutX,r.cutY,r.cutWidth,r.cutHeight,e),this.emit(u.ADD,t,o),o):void 0):void 0):null},create:function(t,e,i,n){var s=null;return this.checkKey(t)&&(s=new p(this,t,e,i,n),this.list[t]=s),s},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return t===undefined&&(t="__DEFAULT"),this.list[t]?this.list[t]:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t,e=[];for(t in this.list)"__DEFAULT"!==t&&"__MISSING"!==t&&e.push(t);return e},getPixel:function(t,e,i,n){var s,r,a,h=this.getFrame(i,n);return h&&(t-=h.x,e-=h.y,s=h.data.cut,t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b)?(r=this._tempContext,r.clearRect(0,0,1,1),r.drawImage(h.source.image,t,e,1,1,0,0,1,1),a=r.getImageData(0,0,1,1),new o(a.data[0],a.data[1],a.data[2],a.data[3])):null},getPixelAlpha:function(t,e,i,n){var s,r,o,a=this.getFrame(i,n);return a&&(t-=a.x,e-=a.y,s=a.data.cut,t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b)?(r=this._tempContext,r.clearRect(0,0,1,1),r.drawImage(a.source.image,t,e,1,1,0,0,1,1),o=r.getImageData(0,0,1,1),o.data[3]):null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return!(!i||t===e)&&(i.key=e,this.list[e]=i,delete this.list[t],!0)},each:function(t,e){var i,n,s=[null];for(i=1;i<arguments.length;i++)s.push(arguments[i]);for(n in this.list)s[0]=this.list[n],t.apply(e,s)},destroy:function(){for(var t in this.list)this.list[t].destroy();this.list={},this.game=null,n.remove(this._tempCanvas)}});t.exports=g},function(t,e,i){var n=i(43),s=i(0),r=i(213),o=i(163),a=new s({initialize:function(t,e,i,n){var s=t.manager.game;this.renderer=s.renderer,this.texture=t,this.source=e,this.image=e,this.compressionAlgorithm=null,this.resolution=1,this.width=i||e.naturalWidth||e.width||0,this.height=n||e.naturalHeight||e.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=e instanceof HTMLCanvasElement,this.isRenderTexture="RenderTexture"===e.type,this.isPowerOf2=r(this.width,this.height),this.glTexture=null,this.init(s)},init:function(t){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.canvasToTexture(this.image):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),t.config.antialias||this.setFilter(1)},setFilter:function(t){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,t)},update:function(){this.renderer.gl&&this.isCanvas&&(this.glTexture=this.renderer.canvasToTexture(this.image,this.glTexture))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&n.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={AtlasXML:i(1329),Canvas:i(1330),Image:i(1331),JSONArray:i(1332),JSONHash:i(1333),SpriteSheet:i(1334),SpriteSheetFromAtlas:i(1335),UnityYAML:i(1336)}},function(t,e,i){var n=i(1338),s=i(0),r=i(165),o=i(15),a=i(1339),h=i(1341),u=i(1342),l=new s({Extends:o,initialize:function(t){o.call(this),this.game=t,this.data=new r(this),this.on("setdata",this.setDataHandler,this),this.on("changedata",this.changeDataHandler,this),this.hasLoaded=!1,this.dataLocked=!1,this.supportedAPIs=[],this.entryPoint="",this.entryPointData=null,this.contextID=null,this.contextType=null,this.locale=null,this.platform=null,this.version=null,this.playerID=null,this.playerName=null,this.playerPhotoURL=null,this.playerCanSubscribeBot=!1,this.paymentsReady=!1,this.catalog=[],this.purchases=[],this.leaderboards={},this.ads=[]},setDataHandler:function(t,e,i){var n,s;this.dataLocked||(n={},n[e]=i,s=this,FBInstant.player.setDataAsync(n).then(function(){s.emit("savedata",n)}))},changeDataHandler:function(t,e,i){var n,s;this.dataLocked||(n={},n[e]=i,s=this,FBInstant.player.setDataAsync(n).then(function(){s.emit("savedata",n)}))},showLoadProgress:function(t){return t.load.on("progress",function(t){this.hasLoaded||FBInstant.setLoadingProgress(100*t)},this),t.load.on("complete",function(){this.hasLoaded||(this.hasLoaded=!0,FBInstant.startGameAsync().then(this.gameStarted.bind(this)))},this),this},gameStarted:function(){var t,e=FBInstant.getSupportedAPIs(),i={},n=function(t){return t[1].toUpperCase()};e.forEach(function(t){t=t.replace(/\../g,n),i[t]=!0}),this.supportedAPIs=i,this.getID(),this.getType(),this.getLocale(),this.getPlatform(),this.getSDKVersion(),this.getPlayerID(),this.getPlayerName(),this.getPlayerPhotoURL(),t=this,FBInstant.onPause(function(){t.emit("pause")}),FBInstant.getEntryPointAsync().then(function(e){t.entryPoint=e,t.entryPointData=FBInstant.getEntryPointData(),t.emit("startgame")})["catch"](function(t){}),this.supportedAPIs.paymentsPurchaseAsync&&FBInstant.payments.onReady(function(){t.paymentsReady=!0})["catch"](function(t){})},checkAPI:function(t){return!!this.supportedAPIs[t]},getID:function(){return!this.contextID&&this.supportedAPIs.contextGetID&&(this.contextID=FBInstant.context.getID()),this.contextID},getType:function(){return!this.contextType&&this.supportedAPIs.contextGetType&&(this.contextType=FBInstant.context.getType()),this.contextType},getLocale:function(){return!this.locale&&this.supportedAPIs.getLocale&&(this.locale=FBInstant.getLocale()),this.locale},getPlatform:function(){return!this.platform&&this.supportedAPIs.getPlatform&&(this.platform=FBInstant.getPlatform()),this.platform},getSDKVersion:function(){return!this.version&&this.supportedAPIs.getSDKVersion&&(this.version=FBInstant.getSDKVersion()),this.version},getPlayerID:function(){return!this.playerID&&this.supportedAPIs.playerGetID&&(this.playerID=FBInstant.player.getID()),this.playerID},getPlayerName:function(){return!this.playerName&&this.supportedAPIs.playerGetName&&(this.playerName=FBInstant.player.getName()),this.playerName},getPlayerPhotoURL:function(){return!this.playerPhotoURL&&this.supportedAPIs.playerGetPhoto&&(this.playerPhotoURL=FBInstant.player.getPhoto()),this.playerPhotoURL},loadPlayerPhoto:function(t,e){return this.playerPhotoURL&&(t.load.setCORS("anonymous"),t.load.image(e,this.playerPhotoURL),t.load.once("filecomplete-image-"+e,function(){this.emit("photocomplete",e)},this),t.load.start()),this},canSubscribeBot:function(){if(this.supportedAPIs.playerCanSubscribeBotAsync){var t=this;FBInstant.player.canSubscribeBotAsync().then(function(){t.playerCanSubscribeBot=!0,t.emit("cansubscribebot")})["catch"](function(e){t.emit("cansubscribebotfail",e)})}else this.emit("cansubscribebotfail");return this},subscribeBot:function(){if(this.playerCanSubscribeBot){var t=this;FBInstant.player.subscribeBotAsync().then(function(){t.emit("subscribebot")})["catch"](function(e){t.emit("subscribebotfail",e)})}else this.emit("subscribebotfail");return this},getData:function(t){if(!this.checkAPI("playerGetDataAsync"))return this;Array.isArray(t)||(t=[t]);var e=this;return FBInstant.player.getDataAsync(t).then(function(t){e.dataLocked=!0;for(var i in t)e.data.set(i,t[i]);e.dataLocked=!1,e.emit("getdata",t)}),this},saveData:function(t){if(!this.checkAPI("playerSetDataAsync"))return this;var e=this;return FBInstant.player.setDataAsync(t).then(function(){e.emit("savedata",t)})["catch"](function(t){e.emit("savedatafail",t)}),this},flushData:function(){if(!this.checkAPI("playerFlushDataAsync"))return this;var t=this;return FBInstant.player.flushDataAsync().then(function(){t.emit("flushdata")})["catch"](function(e){t.emit("flushdatafail",e)}),this},getStats:function(t){if(!this.checkAPI("playerGetStatsAsync"))return this;var e=this;return FBInstant.player.getStatsAsync(t).then(function(t){e.emit("getstats",t)})["catch"](function(t){e.emit("getstatsfail",t)}),this},saveStats:function(t){var e,i,n;if(!this.checkAPI("playerSetStatsAsync"))return this;e={};for(i in t)"number"==typeof t[i]&&(e[i]=t[i]);return n=this,FBInstant.player.setStatsAsync(e).then(function(){n.emit("savestats",e)})["catch"](function(t){n.emit("savestatsfail",t)}),this},incStats:function(t){var e,i,n;if(!this.checkAPI("playerIncrementStatsAsync"))return this;e={};for(i in t)"number"==typeof t[i]&&(e[i]=t[i]);return n=this,FBInstant.player.incrementStatsAsync(e).then(function(t){n.emit("incstats",t)})["catch"](function(t){n.emit("incstatsfail",t)}),this},saveSession:function(t){return this.checkAPI("setSessionData")?(JSON.stringify(t).length<=1e3&&FBInstant.setSessionData(t),this):this},openShare:function(t,e,i,n){return this._share("SHARE",t,e,i,n)},openInvite:function(t,e,i,n){return this._share("INVITE",t,e,i,n)},openRequest:function(t,e,i,n){return this._share("REQUEST",t,e,i,n)},openChallenge:function(t,e,i,n){return this._share("CHALLENGE",t,e,i,n)},_share:function(t,e,i,n,s){var r,o,a;return this.checkAPI("shareAsync")?(s===undefined&&(s={}),i&&(r=this.game.textures.getBase64(i,n)),o={intent:t,image:r,text:e,data:s},a=this,FBInstant.shareAsync(o).then(function(){a.emit("resume")}),this):this},isSizeBetween:function(t,e){return this.checkAPI("contextIsSizeBetween")?FBInstant.context.isSizeBetween(t,e):this},switchContext:function(t){if(!this.checkAPI("contextSwitchAsync"))return this;if(t!==this.contextID){var e=this;FBInstant.context.switchAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("switch",e.contextID)})["catch"](function(t){e.emit("switchfail",t)})}return this},chooseContext:function(t){if(!this.checkAPI("contextChooseAsync"))return this;var e=this;return FBInstant.context.chooseAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("choose",e.contextID)})["catch"](function(t){e.emit("choosefail",t)}),this},createContext:function(t){if(!this.checkAPI("contextCreateAsync"))return this;var e=this;return FBInstant.context.createAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("create",e.contextID)})["catch"](function(t){e.emit("createfail",t)}),this},getPlayers:function(){if(!this.checkAPI("playerGetConnectedPlayersAsync"))return this;var t=this;return FBInstant.player.getConnectedPlayersAsync().then(function(e){t.emit("players",e)})["catch"](function(e){t.emit("playersfail",e)}),this},getCatalog:function(){var t,e;return this.paymentsReady?(t=this,e=this.catalog,FBInstant.payments.getCatalogAsync().then(function(i){e=[],i.forEach(function(t){e.push(h(t))}),t.emit("getcatalog",e)})["catch"](function(e){t.emit("getcatalogfail",e)}),this):this},purchase:function(t,e){var i,n;return this.paymentsReady?(i={productID:t},e&&(i.developerPayload=e),n=this,FBInstant.payments.purchaseAsync(i).then(function(t){var e=u(t);n.emit("purchase",e)})["catch"](function(t){n.emit("purchasefail",t)}),this):this},getPurchases:function(){var t,e;return this.paymentsReady?(t=this,e=this.purchases,FBInstant.payments.getPurchasesAsync().then(function(i){e=[],i.forEach(function(t){e.push(u(t))}),t.emit("getpurchases",e)})["catch"](function(e){t.emit("getpurchasesfail",e)}),this):this},consumePurchases:function(t){if(!this.paymentsReady)return this;var e=this;return FBInstant.payments.consumePurchaseAsync(t).then(function(){e.emit("consumepurchase",t)})["catch"](function(t){e.emit("consumepurchasefail",t)}),this},update:function(t,e,i,n,s,r){return this._update("CUSTOM",t,e,i,n,s,r)},updateLeaderboard:function(t,e,i,n,s,r){return this._update("LEADERBOARD",t,e,i,n,s,r)},_update:function(t,e,i,n,s,r,o){var a,h,u;return this.checkAPI("shareAsync")?(e===undefined&&(e=""),"string"==typeof i&&(i={"default":i}),o===undefined&&(o={}),n&&(a=this.game.textures.getBase64(n,s)),h={action:t,cta:e,image:a,text:i,template:r,data:o,strategy:"IMMEDIATE",notification:"NO_PUSH"},u=this,FBInstant.updateAsync(h).then(function(){u.emit("update")})["catch"](function(t){u.emit("updatefail",t)}),this):this},switchGame:function(t,e){var i,n;return this.checkAPI("switchGameAsync")?e&&(i=JSON.stringify(e),i.length>1e3)?this:(n=this,FBInstant.switchGameAsync(t,e).then(function(){n.emit("switchgame",t)})["catch"](function(t){n.emit("switchgamefail",t)}),this):this},createShortcut:function(){var t=this;return FBInstant.canCreateShortcutAsync().then(function(e){e&&FBInstant.createShortcutAsync().then(function(){t.emit("shortcutcreated")})["catch"](function(e){t.emit("shortcutfailed",e)})}),this},quit:function(){FBInstant.quit()},log:function(t,e,i){return this.checkAPI("logEvent")?(i===undefined&&(i={}),t.length>=2&&t.length<=40&&FBInstant.logEvent(t,parseFloat(e),i),this):this},preloadAds:function(t){var e,i,s,r,o;if(!this.checkAPI("getInterstitialAdAsync"))return this;for(Array.isArray(t)||(t=[t]),i=this,s=0,e=0;e<this.ads.length;e++)this.ads[e].shown||s++;if(s+t.length>=3)return this;for(e=0;e<t.length;e++)r=t[e],FBInstant.getInterstitialAdAsync(r).then(function(t){return o=t,t.loadAsync()}).then(function(){var t=n(r,o,!1);i.ads.push(t),i.emit("adloaded",t)})["catch"](function(t){"ADS_NO_FILL"===t.code?i.emit("adsnofill",r):"ADS_FREQUENT_LOAD"===t.code&&i.emit("adsfrequentload",r)});return this},preloadVideoAds:function(t){var e,i,s,r,o;if(!this.checkAPI("getRewardedVideoAsync"))return this;for(Array.isArray(t)||(t=[t]),i=this,s=0,e=0;e<this.ads.length;e++)this.ads[e].shown||s++;if(s+t.length>=3)return this;for(e=0;e<t.length;e++)r=t[e],FBInstant.getRewardedVideoAsync(r).then(function(t){return o=t,t.loadAsync()}).then(function(){var t=n(r,o,!0);i.ads.push(t),i.emit("adloaded",t)})["catch"](function(t){"ADS_NO_FILL"===t.code?i.emit("adsnofill",r):"ADS_FREQUENT_LOAD"===t.code&&i.emit("adsfrequentload",r)});return this},showAd:function(t){var e,i,n=this;for(e=0;e<this.ads.length;e++)i=this.ads[e],i.placementID===t&&i.instance.showAsync().then(function(){i.shown=!0,n.emit("adfinished",i)})["catch"](function(t){"ADS_NOT_LOADED"===t.code?n.emit("adsnotloaded",i):"RATE_LIMITED"===t.code&&n.emit("adratelimited",i),n.emit("adshowerror",t,i)});return this},showVideo:function(t){var e,i,n=this;for(e=0;e<this.ads.length;e++)i=this.ads[e],i.placementID===t&&i.video&&i.instance.showAsync().then(function(){i.shown=!0,n.emit("adfinished",i)})["catch"](function(t){"ADS_NOT_LOADED"===t.code?n.emit("adsnotloaded",i):"RATE_LIMITED"===t.code&&n.emit("adratelimited",i),n.emit("adshowerror",t,i)});return this},matchPlayer:function(t,e){if(t===undefined&&(t=null),e===undefined&&(e=!1),!this.checkAPI("matchPlayerAsync"))return this;var i=this;return FBInstant.matchPlayerAsync(t,e).then(function(){i.getID(),i.getType(),i.emit("matchplayer",i.contextID,i.contextType)}),this},getLeaderboard:function(t){if(!this.checkAPI("getLeaderboardAsync"))return this;var e=this;return FBInstant.getLeaderboardAsync(t).then(function(i){var n=new a(e,i);e.leaderboards[t]=n,e.emit("getleaderboard",n)})["catch"](function(t){}),this},destroy:function(){FBInstant.quit(),this.data.destroy(),this.removeAllListeners(),this.catalog=[],this.purchases=[],this.leaderboards=[],this.ads=[],this.game=null}});t.exports=l},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i,n=t.length,s=t[0].length,r=Array(s);for(e=0;e<s;e++)for(r[e]=Array(n),i=n-1;i>-1;i--)r[e][i]=t[i][e];return r};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}var s=function(t,e,r,o,a){var h,u,l,c,f,d,p,g,y,m;for(r===undefined&&(r=0),o===undefined&&(o=t.length-1),a===undefined&&(a=n);o>r;){for(o-r>600&&(h=o-r+1,u=e-r+1,l=Math.log(h),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(h-c)/h)*(u-h/2<0?-1:1),d=Math.max(r,Math.floor(e-u*c/h+f)),p=Math.min(o,Math.floor(e+(h-u)*c/h+f)),s(t,e,d,p,a)),g=t[e],y=r,m=o,i(t,r,e),a(t[o],g)>0&&i(t,r,o);y<m;){for(i(t,y,m),y++,m--;a(t[y],g)<0;)y++;for(;a(t[m],g)>0;)m--}0===a(t[r],g)?i(t,r,m):(m++,i(t,m,o)),m<=e&&(r=m+1),e<=m&&(o=m-1)}};t.exports=s},function(t,e,i){var n=i(6),s=i(208),r=function(t,e,i){var n,s,r,o=[];for(n=0;n<t.length;n++)for(s=0;s<e.length;s++)for(r=0;r<i;r++)o.push({a:t[n],b:e[s]});return o},o=function(t,e,i){var o,a,h,u=n(i,"max",0),l=n(i,"qty",1),c=n(i,"random",!1),f=n(i,"randomB",!1),d=n(i,"repeat",0),p=n(i,"yoyo",!1),g=[];for(f&&s(e),-1===d&&(0===u?d=0:(o=t.length*e.length*l,p&&(o*=2),d=Math.ceil(u/o))),a=0;a<=d;a++)h=r(t,e,l),c&&s(h),g=g.concat(h),p&&(h.reverse(),g=g.concat(h));return u&&g.splice(u),g};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t,e){return parseInt(t.getAttribute(e),10)}var n=function(t,e,n,s){var r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A;for(e===undefined&&(e=0),n===undefined&&(n=0),r={},o=t.getElementsByTagName("info")[0],a=t.getElementsByTagName("common")[0],r.font=o.getAttribute("face"),r.size=i(o,"size"),r.lineHeight=i(a,"lineHeight")+n,r.chars={},h=t.getElementsByTagName("char"),u=s!==undefined&&s.trimmed,u&&(l=s.height,c=s.width),f=0;f<h.length;f++)d=h[f],p=i(d,"id"),g=i(d,"x"),y=i(d,"y"),m=i(d,"width"),v=i(d,"height"),u&&(g<c&&(c=g),y<l&&(l=y)),r.chars[p]={x:g,y:y,width:m,height:v,centerX:Math.floor(m/2),centerY:Math.floor(v/2),xOffset:i(d,"xoffset"),yOffset:i(d,"yoffset"),xAdvance:i(d,"xadvance")+e,data:{},kerning:{}};if(u&&0!==l&&0!==c)for(x in r.chars)b=r.chars[x],b.x-=s.x,b.y-=s.y;for(_=t.getElementsByTagName("kerning"),f=0;f<_.length;f++)w=_[f],T=i(w,"first"),S=i(w,"second"),A=i(w,"amount"),r.chars[S].kerning[T]=A;return r};t.exports=n},function(t,e,i){var n=i(18),s=function(t,e,i){var s,r,o,a;return i===undefined&&(i=new n),s=Math.min(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.right,e.right)-s,a=Math.max(t.bottom,e.bottom)-r,i.setTo(s,r,o,a)};t.exports=s},function(t,e,i){var n=i(0),s=i(24),r=i(19),o=i(1388),a=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.Origin,s.ScaleMode,s.ScrollFactor,s.Size,s.Texture,s.Tint,s.Transform,s.Visible,o],initialize:function(t){r.call(this,t,"Extern")},preUpdate:function(){},render:function(){}});t.exports=a},function(t,e,i){var n=i(321),s=i(164),r=i(33),o=i(9),a=function(t,e,i){i===undefined&&(i=new o);var a=s(e,0,r.PI2);return n(t,a,i)};t.exports=a},function(t,e,i){var n=i(552),s=i(321),r=i(164),o=i(33),a=function(t,e,i,a){var h,u;for(a===undefined&&(a=[]),e||(e=n(t)/i),h=0;h<e;h++)u=r(h/e,0,o.PI2),a.push(s(t,u));return a};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e=t.width/2,i=t.height/2,n=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*n/(10+Math.sqrt(4-3*n)))};t.exports=i},function(t,e,i){var n=i(320),s=i(44),r=function(t,e,i,r,o,a,h){var u,l,c,f,d,p,g,y,m,v=e.commandBuffer,x=v.length,b=a||t.currentContext;if(0!==x&&s(t,b,e,r,o)){for(u=1,l=1,c=0,f=0,d=1,p=0,g=0,y=0,b.beginPath(),m=0;m<x;++m)switch(v[m]){case n.ARC:b.arc(v[m+1],v[m+2],v[m+3],v[m+4],v[m+5],v[m+6]),m+=7;break;case n.LINE_STYLE:d=v[m+1],c=v[m+2],u=v[m+3],p=(16711680&c)>>>16,g=(65280&c)>>>8,y=255&c,b.strokeStyle="rgba("+p+","+g+","+y+","+u+")",b.lineWidth=d,m+=3;break;case n.FILL_STYLE:f=v[m+1],l=v[m+2],p=(16711680&f)>>>16,g=(65280&f)>>>8,y=255&f,b.fillStyle="rgba("+p+","+g+","+y+","+l+")",m+=2;break;case n.BEGIN_PATH:b.beginPath();break;case n.CLOSE_PATH:b.closePath();break;case n.FILL_PATH:h||b.fill();break;case n.STROKE_PATH:h||b.stroke();break;case n.FILL_RECT:h?b.rect(v[m+1],v[m+2],v[m+3],v[m+4]):b.fillRect(v[m+1],v[m+2],v[m+3],v[m+4]),m+=4;break;case n.FILL_TRIANGLE:b.beginPath(),b.moveTo(v[m+1],v[m+2]),b.lineTo(v[m+3],v[m+4]),b.lineTo(v[m+5],v[m+6]),b.closePath(),h||b.fill(),m+=6;break;case n.STROKE_TRIANGLE:b.beginPath(),b.moveTo(v[m+1],v[m+2]),b.lineTo(v[m+3],v[m+4]),b.lineTo(v[m+5],v[m+6]),b.closePath(),h||b.stroke(),m+=6;break;case n.LINE_TO:b.lineTo(v[m+1],v[m+2]),m+=2;break;case n.MOVE_TO:b.moveTo(v[m+1],v[m+2]),m+=2;break;case n.LINE_FX_TO:b.lineTo(v[m+1],v[m+2]),m+=5;break;case n.MOVE_FX_TO:b.moveTo(v[m+1],v[m+2]),m+=5;break;case n.SAVE:b.save();break;case n.RESTORE:b.restore();break;case n.TRANSLATE:b.translate(v[m+1],v[m+2]),m+=2;break;case n.SCALE:b.scale(v[m+1],v[m+2]),m+=2;break;case n.ROTATE:b.rotate(v[m+1]),m+=1;break;case n.GRADIENT_FILL_STYLE:m+=5;break;case n.GRADIENT_LINE_STYLE:m+=6;break;case n.SET_TEXTURE:m+=2}b.restore()}};t.exports=r},function(t,e,i){var n=i(0),s=i(3),r=new n({initialize:function(t,e,i,n,r){if("object"==typeof t){var o=t;t=s(o,"x",0),e=s(o,"y",0),i=s(o,"power",0),n=s(o,"epsilon",100),r=s(o,"gravity",50)}else t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=100),r===undefined&&(r=50);this.x=t,this.y=e,this.active=!0,this._gravity=r,this._power=0,this._epsilon=0,this.power=i,this.epsilon=n},update:function(t,e){var i,n,s=this.x-t.x,r=this.y-t.y,o=s*s+r*r;0!==o&&(i=Math.sqrt(o),o<this._epsilon&&(o=this._epsilon),n=this._power*e/(o*i)*100,t.velocityX+=s*n,t.velocityY+=r*n)},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t,this.power=e}}});t.exports=r},function(t,e,i){var n=i(0),s=i(78),r=i(109),o=new n({initialize:function(t){this.emitter=t,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(t,e){var i,n,o,a,h,u,l,c=this.emitter;this.frame=c.getFrame(),c.emitZone&&c.emitZone.getPoint(this),t===undefined?(c.follow&&(this.x+=c.follow.x+c.followOffset.x),this.x+=c.x.onEmit(this,"x")):this.x+=t,e===undefined?(c.follow&&(this.y+=c.follow.y+c.followOffset.y),this.y+=c.y.onEmit(this,"y")):this.y+=e,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,i=c.speedX.onEmit(this,"speedX"),n=c.speedY?c.speedY.onEmit(this,"speedY"):i,c.radial?(o=s(c.angle.onEmit(this,"angle")),this.velocityX=Math.cos(o)*Math.abs(i),this.velocityY=Math.sin(o)*Math.abs(n)):c.moveTo?(a=c.moveToX.onEmit(this,"moveToX"),h=c.moveToY?c.moveToY.onEmit(this,"moveToY"):a,u=Math.atan2(h-this.y,a-this.x),l=r(this.x,this.y,a,h)/(this.life/1e3),this.velocityX=Math.cos(u)*l,this.velocityY=Math.sin(u)*l):(this.velocityX=i,this.velocityY=n),c.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=c.delay.onEmit(this,"delay"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),this.tint=c.tint.onEmit(this,"tint")},computeVelocity:function(t,e,i,n){var s,r=this.velocityX,o=this.velocityY,a=this.accelerationX,h=this.accelerationY,u=this.maxVelocityX,l=this.maxVelocityY;for(r+=t.gravityX*i,o+=t.gravityY*i,a&&(r+=a*i),h&&(o+=h*i),r>u?r=u:r<-u&&(r=-u),o>l?o=l:o<-l&&(o=-l),this.velocityX=r,this.velocityY=o,s=0;s<n.length;s++)n[s].update(this,e,i)},checkBounds:function(t){var e=t.bounds,i=-this.bounce;this.x<e.x&&t.collideLeft?(this.x=e.x,this.velocityX*=i):this.x>e.right&&t.collideRight&&(this.x=e.right,this.velocityX*=i),this.y<e.y&&t.collideTop?(this.y=e.y,this.velocityY*=i):this.y>e.bottom&&t.collideBottom&&(this.y=e.bottom,this.velocityY*=i)},update:function(t,e,i){var n,r;return this.delayCurrent>0?(this.delayCurrent-=t,!1):(n=this.emitter,r=1-this.lifeCurrent/this.life,this.lifeT=r,this.computeVelocity(n,t,e,i),this.x+=this.velocityX*e,this.y+=this.velocityY*e,n.bounds&&this.checkBounds(n),n.deathZone&&n.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=n.scaleX.onUpdate(this,"scaleX",r,this.scaleX),n.scaleY?this.scaleY=n.scaleY.onUpdate(this,"scaleY",r,this.scaleY):this.scaleY=this.scaleX,this.angle=n.rotate.onUpdate(this,"rotate",r,this.angle),this.rotation=s(this.angle),this.alpha=n.alpha.onUpdate(this,"alpha",r,this.alpha),this.tint=n.tint.onUpdate(this,"tint",r,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0))}});t.exports=o},function(t,e,i){var n=i(105),s=i(0),r=i(24),o=i(557),a=i(558),h=i(1400),u=i(3),l=i(314),c=i(559),f=i(153),d=i(555),p=i(560),g=i(18),y=i(224),m=i(4),v=i(108),x=new s({Mixins:[r.BlendMode,r.Mask,r.ScrollFactor,r.Visible],initialize:function(t,e){this.manager=t,this.texture=t.texture,this.frames=[t.defaultFrame],this.defaultFrame=t.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=d,this.x=new h(e,"x",0),this.y=new h(e,"y",0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new h(e,"accelerationX",0,!0),this.accelerationY=new h(e,"accelerationY",0,!0),this.maxVelocityX=new h(e,"maxVelocityX",1e4,!0),this.maxVelocityY=new h(e,"maxVelocityY",1e4,!0),this.speedX=new h(e,"speedX",0,!0),this.speedY=new h(e,"speedY",0,!0),this.moveTo=!1,this.moveToX=new h(e,"moveToX",0,!0),this.moveToY=new h(e,"moveToY",0,!0),this.bounce=new h(e,"bounce",0,!0),this.scaleX=new h(e,"scaleX",1),this.scaleY=new h(e,"scaleY",1),this.tint=new h(e,"tint",4294967295),this.alpha=new h(e,"alpha",1),this.lifespan=new h(e,"lifespan",1e3),this.angle=new h(e,"angle",{min:0,max:360}),this.rotate=new h(e,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new h(e,"quantity",1,!0),this.delay=new h(e,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=n.NORMAL,this.follow=null,this.followOffset=new m,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,e&&this.fromJSON(e)},fromJSON:function(t){var e,i,n;if(!t)return this;for(e=0,i="",e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],f(t,i)&&(this[i]=u(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],f(t,i)&&this[i].loadConfig(t);return this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,f(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(c(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),f(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),f(t,"callbackScope")&&(n=u(t,"callbackScope",null),this.emitCallbackScope=n,this.deathCallbackScope=n),f(t,"emitZone")&&this.setEmitZone(t.emitZone),f(t,"deathZone")&&this.setDeathZone(t.deathZone),f(t,"bounds")&&this.setBounds(t.bounds),f(t,"followOffset")&&this.followOffset.setFromObject(u(t,"followOffset",0)),f(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){var e,i;for(t===undefined&&(t={}),e=0,i="",e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],t[i]=this[i];for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],this[i]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,n){return e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=n,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return l(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=v(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){var n,s,r;return e===undefined&&(e=!0),i===undefined&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0,n=typeof t,Array.isArray(t)||"string"===n||"number"===n?this.manager.setEmitterFrames(t,this):"object"===n&&(s=t,t=u(s,"frames",null),t&&this.manager.setEmitterFrames(t,this),r=u(s,"cycle",!1),this.randomFrame=!r,this.frameQuantity=u(s,"quantity",i)),this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return t===undefined&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,n){if("object"==typeof t){var s=t;t=s.x,e=s.y,i=f(s,"w")?s.w:s.width,n=f(s,"h")?s.h:s.height}return this.bounds?this.bounds.setTo(t,e,i,n):this.bounds=new g(t,e,i,n),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){var e,i,n,s,r,o;if(t===undefined)this.emitZone=null;else switch(e=u(t,"type","random"),i=u(t,"source",null),e){case"random":this.emitZone=new p(i);break;case"edge":n=u(t,"quantity",1),s=u(t,"stepRate",0),r=u(t,"yoyo",!1),o=u(t,"seamless",!0),this.emitZone=new a(i,n,s,r,o)}return this},setDeathZone:function(t){var e,i,n;return t===undefined?this.deathZone=null:(e=u(t,"type","onEnter"),(i=u(t,"source",null))&&"function"==typeof i.contains&&(n="onEnter"===e,this.deathZone=new o(i,n))),this},reserve:function(t){var e,i=this.dead;for(e=0;e<t;e++)i.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return t===undefined?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return t===undefined?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){var i,n=this.alive,s=n.length;for(i=0;i<s;++i)t.call(e,n[i],this);return this},forEachDead:function(t,e){var i,n=this.dead,s=n.length;for(i=0;i<s;++i)t.call(e,n[i],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},depthSort:function(){return y.inplace(this.alive,this.depthSortCallback),this},flow:function(t,e){return e===undefined&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){var n,s,r;if(!this.atLimit()){for(t===undefined&&(t=this.quantity.onEmit()),n=this.dead,s=0;s<t&&(r=n.pop(),r||(r=new this.particleClass(this)),r.fire(e,i),this.particleBringToTop?this.alive.push(r):this.alive.unshift(r),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,r,this),!this.atLimit());s++);return r}},preUpdate:function(t,e){var i,n,s,r,o,a,h,u,l,c,f;for(e*=this.timeScale,i=e/1e3,this.trackVisible&&(this.visible=this.follow.visible),n=this.manager.getProcessors(),s=this.alive,r=this.dead,o=0,a=[],h=s.length,o=0;o<h;o++)u=s[o],u.update(e,i,n)&&a.push({index:o,particle:u});if((h=a.length)>0)for(l=this.deathCallback,c=this.deathCallbackScope,o=h-1;o>=0;o--)f=a[o],s.splice(f.index,1),r.push(f.particle),l&&l.call(c,f.particle),f.particle.resetPosition();this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y}});t.exports=x},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e){this.source=t,this.killOnEnter=e},willKill:function(t){var e=this.source.contains(t.x,t.y);return e&&this.killOnEnter||!e&&!this.killOnEnter}});t.exports=s},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n,s){n===undefined&&(n=!1),s===undefined&&(s=!0),this.source=t,this.points=[],this.quantity=e,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=s,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){var t,e,i;return this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless&&(t=this.points[0],e=this.points[this.points.length-1],t.x===e.x&&t.y===e.y&&this.points.pop()),i=this._length,this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?++this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0):-1===--this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1);var e=this.points[this.counter];e&&(t.x=e.x,t.y=e.y)}});t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){for(var i=0;i<e.length;i++)if(t.hasOwnProperty(e[i]))return!0;return!1};t.exports=i},function(t,e,i){var n=i(0),s=i(4),r=new n({initialize:function(t){this.source=t,this._tempVec=new s},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e),t.x=e.x,t.y=e.y}});t.exports=r},function(t,e,i){var n=i(0),s=i(78),r=i(173),o=i(6),a=i(96),h=i(174),u=i(4),l=new n({Extends:a,initialize:function(t,e,i,n,s,r){a.call(this,t,i,n,s,r),this.path=e,this.rotateToPath=!1,this.pathRotationOffset=0,this.pathOffset=new u(i,n),this.pathVector=new u,this.pathTween,this.pathConfig=null,this._prevDirection=h.PLAYING_FORWARD},setPath:function(t,e){e===undefined&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e){return e===undefined&&(e=0),this.rotateToPath=t,this.pathRotationOffset=e,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){var i,n,a,u;return t===undefined&&(t={}),e===undefined&&(e=0),i=this.pathTween,i&&i.isPlaying()&&i.stop(),"number"==typeof t&&(t={duration:t}),t.from=0,t.to=1,n=r(t,"positionOnPath",!1),this.rotateToPath=r(t,"rotateToPath",!1),this.pathRotationOffset=o(t,"rotationOffset",0),a=o(t,"startAt",e),a&&(t.onStart=function(t){var e,i=t.data[0];i.progress=a,i.elapsed=i.duration*a,e=i.ease(i.progress),i.current=i.start+(i.end-i.start)*e,i.target[i.key]=i.current}),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),n&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath&&(u=this.path.getPoint(.1),this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+s(this.pathRotationOffset)),this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},preUpdate:function(t,e){var i,n,r,o,a,u,l;if(this.anims.update(t,e),i=this.pathTween){if(n=i.data[0],n.state!==h.PLAYING_FORWARD&&n.state!==h.PLAYING_BACKWARD)return;if(r=this.pathVector,this.path.getPoint(i.getValue(),r),r.add(this.pathOffset),o=this.x,a=this.y,this.setPosition(r.x,r.y),u=this.x-o,l=this.y-a,0===u&&0===l)return;if(n.state!==this._prevDirection)return void(this._prevDirection=n.state);this.rotateToPath&&(this.rotation=Math.atan2(l,u)+s(this.pathRotationOffset))}}});t.exports=l},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})};t.exports=i},function(t,e,i){var n=i(1420),s=i(0),r=i(78),o=i(126),a=i(146),h=i(33),u=i(60),l=new s({Extends:u,Mixins:[n],initialize:function(t,e,i,n,s,r,o,h,l){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=128),s===undefined&&(s=0),r===undefined&&(r=360),o===undefined&&(o=!1),u.call(this,t,"Arc",new a(0,0,n)),this._startAngle=s,this._endAngle=r,this._anticlockwise=o,this._iterations=.01,this.setPosition(e,i),this.setSize(this.geom.radius,this.geom.radius),h!==undefined&&this.setFillStyle(h,l),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t,this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.updateData()}},setRadius:function(t){return this.radius=t,this},setIterations:function(t){return t===undefined&&(t=.01),this.iterations=t,this},setStartAngle:function(t,e){return this._startAngle=t,e!==undefined&&(this._anticlockwise=e),this.updateData()},setEndAngle:function(t,e){return this._endAngle=t,e!==undefined&&(this._anticlockwise=e),this.updateData()},updateData:function(){var t,e,i=this._iterations,n=i,s=this.geom.radius,a=r(this._startAngle),u=r(this._endAngle),l=this._anticlockwise,c=s/2,f=s/2;for(u-=a,l?u<-h.PI2?u=-h.PI2:u>0&&(u=-h.PI2+u%h.PI2):u>h.PI2?u=h.PI2:u<0&&(u=h.PI2+u%h.PI2),t=[c+Math.cos(a)*s,f+Math.sin(a)*s];n<1;)e=u*n+a,t.push(c+Math.cos(e)*s,f+Math.sin(e)*s),n+=i;return e=u+a,t.push(c+Math.cos(e)*s,f+Math.sin(e)*s),t.push(c+Math.cos(a)*s,f+Math.sin(a)*s),this.pathIndexes=o(t),this.pathData=t,this}});t.exports=l},function(t,e,i){var n=i(0),s=i(1423),r=i(126),o=i(18),a=i(60),h=new n({Extends:a,Mixins:[s],initialize:function(t,e,i,n,s,r){e===undefined&&(e=0),i===undefined&&(i=0),a.call(this,t,"Curve",n),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(e,i),s!==undefined&&this.setFillStyle(s,r),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t,e,i,n=this._curveBounds,s=this._smoothness;for(this.geom.getBounds(n,s),this.setSize(n.width,n.height),this.updateDisplayOrigin(),t=[],e=this.geom.getPoints(s),i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=r(t),this.pathData=t,this}});t.exports=h},function(t,e,i){var n=i(0),s=i(126),r=i(1426),o=i(169),a=i(60),h=new n({Extends:a,Mixins:[r],initialize:function(t,e,i,n,s,r,h){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=128),s===undefined&&(s=128),a.call(this,t,"Ellipse",new o(n/2,s/2,n,s)),this._smoothness=64,this.setPosition(e,i),this.width=n,this.height=s,r!==undefined&&this.setFillStyle(r,h),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSize:function(t,e){return this.geom.setSize(t,e),this.updateData()},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t,e=[],i=this.geom.getPoints(this._smoothness);for(t=0;t<i.length;t++)e.push(i[t].x,i[t].y);return e.push(i[0].x,i[0].y),this.pathIndexes=s(e),this.pathData=e,this}});t.exports=h},function(t,e,i){var n=i(0),s=i(60),r=i(1429),o=new n({Extends:s,Mixins:[r],initialize:function(t,e,i,n,r,o,a,h,u,l,c){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=128),r===undefined&&(r=128),o===undefined&&(o=32),a===undefined&&(a=32),s.call(this,t,"Grid",null),this.cellWidth=o,this.cellHeight=a,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(e,i),this.setSize(n,r),h!==undefined&&this.setFillStyle(h,u),l!==undefined&&this.setOutlineStyle(l,c),this.updateDisplayOrigin()},setFillStyle:function(t,e){return e===undefined&&(e=1),t===undefined?this.showCells=!1:(this.fillColor=t,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(t,e){return e===undefined&&(e=1),t===undefined?this.showAltCells=!1:(this.altFillColor=t,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(t,e){return e===undefined&&(e=1),t===undefined?this.showOutline=!1:(this.outlineFillColor=t,this.outlineFillAlpha=e,this.showOutline=!0),this}});t.exports=o},function(t,e,i){var n=i(1432),s=i(0),r=i(60),o=new s({Extends:r,Mixins:[n],initialize:function(t,e,i,n,s,o,a,h){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=48),s===undefined&&(s=32),o===undefined&&(o=15658734),a===undefined&&(a=10066329),h===undefined&&(h=13421772),r.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=o,this.fillLeft=a,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(e,i),this.setSize(n,s),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setFaces:function(t,e,i){return t===undefined&&(t=!0),e===undefined&&(e=!0),i===undefined&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=o},function(t,e,i){var n=i(0),s=i(1435),r=i(60),o=new n({Extends:r,Mixins:[s],initialize:function(t,e,i,n,s,o,a,h,u){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=48),s===undefined&&(s=32),o===undefined&&(o=!1),a===undefined&&(a=15658734),h===undefined&&(h=10066329),u===undefined&&(u=13421772),r.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=a,this.fillLeft=h,this.fillRight=u,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=o,this.isFilled=!0,this.setPosition(e,i),this.setSize(n,s),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setReversed:function(t){return this.isReversed=t,this},setFaces:function(t,e,i){return t===undefined&&(t=!0),e===undefined&&(e=!0),i===undefined&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=o},function(t,e,i){var n=i(0),s=i(60),r=i(106),o=i(1438),a=new n({Extends:s,Mixins:[o],initialize:function(t,e,i,n,o,a,h,u,l){var c,f;e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),o===undefined&&(o=0),a===undefined&&(a=128),h===undefined&&(h=0),s.call(this,t,"Line",new r(n,o,a,h)),c=this.geom.right-this.geom.left,f=this.geom.bottom-this.geom.top,this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(e,i),this.setSize(c,f),u!==undefined&&this.setStrokeStyle(1,u,l),this.updateDisplayOrigin()},setLineWidth:function(t,e){return e===undefined&&(e=t),this._startWidth=t,this._endWidth=e,this.lineWidth=t,this},setTo:function(t,e,i,n){return this.geom.setTo(t,e,i,n),this}});t.exports=a},function(t,e,i){var n=i(1441),s=i(0),r=i(126),o=i(571),a=i(326),h=i(60),u=i(574),l=new s({Extends:h,Mixins:[n],initialize:function(t,e,i,n,s,r){e===undefined&&(e=0),i===undefined&&(i=0),h.call(this,t,"Polygon",new a(n));var u=o(this.geom);this.setPosition(e,i),this.setSize(u.width,u.height),s!==undefined&&this.setFillStyle(s,r),this.updateDisplayOrigin(),this.updateData()},smooth:function(t){t===undefined&&(t=1);for(var e=0;e<t;e++)u(this.geom);return this.updateData()},updateData:function(){var t,e=[],i=this.geom.points;for(t=0;t<i.length;t++)e.push(i[t].x,i[t].y);return e.push(i[0].x,i[0].y),this.pathIndexes=r(e),this.pathData=e,this}});t.exports=l},function(t,e,i){var n=i(18),s=function(t,e){var i,s,r,o,a,h;for(e===undefined&&(e=new n),i=Infinity,s=Infinity,r=-i,o=-s,h=0;h<t.points.length;h++)a=t.points[h],i=Math.min(i,a.x),s=Math.min(s,a.y),r=Math.max(r,a.x),o=Math.max(o,a.y);return e.x=i,e.y=s,e.width=r-i,e.height=o-s,e};t.exports=s},function(t,e,i){var n=i(107),s=i(106),r=i(573),o=function(t,e,i,o){var a,h,u,l,c,f,d,p,g,y,m;for(o===undefined&&(o=[]),a=t.points,h=r(t),e||(e=h/i),u=0;u<e;u++)for(l=h*(u/e),c=0,f=0;f<a.length;f++){if(d=a[f],p=a[(f+1)%a.length],g=new s(d.x,d.y,p.x,p.y),y=n(g),!(l<c||l>c+y)){m=g.getPoint((l-c)/y),o.push(m);break}c+=y}return o};t.exports=o},function(t,e,i){var n=i(107),s=i(106),r=function(t){var e,i,r,o,a=t.points,h=0;for(e=0;e<a.length;e++)i=a[e],r=a[(e+1)%a.length],o=new s(i.x,i.y,r.x,r.y),h+=n(o);return h};t.exports=r},function(t,e){var i=function(t,e){return t[0]=e[0],t[1]=e[1],t},n=function(t){var e,n,s,r,o,a,h,u,l=[],c=t.points;for(e=0;e<c.length;e++)l.push([c[e].x,c[e].y]);for(n=[],l.length>0&&n.push(i([0,0],l[0])),e=0;e<l.length-1;e++)s=l[e],r=l[e+1],o=s[0],a=s[1],h=r[0],u=r[1],n.push([.85*o+.15*h,.85*a+.15*u]),n.push([.15*o+.85*h,.15*a+.85*u]);return l.length>1&&n.push(i([0,0],l[l.length-1])),t.setTo(n)};t.exports=n},function(t,e,i){var n=i(0),s=i(18),r=i(60),o=i(1444),a=new n({Extends:r,Mixins:[o],initialize:function(t,e,i,n,o,a,h){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=128),o===undefined&&(o=128),r.call(this,t,"Rectangle",new s(0,0,n,o)),this.setPosition(e,i),this.setSize(n,o),a!==undefined&&this.setFillStyle(a,h),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),e.getLineD(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=a},function(t,e,i){var n=i(1447),s=i(0),r=i(126),o=i(60),a=new s({Extends:o,Mixins:[n],initialize:function(t,e,i,n,s,r,a,h){e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=5),s===undefined&&(s=32),r===undefined&&(r=64),o.call(this,t,"Star",null),this._points=n,this._innerRadius=s,this._outerRadius=r,this.setPosition(e,i),this.setSize(2*r,2*r),a!==undefined&&this.setFillStyle(a,h),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t,e=[],i=this._points,n=this._innerRadius,s=this._outerRadius,o=Math.PI/2*3,a=Math.PI/i,h=s,u=s;for(e.push(h,u+-s),t=0;t<i;t++)e.push(h+Math.cos(o)*s,u+Math.sin(o)*s),o+=a,e.push(h+Math.cos(o)*n,u+Math.sin(o)*n),o+=a;return e.push(h,u+-s),this.pathIndexes=r(e),this.pathData=e,this}});t.exports=a},function(t,e,i){var n=i(0),s=i(60),r=i(131),o=i(1450),a=new n({Extends:s,Mixins:[o],initialize:function(t,e,i,n,o,a,h,u,l,c,f){var d,p;e===undefined&&(e=0),i===undefined&&(i=0),n===undefined&&(n=0),o===undefined&&(o=128),a===undefined&&(a=64),h===undefined&&(h=0),u===undefined&&(u=128),l===undefined&&(l=128),s.call(this,t,"Triangle",new r(n,o,a,h,u,l)),d=this.geom.right-this.geom.left,p=this.geom.bottom-this.geom.top,this.setPosition(e,i),this.setSize(d,p),c!==undefined&&this.setFillStyle(c,f),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,e,i,n,s,r){return this.geom.setTo(t,e,i,n,s,r),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=a},function(t,e,i){var n=i(9),s=i(107),r=function(t,e,i){var r,o,a,h,u,l,c,f,d;return i===undefined&&(i=new n),r=t.getLineA(),o=t.getLineB(),a=t.getLineC(),e<=0||e>=1?(i.x=r.x1,i.y=r.y1,i):(h=s(r),u=s(o),l=s(a),c=h+u+l,f=c*e,d=0,f<h?(d=f/h,i.x=r.x1+(r.x2-r.x1)*d,i.y=r.y1+(r.y2-r.y1)*d):f>h+u?(f-=h+u,d=f/l,i.x=a.x1+(a.x2-a.x1)*d,i.y=a.y1+(a.y2-a.y1)*d):(f-=h,d=f/u,i.x=o.x1+(o.x2-o.x1)*d,i.y=o.y1+(o.y2-o.y1)*d),i)};t.exports=r},function(t,e,i){var n=i(107),s=i(9),r=function(t,e,i,r){var o,a,h,u,l,c,f,d,p,g,y;for(r===undefined&&(r=[]),o=t.getLineA(),a=t.getLineB(),h=t.getLineC(),u=n(o),l=n(a),c=n(h),f=u+l+c,e||(e=f/i),d=0;d<e;d++)p=f*(d/e),g=0,y=new s,p<u?(g=p/u,y.x=o.x1+(o.x2-o.x1)*g,y.y=o.y1+(o.y2-o.y1)*g):p>u+l?(p-=u+l,g=p/c,y.x=h.x1+(h.x2-h.x1)*g,y.y=h.y1+(h.y2-h.y1)*g):(p-=u,g=p/l,y.x=a.x1+(a.x2-a.x1)*g,y.y=a.y1+(a.y2-a.y1)*g),r.push(y);return r};t.exports=r},function(t,e,i){var n=i(0),s=i(24),r=i(1492),o=i(19),a=i(308),h=i(214),u=new n({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Origin,s.ScrollFactor,s.Transform,s.Visible,r],initialize:function(t,e,i,n){o.call(this,t,"DOMElement"),this.parent=t.sys.game.domContainer,this.cache=t.sys.cache.html,this.node,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(e,i),n&&this.setElement(n)},setSkew:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this.skewX=t,this.skewY=e,this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(t){this.parent.style.perspective=t+"px"}},setPerspective:function(t){return this.parent.style.perspective=t+"px",this},addListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.addEventListener(t[e],this.handler,!1)}return this},removeListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.removeEventListener(t[e],this.handler)}return this},dispatchNativeEvent:function(t){this.emit(t.type,t)},setElement:function(t){var e,i;if("string"==typeof t?e=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(e=t),e)return this.node=e,e.style.zIndex="0",e.style.display="inline",e.style.position="absolute",e.phaser=this,this.parent&&this.parent.appendChild(e),i=e.getBoundingClientRect(),this.setSize(i.width||0,i.height||0),this},createFromCache:function(t,e){return this.createFromHTML(this.cache.get(t),e)},createFromHTML:function(t,e){var i,n;return e===undefined&&(e="div"),i=document.createElement(e),this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=t,n=i.getBoundingClientRect(),this.setSize(n.width||0,n.height||0),this},getChildByProperty:function(t,e){var i,n;if(this.node)for(i=this.node.querySelectorAll("*"),n=0;n<i.length;n++)if(i[n][t]===e)return i[n];return null},getChildByID:function(t){return this.getChildByProperty("id",t)},getChildByName:function(t){return this.getChildByProperty("name",t)},setText:function(t){if(this.node){this.node.innerText=t;var e=this.node.getBoundingClientRect();this.setSize(e.width,e.height)}return this},setHTML:function(t){if(this.node){this.node.innerHTML=t;var e=this.node.getBoundingClientRect();this.setSize(e.width,e.height)}return this},willRender:function(){return!0},destroy:function(){a(this.node)}});t.exports=u},function(t,e,i){var n=i(1493),s=i(19),r=function(t,e,i,r){var o,a,h,u,l,c=e.node;if(!c||s.RENDER_MASK!==e.renderFlags||0!==e.cameraFilter&&e.cameraFilter&r.id)return void(c&&(c.style.display="none"));o=t._tempMatrix1,a=t._tempMatrix2,h=t._tempMatrix3,u=e.originX*e.width,l=e.originY*e.height,a.applyITRS(e.x-u-r.scrollX*e.scrollFactorX,e.y-l-r.scrollY*e.scrollFactorY,e.rotation,e.scaleX,e.scaleY),o.copyFrom(r.matrix),o.multiply(a,h),c.style.display="block",c.style.opacity=e.alpha,c.style.zIndex=e._depth,c.style.pointerEvents="auto",c.style.mixBlendMode=n[e._blendMode],c.style.transform=h.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")",c.style.transformOrigin=100*e.originX+"% "+100*e.originY+"%"};t.exports=r},function(t,e,i){var n=i(0),s=i(16),r=new n({initialize:function(t,e,i,n,s,r,o){this.x=t,this.y=e,this.radius=i,this.r=n,this.g=s,this.b=r,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1},set:function(t,e,i,n,s,r,o){return this.x=t,this.y=e,this.radius=i,this.r=n,this.g=s,this.b=r,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(t,e){return t===undefined&&(t=1),e===undefined&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this},setColor:function(t){var e=s.getFloatsFromUintRGB(t);return this.r=e[0],this.g=e[1],this.b=e[2],this},setIntensity:function(t){return this.intensity=t,this},setPosition:function(t,e){return this.x=t,this.y=e,this},setRadius:function(t){return this.radius=t,this}});t.exports=r},function(t,e,i){var n=i(0),s=i(582),r=i(16),o=new n({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return-1===this.maxLights&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(t){var e,i,n,s,r=this.lights,o=this.culledLights,a=r.length,h=t.x+t.width/2,u=t.y+t.height/2,l=(t.width+t.height)/2,c={x:0,y:0},f=t.matrix,d=this.systems.game.config.height;for(o.length=0,e=0;e<a&&o.length<this.maxLights;e++)i=r[e],f.transformPoint(i.x,i.y,c),n=h-(c.x-t.scrollX*i.scrollFactorX*t.zoom),s=u-(d-(c.y-t.scrollY*i.scrollFactorY*t.zoom)),Math.sqrt(n*n+s*s)<i.radius+l&&o.push(r[e]);return o},forEachLight:function(t){var e,i,n;if(t){for(e=this.lights,i=e.length,n=0;n<i;++n)t(e[n]);return this}},setAmbientColor:function(t){var e=r.getFloatsFromUintRGB(t);return this.ambientColor.r=e[0],this.ambientColor.g=e[1],this.ambientColor.b=e[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(t,e,i,n,o){var a=null,h=null;return t=t===undefined?0:t,e=e===undefined?0:e,n=n===undefined?16777215:n,i=i===undefined?100:i,o=o===undefined?1:o,a=r.getFloatsFromUintRGB(n),h=null,this.lightPool.length>0?(h=this.lightPool.pop(),h.set(t,e,i,a[0],a[1],a[2],o)):h=new s(t,e,i,a[0],a[1],a[2],o),this.lights.push(h),h},removeLight:function(t){var e=this.lights.indexOf(t);return e>=0&&(this.lightPool.push(t),this.lights.splice(e,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Circle:i(1503),Ellipse:i(1513),Intersects:i(585),Line:i(1533),Point:i(1554),Polygon:i(1568),Rectangle:i(593),Triangle:i(1598)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CircleToCircle:i(1523),CircleToRectangle:i(1524),GetRectangleIntersection:i(1525),LineToCircle:i(586),LineToLine:i(227),LineToRectangle:i(1526),PointToLine:i(587),PointToLineSegment:i(1527),RectangleToRectangle:i(329),RectangleToTriangle:i(1528),RectangleToValues:i(1529),TriangleToCircle:i(1530),TriangleToLine:i(1531),TriangleToTriangle:i(1532)}},function(t,e,i){var n=i(91),s=i(9),r=new s,o=function(t,e,i){var s,o,a,h,u,l,c,f;return i===undefined&&(i=r),n(e,t.x1,t.y1)?(i.x=t.x1,i.y=t.y1,!0):n(e,t.x2,t.y2)?(i.x=t.x2,i.y=t.y2,!0):(s=t.x2-t.x1,o=t.y2-t.y1,a=e.x-t.x1,h=e.y-t.y1,u=s*s+o*o,l=s,c=o,u>0&&(f=(a*s+h*o)/u,l*=f,c*=f),i.x=t.x1+l,i.y=t.y1+c,l*l+c*c<=u&&l*s+c*o>=0&&n(e,i.x,i.y))};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o,a,h,u,l,c;return i===undefined&&(i=1),n=e.x1,s=e.y1,r=e.x2,o=e.y2,a=t.x,h=t.y,0!=(u=(r-n)*(r-n)+(o-s)*(o-s))&&(l=((a-n)*(r-n)+(h-s)*(o-s))/u,l<0?Math.sqrt((n-a)*(n-a)+(s-h)*(s-h))<=i:l>=0&&l<=1?(c=((s-h)*(r-n)-(n-a)*(o-s))/u,Math.abs(c)*Math.sqrt(u)<=i):Math.sqrt((r-a)*(r-a)+(o-h)*(o-h))<=i)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e};t.exports=i},function(t,e,i){var n=i(33),s=i(108),r=i(155),o=function(t){var e=r(t)-n.TAU;return s(e,-Math.PI,Math.PI)};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x*t.x+t.y*t.y};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18);n.Area=i(1573),n.Ceil=i(1574),n.CeilAll=i(1575),n.CenterOn=i(293),n.Clone=i(1576),n.Contains=i(92),n.ContainsPoint=i(1577),n.ContainsRect=i(594),n.CopyFrom=i(1578),n.Decompose=i(588),n.Equals=i(1579),n.FitInside=i(1580),n.FitOutside=i(1581),n.Floor=i(1582),n.FloorAll=i(1583),n.FromPoints=i(306),n.GetAspectRatio=i(332),n.GetCenter=i(1584),n.GetPoint=i(277),n.GetPoints=i(425),n.GetSize=i(1585),n.Inflate=i(1586),n.Intersection=i(1587),n.MarchingAnts=i(436),n.MergePoints=i(1588),n.MergeRect=i(1589),n.MergeXY=i(1590),n.Offset=i(1591),n.OffsetPoint=i(1592),n.Overlaps=i(1593),n.Perimeter=i(205),n.PerimeterPoint=i(1594),n.Random=i(280),n.RandomOutside=i(1595),n.SameDimensions=i(1596),n.Scale=i(1597),n.Union=i(548),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return!(e.width*e.height>t.width*t.height)&&(e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom)};t.exports=i},function(t,e,i){var n=i(9),s=function(t,e){return e===undefined&&(e=new n),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t};t.exports=i},function(t,e,i){function n(t,e,i,n){var s=t-i,r=e-n,o=s*s+r*r;return Math.sqrt(o)}var s=i(9),r=function(t,e){var i,r,o,a,h,u,l,c,f,d;return e===undefined&&(e=new s),i=t.x1,r=t.y1,o=t.x2,a=t.y2,h=t.x3,u=t.y3,l=n(h,u,o,a),c=n(i,r,h,u),f=n(o,a,i,r),d=l+c+f,e.x=(i*l+o*c+h*f)/d,e.y=(r*l+a*c+u*f)/d,e};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragX:0,dragY:0}};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});t.exports=s},function(t,e,i){var n=i(0),s=i(334),r=new n({initialize:function(t,e){this.pad=t,this.events=t.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(t){var e,i;this.value=t,e=this.pad,i=this.index,t>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(s.BUTTON_DOWN,e,this,t),this.pad.emit(s.GAMEPAD_BUTTON_DOWN,i,t,this)):this.pressed&&(this.pressed=!1,this.events.emit(s.BUTTON_UP,e,this,t),this.pad.emit(s.GAMEPAD_BUTTON_UP,i,t,this))},destroy:function(){this.pad=null,this.events=null}});t.exports=r},function(t,e,i){var n=i(599),s=i(600),r=i(0),o=i(15),a=i(4),h=new r({Extends:o,initialize:function(t,e){var i,r,h,u,l;for(o.call(this),this.manager=t,this.pad=e,this.id=e.id,this.index=e.index,i=[],r=0;r<e.buttons.length;r++)i.push(new s(this,r));for(this.buttons=i,h=[],r=0;r<e.axes.length;r++)h.push(new n(this,r));this.axes=h,this.vibration=e.vibrationActuator,u={value:0,pressed:!1},this._LCLeft=i[14]?i[14]:u,this._LCRight=i[15]?i[15]:u,this._LCTop=i[12]?i[12]:u,this._LCBottom=i[13]?i[13]:u,this._RCLeft=i[2]?i[2]:u,this._RCRight=i[1]?i[1]:u,this._RCTop=i[3]?i[3]:u,this._RCBottom=i[0]?i[0]:u,this._FBLeftTop=i[4]?i[4]:u,this._FBLeftBottom=i[6]?i[6]:u,this._FBRightTop=i[5]?i[5]:u,this._FBRightBottom=i[7]?i[7]:u,l={value:0},this._HAxisLeft=h[0]?h[0]:l,this._VAxisLeft=h[1]?h[1]:l,this._HAxisRight=h[2]?h[2]:l,this._VAxisRight=h[3]?h[3]:l,this.leftStick=new a,this.rightStick=new a},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){var e,i,n,s=this.buttons,r=t.buttons,o=s.length;for(e=0;e<o;e++)s[e].update(r[e].value);for(i=this.axes,n=t.axes,o=i.length,e=0;e<o;e++)i[e].update(n[e]);o>=2&&(this.leftStick.set(i[0].getValue(),i[1].getValue()),o>=4&&this.rightStick.set(i[2].getValue(),i[3].getValue()))},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var t;for(t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});t.exports=h},function(t,e,i){var n=i(0),s=i(15),r=i(229),o=new n({Extends:s,initialize:function(t){s.call(this),this.keyCode=t,this.originalEvent=undefined,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(t){return this.emitOnRepeat=t,this},onDown:function(t){this.originalEvent=t,this.enabled&&(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.location=t.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(r.DOWN,this,t):(this.isDown=!0,this.isUp=!1,this.timeDown=t.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(r.DOWN,this,t)))},onUp:function(t){this.originalEvent=t,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=t.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(r.UP,this,t))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},destroy:function(){this.removeAllListeners(),this.originalEvent=null}});t.exports=o},function(t,e,i){var n=i(0),s=i(229),r=i(3),o=i(1637),a=i(1639),h=new n({initialize:function(t,e,i){var n,h,u,l;if(i===undefined&&(i={}),e.length<2)return!1;for(this.manager=t,this.enabled=!0,this.keyCodes=[],n=0;n<e.length;n++)h=e[n],"string"==typeof h?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):"number"==typeof h?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode);this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=r(i,"resetOnWrongKey",!0),this.maxKeyDelay=r(i,"maxKeyDelay",0),this.resetOnMatch=r(i,"resetOnMatch",!1),this.deleteOnMatch=r(i,"deleteOnMatch",!1),u=this,l=function(t){if(!u.matched&&u.enabled){o(t,u)&&(u.manager.emit(s.COMBO_MATCH,u,t),u.resetOnMatch?a(u):u.deleteOnMatch&&u.destroy())}},this.onKeyDown=l,this.manager.on(s.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(s.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});t.exports=h},function(t,e,i){var n=i(336),s=function(t,e){var i=n(e,t.xhrSettings),s=new XMLHttpRequest;return s.open("GET",t.src,i.async,i.user,i.password),s.responseType=t.xhrSettings.responseType,s.timeout=i.timeout,i.header&&i.headerValue&&s.setRequestHeader(i.header,i.headerValue),i.requestedWith&&s.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&s.overrideMimeType(i.overrideMimeType),s.onload=t.onLoad.bind(t,s),s.onerror=t.onError.bind(t,s),s.onprogress=t.onProgress.bind(t),s.send(),s};t.exports=s},function(t,e,i){var n=i(0),s=i(52),r=i(38),o=i(14),a=i(3),h=i(606),u=i(13),l=new n({Extends:r,initialize:function(t,e,i,n,s){var o,h;u(e)&&(o=e,e=a(o,"key"),n=a(o,"xhrSettings"),s=a(o,"context",s)),h={type:"audio",cache:t.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:e,url:i.url,xhrSettings:n,config:{context:s}},r.call(this,t,h)},onProcess:function(){this.state=s.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(e){t.data=e,t.onProcessComplete()},function(e){t.onProcessError()}),this.config.context=null}});l.create=function(t,e,i,n,s){var r,o=t.systems.game,c=o.config.audio,f=o.device.audio;return u(e)&&(i=a(e,"url",[]),n=a(e,"config",{})),r=l.getAudioURL(o,i),r?!f.webAudio||c&&c.disableWebAudio?new h(t,e,r,n):new l(t,e,r,s,o.sound.context):null},l.getAudioURL=function(t,e){var i,n,s;for(Array.isArray(e)||(e=[e]),i=0;i<e.length;i++){if(n=a(e[i],"url",e[i]),0===n.indexOf("blob:")||0===n.indexOf("data:"))return n;if(s=n.match(/\.([a-zA-Z0-9]+)($|\?)/),s=a(e[i],"type",s?s[1]:"").toLowerCase(),t.device.audio[s])return{url:n,type:s}}return null},o.register("audio",function(t,e,i,n){var s,r,o=this.systems.game,a=o.config.audio,h=o.device.audio;if(a&&a.noAudio||!h.webAudio&&!h.audioData)return this;if(Array.isArray(t))for(r=0;r<t.length;r++)(s=l.create(this,t[r]))&&this.addFile(s);else(s=l.create(this,t,e,i,n))&&this.addFile(s);return this}),t.exports=l},function(t,e,i){var n=i(0),s=i(149),r=i(38),o=i(3),a=i(335),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n){var s,a;h(e)&&(s=e,e=o(s,"key"),n=o(s,"config",n)),a={type:"audio",cache:t.cacheManager.audio,extension:i.type,key:e,url:i.url,config:n},r.call(this,t,a),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){var t,e;for(t=0;t<this.data.length;t++)e=this.data[t],e.oncanplaythrough=null,e.onerror=null;this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){var t,e,i;for(this.data=[],t=this.config&&this.config.instances||1,this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0,e=0;e<t;e++)i=new Audio,i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i);for(e=0;e<this.data.length;e++)i=this.data[e],i.src=a(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});t.exports=u},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n){var s,o,u="txt";h(e)&&(s=e,e=a(s,"key"),i=a(s,"url"),n=a(s,"xhrSettings"),u=a(s,"extension",u)),o={type:"text",cache:t.cacheManager.text,extension:u,responseType:"text",key:e,url:i,xhrSettings:n},r.call(this,t,o)},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){var n=i(609),s=i(231),r=i(0),o=i(98),a=i(611),h=i(612),u=new r({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(t,e,i,n,s){return this.world.addCollider(t,e,i,n,s)},overlap:function(t,e,i,n,s){return this.world.addOverlap(t,e,i,n,s)},existing:function(t,e){var i=e?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,s){var r=new n(this.scene,t,e,i,s);return this.sys.displayList.add(r),this.world.enableBody(r,o.STATIC_BODY),r},image:function(t,e,i,s){var r=new n(this.scene,t,e,i,s);return this.sys.displayList.add(r),this.world.enableBody(r,o.DYNAMIC_BODY),r},staticSprite:function(t,e,i,n){var r=new s(this.scene,t,e,i,n);return this.sys.displayList.add(r),this.sys.updateList.add(r),this.world.enableBody(r,o.STATIC_BODY),r},sprite:function(t,e,i,n){var r=new s(this.scene,t,e,i,n);return this.sys.displayList.add(r),this.sys.updateList.add(r),this.world.enableBody(r,o.DYNAMIC_BODY),r},staticGroup:function(t,e){return this.sys.updateList.add(new h(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new a(this.world,this.world.scene,t,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=u},function(t,e,i){var n=i(0),s=i(610),r=i(152),o=new n({Extends:r,Mixins:[s.Acceleration,s.Angular,s.Bounce,s.Debug,s.Drag,s.Enable,s.Friction,s.Gravity,s.Immovable,s.Mass,s.Size,s.Velocity],initialize:function(t,e,i,n,s){r.call(this,t,e,i,n,s),this.body=null}});t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Acceleration:i(1674),Angular:i(1675),Bounce:i(1676),Debug:i(1677),Drag:i(1678),Enable:i(1679),Friction:i(1680),Gravity:i(1681),Immovable:i(1682),Mass:i(1683),Size:i(1684),Velocity:i(1685)}},function(t,e,i){var n=i(231),s=i(0),r=i(98),o=i(3),a=i(171),h=i(13),u=new s({Extends:a,initialize:function(t,e,i,s){i||s?h(i)?(s=i,i=null,s.createCallback=this.createCallbackHandler,s.removeCallback=this.removeCallbackHandler):Array.isArray(i)&&h(i[0])?(s=i,i=null,s.forEach(function(t){t.createCallback=this.createCallbackHandler,t.removeCallback=this.removeCallbackHandler})):s={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler}:s={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler},this.world=t,s.classType=o(s,"classType",n),this.physicsType=r.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:o(s,"collideWorldBounds",!1),setAccelerationX:o(s,"accelerationX",0),setAccelerationY:o(s,"accelerationY",0),setAllowDrag:o(s,"allowDrag",!0),setAllowGravity:o(s,"allowGravity",!0),setAllowRotation:o(s,"allowRotation",!0),setBounceX:o(s,"bounceX",0),setBounceY:o(s,"bounceY",0),setDragX:o(s,"dragX",0),setDragY:o(s,"dragY",0),setEnable:o(s,"enable",!0),setGravityX:o(s,"gravityX",0),setGravityY:o(s,"gravityY",0),setFrictionX:o(s,"frictionX",0),setFrictionY:o(s,"frictionY",0),setVelocityX:o(s,"velocityX",0),setVelocityY:o(s,"velocityY",0),setAngularVelocity:o(s,"angularVelocity",0),setAngularAcceleration:o(s,"angularAcceleration",0),setAngularDrag:o(s,"angularDrag",0),setMass:o(s,"mass",1),setImmovable:o(s,"immovable",!1)},a.call(this,e,i,s)},createCallbackHandler:function(t){var e,i;t.body||this.world.enableBody(t,r.DYNAMIC_BODY),e=t.body;for(i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){var n,s;for(i===undefined&&(i=0),n=this.getChildren(),s=0;s<n.length;s++)n[s].body.velocity.set(t+s*i,e+s*i);return this},setVelocityX:function(t,e){var i,n;for(e===undefined&&(e=0),i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.x=t+n*e;return this},setVelocityY:function(t,e){var i,n;for(e===undefined&&(e=0),i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.y=t+n*e;return this}});t.exports=u},function(t,e,i){var n=i(231),s=i(0),r=i(98),o=i(171),a=i(13),h=new s({Extends:o,initialize:function(t,e,i,s){i||s?a(i)?(s=i,i=null,s.createCallback=this.createCallbackHandler,s.removeCallback=this.removeCallbackHandler,s.createMultipleCallback=this.createMultipleCallbackHandler,s.classType=n):Array.isArray(i)&&a(i[0])&&(s=i,i=null,s.forEach(function(t){t.createCallback=this.createCallbackHandler,t.removeCallback=this.removeCallbackHandler,t.createMultipleCallback=this.createMultipleCallbackHandler,t.classType=n})):s={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:n},this.world=t,this.physicsType=r.STATIC_BODY,o.call(this,e,i,s)},createCallbackHandler:function(t){t.body||this.world.enableBody(t,r.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){var t,e=this.children.entries;for(t=0;t<e.length;t++)e[t].body.reset();return this}});t.exports=h},function(t,e,i){var n=i(614),s=i(37),r=i(0),o=i(616),a=i(98),h=i(109),u=i(15),l=i(615),c=i(296),f=i(472),d=i(473),p=i(617),g=i(618),y=i(6),m=i(619),v=i(1693),x=i(18),b=i(620),_=i(1694),w=i(1699),T=i(1700),S=i(151),A=i(622),E=i(621),P=i(93),O=i(4),M=i(108),C=new r({Extends:u,initialize:function(t,e){u.call(this),this.scene=t,this.bodies=new S,this.staticBodies=new S,this.pendingDestroy=new S,this.late=new S,this._late=!1,this.colliders=new m,this.gravity=new O(y(e,"gravity.x",0),y(e,"gravity.y",0)),this.bounds=new x(y(e,"x",0),y(e,"y",0),y(e,"width",t.sys.scale.width),y(e,"height",t.sys.scale.height)),this.checkCollision={up:y(e,"checkCollision.up",!0),down:y(e,"checkCollision.down",!0),left:y(e,"checkCollision.left",!0),right:y(e,"checkCollision.right",!0)},this.fps=y(e,"fps",60),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(e,"timeScale",1),this.OVERLAP_BIAS=y(e,"overlapBias",4),this.TILE_BIAS=y(e,"tileBias",16),this.forceX=y(e,"forceX",!1),this.isPaused=y(e,"isPaused",!1),this._total=0,this.drawDebug=y(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(e,"debugShowBody",!0),debugShowStaticBody:y(e,"debugShowStaticBody",!0),debugShowVelocity:y(e,"debugShowVelocity",!0),bodyDebugColor:y(e,"debugBodyColor",16711935),staticBodyDebugColor:y(e,"debugStaticBodyColor",255),velocityDebugColor:y(e,"debugVelocityColor",65280)},this.maxEntries=y(e,"maxEntries",16),this.useTree=y(e,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new P,this._tempMatrix2=new P,this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){var i,n,s,r,o;for(e===undefined&&(e=a.DYNAMIC_BODY),Array.isArray(t)||(t=[t]),i=0;i<t.length;i++)if(n=t[i],n.isParent)for(s=n.getChildren(),r=0;r<s.length;r++)o=s[r],o.isParent?this.enable(o,e):this.enableBody(o,e);else this.enableBody(n,e)},enableBody:function(t,e){return e===undefined&&(e=a.DYNAMIC_BODY),t.body||(e===a.DYNAMIC_BODY?t.body=new n(this,t):e===a.STATIC_BODY&&(t.body=new A(this,t))),this.add(t.body),t},add:function(t){return t.physicsType===a.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===a.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){var e,i,n,s,r;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++)if(i=t[e],i.isParent)for(n=i.getChildren(),s=0;s<n.length;s++)r=n[s],r.isParent?this.disable(r):this.disableBody(r.body);else this.disableBody(i.body)},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===a.DYNAMIC_BODY?(this.tree.remove(t),this.bodies["delete"](t),this.late["delete"](t)):t.physicsType===a.STATIC_BODY&&(this.staticBodies["delete"](t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,n,s,r,o,a){return this.bounds.setTo(t,e,i,n),s!==undefined&&this.setBoundsCollision(s,r,o,a),this},setBoundsCollision:function(t,e,i,n){return t===undefined&&(t=!0),e===undefined&&(e=!0),i===undefined&&(i=!0),n===undefined&&(n=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=n,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(t,e,i,n,s){i===undefined&&(i=null),n===undefined&&(n=null),s===undefined&&(s=i);var r=new o(this,!1,t,e,i,n,s);return this.colliders.add(r),r},addOverlap:function(t,e,i,n,s){i===undefined&&(i=null),n===undefined&&(n=null),s===undefined&&(s=i);var r=new o(this,!0,t,e,i,n,s);return this.colliders.add(r),r},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){var i,n,s;if(!this.isPaused&&0!==this.bodies.size){for(i=0,n=this._frameTime,s=this._frameTimeMS*this.timeScale,this._elapsed+=e,this._late=!1;this._elapsed>=s;)this._elapsed-=s,i++,this.step(n);this.stepsLastFrame=i,this._late=!0}},step:function(t){var e,i,n,s,r=this.bodies.entries,o=r.length;for(e=0;e<o;e++)i=r[e],i.enable&&i.update(t);for(this.useTree&&(this.tree.clear(),this.tree.load(r)),n=this.colliders.update(),e=0;e<n.length;e++)s=n[e],s.active&&s.update();for(o=r.length,e=0;e<o;e++)i=r[e],i.enable&&i.postUpdate()},postUpdate:function(){var t,e,i,n,s,r,o,h=this.bodies,u=this.staticBodies,l=this.pendingDestroy,c=this.late;if(c.size>0){for(e=c.entries,n=e.length,t=0;t<n;t++)i=e[t],i.enable&&i.postUpdate();c.clear()}if(this._late=!1,e=h.entries,n=e.length,this.drawDebug){for(s=this.debugGraphic,s.clear(),t=0;t<n;t++)i=e[t],i.willDrawDebug()&&i.drawDebug(s);for(e=u.entries,n=e.length,t=0;t<n;t++)i=e[t],i.willDrawDebug()&&i.drawDebug(s)}if(l.size>0){for(r=this.tree,o=this.staticTree,e=l.entries,n=e.length,t=0;t<n;t++)i=e[t],i.physicsType===a.DYNAMIC_BODY?(r.remove(i),h["delete"](i),c["delete"](i)):i.physicsType===a.STATIC_BODY&&(o.remove(i),u["delete"](i)),i.world=undefined,i.gameObject=undefined;l.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i,n=t.angularVelocity,r=t.angularAcceleration,o=t.angularDrag,a=t.maxAngular;r?n+=r*e:t.allowDrag&&o&&(o*=e,f(n-o,0,.1)?n-=o:d(n+o,0,.1)?n+=o:n=0),n=s(n,-a,a),i=n-t.angularVelocity,t.angularVelocity+=i,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,n=t.acceleration.x,r=t.drag.x,o=t.maxVelocity.x,a=t.velocity.y,h=t.acceleration.y,u=t.drag.y,l=t.maxVelocity.y,p=t.speed,g=t.maxSpeed,y=t.allowDrag,m=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,a+=(this.gravity.y+t.gravity.y)*e),n?i+=n*e:y&&r&&(m?(i*=r,c(p,0,.001)&&(i=0)):(r*=e,f(i-r,0,.01)?i-=r:d(i+r,0,.01)?i+=r:i=0)),h?a+=h*e:y&&u&&(m?(a*=u,c(p,0,.001)&&(a=0)):(u*=e,f(a-u,0,.01)?a-=u:d(a+u,0,.01)?a+=u:a=0)),i=s(i,-o,o),a=s(a,-l,l),t.velocity.set(i,a),g>-1&&t.velocity.length()>g&&t.velocity.normalize().scale(g)},separate:function(t,e,i,n,s){var r,o,a,h,u,c,f;return!(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))&&((!i||!1!==i.call(n,t.gameObject,e.gameObject))&&(t.isCircle&&e.isCircle?this.separateCircle(t,e,s):t.isCircle!==e.isCircle&&(r=t.isCircle?e:t,o=t.isCircle?t:e,a={x:r.x,y:r.y,right:r.right,bottom:r.bottom},h=o.center,(h.y<a.y||h.y>a.bottom)&&(h.x<a.x||h.x>a.right))?this.separateCircle(t,e,s):(u=!1,c=!1,this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(u=w(t,e,s,this.OVERLAP_BIAS),this.intersects(t,e)&&(c=T(t,e,s,this.OVERLAP_BIAS))):(c=T(t,e,s,this.OVERLAP_BIAS),this.intersects(t,e)&&(u=w(t,e,s,this.OVERLAP_BIAS))),f=u||c,f&&(s?(t.onOverlap||e.onOverlap)&&this.emit(l.OVERLAP,t.gameObject,e.gameObject,t,e):(this._late&&(this.late.set(t),this.late.set(e)),(t.onCollide||e.onCollide)&&this.emit(l.COLLIDE,t.gameObject,e.gameObject,t,e))),f)))},separateCircle:function(t,e,i,n){var s,r,o,a,u,c,f,d,y,m,v,x,b,_,w,T,S;return p(t,e,!1,n),g(t,e,!1,n),s=e.center.x-t.center.x,r=e.center.y-t.center.y,o=Math.atan2(r,s),a=0,t.isCircle!==e.isCircle?(u={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},c={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth},c.y<u.y?c.x<u.x?a=h(c.x,c.y,u.x,u.y)-c.radius:c.x>u.right&&(a=h(c.x,c.y,u.right,u.y)-c.radius):c.y>u.bottom&&(c.x<u.x?a=h(c.x,c.y,u.x,u.bottom)-c.radius:c.x>u.right&&(a=h(c.x,c.y,u.right,u.bottom)-c.radius)),a*=-1):a=t.halfWidth+e.halfWidth-h(t.center.x,t.center.y,e.center.x,e.center.y),i||0===a||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX?(0!==a&&(t.onOverlap||e.onOverlap)&&this.emit(l.OVERLAP,t.gameObject,e.gameObject,t,e),0!==a):(f=t.velocity.x,d=t.velocity.y,y=t.mass,m=e.velocity.x,v=e.velocity.y,x=e.mass,b={x:f*Math.cos(o)+d*Math.sin(o),y:f*Math.sin(o)-d*Math.cos(o)},_={x:m*Math.cos(o)+v*Math.sin(o),y:m*Math.sin(o)-v*Math.cos(o)},w=((y-x)*b.x+2*x*_.x)/(y+x),T=(2*y*b.x+(x-y)*_.x)/(y+x),t.immovable||(t.velocity.x=(w*Math.cos(o)-b.y*Math.sin(o))*t.bounce.x,t.velocity.y=(b.y*Math.cos(o)+w*Math.sin(o))*t.bounce.y,f=t.velocity.x,d=t.velocity.y),e.immovable||(e.velocity.x=(T*Math.cos(o)-_.y*Math.sin(o))*e.bounce.x,e.velocity.y=(_.y*Math.cos(o)+T*Math.sin(o))*e.bounce.y,m=e.velocity.x,v=e.velocity.y),Math.abs(o)<Math.PI/2?f>0&&!t.immovable&&m>f?t.velocity.x*=-1:m<0&&!e.immovable&&f<m?e.velocity.x*=-1:d>0&&!t.immovable&&v>d?t.velocity.y*=-1:v<0&&!e.immovable&&d<v&&(e.velocity.y*=-1):Math.abs(o)>Math.PI/2&&(f<0&&!t.immovable&&m<f?t.velocity.x*=-1:m>0&&!e.immovable&&f>m?e.velocity.x*=-1:d<0&&!t.immovable&&v<d?t.velocity.y*=-1:v>0&&!e.immovable&&f>v&&(e.velocity.y*=-1)),S=this._frameTime,t.immovable||(t.x+=t.velocity.x*S-a*Math.cos(o),t.y+=t.velocity.y*S-a*Math.sin(o)),e.immovable||(e.x+=e.velocity.x*S+a*Math.cos(o),e.y+=e.velocity.y*S+a*Math.sin(o)),(t.onCollide||e.onCollide)&&this.emit(l.COLLIDE,t.gameObject,e.gameObject,t,e),t.postUpdate(),e.postUpdate(),!0)},intersects:function(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?h(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=s(t.center.x,e.left,e.right),n=s(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-n)*(t.center.y-n)<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,n,s){return i===undefined&&(i=null),n===undefined&&(n=null),s===undefined&&(s=i),this.collideObjects(t,e,i,n,s,!0)},collide:function(t,e,i,n,s){return i===undefined&&(i=null),n===undefined&&(n=null),s===undefined&&(s=i),this.collideObjects(t,e,i,n,s,!1)},collideObjects:function(t,e,i,n,s,r){var o,a,h,u;if(t.isParent&&t.physicsType===undefined&&(t=t.children.entries),e&&e.isParent&&e.physicsType===undefined&&(e=e.children.entries),a=Array.isArray(t),h=Array.isArray(e),this._total=0,a||h)if(!a&&h)for(o=0;o<e.length;o++)this.collideHandler(t,e[o],i,n,s,r);else if(a&&!h)for(o=0;o<t.length;o++)this.collideHandler(t[o],e,i,n,s,r);else for(o=0;o<t.length;o++)for(u=0;u<e.length;u++)this.collideHandler(t[o],e[u],i,n,s,r);else this.collideHandler(t,e,i,n,s,r);return this._total>0},collideHandler:function(t,e,i,n,s,r){if(e===undefined&&t.isParent)return this.collideGroupVsGroup(t,t,i,n,s,r);if(!t||!e)return!1;if(t.body){if(e.body)return this.collideSpriteVsSprite(t,e,i,n,s,r);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,n,s,r);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,n,s,r)}else if(t.isParent){if(e.body)return this.collideSpriteVsGroup(e,t,i,n,s,r);if(e.isParent)return this.collideGroupVsGroup(t,e,i,n,s,r);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,n,s,r)}else if(t.isTilemap){if(e.body)return this.collideSpriteVsTilemapLayer(e,t,i,n,s,r);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,n,s,r)}},collideSpriteVsSprite:function(t,e,i,n,s,r){return!(!t.body||!e.body)&&(this.separate(t.body,e.body,n,s,r)&&(i&&i.call(s,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,i,n,s,r){var o,h,u,l,c,f,d,p=t.body;if(0!==e.length&&p&&p.enable)if(this.useTree)for(l=this.treeMinMax,l.minX=p.left,l.minY=p.top,l.maxX=p.right,l.maxY=p.bottom,c=e.physicsType===a.DYNAMIC_BODY?this.tree.search(l):this.staticTree.search(l),h=c.length,o=0;o<h;o++)u=c[o],p!==u&&e.contains(u.gameObject)&&this.separate(p,u,n,s,r)&&(i&&i.call(s,p.gameObject,u.gameObject),this._total++);else for(f=e.getChildren(),d=e.children.entries.indexOf(t),h=f.length,o=0;o<h;o++)(u=f[o].body)&&o!==d&&u.enable&&this.separate(p,u,n,s,r)&&(i&&i.call(s,p.gameObject,u.gameObject),this._total++)},collideGroupVsTilemapLayer:function(t,e,i,n,s,r){var o,a,h=t.getChildren();if(0===h.length)return!1;for(o=!1,a=0;a<h.length;a++)h[a].body&&this.collideSpriteVsTilemapLayer(h[a],e,i,n,s,r)&&(o=!0);return o},collideSpriteVsTilemapLayer:function(t,e,i,n,s,r){var o,a,h,u,c,f,d,p,g,y,m,x=t.body;if(!x.enable)return!1;if(o=x.position.x,a=x.position.y,h=x.width,u=x.height,c=e.layer,c.tileWidth>c.baseTileWidth&&(f=(c.tileWidth-c.baseTileWidth)*e.scaleX,o-=f,h+=f),c.tileHeight>c.baseTileHeight&&(d=(c.tileHeight-c.baseTileHeight)*e.scaleY,u+=d),p=e.getTilesWithinWorldXY(o,a,h,u),0===p.length)return!1;for(y={left:0,right:0,top:0,bottom:0},m=0;m<p.length;m++)g=p[m],y.left=e.tileToWorldX(g.x),y.top=e.tileToWorldY(g.y),g.baseHeight!==g.height&&(y.top-=(g.height-g.baseHeight)*e.scaleY),y.right=y.left+g.width*e.scaleX,y.bottom=y.top+g.height*e.scaleY,E(y,x)&&(!n||n.call(s,t,g))&&v(g,t)&&(r||_(m,x,g,y,e,this.TILE_BIAS))&&(this._total++,i&&i.call(s,t,g),r&&x.onOverlap?this.emit(l.TILE_OVERLAP,x.gameObject,g,x):x.onCollide&&this.emit(l.TILE_COLLIDE,x.gameObject,g,x),x.postUpdate())},collideGroupVsGroup:function(t,e,i,n,s,r){var o,a;if(0!==t.length&&0!==e.length)for(o=t.getChildren(),a=0;a<o.length;a++)this.collideSpriteVsGroup(o[a],e,i,n,s,r)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){e===undefined&&(e=0),t.x=M(t.x,this.bounds.left-e,this.bounds.right+e),t.y=M(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.late.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});t.exports=C},function(t,e,i){var n=i(91),s=i(0),r=i(98),o=i(615),a=i(299),h=i(18),u=i(92),l=i(4),c=new s({initialize:function(t,e){var i=e.width?e.width:64,n=e.height?e.height:64;this.world=t,this.gameObject=e,this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(e.x,e.y),this.prev=new l(e.x,e.y),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=i,this.height=n,this.sourceWidth=i,this.sourceHeight=n,e.frame&&(this.sourceWidth=e.frame.realWidth,this.sourceHeight=e.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(n/2),this.center=new l(e.x+this.halfWidth,e.y+this.halfHeight),this.velocity=new l,this.newVelocity=new l,this.deltaMax=new l,this.acceleration=new l,this.allowDrag=!0,this.drag=new l,this.allowGravity=!0,this.gravity=new l,this.bounce=new l,this.worldBounce=null,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new l(1e4,1e4),this.maxSpeed=-1,this.friction=new l(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=r.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.physicsType=r.DYNAMIC_BODY,this._reset=!0,this._sx=e.scaleX,this._sy=e.scaleY,this._dx=0,this._dy=0,this._bounds=new h},updateBounds:function(){var t,e,i,n,s,r=this.gameObject,o=this.transform;r.parentContainer?(t=r.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2),o.x=t.tx,o.y=t.ty,o.rotation=a(t.rotation),o.scaleX=t.scaleX,o.scaleY=t.scaleY,o.displayOriginX=r.displayOriginX,o.displayOriginY=r.displayOriginY):(o.x=r.x,o.y=r.y,o.rotation=r.angle,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.displayOriginX=r.displayOriginX,o.displayOriginY=r.displayOriginY),e=!1,this.syncBounds?(i=r.getBounds(this._bounds),this.width=i.width,this.height=i.height,e=!0):(n=Math.abs(o.scaleX),s=Math.abs(o.scaleY),this._sx===n&&this._sy===s||(this.width=this.sourceWidth*n,this.height=this.sourceHeight*s,this._sx=n,this._sy=s,e=!0)),e&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},update:function(t){var e,i,n;this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds(),e=this.transform,this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter(),this.rotation=e.rotation,this.preRotation=this.rotation,this._reset&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves&&(this.world.updateMotion(this,t),i=this.velocity.x,n=this.velocity.y,this.newVelocity.set(i*t,n*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(n,i),this.speed=Math.sqrt(i*i+n*n),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)),this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y,this.moves&&(0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:this._dx>0&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:this._dy>0&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.gameObject.x+=this._dx,this.gameObject.y+=this._dy,this._reset=!0),this._dx<0?this.facing=r.FACING_LEFT:this._dx>0&&(this.facing=r.FACING_RIGHT),this._dy<0?this.facing=r.FACING_UP:this._dy>0&&(this.facing=r.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y},checkWorldBounds:function(){var t=this.position,e=this.world.bounds,i=this.world.checkCollision,n=this.worldBounce?-this.worldBounce.x:-this.bounce.x,s=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=n,this.blocked.left=!0,this.blocked.none=!1):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=n,this.blocked.right=!0,this.blocked.none=!1),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=s,this.blocked.up=!0,this.blocked.none=!1):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=s,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},setOffset:function(t,e){return e===undefined&&(e=t),this.offset.set(t,e),this},setSize:function(t,e,i){var n,s,r;return i===undefined&&(i=!0),n=this.gameObject,!t&&n.frame&&(t=n.frame.realWidth),!e&&n.frame&&(e=n.frame.realHeight),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&n.getCenter&&(s=n.displayWidth/2,r=n.displayHeight/2,this.offset.set(s-this.halfWidth,r-this.halfHeight)),this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return e===undefined&&(e=this.offset.x),i===undefined&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i.setPosition(t,e),i.getTopLeft(this.position),this.prev.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?n(this,t,e):u(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,n=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor),this.isCircle?t.strokeCircle(i,n,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height)),this.debugShowVelocity&&(t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,n,i+this.velocity.x/2,n+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t){return t===undefined&&(t=!0),this.collideWorldBounds=t,this},setVelocity:function(t,e){return this.velocity.set(t,e),this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){var e,i;return this.velocity.x=t,e=t,i=this.velocity.y,this.speed=Math.sqrt(e*e+i*i),this},setVelocityY:function(t){var e,i;return this.velocity.y=t,e=this.velocity.x,i=t,this.speed=Math.sqrt(e*e+i*i),this},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setMaxSpeed:function(t){return this.maxSpeed=t,this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return t===undefined&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return t===undefined&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return t===undefined&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return t===undefined&&(t=!0),this.immovable=t,this},setEnable:function(t){return t===undefined&&(t=!0),this.enable=t,this},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=c},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={COLLIDE:i(1686),OVERLAP:i(1687),PAUSE:i(1688),RESUME:i(1689),TILE_COLLIDE:i(1690),TILE_OVERLAP:i(1691),WORLD_BOUNDS:i(1692)}},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n,s,r,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=e,this.object1=i,this.object2=n,this.collideCallback=s,this.processCallback=r,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});t.exports=s},function(t,e,i){var n=i(98),s=function(t,e,i,s){var r=0,o=t.deltaAbsX()+e.deltaAbsX()+s;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(r=t.right-e.x,r>o&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?r=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.right=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.left=!0))):t._dx<e._dx&&(r=t.x-e.width-e.x,-r>o&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?r=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.left=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=r,e.overlapX=r,r};t.exports=s},function(t,e,i){var n=i(98),s=function(t,e,i,s){var r=0,o=t.deltaAbsY()+e.deltaAbsY()+s;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(r=t.bottom-e.y,r>o&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?r=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.down=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0))):t._dy<e._dy&&(r=t.y-e.bottom,-r>o&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?r=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.up=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=r,e.overlapY=r,r};t.exports=s},function(t,e,i){var n=i(0),s=new n({initialize:function(){this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(t){return this._pending.push(t),this._toProcess++,this},remove:function(t){return this._destroy.push(t),this._toProcess++,this},update:function(){var t,e,i,n,s;if(0===this._toProcess)return this._active;for(t=this._destroy,e=this._active,i=0;i<t.length;i++)n=t[i],-1!==(s=e.indexOf(n))&&e.splice(s,1);for(t.length=0,t=this._pending,i=0;i<t.length;i++)n=t[i],this._active.push(n);return t.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});t.exports=s},function(t,e,i){function n(t){var e=[".left",".top",".right",".bottom"];if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function s(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,s){s||(s=y(null)),s.minX=Infinity,s.minY=Infinity,s.maxX=-Infinity,s.maxY=-Infinity;for(var r,o=e;o<i;o++)r=t.children[o],a(s,t.leaf?n(r):r);return s}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,s-i)*Math.max(0,r-n)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function m(t,e,i,n,s){for(var r,o=[e,i];o.length;)i=o.pop(),e=o.pop(),i-e<=n||(r=e+Math.ceil((i-e)/n/2)*n,v(t,r,e,i,s),o.push(e,r,r,i))}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var v=i(545);n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e,i,n,s,r,o=this.data,a=[],h=this.toBBox;if(!g(t,o))return a;for(e=[];o;){for(i=0,n=o.children.length;i<n;i++)s=o.children[i],r=o.leaf?h(s):s,g(t,r)&&(o.leaf?a.push(s):p(t,r)?this._all(s,a):e.push(s));o=e.pop()}return a},collides:function(t){var e,i,n,s,r,o=this.data,a=this.toBBox;if(!g(t,o))return!1;for(e=[];o;){for(i=0,n=o.children.length;i<n;i++)if(s=o.children[i],r=o.leaf?a(s):s,g(t,r)){if(o.leaf||p(t,r))return!0;e.push(s)}o=e.pop()}return!1},load:function(t){var e,i,n,s;if(!t||!t.length)return this;if(t.length<this._minEntries){for(e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}return n=this._build(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===n.height?this._splitRoot(this.data,n):(this.data.height<n.height&&(s=this.data,this.data=n,n=s),this._insert(n,this.data.height-n.height-1,!0)):this.data=n,this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,o,a=this.data,h=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],i=l.pop(),o=!0),a.leaf&&-1!==(r=s(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!p(a,h)?n?(i++,a=n.children[i],o=!1):a=null:(u.push(a),l.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var s,o,a,h,u,l,c,f=i-e+1,d=this._maxEntries;if(f<=d)return s=y(t.slice(e,i+1)),r(s,this.toBBox),s;for(n||(n=Math.ceil(Math.log(f)/Math.log(d)),d=Math.ceil(f/Math.pow(d,n-1))),s=y([]),s.leaf=!1,s.height=n,o=Math.ceil(f/d),a=o*Math.ceil(Math.sqrt(d)),m(t,e,i,a,this.compareMinX),h=e;h<=i;h+=a)for(l=Math.min(h+a-1,i),m(t,h,l,o,this.compareMinY),u=h;u<=l;u+=o)c=Math.min(u+o-1,l),s.children.push(this._build(t,u,c,n-1));return r(s,this.toBBox),s},_chooseSubtree:function(t,e,i,n){for(var s,r,o,a,h,u,c,d;;){if(n.push(e),e.leaf||n.length-1===i)break;for(c=d=Infinity,s=0,r=e.children.length;s<r;s++)o=e.children[s],h=l(o),u=f(t,o)-h,u<d?(d=u,c=h<c?h:c,a=o):u===d&&h<c&&(c=h,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,s=i?t:n(t),r=[],o=this._chooseSubtree(s,this.data,e,r);for(o.children.push(t),a(o,s);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(s,r,e)},_split:function(t,e){var i,n,s=t[e],o=s.children.length,a=this._minEntries;this._chooseSplitAxis(s,a,o),i=this._chooseSplitIndex(s,a,o),n=y(s.children.splice(i,s.children.length-i)),n.height=s.height,n.leaf=s.leaf,r(s,this.toBBox),r(n,this.toBBox),e?t[e-1].children.push(n):this._splitRoot(s,n)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,s,r,a,h,u,c,f;for(u=c=Infinity,n=e;n<=i-e;n++)s=o(t,0,n,this.toBBox),r=o(t,n,i,this.toBBox),a=d(s,r),h=l(s)+l(r),a<u?(u=a,f=n,c=h<c?h:c):a===u&&h<c&&(c=h,f=n);return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:h,s=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,s)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var s,r,h=this.toBBox,u=o(t,0,e,h),l=o(t,i-e,i,h),f=c(u)+c(l);for(s=e;s<i-e;s++)r=t.children[s],a(u,t.leaf?h(r):r),f+=c(u);for(s=i-e-1;s>=e;s--)r=t.children[s],a(l,t.leaf?h(r):r),f+=c(l);return f},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():r(t[i],this.toBBox)},compareMinX:function(t,e){return t.left-e.left},compareMinY:function(t,e){return t.top-e.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}},t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)};t.exports=i},function(t,e,i){var n=i(91),s=i(0),r=i(98),o=i(92),a=i(4),h=new s({initialize:function(t,e){var i=e.width?e.width:64,n=e.height?e.height:64;this.world=t,this.gameObject=e,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(e.x-e.displayOriginX,e.y-e.displayOriginY),this.width=i,this.height=n,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(e.x+this.halfWidth,e.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=r.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return e===undefined&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i,n){i===undefined&&(i=this.offset.x),n===undefined&&(n=this.offset.y);var s=this.gameObject;return!t&&s.frame&&(t=s.frame.realWidth),!e&&s.frame&&(e=s.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),this.offset.set(i,n),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return e===undefined&&(e=this.offset.x),i===undefined&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;t===undefined&&(t=i.x),e===undefined&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?n(this,t,e):o(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,n=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),this.isCircle?t.strokeCircle(i,n,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=h},function(t,e,i){var n=i(0),s=i(176),r=i(1702),o=i(177),a=i(1703),h=new n({initialize:function(t,e,i,n,r){n===undefined&&(n=16),r===undefined&&(r=n),this.world=t,this.gameObject=null,this.enabled=!0,this.parent,this.id=t.getNextID(),this.name="",this.size={x:n,y:r},this.offset={x:0,y:0},this.pos={x:e,y:i},this.last={x:e,y:i},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:t.defaults.maxVelocityX,y:t.defaults.maxVelocityY},this.standing=!1,this.gravityFactor=t.defaults.gravityFactor,this.bounciness=t.defaults.bounciness,this.minBounceVelocity=t.defaults.minBounceVelocity,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=o.NONE,this.checkAgainst=o.NONE,this.collides=s.NEVER,this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.updateCallback,this.slopeStanding={min:.767944870877505,max:2.3736477827122884}},reset:function(t,e){this.pos={x:t,y:e},this.last={x:t,y:e},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:100,y:100},this.standing=!1,this.gravityFactor=1,this.bounciness=0,this.minBounceVelocity=40,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=o.NONE,this.checkAgainst=o.NONE,this.collides=s.NEVER},update:function(t){var e,i,n,s,o=this.pos;this.last.x=o.x,this.last.y=o.y,this.vel.y+=this.world.gravity*t*this.gravityFactor,this.vel.x=r(t,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=r(t,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y),e=this.vel.x*t,i=this.vel.y*t,n=this.world.collisionMap.trace(o.x,o.y,e,i,this.size.x,this.size.y),this.handleMovementTrace(n)&&a(this,n),s=this.gameObject,s&&(s.x=o.x-this.offset.x+s.displayOriginX*s.scaleX,s.y=o.y-this.offset.y+s.displayOriginY*s.scaleY),this.updateCallback&&this.updateCallback(this)},drawDebug:function(t){var e,i,n=this.pos;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(n.x,n.y,this.size.x,this.size.y)),this.debugShowVelocity&&(e=n.x+this.size.x/2,i=n.y+this.size.y/2,t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(e,i,e+this.vel.x,i+this.vel.y))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},skipHash:function(){return!this.enabled||0===this.type&&0===this.checkAgainst&&0===this.collides},touches:function(t){return!(this.pos.x>=t.pos.x+t.size.x||this.pos.x+this.size.x<=t.pos.x||this.pos.y>=t.pos.y+t.size.y||this.pos.y+this.size.y<=t.pos.y)},resetSize:function(t,e,i,n){return this.pos.x=t,this.pos.y=e,this.size.x=i,this.size.y=n,this},toJSON:function(){return{name:this.name,size:{x:this.size.x,y:this.size.y},pos:{x:this.pos.x,y:this.pos.y},vel:{x:this.vel.x,y:this.vel.y},accel:{x:this.accel.x,y:this.accel.y},friction:{x:this.friction.x,y:this.friction.y},maxVel:{x:this.maxVel.x,y:this.maxVel.y},gravityFactor:this.gravityFactor,bounciness:this.bounciness,minBounceVelocity:this.minBounceVelocity,type:this.type,checkAgainst:this.checkAgainst,collides:this.collides}},fromJSON:function(){},check:function(){},collideWith:function(t,e){this.parent&&this.parent._collideCallback&&this.parent._collideCallback.call(this.parent._callbackScope,this,t,e)},handleMovementTrace:function(){return!0},destroy:function(){this.world.remove(this),this.enabled=!1,this.world=null,this.gameObject=null,this.parent=null}});t.exports=h},function(t,e,i){var n=i(0),s=i(1707),r=new n({initialize:function(t,e){t===undefined&&(t=32),this.tilesize=t,this.data=Array.isArray(e)?e:[],this.width=Array.isArray(e)?e[0].length:0,this.height=Array.isArray(e)?e.length:0,this.lastSlope=55,this.tiledef=s},trace:function(t,e,i,n,s,r){var o,a,h,u,l={collision:{x:!1,y:!1,slope:!1},pos:{x:t+i,y:e+n},tile:{x:0,y:0}};if(!this.data)return l;if((o=Math.ceil(Math.max(Math.abs(i),Math.abs(n))/this.tilesize))>1)for(a=i/o,h=n/o,u=0;u<o&&(a||h)&&(this.step(l,t,e,a,h,s,r,i,n,u),t=l.pos.x,e=l.pos.y,l.collision.x&&(a=0,i=0),l.collision.y&&(h=0,n=0),!l.collision.slope);u++);else this.step(l,t,e,i,n,s,r,i,n,0);return l},step:function(t,e,i,n,s,r,o,a,h,u){var l,c,f,d,p,g,y,m,v,x,b,_,w=0,T=this.tilesize,S=this.width,A=this.height;if(n&&(f=n>0?r:0,d=n<0?T:0,p=Math.max(Math.floor(i/T),0),g=Math.min(Math.ceil((i+o)/T),A),l=Math.floor((t.pos.x+f)/T),y=Math.floor((e+f)/T),(u>0||l===y||y<0||y>=S)&&(y=-1),l>=0&&l<S))for(c=p;c<g&&!(-1!==y&&(w=this.data[c][y])>1&&w<=this.lastSlope&&this.checkDef(t,w,e,i,a,h,r,o,y,c));c++)if(1===(w=this.data[c][l])||w>this.lastSlope||w>1&&this.checkDef(t,w,e,i,a,h,r,o,l,c)){if(w>1&&w<=this.lastSlope&&t.collision.slope)break;t.collision.x=!0,t.tile.x=w,t.pos.x=l*T-f+d,e=t.pos.x,a=0;break}if(s&&(m=s>0?o:0,v=s<0?T:0,x=Math.max(Math.floor(t.pos.x/T),0),b=Math.min(Math.ceil((t.pos.x+r)/T),S),c=Math.floor((t.pos.y+m)/T),_=Math.floor((i+m)/T),(u>0||c===_||_<0||_>=A)&&(_=-1),c>=0&&c<A))for(l=x;l<b&&!(-1!==_&&(w=this.data[_][l])>1&&w<=this.lastSlope&&this.checkDef(t,w,e,i,a,h,r,o,l,_));l++)if(1===(w=this.data[c][l])||w>this.lastSlope||w>1&&this.checkDef(t,w,e,i,a,h,r,o,l,c)){if(w>1&&w<=this.lastSlope&&t.collision.slope)break;t.collision.y=!0,t.tile.y=w,t.pos.y=c*T-m+v;break}},checkDef:function(t,e,i,n,s,r,o,a,h,u){var l,c,f,d,p,g,y,m,v,x,b,_,w,T,S=this.tiledef[e];return!!S&&(l=this.tilesize,c=(h+S[0])*l,f=(u+S[1])*l,d=(S[2]-S[0])*l,p=(S[3]-S[1])*l,g=S[4],y=i+s+(p<0?o:0)-c,m=n+r+(d>0?a:0)-f,d*m-p*y>0&&(s*-p+r*d<0?g:(v=Math.sqrt(d*d+p*p),x=p/v,b=-d/v,_=y*x+m*b,w=x*_,T=b*_,w*w+T*T>=s*s+r*r?g||d*(m-r)-p*(y-s)<.5:(t.pos.x=i+s-w,t.pos.y=n+r-T,t.collision.slope={x:d,y:p,nx:x,ny:b},!0))))}});t.exports=r},function(t,e,i){var n=i(0),s=i(626),r=i(627),o=i(628),a=new n({initialize:function(t){this.world=t,this.sys=t.scene.sys},body:function(t,e,i,n){return new s(this.world,t,e,i,n)},existing:function(t){var e=t.x-t.frame.centerX,i=t.y-t.frame.centerY,n=t.width,s=t.height;return t.body=this.world.create(e,i,n,s),t.body.parent=t,t.body.gameObject=t,t},image:function(t,e,i,n){var s=new r(this.world,t,e,i,n);return this.sys.displayList.add(s),s},sprite:function(t,e,i,n){var s=new o(this.world,t,e,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},destroy:function(){this.world=null,this.sys=null}});t.exports=a},function(t,e,i){var n=i(0),s=i(339),r=new n({Mixins:[s.Acceleration,s.BodyScale,s.BodyType,s.Bounce,s.CheckAgainst,s.Collides,s.Debug,s.Friction,s.Gravity,s.Offset,s.SetGameObject,s.Velocity],initialize:function(t,e,i,n,s){this.body=t.create(e,i,n,s),this.body.parent=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=r},function(t,e,i){var n=i(0),s=i(339),r=i(152),o=new n({Extends:r,Mixins:[s.Acceleration,s.BodyScale,s.BodyType,s.Bounce,s.CheckAgainst,s.Collides,s.Debug,s.Friction,s.Gravity,s.Offset,s.SetGameObject,s.Velocity],initialize:function(t,e,i,n,s){r.call(this,t.scene,e,i,n,s),this.body=t.create(e-this.frame.centerX,i-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=o},function(t,e,i){var n=i(0),s=i(339),r=i(96),o=new n({Extends:r,Mixins:[s.Acceleration,s.BodyScale,s.BodyType,s.Bounce,s.CheckAgainst,s.Collides,s.Debug,s.Friction,s.Gravity,s.Offset,s.SetGameObject,s.Velocity],initialize:function(t,e,i,n,s){r.call(this,t.scene,e,i,n,s),this.body=t.create(e-this.frame.centerX,i-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=o},function(t,e,i){var n=i(623),s=i(0),r=i(176),o=i(624),a=i(15),h=i(338),u=i(3),l=i(153),c=i(151),f=i(1721),d=i(61),p=i(177),g=new s({Extends:a,initialize:function(t,e){var i,n,s,r,h,l,f,d,p,g,y;a.call(this),this.scene=t,this.bodies=new c,this.gravity=u(e,"gravity",0),this.cellSize=u(e,"cellSize",64),this.collisionMap=new o,this.timeScale=u(e,"timeScale",1),this.maxStep=u(e,"maxStep",.05),this.enabled=!0,this.drawDebug=u(e,"debug",!1),this.debugGraphic,i=u(e,"maxVelocity",100),this.defaults={debugShowBody:u(e,"debugShowBody",!0),debugShowVelocity:u(e,"debugShowVelocity",!0),bodyDebugColor:u(e,"debugBodyColor",16711935),velocityDebugColor:u(e,"debugVelocityColor",65280),maxVelocityX:u(e,"maxVelocityX",i),maxVelocityY:u(e,"maxVelocityY",i),minBounceVelocity:u(e,"minBounceVelocity",40),gravityFactor:u(e,"gravityFactor",1),bounciness:u(e,"bounciness",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,u(e,"setBounds",!1)&&(n=e.setBounds,"boolean"==typeof n?this.setBounds():(s=u(n,"x",0),r=u(n,"y",0),h=u(n,"width",t.sys.scale.width),l=u(n,"height",t.sys.scale.height),f=u(n,"thickness",64),d=u(n,"left",!0),p=u(n,"right",!0),g=u(n,"top",!0),y=u(n,"bottom",!0),this.setBounds(s,r,h,l,f,d,p,g,y))),this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(t,e){var i,n,s,r;if("string"==typeof t){if(!(i=this.scene.cache.tilemap.get(t))||i.format!==d.WELTMEISTER)return null;for(n=i.data.layer,r=0;r<n.length;r++)if("collision"===n[r].name){s=n[r];break}e===undefined&&(e=s.tilesize),this.collisionMap=new o(e,s.data)}else Array.isArray(t)&&(this.collisionMap=new o(e,t));return this.collisionMap},setCollisionMapFromTilemapLayer:function(t,e){var i,n,s,r,a,h,c,f,d,p;for(e===undefined&&(e={}),i=u(e,"slopeProperty",null),n=u(e,"slopeMap",null),s=u(e,"defaultCollidingSlope",null),r=u(e,"defaultNonCollidingSlope",0),a=t.layer,h=a.baseTileWidth,c=[],f=0;f<a.height;f++)for(c[f]=[],d=0;d<a.width;d++)p=a.data[f][d],p&&p.collides?null!==i&&l(p.properties,i)?c[f][d]=parseInt(p.properties[i],10):null!==n&&l(n,p.index)?c[f][d]=n[p.index]:c[f][d]=null!==s?s:p.index:c[f][d]=r;return this.collisionMap=new o(h,c),this.collisionMap},setBounds:function(t,e,i,n,s,r,o,a,h){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=this.scene.sys.scale.width),n===undefined&&(n=this.scene.sys.scale.height),s===undefined&&(s=64),r===undefined&&(r=!0),o===undefined&&(o=!0),a===undefined&&(a=!0),h===undefined&&(h=!0),this.updateWall(r,"left",t-s,e,s,n),this.updateWall(o,"right",t+i,e,s,n),this.updateWall(a,"top",t,e-s,i,s),this.updateWall(h,"bottom",t,e+n,i,s),this},updateWall:function(t,e,i,n,s,o){var a=this.walls[e];t?a?a.resetSize(i,n,s,o):(this.walls[e]=this.create(i,n,s,o),this.walls[e].name=e,this.walls[e].gravityFactor=0,this.walls[e].collides=r.FIXED):(a&&this.bodies.remove(a),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},getNextID:function(){return this._lastId++},create:function(t,e,i,s){var r=new n(this,t,e,i,s);return this.bodies.set(r),r},remove:function(t){this.bodies["delete"](t)},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(t,e){var i,n,s,r,o,a,h,u;if(this.enabled&&0!==this.bodies.size){for(i=Math.min(e/1e3,this.maxStep)*this.timeScale,this.delta=i,r=this.bodies.entries,o=r.length,a={},h=this.cellSize,n=0;n<o;n++)s=r[n],s.enabled&&s.update(i);for(n=0;n<o;n++)(s=r[n])&&!s.skipHash()&&this.checkHash(s,a,h);if(this.drawDebug)for(u=this.debugGraphic,u.clear(),n=0;n<o;n++)(s=r[n])&&s.willDrawDebug()&&s.drawDebug(u)}},checkHash:function(t,e,i){var n,s,r,o,a={},h=Math.floor(t.pos.x/i),u=Math.floor(t.pos.y/i),l=Math.floor((t.pos.x+t.size.x)/i)+1,c=Math.floor((t.pos.y+t.size.y)/i)+1;for(n=h;n<l;n++)for(s=u;s<c;s++)if(e[n])if(e[n][s]){for(r=e[n][s],o=0;o<r.length;o++)t.touches(r[o])&&!a[r[o].id]&&(a[r[o].id]=!0,this.checkBodies(t,r[o]));r.push(t)}else e[n][s]=[t];else e[n]={},e[n][s]=[t]},checkBodies:function(t,e){t.collides===r.FIXED&&e.collides===r.FIXED||(t.checkAgainst&e.type&&t.check(e),e.checkAgainst&t.type&&e.check(t),t.collides&&e.collides&&t.collides+e.collides>r.ACTIVE&&f(this,t,e))},setCollidesNever:function(t){for(var e=0;e<t.length;e++)t[e].collides=r.NEVER;return this},setLite:function(t){for(var e=0;e<t.length;e++)t[e].collides=r.LITE;return this},setPassive:function(t){for(var e=0;e<t.length;e++)t[e].collides=r.PASSIVE;return this},setActive:function(t){for(var e=0;e<t.length;e++)t[e].collides=r.ACTIVE;return this},setFixed:function(t){for(var e=0;e<t.length;e++)t[e].collides=r.FIXED;return this},setTypeNone:function(t){for(var e=0;e<t.length;e++)t[e].type=p.NONE;return this},setTypeA:function(t){for(var e=0;e<t.length;e++)t[e].type=p.A;return this},setTypeB:function(t){for(var e=0;e<t.length;e++)t[e].type=p.B;return this},setAvsB:function(t){for(var e=0;e<t.length;e++)t[e].type=p.A,t[e].checkAgainst=p.B;return this},setBvsA:function(t){for(var e=0;e<t.length;e++)t[e].type=p.B,t[e].checkAgainst=p.A;return this},setCheckAgainstNone:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=p.NONE;return this},setCheckAgainstA:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=p.A;return this},setCheckAgainstB:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=p.B;return this},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners(),this.scene=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}});t.exports=g},function(t,e,i){var n=i(111),s=i(0),r=i(632),o=i(157),a=i(1725),h=i(633),u=i(634),l=i(342),c=i(1751),f=new s({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,s,r){var o=n.rectangle(t,e,i,s,r);return this.world.add(o),o},trapezoid:function(t,e,i,s,r,o){var a=n.trapezoid(t,e,i,s,r,o);return this.world.add(a),a},circle:function(t,e,i,s,r){var o=n.circle(t,e,i,s,r);return this.world.add(o),o},polygon:function(t,e,i,s,r){var o=n.polygon(t,e,i,s,r);return this.world.add(o),o},fromVertices:function(t,e,i,s,r,o,a){var h=n.fromVertices(t,e,i,s,r,o,a);return this.world.add(h),h},imageStack:function(t,e,i,n,s,o,a,u,l){var c,f,d;return a===undefined&&(a=0),u===undefined&&(u=0),l===undefined&&(l={}),c=this.world,f=this.sys.displayList,l.addToWorld=!1,d=r.stack(i,n,s,o,a,u,function(i,n){var s=new h(c,i,n,t,e,l);return f.add(s),s.body}),c.add(d),d},stack:function(t,e,i,n,s,o,a){var h=r.stack(t,e,i,n,s,o,a);return this.world.add(h),h},pyramid:function(t,e,i,n,s,o,a){var h=r.pyramid(t,e,i,n,s,o,a);return this.world.add(h),h},chain:function(t,e,i,n,s,o){return r.chain(t,e,i,n,s,o)},mesh:function(t,e,i,n,s){return r.mesh(t,e,i,n,s)},newtonsCradle:function(t,e,i,n,s){var o=r.newtonsCradle(t,e,i,n,s);return this.world.add(o),o},car:function(t,e,i,n,s){var o=r.car(t,e,i,n,s);return this.world.add(o),o},softBody:function(t,e,i,n,s,o,a,h,u,l){var c=r.softBody(t,e,i,n,s,o,a,h,u,l);return this.world.add(c),c},joint:function(t,e,i,n,s){return this.constraint(t,e,i,n,s)},spring:function(t,e,i,n,s){return this.constraint(t,e,i,n,s)},constraint:function(t,e,i,n,s){n===undefined&&(n=1),s===undefined&&(s={}),s.bodyA="body"===t.type?t:t.body,s.bodyB="body"===e.type?e:e.body,s.length=i,s.stiffness=n;var r=o.create(s);return this.world.add(r),r},worldConstraint:function(t,e,i,n){i===undefined&&(i=1),n===undefined&&(n={}),n.bodyB="body"===t.type?t:t.body,n.length=e,n.stiffness=i;var s=o.create(n);return this.world.add(s),s},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){t===undefined&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new c(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,n,s){var r=new h(this.world,t,e,i,n,s);return this.sys.displayList.add(r),r},tileBody:function(t,e){return new l(this.world,t,e)},sprite:function(t,e,i,n,s){var r=new u(this.world,t,e,i,n,s);return this.sys.displayList.add(r),this.sys.updateList.add(r),r},gameObject:function(t,e){return a(this.world,t,e)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=f},function(t,e){function i(t,e,i){var n,s,r,o,a,h,u,l;return i=i||0,n=[0,0],s=t[1][1]-t[0][1],r=t[0][0]-t[1][0],o=s*t[0][0]+r*t[0][1],a=e[1][1]-e[0][1],h=e[0][0]-e[1][0],u=a*e[0][0]+h*e[0][1],l=s*h-a*r,O(l,0,i)||(n[0]=(h*o-r*u)/l,n[1]=(s*u-a*o)/l),n}function n(t,e,i,n){var s,r,o=e[0]-t[0],a=e[1]-t[1],h=n[0]-i[0],u=n[1]-i[1];return h*a-u*o!=0&&(s=(o*(i[1]-t[1])+a*(t[0]-i[0]))/(h*a-u*o),r=(h*(t[1]-i[1])+u*(i[0]-t[0]))/(u*o-h*a),s>=0&&s<=1&&r>=0&&r<=1)}function s(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function r(t,e,i){return s(t,e,i)>0}function o(t,e,i){return s(t,e,i)>=0}function a(t,e,i){return s(t,e,i)<0}function h(t,e,i){return s(t,e,i)<=0}function u(t,e,i,n){var r,o,a,h,u,l;return n?(r=C,o=I,r[0]=e[0]-t[0],r[1]=e[1]-t[1],o[0]=i[0]-e[0],o[1]=i[1]-e[1],a=r[0]*o[0]+r[1]*o[1],h=Math.sqrt(r[0]*r[0]+r[1]*r[1]),u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),l=Math.acos(a/(h*u)),l<n):0===s(t,e,i)}function l(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function c(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function f(t){t.length=0}function d(t,e,i,n){for(var s=i;s<n;s++)t.push(e[s])}function p(t){var e,i=0,n=t;for(e=1;e<t.length;++e)(n[e][1]<n[i][1]||n[e][1]===n[i][1]&&n[e][0]>n[i][0])&&(i=e);return!r(c(t,i-1),c(t,i),c(t,i+1))&&(g(t),!0)}function g(t){var e,i=[],n=t.length;for(e=0;e!==n;e++)i.push(t.pop());for(e=0;e!==n;e++)t[e]=i[e]}function y(t,e){return a(c(t,e-1),c(t,e),c(t,e+1))}function m(t,e,n){var s,r,a,u=R,f=L;if(o(c(t,e+1),c(t,e),c(t,n))&&h(c(t,e-1),c(t,e),c(t,n)))return!1;for(r=l(c(t,e),c(t,n)),a=0;a!==t.length;++a)if((a+1)%t.length!==e&&a!==e&&o(c(t,e),c(t,n),c(t,a+1))&&h(c(t,e),c(t,n),c(t,a))&&(u[0]=c(t,e),u[1]=c(t,n),f[0]=c(t,a),f[1]=c(t,a+1),s=i(u,f),l(c(t,e),s)<r))return!1;return!0}function v(t,e,i){for(var s=0;s!==t.length;++s)if(s!==e&&s!==i&&(s+1)%t.length!==e&&(s+1)%t.length!==i&&n(c(t,e),c(t,i),c(t,s),c(t,s+1)))return!1;return!0}function x(t,e,i,n){var s,r=n||[];if(f(r),e<i)for(s=e;s<=i;s++)r.push(t[s]);else{for(s=0;s<=i;s++)r.push(t[s]);for(s=e;s<t.length;s++)r.push(t[s])}return r}function b(t){var e,i,n,s=[],r=[],o=[],a=[],h=Number.MAX_VALUE;for(e=0;e<t.length;++e)if(y(t,e))for(i=0;i<t.length;++i)if(m(t,e,i)){for(r=b(x(t,e,i,a)),o=b(x(t,i,e,a)),n=0;n<o.length;n++)r.push(o[n]);r.length<h&&(s=r,h=r.length,s.push([c(t,e),c(t,i)]))}return s}function _(t){var e=b(t);return e.length>0?w(t,e):[t]}function w(t,e){var i,n,s,r,o,a;if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(i=[t],n=0;n<e.length;n++)for(s=e[n],r=0;r<i.length;r++)if(o=i[r],a=w(o,s)){i.splice(r,1),i.push(a[0],a[1]);break}return i}return s=e,n=t.indexOf(s[0]),r=t.indexOf(s[1]),-1!==n&&-1!==r&&[x(t,n,r),x(t,r,n)]}function T(t){var e,i,s=t;for(e=0;e<s.length-1;e++)for(i=0;i<e-1;i++)if(n(s[e],s[e+1],s[i],s[i+1]))return!1;for(e=1;e<s.length-2;e++)if(n(s[0],s[s.length-1],s[e],s[e+1]))return!1;return!0}function S(t,e,i,n,s){var r,o,a,h,u,l,c;return s=s||0,r=e[1]-t[1],o=t[0]-e[0],a=r*t[0]+o*t[1],h=n[1]-i[1],u=i[0]-n[0],l=h*i[0]+u*i[1],c=r*u-h*o,O(c,0,s)?[0,0]:[(u*a-o*l)/c,(r*l-h*a)/c]}function A(t,e,i,n,s,u,f){var p,g,m,x,b,_,w,T,E,P,O,M,C,I,R,L;if(u=u||100,f=f||0,s=s||25,e=void 0!==e?e:[],i=i||[],n=n||[],p=[0,0],g=[0,0],m=[0,0],x=0,b=0,_=0,w=0,T=0,E=0,P=0,O=[],M=[],C=t,I=t,I.length<3)return e;if(++f>u)return e;for(R=0;R<t.length;++R)if(y(C,R)){for(i.push(C[R]),x=b=Number.MAX_VALUE,L=0;L<t.length;++L)r(c(C,R-1),c(C,R),c(C,L))&&h(c(C,R-1),c(C,R),c(C,L-1))&&(m=S(c(C,R-1),c(C,R),c(C,L),c(C,L-1)),a(c(C,R+1),c(C,R),m)&&(_=l(C[R],m))<b&&(b=_,g=m,E=L)),r(c(C,R+1),c(C,R),c(C,L+1))&&h(c(C,R+1),c(C,R),c(C,L))&&(m=S(c(C,R+1),c(C,R),c(C,L),c(C,L+1)),r(c(C,R-1),c(C,R),m)&&(_=l(C[R],m))<x&&(x=_,p=m,T=L));if(E===(T+1)%t.length)m[0]=(g[0]+p[0])/2,m[1]=(g[1]+p[1])/2,n.push(m),R<T?(d(O,C,R,T+1),O.push(m),M.push(m),0!==E&&d(M,C,E,C.length),d(M,C,0,R+1)):(0!==R&&d(O,C,R,C.length),d(O,C,0,T+1),O.push(m),M.push(m),d(M,C,E,R+1));else{if(E>T&&(T+=t.length),w=Number.MAX_VALUE,T<E)return e;for(L=E;L<=T;++L)o(c(C,R-1),c(C,R),c(C,L))&&h(c(C,R+1),c(C,R),c(C,L))&&(_=l(c(C,R),c(C,L)))<w&&v(C,R,L)&&(w=_,P=L%t.length);R<P?(d(O,C,R,P+1),0!==P&&d(M,C,P,I.length),d(M,C,0,R+1)):(0!==R&&d(O,C,R,I.length),d(O,C,0,P+1),d(M,C,P,R+1))}return O.length<M.length?(A(O,e,i,n,s,u,f),A(M,e,i,n,s,u,f)):(A(M,e,i,n,s,u,f),A(O,e,i,n,s,u,f)),e}return e.push(t),e}function E(t,e){var i,n=0;for(i=t.length-1;t.length>3&&i>=0;--i)u(c(t,i-1),c(t,i),c(t,i+1),e)&&(t.splice(i%t.length,1),n++);return n}function P(t,e){var i,n,s;for(i=t.length-1;i>=1;--i)for(n=t[i],s=i-1;s>=0;--s)M(n,t[s],e)&&t.splice(i,1)}function O(t,e,i){return i=i||0,Math.abs(t-e)<=i}function M(t,e,i){return O(t[0],e[0],i)&&O(t[1],e[1],i)}var C,I,R,L;/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={decomp:_,quickDecomp:A,isSimple:T,removeCollinearPoints:E,removeDuplicatePoints:P,makeCCW:p},C=[],I=[],R=[],L=[]},function(t,e,i){var n,s,r,o,a,h={};t.exports=h,n=i(134),s=i(157),r=i(28),o=i(47),a=i(111),function(){h.stack=function(t,e,i,s,r,a,h){var u,l,c,f,d,p,g,y=n.create({label:"Stack"}),m=t,v=e,x=0;for(l=0;l<s;l++){for(c=0,f=0;f<i;f++)d=h(m,v,f,l,u,x),d?(p=d.bounds.max.y-d.bounds.min.y,g=d.bounds.max.x-d.bounds.min.x,p>c&&(c=p),o.translate(d,{x:.5*g,y:.5*p}),m=d.bounds.max.x+r,n.addBody(y,d),u=d,x+=1):m+=r;v+=c+a,m=t}return y},h.chain=function(t,e,i,o,a,h){var u,l,c,f,d,p,g,y,m,v=t.bodies;for(u=1;u<v.length;u++)l=v[u-1],c=v[u],f=l.bounds.max.y-l.bounds.min.y,d=l.bounds.max.x-l.bounds.min.x,p=c.bounds.max.y-c.bounds.min.y,g=c.bounds.max.x-c.bounds.min.x,y={bodyA:l,pointA:{x:d*e,y:f*i},bodyB:c,pointB:{x:g*o,y:p*a}},m=r.extend(y,h),n.addConstraint(t,s.create(m));return t.label+=" Chain",t},h.mesh=function(t,e,i,o,a){var h,u,l,c,f,d=t.bodies;for(h=0;h<i;h++){for(u=1;u<e;u++)l=d[u-1+h*e],c=d[u+h*e],n.addConstraint(t,s.create(r.extend({bodyA:l,bodyB:c},a)));if(h>0)for(u=0;u<e;u++)l=d[u+(h-1)*e],c=d[u+h*e],n.addConstraint(t,s.create(r.extend({bodyA:l,bodyB:c},a))),o&&u>0&&(f=d[u-1+(h-1)*e],n.addConstraint(t,s.create(r.extend({bodyA:f,bodyB:c},a)))),o&&u<e-1&&(f=d[u+1+(h-1)*e],n.addConstraint(t,s.create(r.extend({bodyA:f,bodyB:c},a))))}return t.label+=" Mesh",t},h.pyramid=function(t,e,i,n,s,r,a){return h.stack(t,e,i,n,s,r,function(e,r,h,u,l,c){var f,d,p,g=Math.min(n,Math.ceil(i/2)),y=l?l.bounds.max.x-l.bounds.min.x:0;if(!(u>g||(u=g-u,f=u,d=i-1-u,h<f||h>d)))return 1===c&&o.translate(l,{x:(h+(i%2==1?1:-1))*y,y:0}),p=l?h*y:0,a(t+p+h*s,r,h,u,l,c)})},h.newtonsCradle=function(t,e,i,r,o){var h,u,l,c,f=n.create({label:"Newtons Cradle"});for(h=0;h<i;h++)u=1.9,l=a.circle(t+h*(r*u),e+o,r,{inertia:Infinity,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=s.create({pointA:{x:t+h*(r*u),y:e},bodyB:l}),n.addBody(f,l),n.addConstraint(f,c);return f},h.car=function(t,e,i,r,h){var u=o.nextGroup(!0),l=20,c=.5*-i+l,f=.5*i-l,d=0,p=n.create({label:"Car"}),g=a.rectangle(t,e,i,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),y=a.circle(t+c,e+d,h,{collisionFilter:{group:u},friction:.8}),m=a.circle(t+f,e+d,h,{collisionFilter:{group:u},friction:.8}),v=s.create({bodyB:g,pointB:{x:c,y:d},bodyA:y,stiffness:1,length:0}),x=s.create({bodyB:g,pointB:{x:f,y:d},bodyA:m,stiffness:1,length:0});return n.addBody(p,g),n.addBody(p,y),n.addBody(p,m),n.addConstraint(p,v),n.addConstraint(p,x),p},h.softBody=function(t,e,i,n,s,o,u,l,c,f){c=r.extend({inertia:Infinity},c),f=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var d=h.stack(t,e,i,n,s,o,function(t,e){return a.circle(t,e,l,c)});return h.mesh(d,i,n,u,f),d.label="Soft Body",d}}()},function(t,e,i){var n=i(0),s=i(232),r=i(19),o=i(3),a=i(152),h=i(206),u=i(4),l=new n({Extends:a,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,h],initialize:function(t,e,i,n,s,a){r.call(this,t.scene,"Image"),this.setTexture(n,s),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new u(e,i);var h=o(a,"shape",null);h?this.setBody(h,a):this.setRectangle(this.width,this.height,a),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=l},function(t,e,i){var n=i(420),s=i(0),r=i(232),o=i(19),a=i(3),h=i(206),u=i(96),l=i(4),c=new s({Extends:u,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,h],initialize:function(t,e,i,s,r,h){o.call(this,t.scene,"Sprite"),this.anims=new n(this),this.setTexture(s,r),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new l(e,i);var u=a(h,"shape",null);u?this.setBody(u,h):this.setRectangle(this.width,this.height,h),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=c},function(t,e,i){var n,s,r={};t.exports=r,n=i(346),s=i(28),function(){r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){n.use(r,Array.prototype.slice.call(arguments))},r.before=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathBefore(r,t,e)},r.after=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathAfter(r,t,e)}}()},function(t,e,i){var n,s,r,o={};t.exports=o,n=i(233),s=i(343),r=i(28),function(){o.create=function(t){var e={controller:o,detector:s.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(e,t)},o.update=function(t,e,i,n){var s,r,a,h,u,l,c,f,d,p,g=i.world,y=t.buckets,m=!1,v=i.metrics;for(v.broadphaseTests=0,s=0;s<e.length;s++)if(l=e[s],(!l.isSleeping||n)&&!(l.bounds.max.x<g.bounds.min.x||l.bounds.min.x>g.bounds.max.x||l.bounds.max.y<g.bounds.min.y||l.bounds.min.y>g.bounds.max.y)&&(c=o._getRegion(t,l),!l.region||c.id!==l.region.id||n)){for(v.broadphaseTests+=1,l.region&&!n||(l.region=c),f=o._regionUnion(c,l.region),r=f.startCol;r<=f.endCol;r++)for(a=f.startRow;a<=f.endRow;a++)u=o._getBucketId(r,a),h=y[u],d=r>=c.startCol&&r<=c.endCol&&a>=c.startRow&&a<=c.endRow,p=r>=l.region.startCol&&r<=l.region.endCol&&a>=l.region.startRow&&a<=l.region.endRow,!d&&p&&p&&h&&o._bucketRemoveBody(t,h,l),(l.region===c||d&&!p||n)&&(h||(h=o._createBucket(y,u)),o._bucketAddBody(t,h,l));l.region=c,m=!0}m&&(t.pairsList=o._createActivePairsList(t))},o.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},o._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),n=Math.max(t.endCol,e.endCol),s=Math.min(t.startRow,e.startRow),r=Math.max(t.endRow,e.endRow);return o._createRegion(i,n,s,r)},o._getRegion=function(t,e){var i=e.bounds,n=Math.floor(i.min.x/t.bucketWidth),s=Math.floor(i.max.x/t.bucketWidth),r=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return o._createRegion(n,s,r,a)},o._createRegion=function(t,e,i,n){return{id:t+","+e+","+i+","+n,startCol:t,endCol:e,startRow:i,endRow:n}},o._getBucketId=function(t,e){return"C"+t+"R"+e},o._createBucket=function(t,e){return t[e]=[]},o._bucketAddBody=function(t,e,i){var s,r,o,a;for(s=0;s<e.length;s++)r=e[s],i.id===r.id||i.isStatic&&r.isStatic||(o=n.id(i,r),a=t.pairs[o],a?a[2]+=1:t.pairs[o]=[i,r,1]);e.push(i)},o._bucketRemoveBody=function(t,e,i){var s,o,a,h;for(e.splice(r.indexOf(e,i),1),s=0;s<e.length;s++)o=e[s],a=n.id(i,o),h=t.pairs[a],h&&(h[2]-=1)},o._createActivePairsList=function(t){var e,i,n=[],s=r.keys(t.pairs);for(i=0;i<s.length;i++)e=t.pairs[s[i]],e[2]>0?n.push(e):delete t.pairs[s[i]];return n}}()},function(t,e,i){var n,s,r={};t.exports=r,n=i(233),s=i(28),function(){r._pairMaxIdleLife=1e3,r.create=function(t){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},r.update=function(t,e,i){var s,r,o,a,h=t.list,u=t.table,l=t.collisionStart,c=t.collisionEnd,f=t.collisionActive;for(l.length=0,c.length=0,f.length=0,a=0;a<h.length;a++)h[a].confirmedActive=!1;for(a=0;a<e.length;a++)s=e[a],s.collided&&(r=n.id(s.bodyA,s.bodyB),o=u[r],o?(o.isActive?f.push(o):l.push(o),n.update(o,s,i),o.confirmedActive=!0):(o=n.create(s,i),u[r]=o,l.push(o),h.push(o)));for(a=0;a<h.length;a++)o=h[a],o.isActive&&!o.confirmedActive&&(n.setActive(o,!1,i),c.push(o))},r.removeOld=function(t,e){var i,n,s,o,a=t.list,h=t.table,u=[];for(o=0;o<a.length;o++)i=a[o],n=i.collision,n.bodyA.isSleeping||n.bodyB.isSleeping?i.timeUpdated=e:e-i.timeUpdated>r._pairMaxIdleLife&&u.push(o);for(o=0;o<u.length;o++)s=u[o]-o,i=a[s],delete h[i.id],a.splice(s,1)},r.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}}()},function(t,e,i){var n,s,r,o,a={};t.exports=a,n=i(62),s=i(69),r=i(28),o=i(70),function(){a._restingThresh=4,a._restingThreshTangent=6,a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a.preSolvePosition=function(t){var e,i,n;for(e=0;e<t.length;e++)i=t[e],i.isActive&&(n=i.activeContacts.length,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},a.solvePosition=function(t,e,i){var n,s,r,o,h,u,l,c,f,d,p,g,y,m,v,x,b,_=i*a._positionDampen;for(n=0;n<e.length;n++)b=e[n],b.previousPositionImpulse.x=b.positionImpulse.x,b.previousPositionImpulse.y=b.positionImpulse.y;for(n=0;n<t.length;n++)o=t[n],o.isActive&&!o.isSensor&&(h=o.collision,u=h.parentA,l=h.parentB,c=h.normal,p=u.previousPositionImpulse,g=l.previousPositionImpulse,d=h.penetration,m=g.x-p.x+d.x,v=g.y-p.y+d.y,s=c.x,r=c.y,f=s*m+r*v,o.separation=f,x=(f-o.slop)*_,(u.isStatic||l.isStatic)&&(x*=2),u.isStatic||u.isSleeping||(y=x/u.totalContacts,u.positionImpulse.x+=s*y,u.positionImpulse.y+=r*y),l.isStatic||l.isSleeping||(y=x/l.totalContacts,l.positionImpulse.x-=s*y,l.positionImpulse.y-=r*y))},a.postSolvePosition=function(t){var e,i,r,h;for(e=0;e<t.length;e++)if(i=t[e],i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(r=0;r<i.parts.length;r++)h=i.parts[r],n.translate(h.vertices,i.positionImpulse),o.update(h.bounds,h.vertices,i.velocity),h.position.x+=i.positionImpulse.x,h.position.y+=i.positionImpulse.y;i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,s.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=a._positionWarming,i.positionImpulse.y*=a._positionWarming)}},a.preSolveVelocity=function(t){var e,i,n,r,o,a,h,u,l,c,f,d,p,g,y=s._temp[0],m=s._temp[1];for(e=0;e<t.length;e++)if(n=t[e],n.isActive&&!n.isSensor)for(r=n.activeContacts,o=n.collision,a=o.parentA,h=o.parentB,u=o.normal,l=o.tangent,i=0;i<r.length;i++)c=r[i],f=c.vertex,d=c.normalImpulse,p=c.tangentImpulse,0===d&&0===p||(y.x=u.x*d+l.x*p,y.y=u.y*d+l.y*p,a.isStatic||a.isSleeping||(g=s.sub(f,a.position,m),a.positionPrev.x+=y.x*a.inverseMass,a.positionPrev.y+=y.y*a.inverseMass,a.anglePrev+=s.cross(g,y)*a.inverseInertia),h.isStatic||h.isSleeping||(g=s.sub(f,h.position,m),h.positionPrev.x-=y.x*h.inverseMass,h.positionPrev.y-=y.y*h.inverseMass,h.anglePrev-=s.cross(g,y)*h.inverseInertia))},a.solveVelocity=function(t,e){var i,n,o,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D=e*e,F=s._temp[0],N=s._temp[1],B=s._temp[2],U=s._temp[3],G=s._temp[4],Y=s._temp[5];for(i=0;i<t.length;i++)if(n=t[i],n.isActive&&!n.isSensor)for(o=n.collision,h=o.parentA,u=o.parentB,l=o.normal,c=o.tangent,f=n.activeContacts,d=1/f.length,h.velocity.x=h.position.x-h.positionPrev.x,h.velocity.y=h.position.y-h.positionPrev.y,u.velocity.x=u.position.x-u.positionPrev.x,u.velocity.y=u.position.y-u.positionPrev.y,h.angularVelocity=h.angle-h.anglePrev,u.angularVelocity=u.angle-u.anglePrev,p=0;p<f.length;p++)g=f[p],y=g.vertex,m=s.sub(y,h.position,N),v=s.sub(y,u.position,B),x=s.add(h.velocity,s.mult(s.perp(m),h.angularVelocity),U),b=s.add(u.velocity,s.mult(s.perp(v),u.angularVelocity),G),_=s.sub(x,b,Y),w=s.dot(l,_),T=s.dot(c,_),S=Math.abs(T),A=r.sign(T),E=(1+n.restitution)*w,P=r.clamp(n.separation+w,0,1)*a._frictionNormalMultiplier,O=T,M=Infinity,S>n.friction*n.frictionStatic*P*D&&(M=S,O=r.clamp(n.friction*A*D,-M,M)),C=s.cross(m,l),I=s.cross(v,l),R=d/(h.inverseMass+u.inverseMass+h.inverseInertia*C*C+u.inverseInertia*I*I),E*=R,O*=R,w<0&&w*w>a._restingThresh*D?g.normalImpulse=0:(L=g.normalImpulse,g.normalImpulse=Math.min(g.normalImpulse+E,0),E=g.normalImpulse-L),T*T>a._restingThreshTangent*D?g.tangentImpulse=0:(k=g.tangentImpulse,g.tangentImpulse=r.clamp(g.tangentImpulse+O,-M,M),O=g.tangentImpulse-k),F.x=l.x*E+c.x*O,F.y=l.y*E+c.y*O,h.isStatic||h.isSleeping||(h.positionPrev.x+=F.x*h.inverseMass,h.positionPrev.y+=F.y*h.inverseMass,h.anglePrev+=s.cross(m,F)*h.inverseInertia),u.isStatic||u.isSleeping||(u.positionPrev.x-=F.x*u.inverseMass,u.positionPrev.y-=F.y*u.inverseMass,u.anglePrev-=s.cross(v,F)*u.inverseInertia)}}()},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p={};t.exports=p,n=i(347),s=i(178),r=i(638),o=i(637),a=i(1753),h=i(636),u=i(156),l=i(134),c=i(157),f=i(28),d=i(47),function(){p.create=function(t,e){var i,s,r;return e=f.isElement(t)?e:t,t=f.isElement(t)?t:null,e=e||{},(t||e.render)&&f.warn("Engine.create: engine.render is deprecated (see docs)"),i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:h}},s=f.extend(i,e),(t||s.render)&&(r={element:t,controller:Render},s.render=f.extend(r,s.render)),s.render&&s.render.controller&&(s.render=s.render.controller.create(s.render)),s.render&&(s.render.engine=s),s.world=e.world||n.create(s.world),s.pairs=o.create(),s.broadphase=s.broadphase.controller.create(s.broadphase),s.metrics=s.metrics||{extended:!1},s.metrics=a.create(s.metrics),s},p.update=function(t,e,i){var n,h,f,d,g,y,m,v,x,b,_;for(e=e||1e3/60,i=i||1,n=t.world,h=t.timing,f=t.broadphase,d=[],h.timestamp+=e*h.timeScale,y={timestamp:h.timestamp},u.trigger(t,"beforeUpdate",y),m=l.allBodies(n),v=l.allConstraints(n),a.reset(t.metrics),t.enableSleeping&&s.update(m,h.timeScale),p._bodiesApplyGravity(m,n.gravity),p._bodiesUpdate(m,e,h.timeScale,i,n.bounds),c.preSolveAll(m),g=0;g<t.constraintIterations;g++)c.solveAll(v,h.timeScale);for(c.postSolveAll(m),f.controller?(n.isModified&&f.controller.clear(f),f.controller.update(f,m,t,n.isModified),d=f.pairsList):d=m,n.isModified&&l.setModified(n,!1,!1,!0),x=f.detector(d,t),b=t.pairs,_=h.timestamp,o.update(b,x,_),o.removeOld(b,_),t.enableSleeping&&s.afterCollisions(b.list,h.timeScale),b.collisionStart.length>0&&u.trigger(t,"collisionStart",{pairs:b.collisionStart}),r.preSolvePosition(b.list),g=0;g<t.positionIterations;g++)r.solvePosition(b.list,m,h.timeScale);for(r.postSolvePosition(m),c.preSolveAll(m),g=0;g<t.constraintIterations;g++)c.solveAll(v,h.timeScale);for(c.postSolveAll(m),r.preSolveVelocity(b.list),g=0;g<t.velocityIterations;g++)r.solveVelocity(b.list,h.timeScale);return b.collisionActive.length>0&&u.trigger(t,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&u.trigger(t,"collisionEnd",{pairs:b.collisionEnd}),a.update(t.metrics,t),p._bodiesClearForces(m),u.trigger(t,"afterUpdate",y),t},p.merge=function(t,e){var i,n,r;if(f.extend(t,e),e.world)for(t.world=e.world,p.clear(t),i=l.allBodies(t.world),n=0;n<i.length;n++)r=i[n],s.set(r,!1),r.id=f.nextId()},p.clear=function(t){var e,i,n=t.world;o.clear(t.pairs),e=t.broadphase,e.controller&&(i=l.allBodies(n),e.controller.clear(e),e.controller.update(e,i,t,!0))},p._bodiesClearForces=function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.force.x=0,i.force.y=0,i.torque=0},p._bodiesApplyGravity=function(t,e){var i,n,s="undefined"!=typeof e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==s)for(i=0;i<t.length;i++)n=t[i],n.ignoreGravity||n.isStatic||n.isSleeping||(n.force.y+=n.mass*e.y*s,n.force.x+=n.mass*e.x*s)},p._bodiesUpdate=function(t,e,i,n,s){var r,o;for(r=0;r<t.length;r++)o=t[r],o.isStatic||o.isSleeping||d.update(o,e,i,n)}}()},function(t,e,i){var n=i(111),s=i(0),r=i(28),o=i(134),a=i(639),h=i(15),u=i(341),l=i(3),c=i(6),f=i(47),d=i(156),p=i(342),g=i(347),y=i(69),m=new s({Extends:h,initialize:function(t,e){var i,n,s,r,o,u,f,d,p,g,y;h.call(this),this.scene=t,this.engine=a.create(e),this.localWorld=this.engine.world,i=c(e,"gravity",null),i&&this.setGravity(i.x,i.y,i.scale),this.walls={left:null,right:null,top:null,bottom:null},l(e,"setBounds",!1)&&(n=e.setBounds,"boolean"==typeof n?this.setBounds():(s=l(n,"x",0),r=l(n,"y",0),o=l(n,"width",t.sys.scale.width),u=l(n,"height",t.sys.scale.height),f=l(n,"thickness",64),d=l(n,"left",!0),p=l(n,"right",!0),g=l(n,"top",!0),y=l(n,"bottom",!0),this.setBounds(s,r,o,u,f,d,p,g,y))),this.enabled=c(e,"enabled",!0),this.correction=c(e,"correction",1),this.getDelta=c(e,"getDelta",this.update60Hz),this.autoUpdate=c(e,"autoUpdate",!0),this.drawDebug=c(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:l(e,"debugShowBody",!0),debugShowStaticBody:l(e,"debugShowStaticBody",!0),debugShowVelocity:l(e,"debugShowVelocity",!0),bodyDebugColor:l(e,"debugBodyColor",16711935),bodyDebugFillColor:l(e,"bodyDebugFillColor",14919651),staticBodyDebugColor:l(e,"debugBodyColor",255),velocityDebugColor:l(e,"debugVelocityColor",65280),debugShowJoint:l(e,"debugShowJoint",!0),jointDebugColor:l(e,"debugJointColor",0),debugWireframes:l(e,"debugWireframes",!0),debugShowInternalEdges:l(e,"debugShowInternalEdges",!1),debugShowConvexHulls:l(e,"debugShowConvexHulls",!1),debugConvexHullColor:l(e,"debugConvexHullColor",11184810),debugShowSleeping:l(e,"debugShowSleeping",!1)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy()},setEventsProxy:function(){var t=this,e=this.engine;d.on(e,"beforeUpdate",function(e){t.emit(u.BEFORE_UPDATE,e)}),d.on(e,"afterUpdate",function(e){t.emit(u.AFTER_UPDATE,e)}),d.on(e,"collisionStart",function(e){var i,n,s=e.pairs;s.length>0&&(i=s[0].bodyA,n=s[0].bodyB),t.emit(u.COLLISION_START,e,i,n)}),d.on(e,"collisionActive",function(e){var i,n,s=e.pairs;s.length>0&&(i=s[0].bodyA,n=s[0].bodyB),t.emit(u.COLLISION_ACTIVE,e,i,n)}),d.on(e,"collisionEnd",function(e){var i,n,s=e.pairs;s.length>0&&(i=s[0].bodyA,n=s[0].bodyB),t.emit(u.COLLISION_END,e,i,n)})},setBounds:function(t,e,i,n,s,r,o,a,h){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=this.scene.sys.scale.width),n===undefined&&(n=this.scene.sys.scale.height),s===undefined&&(s=128),r===undefined&&(r=!0),o===undefined&&(o=!0),a===undefined&&(a=!0),h===undefined&&(h=!0),this.updateWall(r,"left",t-s,e-s,s,n+2*s),this.updateWall(o,"right",t+i,e-s,s,n+2*s),this.updateWall(a,"top",t,e-s,i,s),this.updateWall(h,"bottom",t,e+n,i,s),this},updateWall:function(t,e,i,n,s,r){var o=this.walls[e];t?(o&&g.remove(this.localWorld,o),i+=s/2,n+=r/2,this.walls[e]=this.create(i,n,s,r,{isStatic:!0,friction:0,frictionStatic:0})):(o&&g.remove(this.localWorld,o),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return t===undefined&&(t=0),e===undefined&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,i!==undefined&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,s,r){var o=n.rectangle(t,e,i,s,r);return g.add(this.localWorld,o),o},add:function(t){return g.add(this.localWorld,t),this},remove:function(t,e){var i=t.body?t.body:t;return o.remove(this.localWorld,i,e),this},removeConstraint:function(t,e){return o.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,n=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(n,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new p(this,t[i],e);return this},nextGroup:function(t){return f.nextGroup(t)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(t,e){this.enabled&&this.autoUpdate&&a.update(this.engine,this.getDelta(t,e),this.correction)},step:function(t,e){a.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},postUpdate:function(){if(this.drawDebug){this.debugGraphic.clear();var t=o.allBodies(this.localWorld);this.defaults.debugWireframes?(this.defaults.debugShowConvexHulls&&this.renderConvexHulls(t),this.renderWireframes(t)):this.renderBodies(t),this.defaults.debugShowJoint&&this.renderJoints()}},renderConvexHulls:function(t){var e,i,n,s=this.debugGraphic;for(s.lineStyle(1,this.defaults.debugConvexHullColor),s.beginPath(),e=0;e<t.length;e++)if(i=t[e],i.render.visible&&1!==i.parts.length){for(s.moveTo(i.vertices[0].x,i.vertices[0].y),n=1;n<i.vertices.length;n++)s.lineTo(i.vertices[n].x,i.vertices[n].y);s.lineTo(i.vertices[0].x,i.vertices[0].y)}s.strokePath()},renderWireframes:function(t){var e,i,n,s,r,o,a=this.debugGraphic,h=this.defaults.debugShowInternalEdges;for(a.lineStyle(1,this.defaults.bodyDebugColor),a.beginPath(),e=0;e<t.length;e++)if(i=t[e],i.render.visible)for(n=i.parts.length>1?1:0;n<i.parts.length;n++){for(s=i.parts[n],r=s.vertices.length,a.moveTo(s.vertices[0].x,s.vertices[0].y),o=1;o<r;o++)!s.vertices[o-1].isInternal||h?a.lineTo(s.vertices[o].x,s.vertices[o].y):a.moveTo(s.vertices[o].x,s.vertices[o].y),s.vertices[o].isInternal&&!h&&a.moveTo(s.vertices[(o+1)%r].x,s.vertices[(o+1)%r].y);a.lineTo(s.vertices[0].x,s.vertices[0].y)}a.strokePath()},renderBodies:function(t){var e,i,n,s,r,o,a=this.debugGraphic,h=this.defaults.debugShowInternalEdges||!this.defaults.debugWireframes,u=this.defaults.debugShowSleeping,l=this.defaults.debugWireframes;for(n=0;n<t.length;n++)if(e=t[n],e.render.visible)for(s=e.parts.length>1?1:0;s<e.parts.length;s++)if(i=e.parts[s],i.render.visible){if(u&&e.isSleeping?(a.lineStyle(1,this.defaults.bodyDebugColor,.5*i.render.opacity),a.fillStyle(this.defaults.bodyDebugColor,.5*i.render.opacity)):(a.lineStyle(1,this.defaults.bodyDebugColor,i.render.opacity),a.fillStyle(this.defaults.bodyDebugColor,i.render.opacity)),i.circleRadius)a.beginPath(),a.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{for(a.beginPath(),a.moveTo(i.vertices[0].x,i.vertices[0].y),r=i.vertices.length,o=1;o<r;o++)!i.vertices[o-1].isInternal||h?a.lineTo(i.vertices[o].x,i.vertices[o].y):a.moveTo(i.vertices[o].x,i.vertices[o].y),i.vertices[o].isInternal&&!h&&a.moveTo(i.vertices[(o+1)%i.vertices.length].x,i.vertices[(o+1)%i.vertices.length].y);a.lineTo(i.vertices[0].x,i.vertices[0].y),a.closePath()}l?a.strokePath():a.fillPath()}},renderJoints:function(){var t,e,i,n,s,a,h,u,l,c,f,d,p=this.debugGraphic;for(p.lineStyle(2,this.defaults.jointDebugColor),t=o.allConstraints(this.localWorld),e=0;e<t.length;e++)if(i=t[e],i.render.visible&&i.pointA&&i.pointB){if(i.render.lineWidth&&p.lineStyle(i.render.lineWidth,r.colorToNumber(i.render.strokeStyle)),n=i.bodyA,s=i.bodyB,a=n?y.add(n.position,i.pointA):i.pointA,"pin"===i.render.type)p.beginPath(),p.arc(a.x,a.y,3,0,2*Math.PI),p.closePath();else{if(h=s?y.add(s.position,i.pointB):i.pointB,p.beginPath(),p.moveTo(a.x,a.y),"spring"===i.render.type)for(u=y.sub(h,a),l=y.perp(y.normalise(u)),c=Math.ceil(r.clamp(i.length/5,12,20)),d=1;d<c;d+=1)f=d%2==0?1:-1,p.lineTo(a.x+u.x*(d/c)+l.x*f*4,a.y+u.y*(d/c)+l.y*f*4);p.lineTo(h.x,h.y)}i.render.lineWidth&&p.strokePath(),i.render.anchors&&(p.fillStyle(r.colorToNumber(i.render.strokeStyle)),p.beginPath(),p.arc(a.x,a.y,6,0,2*Math.PI),p.arc(h.x,h.y,6,0,2*Math.PI),p.closePath(),p.fillPath())}},fromPath:function(t,e){e===undefined&&(e=[]);var i=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi;return t.replace(i,function(t,i,n){e.push({x:parseFloat(i),y:parseFloat(n)})}),e},shutdown:function(){d.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});t.exports=m},function(t,e,i){var n=i(0),s=new n({initialize:function(t){this.pluginManager=t,this.game=t.game,this.scene,this.systems},init:function(){},start:function(){},stop:function(){},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=s},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o,a){var h,u=n(i,s,r,o,null,a);for(h=0;h<u.length;h++)u[h]&&u[h].index===t&&(u[h].index=e)};t.exports=s},function(t,e,i){var n=i(179),s=function(t,e,i){if(n(t,e,i)){var s=i.data[e][t];return null!==s&&s.index>-1}return!1};t.exports=s},function(t,e,i){var n=i(136),s=i(179),r=i(348),o=function(t,e,i,o,a){if(i===undefined&&(i=!1),o===undefined&&(o=!0),!s(t,e,a))return null;var h=a.data[e][t]||null;return null===h?null:(a.data[e][t]=i?null:new n(a,-1,t,e,h.width,h.height),o&&h&&h.collides&&r(t,e,a),h)};t.exports=o},function(t,e,i){var n=i(61),s=i(351),r=i(646),o=i(647),a=i(652),h=function(t,e,i,h,u,l){var c;switch(e){case n.ARRAY_2D:c=s(t,i,h,u,l);break;case n.CSV:c=r(t,i,h,u,l);break;case n.TILED_JSON:c=o(t,i,l);break;case n.WELTMEISTER:c=a(t,i,l);break;default:c=null}return c};t.exports=h},function(t,e,i){var n=i(61),s=i(351),r=function(t,e,i,r,o){var a=e.trim().split("\n").map(function(t){return t.split(",")}),h=s(t,a,i,r,o);return h.format=n.CSV,h};t.exports=r},function(t,e,i){var n=i(61),s=i(181),r=i(1803),o=i(1805),a=i(1806),h=i(1808),u=i(1809),l=i(1810),c=function(t,e,i){var c,f;return"orthogonal"!==e.orientation?null:(c=new s({width:e.width,height:e.height,name:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,orientation:e.orientation,format:n.TILED_JSON,version:e.version,properties:e.properties,renderOrder:e.renderorder}),c.layers=r(e,i),c.images=o(e),f=a(e),c.tilesets=f.tilesets,c.imageCollections=f.imageCollections,c.objects=h(e),c.tiles=u(c),l(c),c)};t.exports=c},function(t,e){var i=2147483648,n=1073741824,s=536870912,r=function(t){var e,r,o=!!(t&i),a=!!(t&n),h=!!(t&s);return t&=~(i|n|s),e=0,r=!1,o&&a&&h?(e=Math.PI/2,r=!0):o&&a&&!h?(e=Math.PI,r=!1):o&&!a&&h?(e=Math.PI/2,r=!1):!o||a||h?!o&&a&&h?(e=3*Math.PI/2,r=!1):o||!a||h?o||a||!h?o||a||h||(e=0,r=!1):(e=3*Math.PI/2,r=!0):(e=Math.PI,r=!0):(e=0,r=!0),{gid:t,flippedHorizontal:o,flippedVertical:a,flippedAntiDiagonal:h,rotation:e,flipped:r}};t.exports=r},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n,s,r,o){(i===undefined||i<=0)&&(i=32),(n===undefined||n<=0)&&(n=32),s===undefined&&(s=0),r===undefined&&(r=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|n,this.imageMargin=0|s,this.imageSpacing=0|r,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){return this.images.push({gid:t,image:e}),this.total++,this}});t.exports=s},function(t,e,i){var n=i(1807),s=i(648),r=function(t){return{x:t.x,y:t.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(t,e,i){var a,h;return e===undefined&&(e=0),i===undefined&&(i=0),a=n(t,o),a.x+=e,a.y+=i,t.gid?(h=s(t.gid),a.gid=h.gid,a.flippedHorizontal=h.flippedHorizontal,a.flippedVertical=h.flippedVertical,a.flippedAntiDiagonal=h.flippedAntiDiagonal):t.polyline?a.polyline=t.polyline.map(r):t.polygon?a.polygon=t.polygon.map(r):t.ellipse?(a.ellipse=t.ellipse,a.width=t.width,a.height=t.height):t.text?(a.width=t.width,a.height=t.height,a.text=t.text):(a.rectangle=!0,a.width=t.width,a.height=t.height),a};t.exports=a},function(t,e,i){var n=i(0),s=i(3),r=new n({initialize:function(t){t===undefined&&(t={}),this.name=s(t,"name","object layer"),this.opacity=s(t,"opacity",1),this.properties=s(t,"properties",{}),this.propertyTypes=s(t,"propertytypes",{}),this.type=s(t,"type","objectgroup"),this.visible=s(t,"visible",!0),this.objects=s(t,"objects",[])}});t.exports=r},function(t,e,i){var n=i(61),s=i(181),r=i(1811),o=i(1812),a=function(t,e,i){var a,h,u,l;if(0===e.layer.length)return null;for(a=0,h=0,u=0;u<e.layer.length;u++)e.layer[u].width>a&&(a=e.layer[u].width),e.layer[u].height>h&&(h=e.layer[u].height);return l=new s({width:a,height:h,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:n.WELTMEISTER}),l.layers=r(e,i),l.tilesets=o(e),l};t.exports=a},function(t,e,i){var n=i(0),s=i(78),r=i(654),o=i(32),a=i(61),h=i(180),u=i(484),l=i(655),c=i(136),f=i(234),d=i(238),p=new n({initialize:function(t,e){this.scene=t,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.width=e.width,this.height=e.height,this.orientation=e.orientation,this.renderOrder=e.renderOrder,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.imageCollections=e.imageCollections,this.images=e.images,this.layers=e.layers,this.tilesets=e.tilesets,this.objects=e.objects,this.currentLayerIndex=0},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return"number"==typeof t&&(t=e[t]),e.indexOf(t)>-1&&(this.renderOrder=t),this},addTilesetImage:function(t,e,i,n,s,r,o){var h,u,l;return t===undefined?null:(e!==undefined&&null!==e||(e=t),this.scene.sys.textures.exists(e)?(h=this.scene.sys.textures.get(e),null===(u=this.getTilesetIndex(t))&&this.format===a.TILED_JSON?null:(l=this.tilesets[u])?(l.setTileSize(i,n),l.setSpacing(s,r),l.setImage(h),l):(i===undefined&&(i=this.tileWidth),n===undefined&&(n=this.tileHeight),s===undefined&&(s=0),r===undefined&&(r=0),o===undefined&&(o=0),l=new d(t,o,i,n,s,r),l.setImage(h),this.tilesets.push(l),l)):null)},convertLayerToStatic:function(t){var e,i;return null===(t=this.getLayer(t))?null:(e=t.tilemapLayer)&&e instanceof r?(i=new l(e.scene,e.tilemap,e.layerIndex,e.tileset,e.x,e.y),this.scene.sys.displayList.add(i),e.destroy(),i):null},copy:function(t,e,i,n,s,r,o,a){return a=this.getLayer(a),this._isStaticCall(a,"copy")?this:(null!==a&&f.Copy(t,e,i,n,s,r,o,a),this)},createBlankDynamicLayer:function(t,e,i,n,s,o,a,u){var l,f,d,p,g;if(a===undefined&&(a=e.tileWidth),u===undefined&&(u=e.tileHeight),s===undefined&&(s=this.width),o===undefined&&(o=this.height),i===undefined&&(i=0),n===undefined&&(n=0),null!==this.getLayerIndex(t))return null;for(l=new h({name:t,tileWidth:a,tileHeight:u,width:s,height:o}),d=0;d<o;d++){for(f=[],p=0;p<s;p++)f.push(new c(l,-1,p,d,a,u,this.tileWidth,this.tileHeight));l.data.push(f)}return this.layers.push(l),this.currentLayerIndex=this.layers.length-1,g=new r(this.scene,this,this.currentLayerIndex,e,i,n),g.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(g),g},createDynamicLayer:function(t,e,i,n){var s,o,a=this.getLayerIndex(t);return null===a?null:(s=this.layers[a],s.tilemapLayer?null:(this.currentLayerIndex=a,i===undefined&&this.layers[a].x&&(i=this.layers[a].x),n===undefined&&this.layers[a].y&&(n=this.layers[a].y),o=new r(this.scene,this,a,e,i,n),o.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(o),o))},createFromObjects:function(t,e,i,n){var r,a,h,l,c,f,d,p,g,y,m;if(i===undefined&&(i={}),n===undefined&&(n=this.scene),r=this.getObjectLayer(t)){for(a=r.objects,h=[],l=0;l<a.length;l++)if(c=!1,f=a[l],(f.gid!==undefined&&"number"==typeof e&&f.gid===e||f.id!==undefined&&"number"==typeof e&&f.id===e||f.name!==undefined&&"string"==typeof e&&f.name===e)&&(c=!0),c){d=o({},i,f.properties),d.x=f.x,d.y=f.y,p=this.scene.make.sprite(d),p.name=f.name,f.width&&(p.displayWidth=f.width),f.height&&(p.displayHeight=f.height),g={x:p.originX*p.displayWidth,y:(p.originY-1)*p.displayHeight},f.rotation&&(y=s(f.rotation),u(g,y),p.rotation=y),p.x+=g.x,p.y+=g.y,f.flippedHorizontal===undefined&&f.flippedVertical===undefined||p.setFlip(f.flippedHorizontal,f.flippedVertical),f.visible||(p.visible=!1);for(m in f.properties)p.hasOwnProperty(m)||p.setData(m,f.properties[m]);h.push(p)}return h}},createFromTiles:function(t,e,i,n,s,r){return r=this.getLayer(r),null===r?null:f.CreateFromTiles(t,e,i,n,s,r)},createStaticLayer:function(t,e,i,n){var s,r,o=this.getLayerIndex(t);return null===o?null:(s=this.layers[o],s.tilemapLayer?null:(this.currentLayerIndex=o,i===undefined&&this.layers[o].x&&(i=this.layers[o].x),n===undefined&&this.layers[o].y&&(n=this.layers[o].y),r=new l(this.scene,this,o,e,i,n),r.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(r),r))},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=undefined},fill:function(t,e,i,n,s,r,o){return o=this.getLayer(o),this._isStaticCall(o,"fill")?this:(null!==o&&f.Fill(t,e,i,n,s,r,o),this)},filterObjects:function(t,e,i){if("string"==typeof t){if(!(t=this.getObjectLayer(t)))return null}return t.objects.filter(e,i)},filterTiles:function(t,e,i,n,s,r,o,a){return a=this.getLayer(a),null===a?null:f.FilterTiles(t,e,i,n,s,r,o,a)},findByIndex:function(t,e,i,n){return n=this.getLayer(n),null===n?null:f.FindByIndex(t,e,i,n)},findObject:function(t,e,i){if("string"==typeof t){if(!(t=this.getObjectLayer(t)))return null}return t.objects.find(e,i)||null},findTile:function(t,e,i,n,s,r,o,a){return a=this.getLayer(a),null===a?null:f.FindTile(t,e,i,n,s,r,o,a)},forEachTile:function(t,e,i,n,s,r,o,a){return a=this.getLayer(a),null!==a&&f.ForEachTile(t,e,i,n,s,r,o,a),this},getImageIndex:function(t){return this.getIndex(this.images,t)},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return null!==e?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return null!==e?this.objects[e]:null},getLayerIndex:function(t){return t===undefined?this.currentLayerIndex:"string"==typeof t?this.getLayerIndexByName(t):"number"==typeof t&&t<this.layers.length?t:t instanceof l||t instanceof r?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,n){return n=this.getLayer(n),null===n?null:f.GetTileAt(t,e,i,n)},getTileAtWorldXY:function(t,e,i,n,s){return s=this.getLayer(s),null===s?null:f.GetTileAtWorldXY(t,e,i,n,s)},getTilesWithin:function(t,e,i,n,s,r){return r=this.getLayer(r),null===r?null:f.GetTilesWithin(t,e,i,n,s,r)},getTilesWithinShape:function(t,e,i,n){return n=this.getLayer(n),null===n?null:f.GetTilesWithinShape(t,e,i,n)},getTilesWithinWorldXY:function(t,e,i,n,s,r,o){return o=this.getLayer(o),null===o?null:f.GetTilesWithinWorldXY(t,e,i,n,s,r,o)},getTileset:function(t){var e=this.getIndex(this.tilesets,t);return null!==e?this.tilesets[e]:null},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return i=this.getLayer(i),null===i?null:f.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,n){return n=this.getLayer(n),null===n?null:f.HasTileAtWorldXY(t,e,i,n)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,n,s){return s=this.getLayer(s),this._isStaticCall(s,"putTileAt")?null:null===s?null:f.PutTileAt(t,e,i,n,s)},putTileAtWorldXY:function(t,e,i,n,s,r){return r=this.getLayer(r),this._isStaticCall(r,"putTileAtWorldXY")?null:null===r?null:f.PutTileAtWorldXY(t,e,i,n,s,r)},putTilesAt:function(t,e,i,n,s){return s=this.getLayer(s),this._isStaticCall(s,"putTilesAt")?this:(null!==s&&f.PutTilesAt(t,e,i,n,s),this)},randomize:function(t,e,i,n,s,r){return r=this.getLayer(r),this._isStaticCall(r,"randomize")?this:(null!==r&&f.Randomize(t,e,i,n,s,r),this)},calculateFacesAt:function(t,e,i){return null===(i=this.getLayer(i))?this:(f.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,n,s){return null===(s=this.getLayer(s))?this:(f.CalculateFacesWithin(t,e,i,n,s),this)},removeAllLayers:function(){for(var t=0;t<this.layers.length;t++)this.layers[t].tilemapLayer&&this.layers[t].tilemapLayer.destroy();return this.layers.length=0,this.currentLayerIndex=0,this},removeTileAt:function(t,e,i,n,s){return s=this.getLayer(s),this._isStaticCall(s,"removeTileAt")?null:null===s?null:f.RemoveTileAt(t,e,i,n,s)},removeTileAtWorldXY:function(t,e,i,n,s,r){return r=this.getLayer(r),this._isStaticCall(r,"removeTileAtWorldXY")?null:null===r?null:f.RemoveTileAtWorldXY(t,e,i,n,s,r)},renderDebug:function(t,e,i){return null===(i=this.getLayer(i))?this:(f.RenderDebug(t,e,i),this)},replaceByIndex:function(t,e,i,n,s,r,o){return o=this.getLayer(o),this._isStaticCall(o,"replaceByIndex")?this:(null!==o&&f.ReplaceByIndex(t,e,i,n,s,r,o),this)},setCollision:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetCollision(t,e,i,n),this)},setCollisionBetween:function(t,e,i,n,s){return null===(s=this.getLayer(s))?this:(f.SetCollisionBetween(t,e,i,n,s),this)},setCollisionByProperty:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetCollisionByProperty(t,e,i,n),this)},setCollisionByExclusion:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetCollisionByExclusion(t,e,i,n),this)},setCollisionFromCollisionGroup:function(t,e,i){return null===(i=this.getLayer(i))?this:(f.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetTileIndexCallback(t,e,i,n),this)},setTileLocationCallback:function(t,e,i,n,s,r,o){return null===(o=this.getLayer(o))?this:(f.SetTileLocationCallback(t,e,i,n,s,r,o),this)},setLayer:function(t){var e=this.getLayerIndex(t);return null!==e&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){var i,n,s,r,o,a,h;for(this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e,i=0;i<this.layers.length;i++)for(this.layers[i].baseTileWidth=t,this.layers[i].baseTileHeight=e,n=this.layers[i].data,s=this.layers[i].width,r=this.layers[i].height,o=0;o<r;o++)for(a=0;a<s;a++)null!==(h=n[o][a])&&h.setSize(undefined,undefined,t,e);return this},setLayerTileSize:function(t,e,i){var n,s,r,o,a,h;if(null===(i=this.getLayer(i)))return this;for(i.tileWidth=t,i.tileHeight=e,n=i.data,s=i.width,r=i.height,o=0;o<r;o++)for(a=0;a<s;a++)null!==(h=n[o][a])&&h.setSize(t,e);return this},shuffle:function(t,e,i,n,s){return s=this.getLayer(s),this._isStaticCall(s,"shuffle")?this:(null!==s&&f.Shuffle(t,e,i,n,s),this)},swapByIndex:function(t,e,i,n,s,r,o){return o=this.getLayer(o),this._isStaticCall(o,"swapByIndex")?this:(null!==o&&f.SwapByIndex(t,e,i,n,s,r,o),this)},tileToWorldX:function(t,e,i){return i=this.getLayer(i),null===i?null:f.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return i=this.getLayer(i),null===i?null:f.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,n,s){return s=this.getLayer(s),null===s?null:f.TileToWorldXY(t,e,i,n,s)},weightedRandomize:function(t,e,i,n,s,r){return r=this.getLayer(r),this._isStaticCall(r,"weightedRandomize")?this:(null!==r&&f.WeightedRandomize(t,e,i,n,s,r),this)},worldToTileX:function(t,e,i,n){return n=this.getLayer(n),null===n?null:f.WorldToTileX(t,e,i,n)},worldToTileY:function(t,e,i,n){return n=this.getLayer(n),null===n?null:f.WorldToTileY(t,e,i,n)},worldToTileXY:function(t,e,i,n,s,r){return r=this.getLayer(r),null===r?null:f.WorldToTileXY(t,e,i,n,s,r)},_isStaticCall:function(t,e){return t.tilemapLayer instanceof l}});t.exports=p},function(t,e,i){var n=i(0),s=i(24),r=i(1813),o=i(19),a=i(234),h=new n({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Origin,s.Pipeline,s.ScaleMode,s.Transform,s.Visible,s.ScrollFactor,r],initialize:function(t,e,i,n,s,r){o.call(this,t,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(s,r),this.setOrigin(),this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(t){var e,i,n,s,r=[],o=[],a=this.tilemap;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++)if(i=t[e],"string"==typeof i&&(i=a.getTileset(i)),i)for(o.push(i),n=i.firstgid,s=0;s<i.total;s++)r[n+s]=i;this.gidMap=r,this.tileset=o},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return"string"==typeof t&&(t=e.indexOf(t)),t>=0&&t<4&&(this._renderOrder=t),this},calculateFacesAt:function(t,e){return a.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,n){return a.CalculateFacesWithin(t,e,i,n,this.layer),this},createFromTiles:function(t,e,i,n,s){return a.CreateFromTiles(t,e,i,n,s,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,n,s,r,o){return a.Copy(t,e,i,n,s,r,o,this.layer),this},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=undefined),this.tilemap=undefined,this.layer=undefined,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this)},fill:function(t,e,i,n,s,r){return a.Fill(t,e,i,n,s,r,this.layer),this},filterTiles:function(t,e,i,n,s,r,o){return a.FilterTiles(t,e,i,n,s,r,o,this.layer)},findByIndex:function(t,e,i){return a.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,n,s,r,o){return a.FindTile(t,e,i,n,s,r,o,this.layer)},forEachTile:function(t,e,i,n,s,r,o){return a.ForEachTile(t,e,i,n,s,r,o,this.layer),this},getTileAt:function(t,e,i){return a.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,n){return a.GetTileAtWorldXY(t,e,i,n,this.layer)},getTilesWithin:function(t,e,i,n,s){return a.GetTilesWithin(t,e,i,n,s,this.layer)},getTilesWithinShape:function(t,e,i){return a.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,n,s,r){return a.GetTilesWithinWorldXY(t,e,i,n,s,r,this.layer)},hasTileAt:function(t,e){return a.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return a.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,n){return a.PutTileAt(t,e,i,n,this.layer)},putTileAtWorldXY:function(t,e,i,n,s){return a.PutTileAtWorldXY(t,e,i,n,s,this.layer)},putTilesAt:function(t,e,i,n){return a.PutTilesAt(t,e,i,n,this.layer),this},randomize:function(t,e,i,n,s){return a.Randomize(t,e,i,n,s,this.layer),this},removeTileAt:function(t,e,i,n){return a.RemoveTileAt(t,e,i,n,this.layer)},removeTileAtWorldXY:function(t,e,i,n,s){return a.RemoveTileAtWorldXY(t,e,i,n,s,this.layer)},renderDebug:function(t,e){return a.RenderDebug(t,e,this.layer),this},replaceByIndex:function(t,e,i,n,s,r){return a.ReplaceByIndex(t,e,i,n,s,r,this.layer),this},setSkipCull:function(t){return t===undefined&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return t===undefined&&(t=1),e===undefined&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},setCollision:function(t,e,i){return a.SetCollision(t,e,i,this.layer),this},setCollisionBetween:function(t,e,i,n){return a.SetCollisionBetween(t,e,i,n,this.layer),this},setCollisionByProperty:function(t,e,i){return a.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return a.SetCollisionByExclusion(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return a.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileIndexCallback:function(t,e,i){return a.SetTileIndexCallback(t,e,i,this.layer),this},setTileLocationCallback:function(t,e,i,n,s,r){return a.SetTileLocationCallback(t,e,i,n,s,r,this.layer),this},shuffle:function(t,e,i,n){return a.Shuffle(t,e,i,n,this.layer),this},swapByIndex:function(t,e,i,n,s,r){return a.SwapByIndex(t,e,i,n,s,r,this.layer),this},tileToWorldX:function(t,e){return a.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return a.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,n){return a.TileToWorldXY(t,e,i,n,this.layer)},weightedRandomize:function(t,e,i,n,s){return a.WeightedRandomize(t,e,i,n,s,this.layer),this},worldToTileX:function(t,e,i){return a.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return a.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,n,s){return a.WorldToTileXY(t,e,i,n,s,this.layer)}});t.exports=h},function(t,e,i){var n=i(0),s=i(24),r=i(52),o=i(19),a=i(1816),h=i(234),u=i(93),l=i(16),c=new n({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Origin,s.Pipeline,s.ScaleMode,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,e,i,n,s,a){o.call(this,t,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.CullTiles,this.renderer=t.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new u,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(s,a),this.setOrigin(),this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),t.sys.game.config.renderType===r.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.updateVBOData()},this)},setTilesets:function(t){var e,i,n,s,r=[],o=[],a=this.tilemap;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++)if(i=t[e],"string"==typeof i&&(i=a.getTileset(i)),i)for(o.push(i),n=i.firstgid,s=0;s<i.total;s++)r[n+s]=i;this.gidMap=r,this.tileset=o},updateVBOData:function(){for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;return this},upload:function(t,e){var i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v=this.renderer,x=v.gl,b=v.pipelines.TextureTintPipeline;if(this.dirty[e]){if(i=this.tileset[e],n=this.layer.width,s=this.layer.height,r=i.image.source[0].width,o=i.image.source[0].height,a=this.layer.data,c=this._renderOrder,f=i.firstgid,d=i.firstgid+i.total,p=this.vertexBuffer[e],g=this.bufferData[e],y=-1,m=n*s*b.vertexSize*6,this.vertexCount[e]=0,null===g&&(g=new ArrayBuffer(m),this.bufferData[e]=g,this.vertexViewF32[e]=new Float32Array(g),this.vertexViewU32[e]=new Uint32Array(g)),0===c)for(u=0;u<s;u++)for(l=0;l<n;l++)!(h=a[u][l])||h.index<f||h.index>d||!h.visible||(y=this.batchTile(y,h,i,r,o,t,e));else if(1===c)for(u=0;u<s;u++)for(l=n-1;l>=0;l--)!(h=a[u][l])||h.index<f||h.index>d||!h.visible||(y=this.batchTile(y,h,i,r,o,t,e));else if(2===c)for(u=s-1;u>=0;u--)for(l=0;l<n;l++)!(h=a[u][l])||h.index<f||h.index>d||!h.visible||(y=this.batchTile(y,h,i,r,o,t,e));else if(3===c)for(u=s-1;u>=0;u--)for(l=n-1;l>=0;l--)!(h=a[u][l])||h.index<f||h.index>d||!h.visible||(y=this.batchTile(y,h,i,r,o,t,e));this.dirty[e]=!1,null===p?(p=v.createVertexBuffer(g,x.STATIC_DRAW),this.vertexBuffer[e]=p):(v.setVertexBuffer(p),x.bufferSubData(x.ARRAY_BUFFER,0,g))}return this},batchTile:function(t,e,i,n,s,r,o){var a,h,u,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R=i.getTileTextureCoordinates(e.index);return R?(a=i.tileWidth,h=i.tileHeight,u=a/2,c=h/2,f=R.x/n,d=R.y/s,p=(R.x+a)/n,g=(R.y+h)/s,y=this._tempMatrix,m=-u,v=-c,e.flipX&&(a*=-1,m+=i.tileWidth),e.flipY&&(h*=-1,v+=i.tileHeight),x=m+a,b=v+h,y.applyITRS(u+e.pixelX,c+e.pixelY,e.rotation,1,1),_=l.getTintAppendFloatAlpha(16777215,r.alpha*this.alpha*e.alpha),w=y.getX(m,v),T=y.getY(m,v),S=y.getX(m,b),A=y.getY(m,b),E=y.getX(x,b),P=y.getY(x,b),O=y.getX(x,v),M=y.getY(x,v),r.roundPixels&&(w=Math.round(w),T=Math.round(T),S=Math.round(S),A=Math.round(A),E=Math.round(E),P=Math.round(P),O=Math.round(O),M=Math.round(M)),C=this.vertexViewF32[o],I=this.vertexViewU32[o],C[++t]=w,C[++t]=T,C[++t]=f,C[++t]=d,C[++t]=0,I[++t]=_,C[++t]=S,C[++t]=A,C[++t]=f,C[++t]=g,C[++t]=0,I[++t]=_,C[++t]=E,C[++t]=P,C[++t]=p,C[++t]=g,C[++t]=0,I[++t]=_,C[++t]=w,C[++t]=T,C[++t]=f,C[++t]=d,C[++t]=0,I[++t]=_,C[++t]=E,C[++t]=P,C[++t]=p,C[++t]=g,C[++t]=0,I[++t]=_,C[++t]=O,C[++t]=M,C[++t]=p,C[++t]=d,C[++t]=0,I[++t]=_,this.vertexCount[o]+=6,t):t},setRenderOrder:function(t){var e,i=["right-down","left-down","right-up","left-up"];if("string"==typeof t&&(t=i.indexOf(t)),t>=0&&t<4)for(this._renderOrder=t,e=0;e<this.tileset.length;e++)this.dirty[e]=!0;return this},calculateFacesAt:function(t,e){return h.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,n){return h.CalculateFacesWithin(t,e,i,n,this.layer),this},createFromTiles:function(t,e,i,n,s){return h.CreateFromTiles(t,e,i,n,s,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles)},setSkipCull:function(t){return t===undefined&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return t===undefined&&(t=1),e===undefined&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},findByIndex:function(t,e,i){return h.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,n,s,r,o){return h.FindTile(t,e,i,n,s,r,o,this.layer)},filterTiles:function(t,e,i,n,s,r,o){return h.FilterTiles(t,e,i,n,s,r,o,this.layer)},forEachTile:function(t,e,i,n,s,r,o){return h.ForEachTile(t,e,i,n,s,r,o,this.layer),this},getTileAt:function(t,e,i){return h.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,n){return h.GetTileAtWorldXY(t,e,i,n,this.layer)},getTilesWithin:function(t,e,i,n,s){return h.GetTilesWithin(t,e,i,n,s,this.layer)},getTilesWithinWorldXY:function(t,e,i,n,s,r){return h.GetTilesWithinWorldXY(t,e,i,n,s,r,this.layer)},getTilesWithinShape:function(t,e,i){return h.GetTilesWithinShape(t,e,i,this.layer)},hasTileAt:function(t,e){return h.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return h.HasTileAtWorldXY(t,e,i,this.layer)},renderDebug:function(t,e){return h.RenderDebug(t,e,this.layer),this},setCollision:function(t,e,i){return h.SetCollision(t,e,i,this.layer),this},setCollisionBetween:function(t,e,i,n){return h.SetCollisionBetween(t,e,i,n,this.layer),this},setCollisionByProperty:function(t,e,i){return h.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return h.SetCollisionByExclusion(t,e,i,this.layer),this},setTileIndexCallback:function(t,e,i){return h.SetTileIndexCallback(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return h.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileLocationCallback:function(t,e,i,n,s,r){return h.SetTileLocationCallback(t,e,i,n,s,r,this.layer),this},tileToWorldX:function(t,e){return h.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return h.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,n){return h.TileToWorldXY(t,e,i,n,this.layer)},worldToTileX:function(t,e,i){return h.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return h.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,n,s){return h.WorldToTileXY(t,e,i,n,s,this.layer)},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=undefined),this.tilemap=undefined,this.layer=undefined,this.culledTiles.length=0,this.cullCallback=null;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this)}});t.exports=c},function(t,e,i){var n=i(0),s=i(3),r=new n({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=s(t,"delay",0),this.repeat=s(t,"repeat",0),this.loop=s(t,"loop",!1),this.callback=s(t,"callback",undefined),this.callbackScope=s(t,"callbackScope",this.callback),this.args=s(t,"args",[]),this.timeScale=s(t,"timeScale",1),this.startAt=s(t,"startAt",0),this.paused=s(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){var t;return this.repeat>0?(t=this.delay+this.delay*this.repeat,(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(t){t===undefined&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=undefined,this.callbackScope=undefined,this.args=[]}});t.exports=r},function(t,e,i){var n=i(1825),s=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substr(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===n.indexOf(e)&&"_"!==e.substr(0,1)&&i.push({key:e,value:t[e]});return i};t.exports=s},function(t,e,i){var n=i(6),s=function(t){var e=n(t,"tweens",null);return null===e?[]:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)};t.exports=s},function(t,e,i){var n=i(355),s=i(25),r=i(173),o=i(172),a=i(239),h=i(6),u=i(354),l=i(356),c=i(357),f=function(t,e,i){var f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k;for(i===undefined&&(i=n),f=h(e,"from",0),d=h(e,"to",1),p=[{value:f}],g=a(e,"delay",i.delay),y=a(e,"duration",i.duration),m=h(e,"easeParams",i.easeParams),v=o(h(e,"ease",i.ease),m),x=a(e,"hold",i.hold),b=a(e,"repeat",i.repeat),_=a(e,"repeatDelay",i.repeatDelay),w=r(e,"yoyo",i.yoyo),T=[],S=u("value",d),A=c(p[0],"value",S.getEnd,S.getStart,v,g,y,w,x,b,_,!1,!1),A.start=f,A.current=f,A.to=d,T.push(A),E=new l(t,T,p),E.offset=s(e,"offset",null),E.completeDelay=s(e,"completeDelay",0),E.loop=Math.round(s(e,"loop",0)),E.loopDelay=Math.round(s(e,"loopDelay",0)),E.paused=r(e,"paused",!1),E.useFrames=r(e,"useFrames",!1),P=h(e,"callbackScope",E),O=[E,null],M=l.TYPES,C=0;C<M.length;C++)I=M[C],(R=h(e,I,!1))&&(L=h(e,I+"Scope",P),k=h(e,I+"Params",[]),E.setCallback(I,R,O.concat(k),L));return E};t.exports=f},function(t,e,i){var n=i(127),s=i(355),r=i(25),o=i(173),a=i(172),h=i(239),u=i(353),l=i(658),c=i(6),f=i(661),d=i(240),p=function(t,e){var i,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L=new f(t),k=l(e);if(0===k.length)return L.paused=!0,L;for(i=n(s),i.targets=u(e),p=r(e,"totalDuration",0),i.duration=p>0?Math.floor(p/k.length):h(e,"duration",i.duration),i.delay=h(e,"delay",i.delay),i.easeParams=c(e,"easeParams",i.easeParams),i.ease=a(c(e,"ease",i.ease),i.easeParams),i.hold=h(e,"hold",i.hold),i.repeat=h(e,"repeat",i.repeat),i.repeatDelay=h(e,"repeatDelay",i.repeatDelay),i.yoyo=o(e,"yoyo",i.yoyo),i.flipX=o(e,"flipX",i.flipX),i.flipY=o(e,"flipY",i.flipY),g=0;g<k.length;g++)L.queue(d(L,k[g],i));return L.completeDelay=r(e,"completeDelay",0),L.loop=Math.round(r(e,"loop",0)),L.loopDelay=Math.round(r(e,"loopDelay",0)),L.paused=o(e,"paused",!1),L.useFrames=o(e,"useFrames",!1),y=c(e,"callbackScope",L),m=[L],v=c(e,"onStart",!1),v&&(x=c(e,"onStartScope",y),b=c(e,"onStartParams",[]),L.setCallback("onStart",v,m.concat(b),x)),_=c(e,"onUpdate",!1),_&&(w=c(e,"onUpdateScope",y),T=c(e,"onUpdateParams",[]),L.setCallback("onUpdate",_,m.concat(T),w)),S=c(e,"onLoop",!1),S&&(A=c(e,"onLoopScope",y),E=c(e,"onLoopParams",[]),L.setCallback("onLoop",S,m.concat(E),A)),P=c(e,"onYoyo",!1),P&&(O=c(e,"onYoyoScope",y),M=c(e,"onYoyoParams",[]),L.setCallback("onYoyo",P,m.concat(null,M),O)),C=c(e,"onComplete",!1),C&&(I=c(e,"onCompleteScope",y),R=c(e,"onCompleteParams",[]),L.setCallback("onComplete",C,m.concat(R),I)),L};t.exports=p},function(t,e,i){var n=i(0),s=i(15),r=i(662),o=i(240),a=i(174),h=new n({Extends:s,initialize:function(t){s.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING_ADD,this._pausedState=a.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===a.ACTIVE},add:function(t){return this.queue(o(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){var e;return"string"==typeof t&&("-"===(e=t[0])||"+"===e)},getRelativeOffset:function(t,e){var i=t[0],n=parseFloat(t.substr(2)),s=e;switch(i){case"+":s+=n;break;case"-":s-=n}return Math.max(0,s)},calcDuration:function(){var t,e,i=0,n=0,s=0;for(t=0;t<this.totalData;t++)e=this.data[t],e.init(),this.hasOffset(e)?this.isOffsetAbsolute(e.offset)?(e.calculatedOffset=e.offset,0===e.offset&&(s=0)):this.isOffsetRelative(e.offset)&&(e.calculatedOffset=this.getRelativeOffset(e.offset,i)):e.calculatedOffset=s,i=e.totalDuration+e.calculatedOffset,n+=e.totalDuration,s+=e.totalDuration;this.duration=n,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=a.PAUSED,!1)},resetTweens:function(t){var e,i;for(e=0;e<this.totalData;e++)i=this.data[e],i.play(t)},setCallback:function(t,e,i,n){return-1!==h.TYPES.indexOf(t)&&(this.callbacks[t]={func:e,scope:n,params:i}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==a.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=a.ACTIVE;var t=this.callbacks.onStart;t&&t.func.apply(t.scope,t.params),this.emit(r.TIMELINE_START,this)}},nextState:function(){var t,e;this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,t=this.callbacks.onLoop,t&&t.func.apply(t.scope,t.params),this.emit(r.TIMELINE_LOOP,this,this.loopCounter),this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=a.LOOP_DELAY):this.state=a.ACTIVE):this.completeDelay>0?(this.countdown=this.completeDelay,this.state=a.COMPLETE_DELAY):(this.state=a.PENDING_REMOVE,e=this.callbacks.onComplete,e&&e.func.apply(e.scope,e.params),this.emit(r.TIMELINE_COMPLETE,this))},update:function(t,e){var i,n,s,o,h,u;if(this.state!==a.PAUSED){switch(i=e,this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case a.ACTIVE:for(n=this.totalData,s=0;s<this.totalData;s++)o=this.data[s],o.update(t,i)&&n--;h=this.callbacks.onUpdate,h&&h.func.apply(h.scope,h.params),this.emit(r.TIMELINE_UPDATE,this),0===n&&this.nextState();break;case a.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=a.ACTIVE);break;case a.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=a.PENDING_REMOVE,u=this.callbacks.onComplete,u&&u.func.apply(u.scope,u.params),this.emit(r.TIMELINE_COMPLETE,this))}return this.state===a.PENDING_REMOVE}},stop:function(){this.state=a.PENDING_REMOVE},pause:function(){if(this.state!==a.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=a.PAUSED,this.emit(r.TIMELINE_PAUSE,this),this},resume:function(){return this.state===a.PAUSED&&(this.paused=!1,this.state=this._pausedState),this.emit(r.TIMELINE_RESUME,this),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});h.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],t.exports=h},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={TIMELINE_COMPLETE:i(1826),TIMELINE_LOOP:i(1827),TIMELINE_PAUSE:i(1828),TIMELINE_RESUME:i(1829),TIMELINE_START:i(1830),TIMELINE_UPDATE:i(1831)}},function(t,e,i){var n=i(358),s=i(0),r=i(147),o=new r,a=new s({Extends:n,initialize:function(t,e,i){e===undefined&&(e=0),i===undefined&&(i=0),n.call(this,t),this.viewportWidth=e,this.viewportHeight=i,this._zoom=1,this.near=0,this.update()},setToOrtho:function(t,e,i){e===undefined&&(e=this.viewportWidth),i===undefined&&(i=this.viewportHeight);var n=this.zoom;return this.up.set(0,t?-1:1,0),this.direction.set(0,0,t?1:-1),this.position.set(n*e/2,n*i/2,0),this.viewportWidth=e,this.viewportHeight=i,this.update()},update:function(){var t=this.viewportWidth,e=this.viewportHeight,i=Math.abs(this.near),n=Math.abs(this.far),s=this.zoom;return 0===t||0===e?this:(this.projection.ortho(s*-t/2,s*t/2,s*-e/2,s*e/2,i,n),o.copy(this.position).add(this.direction),this.view.lookAt(this.position,o,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this)},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.update()}}});t.exports=a},function(t,e,i){var n=i(358),s=i(0),r=i(147),o=new r,a=new s({Extends:n,initialize:function(t,e,i,s){e===undefined&&(e=80),i===undefined&&(i=0),s===undefined&&(s=0),n.call(this,t),this.viewportWidth=i,this.viewportHeight=s,this.fieldOfView=e*Math.PI/180,this.update()},setFOV:function(t){return this.fieldOfView=t*Math.PI/180,this},update:function(){var t=this.viewportWidth/this.viewportHeight;return this.projection.perspective(this.fieldOfView,t,Math.abs(this.near),Math.abs(this.far)),o.copy(this.position).add(this.direction),this.view.lookAt(this.position,o,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this}});t.exports=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1848))},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1860))},function(t,e,i){var n,s,r,o,a,h,u,l=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(40),r=i(36),o=i(45),a=i(104),i(401),h="modalID",u=function(t){function e(e){var i=t.call(this)||this;return i.modalType="shop",i.blockInput=!0,i.texts={shop:[r._("shop_1"),"",r._("shop_2"),"",r._("shop_3"),r._("shop_4"),r._("shop_5"),r._("shop_6"),r._("shop_7")],hangar:[r._("hangar_1"),"",r._("hangar_2"),r._("hangar_3"),"",r._("hangar_4"),"",r._("hangar_5"),r._("hangar_6")],weapon:[r._("weapon_1"),"",r._("weapon_2"),r._("weapon_3")]},i.modalType=e,i.els=[h],i.mouseInteractive=[h],i}return l(e,t),e.prototype.componentDidMount=function(){var t=this;this.blockInput=!0,setTimeout(function(){t.blockInput=!1},1e3),this.focus(h)},e.prototype.onKeyDown=function(t){if(this.blockInput)return!1;switch(t.key){case o.Keys.RETURN:a.hideModal(!1);break;case o.Keys.ENTER:a.hideModal(!0)}return!1},e.prototype.render=function(){return'\n\t\t\t<div id="'+h+'" class="infoModal">\n\t\t\t\t<p class="modalText">\n\t\t\t\t\t'+this.texts[this.modalType].map(function(t,e){return s["default"](t,0===e?"defaultNonFocus":"font")+"<br />"}).join("")+'\n\t\t\t\t</p>\n\t\t\t\t<p class="closeModal">'+s["default"](r._("closeModal"),"font")+"<br/>"+s["default"](r._("closeModal_1"),"font")+"</p>\n\t\t\t</div>\n\t\t"},e.modalType="",e}(n["default"]),e.InfoModal=u},function(t,e,i){var n,s=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(e){r(e)}}function a(t){try{h(n["throw"](t))}catch(e){r(e)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,r=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(o=h.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){h.label=i[1];break}if(6===i[0]&&h.label<o[1]){h.label=o[1],o=i;break}if(o&&h.label<o[2]){h.label=o[2],h.ops.push(i);break}o[2]&&h.ops.pop(),h.trys.pop();continue}i=e.call(t,h)}catch(n){i=[6,n],r=0}finally{s=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,r,o,a,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},o=this;Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),e.SOUNDS={bg:"bg.mp3"},e.playSound=function(t){return s(o,void 0,void 0,function(){return r(this,function(e){return n["default"].SoundManager.play(t),[2]})})},e.initSounds=function(){return s(o,void 0,void 0,function(){return r(this,function(t){return[2,n["default"].SoundManager.preload(Object.keys(e.SOUNDS).map(function(t){return e.SOUNDS[t]}))]})})}},function(t,e,i){i(670),t.exports=i(872)},function(t,e,i){"use strict";(function(t){function e(t,e,i){t[e]||Object[n](t,e,{writable:!0,configurable:!0,value:i})}if(i(671),i(868),i(869),t._babelPolyfill)throw Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var n="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,i(158))},function(t,e,i){i(672),i(674),i(675),i(676),i(677),i(678),i(679),i(680),i(681),i(682),i(683),i(684),i(685),i(686),i(687),i(688),i(690),i(691),i(692),i(693),i(694),i(695),i(696),i(697),i(698),i(699),i(700),i(701),i(702),i(703),i(704),i(705),i(706),i(707),i(708),i(709),i(710),i(711),i(712),i(713),i(714),i(715),i(716),i(717),i(718),i(719),i(720),i(721),i(722),i(723),i(724),i(725),i(726),i(727),i(728),i(729),i(730),i(731),i(732),i(733),i(734),i(735),i(736),i(737),i(738),i(739),i(740),i(741),i(742),i(743),i(744),i(745),i(746),i(747),i(748),i(749),i(750),i(752),i(753),i(755),i(756),i(757),i(758),i(759),i(760),i(761),i(763),i(764),i(765),i(766),i(767),i(768),i(769),i(770),i(771),i(772),i(773),i(774),i(775),i(264),i(776),i(777),i(378),i(778),i(779),i(780),i(781),i(782),i(381),i(383),i(384),i(783),i(784),i(785),i(786),i(787),i(788),i(789),i(790),i(791),i(792),i(793),i(794),i(795),i(796),i(797),i(798),i(799),i(800),i(801),i(802),i(803),i(804),i(805),i(806),i(807),i(808),i(809),i(810),i(811),i(812),i(813),i(814),i(815),i(816),i(817),i(818),i(819),i(820),i(821),i(822),i(823),i(824),i(825),i(826),i(827),i(828),i(829),i(830),i(831),i(832),i(833),i(834),i(835),i(836),i(837),i(838),i(839),i(840),i(841),i(842),i(843),i(844),i(845),i(846),i(847),i(848),i(849),i(850),i(851),i(852),i(853),i(854),i(855),i(856),i(857),i(858),i(859),i(860),i(861),i(862),i(863),i(864),i(865),i(866),i(867),t.exports=i(64)},function(t,e,i){"use strict";var n,s,r,o,a=i(8),h=i(56),u=i(20),l=i(1),c=i(49),f=i(100).KEY,d=i(10),p=i(182),g=i(137),y=i(115),m=i(17),v=i(361),x=i(244),b=i(673),_=i(185),w=i(5),T=i(11),S=i(57),A=i(71),E=i(114),P=i(118),O=i(364),M=i(58),C=i(21),I=i(116),R=M.f,L=C.f,k=O.f,D=a.Symbol,F=a.JSON,N=F&&F.stringify,B="prototype",U=m("_hidden"),G=m("toPrimitive"),Y={}.propertyIsEnumerable,X=p("symbol-registry"),z=p("symbols"),W=p("op-symbols"),j=Object[B],V="function"==typeof D,H=a.QObject,K=!H||!H[B]||!H[B].findChild,q=u&&d(function(){return 7!=P(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=R(j,e);n&&delete j[e],L(t,e,i),n&&t!==j&&L(j,e,n)}:L,J=function(t){var e=z[t]=P(D[B]);return e._k=t,e},Z=V&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Q=function(t,e,i){return t===j&&Q(W,e,i),w(t),e=A(e,!0),w(i),h(z,e)?(i.enumerable?(h(t,U)&&t[U][e]&&(t[U][e]=!1),i=P(i,{enumerable:E(0,!1)})):(h(t,U)||L(t,U,E(1,{})),t[U][e]=!0),q(t,e,i)):L(t,e,i)},$=function(t,e){var i,n,s,r;for(w(t),i=b(e=S(e)),n=0,s=i.length;s>n;)Q(t,r=i[n++],e[r]);return t},tt=function(t,e){return e===undefined?P(t):$(P(t),e)},et=function(t){var e=Y.call(this,t=A(t,!0));return!(this===j&&h(z,t)&&!h(W,t))&&(!(e||!h(this,t)||!h(z,t)||h(this,U)&&this[U][t])||e)},it=function(t,e){if(t=S(t),e=A(e,!0),t!==j||!h(z,e)||h(W,e)){var i=R(t,e);return!i||!h(z,e)||h(t,U)&&t[U][e]||(i.enumerable=!0),i}},nt=function(t){for(var e,i=k(S(t)),n=[],s=0;i.length>s;)h(z,e=i[s++])||e==U||e==f||n.push(e);return n},st=function(t){for(var e,i=t===j,n=k(i?W:S(t)),s=[],r=0;n.length>r;)!h(z,e=n[r++])||i&&!h(j,e)||s.push(z[e]);return s};for(V||(D=function(){var t,e;if(this instanceof D)throw TypeError("Symbol is not a constructor!");return t=y(arguments.length>0?arguments[0]:undefined),e=function(i){this===j&&e.call(W,i),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),q(this,t,E(1,i))},u&&K&&q(j,t,{configurable:!0,set:e}),J(t)},c(D[B],"toString",function(){return this._k}),M.f=it,C.f=Q,i(119).f=O.f=nt,i(160).f=et,i(184).f=st,u&&!i(101)&&c(j,"propertyIsEnumerable",et,!0),v.f=function(t){return J(m(t))}),l(l.G+l.W+l.F*!V,{Symbol:D}),n="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),s=0;n.length>s;)m(n[s++]);for(r=I(m.store),o=0;r.length>o;)x(r[o++]);l(l.S+l.F*!V,"Symbol",{"for":function(t){return h(X,t+="")?X[t]:X[t]=D(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in X)if(X[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),l(l.S+l.F*!V,"Object",{create:tt,defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:it,getOwnPropertyNames:nt,getOwnPropertySymbols:st}),F&&l(l.S+l.F*(!V||d(function(){var t=D();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],s=1;arguments.length>s;)n.push(arguments[s++]);if(i=e=n[1],(T(e)||t!==undefined)&&!Z(t))return _(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Z(e))return e}),n[1]=e,N.apply(F,n)}}),D[B][G]||i(48)(D[B],G,D[B].valueOf),g(D,"Symbol"),g(Math,"Math",!0),g(a.JSON,"JSON",!0)},function(t,e,i){var n=i(116),s=i(184),r=i(160);t.exports=function(t){var e,i,o,a,h=n(t),u=s.f;if(u)for(e=u(t),i=r.f,o=0;e.length>o;)i.call(t,a=e[o++])&&h.push(a);return h}},function(t,e,i){var n=i(1);n(n.S,"Object",{create:i(118)})},function(t,e,i){var n=i(1);n(n.S+n.F*!i(20),"Object",{defineProperty:i(21).f})},function(t,e,i){var n=i(1);n(n.S+n.F*!i(20),"Object",{defineProperties:i(363)})},function(t,e,i){var n=i(57),s=i(58).f;i(74)("getOwnPropertyDescriptor",function(){return function(t,e){return s(n(t),e)}})},function(t,e,i){var n=i(31),s=i(59);i(74)("getPrototypeOf",function(){return function(t){return s(n(t))}})},function(t,e,i){var n=i(31),s=i(116);i(74)("keys",function(){return function(t){return s(n(t))}})},function(t,e,i){i(74)("getOwnPropertyNames",function(){return i(364).f})},function(t,e,i){var n=i(11),s=i(100).onFreeze;i(74)("freeze",function(t){return function(e){return t&&n(e)?t(s(e)):e}})},function(t,e,i){var n=i(11),s=i(100).onFreeze;i(74)("seal",function(t){return function(e){return t&&n(e)?t(s(e)):e}})},function(t,e,i){var n=i(11),s=i(100).onFreeze;i(74)("preventExtensions",function(t){return function(e){return t&&n(e)?t(s(e)):e}})},function(t,e,i){var n=i(11);i(74)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(11);i(74)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(11);i(74)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(1);n(n.S+n.F,"Object",{assign:i(365)})},function(t,e,i){var n=i(1);n(n.S,"Object",{is:i(689)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var n=i(1);n(n.S,"Object",{setPrototypeOf:i(248).set})},function(t,e,i){"use strict";var n=i(161),s={};s[i(17)("toStringTag")]="z",s+""!="[object z]"&&i(49)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(1);n(n.P,"Function",{bind:i(366)})},function(t,e,i){var n=i(21).f,s=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in s||i(20)&&n(s,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(11),s=i(59),r=i(17)("hasInstance"),o=Function.prototype;r in o||i(21).f(o,r,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=s(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(1),s=i(368);n(n.G+n.F*(parseInt!=s),{parseInt:s})},function(t,e,i){var n=i(1),s=i(369);n(n.G+n.F*(parseFloat!=s),{parseFloat:s})},function(t,e,i){"use strict";var n,s,r,o=i(8),a=i(56),h=i(66),u=i(250),l=i(71),c=i(10),f=i(119).f,d=i(58).f,p=i(21).f,g=i(138).trim,y="Number",m=o[y],v=m,x=m.prototype,b=h(i(118)(x))==y,_="trim"in String.prototype,w=function(t){var e,i,n,s,r,o,a,h,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=_?u.trim():g(u,3),43===(e=u.charCodeAt(0))||45===e){if(88===(i=u.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(r=u.slice(2),o=0,a=r.length;o<a;o++)if((h=r.charCodeAt(o))<48||h>s)return NaN;return parseInt(r,n)}return+u};if(!m(" 0o1")||!m("0b1")||m("+0x1")){for(m=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof m&&(b?c(function(){x.valueOf.call(i)}):h(i)!=y)?u(new v(w(e)),i,m):w(e)},n=i(20)?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),s=0;n.length>s;s++)a(v,r=n[s])&&!a(m,r)&&p(m,r,d(v,r));m.prototype=x,x.constructor=m,i(49)(o,y,m)}},function(t,e,i){"use strict";var n=i(1),s=i(73),r=i(370),o=i(251),a=1..toFixed,h=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",c="0",f=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*u[i],u[i]=n%1e7,n=h(n/1e7)},d=function(t){for(var e=6,i=0;--e>=0;)i+=u[e],u[e]=h(i/t),i=i%t*1e7},p=function(){for(var t,e=6,i="";--e>=0;)""===i&&0!==e&&0===u[e]||(t=u[e]+"",i=""===i?t:i+o.call(c,7-t.length)+t);return i},g=function(t,e,i){return 0===e?i:e%2==1?g(t,e-1,i*t):g(t*t,e/2,i)},y=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(10)(function(){a.call({})})),"Number",{toFixed:function(t){var e,i,n,a,h=r(this,l),u=s(t),m="",v=c;if(u<0||u>20)throw RangeError(l);if(h!=h)return"NaN";if(h<=-1e21||h>=1e21)return h+"";if(h<0&&(m="-",h=-h),h>1e-21)if(e=y(h*g(2,69,1))-69,i=e<0?h*g(2,-e,1):h/g(2,e,1),i*=4503599627370496,(e=52-e)>0){for(f(0,i),n=u;n>=7;)f(1e7,0),n-=7;for(f(g(10,n,1),0),n=e-1;n>=23;)d(1<<23),n-=23;d(1<<n),f(1,1),d(2),v=p()}else f(0,i),f(1<<-e,0),v=p()+o.call(c,u);return u>0?(a=v.length,v=m+(a<=u?"0."+o.call(c,u-a)+v:v.slice(0,a-u)+"."+v.slice(a-u))):v=m+v,v}})},function(t,e,i){"use strict";var n=i(1),s=i(10),r=i(370),o=1..toPrecision;n(n.P+n.F*(s(function(){return"1"!==o.call(1,undefined)})||!s(function(){o.call({})})),"Number",{toPrecision:function(t){var e=r(this,"Number#toPrecision: incorrect invocation!");return t===undefined?o.call(e):o.call(e,t)}})},function(t,e,i){var n=i(1);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(1),s=i(8).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&s(t)}})},function(t,e,i){var n=i(1);n(n.S,"Number",{isInteger:i(371)})},function(t,e,i){var n=i(1);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(1),s=i(371),r=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return s(t)&&r(t)<=9007199254740991}})},function(t,e,i){var n=i(1);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(1);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(1),s=i(369);n(n.S+n.F*(Number.parseFloat!=s),"Number",{parseFloat:s})},function(t,e,i){var n=i(1),s=i(368);n(n.S+n.F*(Number.parseInt!=s),"Number",{parseInt:s})},function(t,e,i){var n=i(1),s=i(372),r=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(Infinity)==Infinity),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:s(t-1+r(t-1)*r(t+1))}})},function(t,e,i){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var s=i(1),r=Math.asinh;s(s.S+s.F*!(r&&1/r(0)>0),"Math",{asinh:n})},function(t,e,i){var n=i(1),s=Math.atanh;n(n.S+n.F*!(s&&1/s(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(1),s=i(252);n(n.S,"Math",{cbrt:function(t){return s(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(1),s=Math.exp;n(n.S,"Math",{cosh:function(t){return(s(t=+t)+s(-t))/2}})},function(t,e,i){var n=i(1),s=i(253);n(n.S+n.F*(s!=Math.expm1),"Math",{expm1:s})},function(t,e,i){var n=i(1);n(n.S,"Math",{fround:i(373)})},function(t,e,i){var n=i(1),s=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,r=0,o=0,a=arguments.length,h=0;o<a;)i=s(arguments[o++]),h<i?(n=h/i,r=r*n*n+1,h=i):i>0?(n=i/h,r+=n*n):r+=i;return h===Infinity?Infinity:h*Math.sqrt(r)}})},function(t,e,i){var n=i(1),s=Math.imul;n(n.S+n.F*i(10)(function(){return-5!=s(4294967295,5)||2!=s.length}),"Math",{imul:function(t,e){var i=65535,n=+t,s=+e,r=i&n,o=i&s;return 0|r*o+((i&n>>>16)*o+r*(i&s>>>16)<<16>>>0)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(1);n(n.S,"Math",{log1p:i(372)})},function(t,e,i){var n=i(1);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(1);n(n.S,"Math",{sign:i(252)})},function(t,e,i){var n=i(1),s=i(253),r=Math.exp;n(n.S+n.F*i(10)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(s(t)-s(-t))/2:(r(t-1)-r(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(1),s=i(253),r=Math.exp;n(n.S,"Math",{tanh:function(t){var e=s(t=+t),i=s(-t);return e==Infinity?1:i==Infinity?-1:(e-i)/(r(t)+r(-t))}})},function(t,e,i){var n=i(1);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(1),s=i(117),r=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],s(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?r(e):r(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(1),s=i(57),r=i(22);n(n.S,"String",{raw:function(t){for(var e=s(t.raw),i=r(e.length),n=arguments.length,o=[],a=0;i>a;)o.push(e[a++]+""),a<n&&o.push(arguments[a]+"");return o.join("")}})},function(t,e,i){"use strict";i(138)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(254)(!0);i(255)(String,"String",function(t){this._t=t+"",this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:undefined,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(1),s=i(254)(!1);n(n.P,"String",{codePointAt:function(t){return s(this,t)}})},function(t,e,i){"use strict";var n=i(1),s=i(22),r=i(257),o="endsWith",a=""[o];n(n.P+n.F*i(258)(o),"String",{endsWith:function(t){var e=r(this,t,o),i=arguments.length>1?arguments[1]:undefined,n=s(e.length),h=i===undefined?n:Math.min(s(i),n),u=t+"";return a?a.call(e,u,h):e.slice(h-u.length,h)===u}})},function(t,e,i){"use strict";var n=i(1),s=i(257),r="includes";n(n.P+n.F*i(258)(r),"String",{includes:function(t){return!!~s(this,t,r).indexOf(t,arguments.length>1?arguments[1]:undefined)}})},function(t,e,i){var n=i(1);n(n.P,"String",{repeat:i(251)})},function(t,e,i){"use strict";var n=i(1),s=i(22),r=i(257),o="startsWith",a=""[o];n(n.P+n.F*i(258)(o),"String",{startsWith:function(t){var e=r(this,t,o),i=s(Math.min(arguments.length>1?arguments[1]:undefined,e.length)),n=t+"";return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(50)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";i(50)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(50)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(50)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(50)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(50)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(50)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(50)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(50)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(50)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(50)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(50)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(50)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(1);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(1),s=i(31),r=i(71);n(n.P+n.F*i(10)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=s(this),i=r(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(1),s=i(751);n(n.P+n.F*(Date.prototype.toISOString!==s),"Date",{toISOString:s})},function(t,e,i){"use strict";var n=i(10),s=Date.prototype.getTime,r=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){var t,e,i,n;if(!isFinite(s.call(this)))throw RangeError("Invalid time value");return t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),(n=e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:r},function(t,e,i){var n=Date.prototype,s="Invalid Date",r="toString",o=n[r],a=n.getTime;new Date(NaN)+""!=s&&i(49)(n,r,function(){var t=a.call(this);return t===t?o.call(this):s})},function(t,e,i){var n=i(17)("toPrimitive"),s=Date.prototype;n in s||i(48)(s,n,i(754))},function(t,e,i){"use strict";var n=i(5),s=i(71),r="number";t.exports=function(t){if("string"!==t&&t!==r&&"default"!==t)throw TypeError("Incorrect hint");return s(n(this),t!=r)}},function(t,e,i){var n=i(1);n(n.S,"Array",{isArray:i(185)})},function(t,e,i){"use strict";var n=i(65),s=i(1),r=i(31),o=i(374),a=i(259),h=i(22),u=i(260),l=i(261);s(s.S+s.F*!i(187)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,s,c,f=r(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:undefined,y=g!==undefined,m=0,v=l(f);if(y&&(g=n(g,p>2?arguments[2]:undefined,2)),v==undefined||d==Array&&a(v))for(e=h(f.length),i=new d(e);e>m;m++)u(i,m,y?g(f[m],m):f[m]);else for(c=v.call(f),i=new d;!(s=c.next()).done;m++)u(i,m,y?o(c,g,[s.value,m],!0):s.value);return i.length=m,i}})},function(t,e,i){"use strict";var n=i(1),s=i(260);n(n.S+n.F*i(10)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)s(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(1),s=i(57),r=[].join;n(n.P+n.F*(i(159)!=Object||!i(67)(r)),"Array",{join:function(t){return r.call(s(this),t===undefined?",":t)}})},function(t,e,i){"use strict";var n=i(1),s=i(247),r=i(66),o=i(117),a=i(22),h=[].slice;n(n.P+n.F*i(10)(function(){s&&h.call(s)}),"Array",{slice:function(t,e){var i,n,s,u,l,c=a(this.length),f=r(this);if(e=e===undefined?c:e,"Array"==f)return h.call(this,t,e);for(i=o(t,c),n=o(e,c),s=a(n-i),u=Array(s),l=0;l<s;l++)u[l]="String"==f?this.charAt(i+l):this[i+l];return u}})},function(t,e,i){"use strict";var n=i(1),s=i(41),r=i(31),o=i(10),a=[].sort,h=[1,2,3];n(n.P+n.F*(o(function(){h.sort(undefined)})||!o(function(){h.sort(null)})||!i(67)(a)),"Array",{sort:function(t){return t===undefined?a.call(r(this)):a.call(r(this),s(t))}})},function(t,e,i){"use strict";var n=i(1),s=i(75)(0),r=i(67)([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(t){return s(this,t,arguments[1])}})},function(t,e,i){var n=i(11),s=i(185),r=i(17)("species");t.exports=function(t){var e;return s(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)||(e=undefined),n(e)&&null===(e=e[r])&&(e=undefined)),e===undefined?Array:e}},function(t,e,i){"use strict";var n=i(1),s=i(75)(1);n(n.P+n.F*!i(67)([].map,!0),"Array",{map:function(t){return s(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),s=i(75)(2);n(n.P+n.F*!i(67)([].filter,!0),"Array",{filter:function(t){return s(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),s=i(75)(3);n(n.P+n.F*!i(67)([].some,!0),"Array",{some:function(t){return s(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),s=i(75)(4);n(n.P+n.F*!i(67)([].every,!0),"Array",{every:function(t){return s(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),s=i(375);n(n.P+n.F*!i(67)([].reduce,!0),"Array",{reduce:function(t){return s(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(1),s=i(375);n(n.P+n.F*!i(67)([].reduceRight,!0),"Array",{reduceRight:function(t){return s(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(1),s=i(183)(!1),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!i(67)(r)),"Array",{indexOf:function(t){return o?r.apply(this,arguments)||0:s(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),s=i(57),r=i(73),o=i(22),a=[].lastIndexOf,h=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(h||!i(67)(a)),"Array",{lastIndexOf:function(t){var e,i,n;if(h)return a.apply(this,arguments)||0;for(e=s(this),i=o(e.length),n=i-1,arguments.length>1&&(n=Math.min(n,r(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(1);n(n.P,"Array",{copyWithin:i(376)}),i(102)("copyWithin")},function(t,e,i){var n=i(1);n(n.P,"Array",{fill:i(263)}),i(102)("fill")},function(t,e,i){"use strict";var n=i(1),s=i(75)(5),r="find",o=!0;r in[]&&Array(1)[r](function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return s(this,t,arguments.length>1?arguments[1]:undefined)}}),i(102)(r)},function(t,e,i){"use strict";var n=i(1),s=i(75)(6),r="findIndex",o=!0;r in[]&&Array(1)[r](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:undefined)}}),i(102)(r)},function(t,e,i){i(120)("Array")},function(t,e,i){var n,s,r,o=i(8),a=i(250),h=i(21).f,u=i(119).f,l=i(186),c=i(188),f=o.RegExp,d=f,p=f.prototype,g=/a/g,y=/a/g,m=new f(g)!==g;if(i(20)&&(!m||i(10)(function(){return y[i(17)("match")]=!1,f(g)!=g||f(y)==y||"/a/i"!=f(g,"i")}))){f=function(t,e){var i=this instanceof f,n=l(t),s=e===undefined;return!i&&n&&t.constructor===f&&s?t:a(m?new d(n&&!s?t.source:t,e):d((n=t instanceof f)?t.source:t,n&&s?c.call(t):e),i?this:p,f)},n=function(t){t in f||h(f,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})};for(s=u(d),r=0;s.length>r;)n(s[r++]);p.constructor=f,f.prototype=p,i(49)(o,"RegExp",f)}i(120)("RegExp")},function(t,e,i){"use strict";var n,s,r,o,a,h;i(378),n=i(5),s=i(188),r=i(20),o="toString",a=/./[o],h=function(t){i(49)(RegExp.prototype,o,t,!0)},i(10)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?h(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?s.call(t):undefined)}):a.name!=o&&h(function(){return a.call(this)})},function(t,e,i){i(189)("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),s=i==undefined?undefined:i[e];return s!==undefined?s.call(i,n):RegExp(i)[e](n+"")},i]})},function(t,e,i){i(189)("replace",2,function(t,e,i){return[function(n,s){"use strict";var r=t(this),o=n==undefined?undefined:n[e];return o!==undefined?o.call(n,r,s):i.call(r+"",n,s)},i]})},function(t,e,i){i(189)("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),s=i==undefined?undefined:i[e];return s!==undefined?s.call(i,n):RegExp(i)[e](n+"")},i]})},function(t,e,i){i(189)("split",2,function(t,e,n){"use strict";var s,r=i(186),o=n,a=[].push,h="split",u="length",l="lastIndex";return"c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[u]||2!="ab"[h](/(?:ab)*/)[u]||4!="."[h](/(.?)(.?)/)[u]||"."[h](/()()/)[u]>1||""[h](/.?/)[u]?(s=/()??/.exec("")[1]===undefined,n=function(t,e){var i,n,h,c,f,d,p,g,y,m,v=this+"";if(t===undefined&&0===e)return[];if(!r(t))return o.call(v,t,e);for(i=[],n=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,c=e===undefined?4294967295:e>>>0,f=RegExp(t.source,n+"g"),s||(d=RegExp("^"+f.source+"$(?!\\s)",n));(p=f.exec(v))&&!((g=p.index+p[0][u])>h&&(i.push(v.slice(h,p.index)),!s&&p[u]>1&&p[0].replace(d,function(){for(m=1;m<arguments[u]-2;m++)arguments[m]===undefined&&(p[m]=undefined)}),p[u]>1&&p.index<v[u]&&a.apply(i,p.slice(1)),y=p[0][u],h=g,i[u]>=c));)f[l]===p.index&&f[l]++;return h===v[u]?!y&&f.test("")||i.push(""):i.push(v.slice(h)),i[u]>c?i.slice(0,c):i}):"0"[h](undefined,0)[u]&&(n=function(t,e){return t===undefined&&0===e?[]:o.call(this,t,e)}),[function(i,s){var r=t(this),o=i==undefined?undefined:i[e];return o!==undefined?o.call(i,r,s):n.call(r+"",i,s)},n]})},function(t,e,i){"use strict";var n,s,r,o,a=i(101),h=i(8),u=i(65),l=i(161),c=i(1),f=i(11),d=i(41),p=i(121),g=i(122),y=i(190),m=i(265).set,v=i(266)(),x=i(267),b=i(379),_=i(191),w=i(380),T="Promise",S=h.TypeError,A=h.process,E=A&&A.versions,P=E&&E.v8||"",O=h[T],M="process"==l(A),C=function(){},I=s=x.f,R=!!function(){var t,e;try{return t=O.resolve(1),e=(t.constructor={})[i(17)("species")]=function(t){t(C,C)},(M||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==P.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(n){}}(),L=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},k=function(t,e){if(!t._n){t._n=!0;var i=t._c;v(function(){for(var n=t._v,s=1==t._s,r=0,o=function(e){var i,r,o,a=s?e.ok:e.fail,h=e.resolve,u=e.reject,l=e.domain;try{a?(s||(2==t._h&&N(t),t._h=1),!0===a?i=n:(l&&l.enter(),i=a(n),l&&(l.exit(),o=!0)),i===e.promise?u(S("Promise-chain cycle")):(r=L(i))?r.call(i,h,u):h(i)):u(n)}catch(c){l&&!o&&l.exit(),u(c)}};i.length>r;)o(i[r++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){m.call(h,function(){var e,i,n,s=t._v,r=F(t);if(r&&(e=b(function(){M?A.emit("unhandledRejection",s,t):(i=h.onunhandledrejection)?i({promise:t,reason:s}):(n=h.console)&&n.error&&n.error("Unhandled promise rejection",s)}),t._h=M||F(t)?2:1),t._a=undefined,r&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){m.call(h,function(){var e;M?A.emit("rejectionHandled",t):(e=h.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),k(e,!0))},U=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw S("Promise can't be resolved itself");(e=L(t))?v(function(){var n={_w:i,_d:!1};try{e.call(t,u(U,n,1),u(B,n,1))}catch(s){B.call(n,s)}}):(i._v=t,i._s=1,k(i,!1))}catch(n){B.call({_w:i,_d:!1},n)}}};R||(O=function(t){p(this,O,T,"_h"),d(t),n.call(this);try{t(u(U,this,1),u(B,this,1))}catch(e){B.call(this,e)}},n=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1},n.prototype=i(123)(O.prototype,{then:function(t,e){var i=I(y(this,O));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=M?A.domain:undefined,this._c.push(i),this._a&&this._a.push(i),this._s&&k(this,!1),i.promise},"catch":function(t){return this.then(undefined,t)}}),r=function(){var t=new n;this.promise=t,this.resolve=u(U,t,1),this.reject=u(B,t,1)},x.f=I=function(t){return t===O||t===o?new r(t):s(t)}),c(c.G+c.W+c.F*!R,{Promise:O}),i(137)(O,T),i(120)(T),o=i(64)[T],c(c.S+c.F*!R,T,{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!R),T,{resolve:function(t){return w(a&&this===o?O:this,t)}}),c(c.S+c.F*!(R&&i(187)(function(t){O.all(t)["catch"](C)})),T,{all:function(t){var e=this,i=I(e),n=i.resolve,s=i.reject,r=b(function(){var i=[],r=0,o=1;g(t,!1,function(t){var a=r++,h=!1;i.push(undefined),o++,e.resolve(t).then(function(t){h||(h=!0,i[a]=t,--o||n(i))},s)}),--o||n(i)});return r.e&&s(r.v),i.promise},race:function(t){var e=this,i=I(e),n=i.reject,s=b(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return s.e&&n(s.v),i.promise}})},function(t,e,i){"use strict";var n=i(385),s=i(140),r="WeakSet";i(192)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return n.def(s(this,r),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(1),s=i(193),r=i(268),o=i(5),a=i(117),h=i(22),u=i(11),l=i(8).ArrayBuffer,c=i(190),f=r.ArrayBuffer,d=r.DataView,p=s.ABV&&l.isView,g=f.prototype.slice,y=s.VIEW,m="ArrayBuffer";n(n.G+n.W+n.F*(l!==f),{ArrayBuffer:f}),n(n.S+n.F*!s.CONSTR,m,{isView:function(t){return p&&p(t)||u(t)&&y in t}}),n(n.P+n.U+n.F*i(10)(function(){return!new f(2).slice(1,undefined).byteLength}),m,{slice:function(t,e){var i,n,s,r,u,l,p;if(g!==undefined&&e===undefined)return g.call(o(this),t);for(i=o(this).byteLength,n=a(t,i),s=a(e===undefined?i:e,i),r=new(c(this,f))(h(s-n)),u=new d(this),l=new d(r),p=0;n<s;)l.setUint8(p++,u.getUint8(n++));return r}}),i(120)(m)},function(t,e,i){var n=i(1);n(n.G+n.W+n.F*!i(193).ABV,{DataView:i(268).DataView})},function(t,e,i){i(80)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){i(80)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(80)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){var n=i(1),s=i(41),r=i(5),o=(i(8).Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!i(10)(function(){o(function(){})}),"Reflect",{apply:function(t,e,i){var n=s(t),h=r(i);return o?o(n,e,h):a.call(n,e,h)}})},function(t,e,i){var n=i(1),s=i(118),r=i(41),o=i(5),a=i(11),h=i(10),u=i(366),l=(i(8).Reflect||{}).construct,c=h(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!h(function(){l(function(){})});n(n.S+n.F*(c||f),"Reflect",{construct:function(t,e){var i,n,h,d,p;if(r(t),o(e),i=arguments.length<3?t:r(arguments[2]),f&&!c)return l(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}return n=[null],n.push.apply(n,e),new(u.apply(t,n))}return h=i.prototype,d=s(a(h)?h:Object.prototype),p=Function.apply.call(t,d,e),a(p)?p:d}})},function(t,e,i){var n=i(21),s=i(1),r=i(5),o=i(71);s(s.S+s.F*i(10)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){r(t),e=o(e,!0),r(i);try{return n.f(t,e,i),!0}catch(s){return!1}}})},function(t,e,i){var n=i(1),s=i(58).f,r=i(5);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=s(r(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(1),s=i(5),r=function(t){var e,i;this._t=s(t),this._i=0,e=this._k=[];for(i in t)e.push(i)};i(256)(r,"Object",function(){var t,e=this,i=e._k;do{if(e._i>=i.length)return{value:undefined,done:!0}}while(!((t=i[e._i++])in e._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new r(t)}})},function(t,e,i){function n(t,e){var i,a,l=arguments.length<3?t:arguments[2];return u(t)===l?t[e]:(i=s.f(t,e))?o(i,"value")?i.value:i.get!==undefined?i.get.call(l):undefined:h(a=r(t))?n(a,e,l):void 0}var s=i(58),r=i(59),o=i(56),a=i(1),h=i(11),u=i(5);a(a.S,"Reflect",{get:n})},function(t,e,i){var n=i(58),s=i(1),r=i(5);s(s.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(r(t),e)}})},function(t,e,i){var n=i(1),s=i(59),r=i(5);n(n.S,"Reflect",{getPrototypeOf:function(t){return s(r(t))}})},function(t,e,i){var n=i(1);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(1),s=i(5),r=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return s(t),!r||r(t)}})},function(t,e,i){var n=i(1);n(n.S,"Reflect",{ownKeys:i(387)})},function(t,e,i){var n=i(1),s=i(5),r=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){s(t);try{return r&&r(t),!0}catch(e){return!1}}})},function(t,e,i){function n(t,e,i){var h,f,d=arguments.length<4?t:arguments[3],p=r.f(l(t),e);if(!p){if(c(f=o(t)))return n(f,e,i,d);p=u(0)}if(a(p,"value")){if(!1===p.writable||!c(d))return!1;if(h=r.f(d,e)){if(h.get||h.set||!1===h.writable)return!1;h.value=i,s.f(d,e,h)}else s.f(d,e,u(0,i));return!0}return p.set!==undefined&&(p.set.call(d,i),!0)}var s=i(21),r=i(58),o=i(59),a=i(56),h=i(1),u=i(114),l=i(5),c=i(11);h(h.S,"Reflect",{set:n})},function(t,e,i){var n=i(1),s=i(248);s&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){s.check(t,e);try{return s.set(t,e),!0}catch(i){return!1}}})},function(t,e,i){"use strict";var n=i(1),s=i(183)(!0);n(n.P,"Array",{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:undefined)}}),i(102)("includes")},function(t,e,i){"use strict";var n=i(1),s=i(388),r=i(31),o=i(22),a=i(41),h=i(262);n(n.P,"Array",{flatMap:function(t){var e,i,n=r(this);return a(t),e=o(n.length),i=h(n,0),s(i,n,n,e,0,1,t,arguments[1]),i}}),i(102)("flatMap")},function(t,e,i){"use strict";var n=i(1),s=i(388),r=i(31),o=i(22),a=i(73),h=i(262);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=r(this),i=o(e.length),n=h(e,0);return s(n,e,e,i,0,t===undefined?1:a(t)),n}}),i(102)("flatten")},function(t,e,i){"use strict";var n=i(1),s=i(254)(!0);n(n.P,"String",{at:function(t){return s(this,t)}})},function(t,e,i){"use strict";var n=i(1),s=i(389),r=i(191);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padStart:function(t){return s(this,t,arguments.length>1?arguments[1]:undefined,!0)}})},function(t,e,i){"use strict";var n=i(1),s=i(389),r=i(191);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padEnd:function(t){return s(this,t,arguments.length>1?arguments[1]:undefined,!1)}})},function(t,e,i){"use strict";i(138)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(138)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var n=i(1),s=i(72),r=i(22),o=i(186),a=i(188),h=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};i(256)(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){var e,i,n;if(s(this),!o(t))throw TypeError(t+" is not a regexp!");return e=this+"",i="flags"in h?t.flags+"":a.call(t),n=RegExp(t.source,~i.indexOf("g")?i:"g"+i),n.lastIndex=r(t.lastIndex),new u(n,e)}})},function(t,e,i){i(244)("asyncIterator")},function(t,e,i){i(244)("observable")},function(t,e,i){var n=i(1),s=i(387),r=i(57),o=i(58),a=i(260);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=r(t),h=o.f,u=s(n),l={},c=0;u.length>c;)(i=h(n,e=u[c++]))!==undefined&&a(l,e,i);return l}})},function(t,e,i){var n=i(1),s=i(390)(!1);n(n.S,"Object",{values:function(t){return s(t)}})},function(t,e,i){var n=i(1),s=i(390)(!0);n(n.S,"Object",{entries:function(t){return s(t)}})},function(t,e,i){"use strict";var n=i(1),s=i(31),r=i(41),o=i(21);i(20)&&n(n.P+i(194),"Object",{__defineGetter__:function(t,e){o.f(s(this),t,{get:r(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(1),s=i(31),r=i(41),o=i(21);i(20)&&n(n.P+i(194),"Object",{__defineSetter__:function(t,e){o.f(s(this),t,{set:r(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(1),s=i(31),r=i(71),o=i(59),a=i(58).f;i(20)&&n(n.P+i(194),"Object",{__lookupGetter__:function(t){var e,i=s(this),n=r(t,!0);do{if(e=a(i,n))return e.get}while(i=o(i))}})},function(t,e,i){"use strict";var n=i(1),s=i(31),r=i(71),o=i(59),a=i(58).f;i(20)&&n(n.P+i(194),"Object",{__lookupSetter__:function(t){var e,i=s(this),n=r(t,!0);do{if(e=a(i,n))return e.set}while(i=o(i))}})},function(t,e,i){var n=i(1);n(n.P+n.R,"Map",{toJSON:i(391)("Map")})},function(t,e,i){var n=i(1);n(n.P+n.R,"Set",{toJSON:i(391)("Set")})},function(t,e,i){i(195)("Map")},function(t,e,i){i(195)("Set")},function(t,e,i){i(195)("WeakMap")},function(t,e,i){i(195)("WeakSet")},function(t,e,i){i(196)("Map")},function(t,e,i){i(196)("Set")},function(t,e,i){i(196)("WeakMap")},function(t,e,i){i(196)("WeakSet")},function(t,e,i){var n=i(1);n(n.G,{global:i(8)})},function(t,e,i){var n=i(1);n(n.S,"System",{global:i(8)})},function(t,e,i){var n=i(1),s=i(66);n(n.S,"Error",{isError:function(t){return"Error"===s(t)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var n=i(1);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(1),s=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*s}})},function(t,e,i){var n=i(1),s=i(393),r=i(373);n(n.S,"Math",{fscale:function(t,e,i,n,o){return r(s(t,e,i,n,o))}})},function(t,e,i){var n=i(1);n(n.S,"Math",{iaddh:function(t,e,i,n){var s=t>>>0,r=e>>>0,o=i>>>0;return r+(n>>>0)+((s&o|(s|o)&~(s+o>>>0))>>>31)|0}})},function(t,e,i){var n=i(1);n(n.S,"Math",{isubh:function(t,e,i,n){var s=t>>>0,r=e>>>0,o=i>>>0;return r-(n>>>0)-((~s&o|~(s^o)&s-o>>>0)>>>31)|0}})},function(t,e,i){var n=i(1);n(n.S,"Math",{imulh:function(t,e){var i=65535,n=+t,s=+e,r=n&i,o=s&i,a=n>>16,h=s>>16,u=(a*o>>>0)+(r*o>>>16);return a*h+(u>>16)+((r*h>>>0)+(u&i)>>16)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(1),s=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*s}})},function(t,e,i){var n=i(1);n(n.S,"Math",{scale:i(393)})},function(t,e,i){var n=i(1);n(n.S,"Math",{umulh:function(t,e){var i=65535,n=+t,s=+e,r=n&i,o=s&i,a=n>>>16,h=s>>>16,u=(a*o>>>0)+(r*o>>>16);return a*h+(u>>>16)+((r*h>>>0)+(u&i)>>>16)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==Infinity:t>0}})},function(t,e,i){"use strict";var n=i(1),s=i(64),r=i(8),o=i(190),a=i(380);n(n.P+n.R,"Promise",{"finally":function(t){var e=o(this,s.Promise||r.Promise),i="function"==typeof t;return this.then(i?function(i){return a(e,t()).then(function(){return i})}:t,i?function(i){return a(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(1),s=i(267),r=i(379);n(n.S,"Promise",{"try":function(t){var e=s.f(this),i=r(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var n=i(81),s=i(5),r=n.key,o=n.set;n.exp({defineMetadata:function(t,e,i,n){o(t,e,s(i),r(n))}})},function(t,e,i){var n=i(81),s=i(5),r=n.key,o=n.map,a=n.store;n.exp({deleteMetadata:function(t,e){var i,n=arguments.length<3?undefined:r(arguments[2]),h=o(s(e),n,!1);return!(h===undefined||!h["delete"](t))&&(!!h.size||(i=a.get(e),i["delete"](n),!!i.size||a["delete"](e)))}})},function(t,e,i){var n=i(81),s=i(5),r=i(59),o=n.has,a=n.get,h=n.key,u=function(t,e,i){var n;return o(t,e,i)?a(t,e,i):(n=r(e),null!==n?u(t,n,i):undefined)};n.exp({getMetadata:function(t,e){return u(t,s(e),arguments.length<3?undefined:h(arguments[2]))}})},function(t,e,i){var n=i(383),s=i(392),r=i(81),o=i(5),a=i(59),h=r.keys,u=r.key,l=function(t,e){var i,r=h(t,e),o=a(t);return null===o?r:(i=l(o,e),i.length?r.length?s(new n(r.concat(i))):i:r)};r.exp({getMetadataKeys:function(t){return l(o(t),arguments.length<2?undefined:u(arguments[1]))}})},function(t,e,i){var n=i(81),s=i(5),r=n.get,o=n.key;n.exp({getOwnMetadata:function(t,e){return r(t,s(e),arguments.length<3?undefined:o(arguments[2]))}})},function(t,e,i){var n=i(81),s=i(5),r=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(t){return r(s(t),arguments.length<2?undefined:o(arguments[1]))}})},function(t,e,i){var n=i(81),s=i(5),r=i(59),o=n.has,a=n.key,h=function(t,e,i){var n;return!!o(t,e,i)||null!==(n=r(e))&&h(t,n,i)};n.exp({hasMetadata:function(t,e){return h(t,s(e),arguments.length<3?undefined:a(arguments[2]))}})},function(t,e,i){var n=i(81),s=i(5),r=n.has,o=n.key;n.exp({hasOwnMetadata:function(t,e){return r(t,s(e),arguments.length<3?undefined:o(arguments[2]))}})},function(t,e,i){var n=i(81),s=i(5),r=i(41),o=n.key,a=n.set;n.exp({metadata:function(t,e){return function(i,n){a(t,e,(n!==undefined?s:r)(i),o(n))}}})},function(t,e,i){var n=i(1),s=i(266)(),r=i(8).process,o="process"==i(66)(r);n(n.G,{asap:function(t){var e=o&&r.domain;s(e?e.bind(t):t)}})},function(t,e,i){"use strict";var n,s,r=i(1),o=i(8),a=i(64),h=i(266)(),u=i(17)("observable"),l=i(41),c=i(5),f=i(121),d=i(123),p=i(48),g=i(122),y=g.RETURN,m=function(t){return null==t?undefined:l(t)},v=function(t){var e=t._c;e&&(t._c=undefined,e())},x=function(t){return t._o===undefined},b=function(t){x(t)||(t._o=undefined,v(t))},_=function(t,e){var i,s;c(t),this._c=undefined,this._o=t,t=new n(this);try{i=e(t),s=i,null!=i&&("function"==typeof i.unsubscribe?i=function(){s.unsubscribe()}:l(i),this._c=i)}catch(r){return void t.error(r)}x(this)&&v(this)};_.prototype=d({},{unsubscribe:function(){b(this)}}),n=function(t){this._s=t},n.prototype=d({},{next:function(t){var e,i,n=this._s;if(!x(n)){e=n._o;try{if(i=m(e.next))return i.call(e,t)}catch(s){try{b(n)}finally{throw s}}}},error:function(t){var e,i,n=this._s;if(x(n))throw t;e=n._o,n._o=undefined;try{if(!(i=m(e.error)))throw t;t=i.call(e,t)}catch(s){try{v(n)}finally{throw s}}return v(n),t},complete:function(t){var e,i,n=this._s;if(!x(n)){e=n._o,n._o=undefined;try{i=m(e.complete),t=i?i.call(e,t):undefined}catch(s){try{v(n)}finally{throw s}}return v(n),t}}}),s=function(t){f(this,s,"Observable","_f")._f=l(t)},d(s.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(a.Promise||o.Promise)(function(i,n){l(t);var s=e.subscribe({next:function(e){try{return t(e)}catch(i){n(i),s.unsubscribe()}},error:n,complete:i})})}}),d(s,{from:function(t){var e,i="function"==typeof this?this:s,n=m(c(t)[u]);return n?(e=c(n.call(t)),e.constructor===i?e:new i(function(t){return e.subscribe(t)})):new i(function(e){var i=!1;return h(function(){if(!i){try{if(g(t,!1,function(t){if(e.next(t),i)return y})===y)return}catch(n){if(i)throw n;return void e.error(n)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:s)(function(t){var e=!1;return h(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),p(s.prototype,u,function(){return this}),r(r.G,{Observable:s}),i(120)("Observable")},function(t,e,i){var n=i(8),s=i(1),r=i(191),o=[].slice,a=/MSIE .\./.test(r),h=function(t){return function(e,i){var n=arguments.length>2,s=!!n&&o.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,s)}:e,i)}};s(s.G+s.B+s.F*a,{setTimeout:h(n.setTimeout),setInterval:h(n.setInterval)})},function(t,e,i){var n=i(1),s=i(265);n(n.G+n.B,{setImmediate:s.set,clearImmediate:s.clear})},function(t,e,i){var n,s,r,o,a,h,u,l=i(264),c=i(116),f=i(49),d=i(8),p=i(48),g=i(139),y=i(17),m=y("iterator"),v=y("toStringTag"),x=g.Array,b={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};for(n=c(b),s=0;s<n.length;s++)if(r=n[s],o=b[r],a=d[r],(h=a&&a.prototype)&&(h[m]||p(h,m,x),h[v]||p(h,v,r),g[r]=x,o))for(u in l)h[u]||f(h,u,l[u],!0)},function(t,e,i){(function(e){!function(e){"use strict";function i(t,e,i,n){var r=e&&e.prototype instanceof s?e:s,o=Object.create(r.prototype),a=new d(n||[]);return o._invoke=u(t,i,a),o}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function s(){}function r(){}function o(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function h(t){function i(e,s,r,o){var a,h,u=n(t[e],t,s);if("throw"!==u.type)return a=u.arg,h=a.value,h&&"object"==typeof h&&P.call(h,"__await")?Promise.resolve(h.__await).then(function(t){i("next",t,r,o)},function(t){i("throw",t,r,o)}):Promise.resolve(h).then(function(t){a.value=t,r(a)},o);o(u.arg)}function s(t,e){function n(){return new Promise(function(n,s){i(t,e,n,s)})}return r=r?r.then(n,n):n()}"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i));var r;this._invoke=s}function u(t,e,i){var s=m;return function(r,o){var a,h,u;if(s===x)throw Error("Generator is already running");if(s===b){if("throw"===r)throw o;return g()}for(i.method=r,i.arg=o;;){if((a=i.delegate)&&(h=l(a,i))){if(h===_)continue;return h}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===m)throw s=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);if(s=x,u=n(t,e,i),"normal"===u.type){if(s=i.done?b:v,u.arg===_)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(s=b,i.method="throw",i.arg=u.arg)}}}function l(t,e){var i,s,r=t.iterator[e.method];if(r===y){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=y,l(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}return i=n(r,t.iterator,e.arg),"throw"===i.type?(e.method="throw",e.arg=i.arg,e.delegate=null,_):(s=i.arg)?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,_):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function p(t){var e,i,n;if(t){if(e=t[M])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return i=-1,n=function s(){for(;++i<t.length;)if(P.call(t,i))return s.value=t[i],s.done=!1,s;return s.value=y,s.done=!0,s},n.next=n}return{next:g}}function g(){return{value:y,done:!0}}var y,m,v,x,b,_,w,T,S,A,E=Object.prototype,P=E.hasOwnProperty,O="function"==typeof Symbol?Symbol:{},M=O.iterator||"@@iterator",C=O.asyncIterator||"@@asyncIterator",I=O.toStringTag||"@@toStringTag",R="object"==typeof t,L=e.regeneratorRuntime;if(L)return void(R&&(t.exports=L));L=e.regeneratorRuntime=R?t.exports:{},L.wrap=i,m="suspendedStart",v="suspendedYield",x="executing",b="completed",_={},w={},w[M]=function(){return this},T=Object.getPrototypeOf,S=T&&T(T(p([]))),S&&S!==E&&P.call(S,M)&&(w=S),A=o.prototype=s.prototype=Object.create(w),r.prototype=A.constructor=o,o.constructor=r,o[I]=r.displayName="GeneratorFunction",L.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},L.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,I in t||(t[I]="GeneratorFunction")),t.prototype=Object.create(A),t},L.awrap=function(t){return{__await:t}},a(h.prototype),h.prototype[C]=function(){return this},L.AsyncIterator=h,L.async=function(t,e,n,s){var r=new h(i(t,e,n,s));return L.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},a(A),A[I]="Generator",A[M]=function(){return this},A.toString=function(){return"[object Generator]"},L.keys=function(t){var e,i=[];for(e in t)i.push(e);return i.reverse(),function n(){for(;i.length;){var e=i.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},L.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&P.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){var t,e;if(this.done=!0,t=this.tryEntries[0],e=t.completion,"throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return r.type="throw",r.arg=t,i.next=e,n&&(i.method="next",i.arg=y),!!n}var i,n,s,r,o,a;if(this.done)throw t;for(i=this,n=this.tryEntries.length-1;n>=0;--n){if(s=this.tryEntries[n],r=s.completion,"root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev)if(o=P.call(s,"catchLoc"),a=P.call(s,"finallyLoc"),o&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}},abrupt:function(t,e){var i,n,s,r;for(i=this.tryEntries.length-1;i>=0;--i)if(n=this.tryEntries[i],n.tryLoc<=this.prev&&P.call(n,"finallyLoc")&&this.prev<n.finallyLoc){s=n;break}return s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null),r=s?s.completion:{},r.type=t,r.arg=e,s?(this.method="next",this.next=s.finallyLoc,_):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){var e,i;for(e=this.tryEntries.length-1;e>=0;--e)if(i=this.tryEntries[e],i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),_},"catch":function(t){var e,i,n,s;for(e=this.tryEntries.length-1;e>=0;--e)if(i=this.tryEntries[e],i.tryLoc===t)return n=i.completion,"throw"===n.type&&(s=n.arg,f(i)),s;throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:p(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=y),_}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,i(158))},function(t,e,i){i(870),t.exports=i(64).RegExp.escape},function(t,e,i){var n=i(1),s=i(871)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return s(t)}})},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return(e+"").replace(t,i)}}},function(t,e,i){var n,s,r,o,a,h,u,l,c,f;Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(891),r=i(893),o=i(103),a=i(42),i(929),h=i(930),u=i(931),i(932),i(933),l=i(934),c=i(668),(f=function(){s["default"](u["default"]),r["default"](h["default"]).then(function(){return l["default"](),"Xbox One"===n["default"].Device.getPlatform()?a.routeTo("xboxlive"):a.routeTo("menu"),c.initSounds()})["catch"](function(t){o["default"].error(t)})})()},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(874),s=i(12),r=i(875),o={device:"Foxxum",useCanvas:!0,soundsAllowed:!1,enforcePushState:!0,disableCanvas:!1,historyLength:0,keys:n["default"],init:function(){return new Promise(function(t){o.player=new r["default"](o),t()})},exit:function(){s["default"].CONFIG.exitUrl?window.location=s["default"].CONFIG.exitUrl:window.close()},getDevice:function(){return o.device},getModel:function(){var t,e=window.navigator.userAgent.match(/\(;.*\)/);return e&&1<=e.length&&(t=e[0].substring(2,e[0].length-1).split(";"),2<t.length)?t[0]+" "+t[1]+" "+t[t.length-1]:"unknown foxxum model"},getUserAgent:function(){return window.navigator.userAgent},getPlatform:function(){return o.device}};e["default"]=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(45),s=window,r={};r[s.VK_UP||38]=n.Keys.UP,r[s.VK_DOWN||40]=n.Keys.DOWN,r[s.VK_LEFT||37]=n.Keys.LEFT,r[s.VK_RIGHT||39]=n.Keys.RIGHT,r[s.VK_ENTER||13]=n.Keys.ENTER,r[s.VK_BACK_SPACE||8]=n.Keys.RETURN,r[s.VK_BACK||461]=n.Keys.RETURN,r[s.VK_YELLOW||405]=n.Keys.YELLOW,r[s.VK_0||48]=n.Keys[0],r[s.VK_1||49]=n.Keys[1],r[s.VK_2||50]=n.Keys[2],r[s.VK_3||51]=n.Keys[3],r[s.VK_4||52]=n.Keys[4],r[s.VK_5||53]=n.Keys[5],r[s.VK_6||54]=n.Keys[6],r[s.VK_7||55]=n.Keys[7],r[s.VK_8||56]=n.Keys[8],r[s.VK_9||57]=n.Keys[9],e["default"]=r},function(t,e,i){"use strict";var n,s;e.__esModule=!0,n=i(876),s=function(t){return t&&t.__esModule?t:{"default":t}}(n),e["default"]=s["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o,a,h,u,l,c,f;e.__esModule=!0,e["default"]=undefined,o=Object.assign||function(t){var e,i,n;for(e=1;e<arguments.length;e++){i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=i(269),l=function(t){return t&&t.__esModule?t:{"default":t}}(u),c=i(877),h=a=function(t){function e(i){n(this,e);var r=s(this,t.call(this));if(!i)throw Error(c.ERRORS.NO_DEVICE);return r.device=i,r.initialSeek=null,r.onPlayPositionChanged=r.onPlayPositionChanged.bind(r),r.onPlayStateChange=r.onPlayStateChange.bind(r),r.updatePlayerProps=r.updatePlayerProps.bind(r),r}return r(e,t),e.prototype.buildPlayer=function(){this.config=o({},c.CONFIG),this.initVideo(),this.initPlayer()},e.prototype.initVideo=function(){if(this.config&&this.config.name){var t=document.getElementById(this.config.name);try{t.bindToCurrentChannel()}catch(e){}try{t.setFullScreen(!1)}catch(e){}}},e.prototype.initPlayer=function(){var t=document.body;this.config&&this.config.container&&(t=document.getElementById(this.config.container)),this.initAVObject(t,this.config.type)},e.prototype.initAVObject=function(t,e){return t&&(document.getElementById(this.config.id)&&this.destroyPlayer(),this.player=this.createPlayer(t,e)),this.player.onPlayStateChange=this.onPlayStateChange,this.player.onPlayPositionChanged=this.onPlayPositionChanged,this.timer=window.setInterval(this.updatePlayerProps,c.PROPS_UPDATE_INTERVAL),!0},e.prototype.createPlayer=function(t,e){var i,n,s,r,o,a;if(!t)throw Error(c.ERRORS.NO_CONTAINER);return i=this.property,n=i.width,s=i.height,r=i.top,o=i.left,a=document.getElementById(this.config.id)||document.createElement("object"),a.id=this.config.id,a.width=n,a.height=s,a.top=r,a.left=o,a.style.cssText="position: absolute; z-index: -1; top: "+r+"px; left: "+o+"px; width: "+n+"px; height: "+s+"px;",a.setAttribute("type",e||c.VIDEO_TYPES.MP4),a=t.appendChild(a)},e.prototype.destroyPlayer=function(){this.player.onPlayStateChange=null,this.player.onPlayPositionChanged=null,this.player.onPlaySpeedChanged=null,clearInterval(this.timer),this.player.stop();try{this.player.data=null}catch(t){}},e.prototype["native"]=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=e,n=l["default"].NATIVE_CMD,s=n.STOP,r=n.PAUSE,o=n.SET_PLAYBACK_SPEED,a=n.SEEK,h=n.PLAY,u=n.MUTE,f=n.UNMUTE,d=n.SET_VOLUME,p=n.GET_CURRENT_BITRATE,g=n.GET_VIDEO_RESOLUTION,y=n.SHOW,m=n.HIDE,v=n.SET_VIDEO_DIMENSIONS,x=n.START_PLAY,b=n.SET_AUDIO_TRACK;if(!t)throw Error(c.ERRORS.UNKNOWN_COMMAND);switch(t){case x:this.nativeStartPlay(i);break;case h:return this.nativePlay();case r:return this.nativePause();case s:return this.nativeStop();case a:return this.nativeSeek(i);case y:this.nativeShow(i);break;case m:this.nativeHide();break;case o:break;case u:case f:case d:return undefined;case v:this.setSize(i.width,i.height);break;case b:case p:case g:return undefined;default:throw Error(c.ERRORS.UNKNOWN_COMMAND)}},e.prototype.nativeStartPlay=function(t){var e=t.url,i=t.position;this.buildPlayer(),this.setSource(e),this.nativePlay(),i&&(this.initialSeek=i)},e.prototype.updatePlayerProps=function(){var t,e,i;this.player&&(t=this.getDuration(),this.property.duration!==t&&null!==t&&this.onDurationChange(t),e=this.getPosition(),this.property.currentTime!==e&&null!==e&&this.onTimeUpdate(e),i=this.getState(),this.playState!==i&&(this.playState=i))},e.prototype.onPlayStateChange=function(t,e){var i=l["default"].STATE,n=i.BUFFERING,s=i.PAUSED,r=i.PLAYING;switch(this.playState=t||this.getState(),this.playState){case c.VIDEO_STATES.STOPPED:this.onEnd();break;case c.VIDEO_STATES.PLAYING:this.setState(r),null!==this.initialSeek&&(this.nativeSeek({position:this.initialSeek}),this.initialSeek=null);break;case c.VIDEO_STATES.PAUSED:this.setState(s);break;case c.VIDEO_STATES.CONNECTING:case c.VIDEO_STATES.BUFFERING:this.setState(n);break;case c.VIDEO_STATES.FINISHED:this.onEnd();break;case c.VIDEO_STATES.ERROR:this.onNativeError(e)}},e.prototype.onPlayPositionChanged=function(t){this.onTimeUpdate(t)},e.prototype.setSource=function(t){try{this.player.data=t}catch(e){}},e.prototype.getSource=function(){return this.player.data},e.prototype.setVolume=function(t){try{return this.player.setVolume(t)}catch(e){return!1}},e.prototype.setFullscreen=function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0];try{this.player.setFullScreen(t)}catch(e){}},e.prototype.setSize=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if(isNaN(t)||isNaN(e)||!this.player)return!1;if(!i&&t%8!=0)throw Error(c.ERRORS.INCORRECT_WIDTH);if(!i&&e%8!=0)throw Error(c.ERRORS.INCORRECT_HEIGHT);try{return this.player.style.width=t+"px",this.player.style.height=e+"px",this.player.width=t,this.player.height=e,!0}catch(n){return!1}},e.prototype.forceSetSize=function(t,e){return this.setSize(t,e,!0)},e.prototype.setPosition=function(t,e){if(isNaN(t)||isNaN(e)||!this.player)return!1;try{return this.player.style.left=t+"px",this.player.style.top=e+"px",this.player.left=t,this.player.top=e,!0}catch(i){return!1}},e.prototype.setBounds=function(t,e,i,n){return this.setPosition(t,e)&&this.setSize(i,n)},e.prototype.getSpeed=function(){try{return this.player.speed}catch(t){return null}},e.prototype.getDuration=function(){try{return this.player.playTime}catch(t){return 0}},e.prototype.getState=function(){try{return this.player.playState}catch(t){}return this.playState},e.prototype.getPosition=function(){try{return~~this.player.playPosition}catch(t){return null}},e.prototype.nativePause=function(){return this.nativePlay(0)},e.prototype.nativePlay=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!this.player)return!1;try{return Number.isNaN(t)?this.player.play(1):this.player.play(t)}catch(e){return!1}},e.prototype.nativeSeek=function(t){var e=t.position,i=e,n=this.player.playTime;if(Number.isNaN(e)||!this.player)return!1;if(Number.isNaN(n))return!1;if(e>n)return!1;e<0&&(i=0);try{return this.player.seek(i)}catch(s){return!1}},e.prototype.nativeStop=function(){try{return this.destroyPlayer()}catch(t){return!1}},e.prototype.release=function(){try{return this.player.release()}catch(t){return!1}},e.prototype.queue=function(t){try{return this.player.queue(t)}catch(e){return!1}},e.prototype.getComponents=function(t){try{return this.player.getComponents(t)}catch(e){return null}},e.prototype.selectComponents=function(t,e){try{this.player.selectComponent(e)}catch(i){}},e.prototype.onNativeError=function(t){var e=t||this.player.error,i=c.ERROR_STATES[e]||c.ERROR_STATES.UNKNOWN;this.onError(e,i)},e.prototype.nativeShow=function(t){var e=t.left,i=t.top,n=t.width,s=t.height;this.player&&this.player.style&&(this.setBounds(e,i,n,s),this.player.style.display="block")},e.prototype.nativeHide=function(){this.player&&this.player.style&&(this.player.style.display="none")},e}(l["default"]),Object.defineProperty(a,"COMPONENT_TYPES",{enumerable:!0,writable:!0,value:c.COMPONENT_TYPES}),Object.defineProperty(a,"VIDEO_TYPES",{enumerable:!0,writable:!0,value:c.VIDEO_TYPES}),f=h,e["default"]=f},function(t,e,i){"use strict";var n;e.__esModule=!0,e.VIDEO_STATES={STOPPED:0,PLAYING:1,PAUSED:2,CONNECTING:3,BUFFERING:4,FINISHED:5,ERROR:6},e.PROPS_UPDATE_INTERVAL=1e3,n=e.VIDEO_TYPES={MP4:"video/mp4",MPEG:"video/mpeg",MP2T:"video/mp2t",MPEG_DASH:"application/mpeg-dash"},e.CONFIG={id:"video",type:n.MP4,name:"video",fullsize:{width:1280,height:720},minsize:{width:1280,height:600},width:1280,height:720,top:0,left:0,fullscreen:!1},e.ERROR_STATES={UNKNOWN:"Unknown error",0:"A/V format not supported",1:"cannot connect to server or connection lost",2:"unidentified error",3:"insufficient resources",4:"content corrupt or invalid",5:"content not available",6:"content not available at given position"},e.COMPONENT_TYPES={0:"COMPONENT_TYPE_VIDEO",1:"COMPONENT_TYPE_AUDIO",2:"COMPONENT_TYPE_SUBTITLE"},e.updatePlayerInterval=1e3,e.ERRORS={NO_DEVICE:"Device not defined.",CANNOT_CREATE_PLAYER:"[PlayerHbbTV] Cannot create a video object!",NO_CONTAINER:"Container is not defined",UNKNOWN_COMMAND:"An unknown player command",INCORRECT_WIDTH:"[AVObject] set size parameter WIDTH must be divisible by 8",INCORRECT_HEIGHT:"[AVObject] set size parameter HEIGHT must be divisible by 8"}},function(t,e,i){var n,s,r,o,a,h,u=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n["throw"](t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s["return"]:i[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(o){i=[6,o],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o};Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(82),r="allowedSounds",o="on",a="off",h=function(){function t(){this.element=this.createAudioElement(),this.enabled=(s["default"].get(r)||a)===o}return t.prototype.play=function(t){var e=t.key,i=t.looping;return u(this,void 0,void 0,function(){return l(this,function(t){return this.enabled?(this.element.src=this.getUrl(e),this.element.loop=i,[2,this.element.play()]):[2]})})},t.prototype.setVolume=function(t){this.element.volume=t},t.prototype.pause=function(){this.element.pause()},t.prototype.unPause=function(){this.element.play()},t.prototype.getSounds=function(){return this.enabled},t.prototype.setSounds=function(t){this.enabled=t,s["default"].set(r,t?o:a)},t.prototype.preload=function(t){return u(this,void 0,void 0,function(){var e=this;return l(this,function(i){return[2,Promise.all(t.map(function(t){return u(e,void 0,void 0,function(){return l(this,function(e){return[2,this.buffer(t)]})})}))]})})},t.prototype.buffer=function(t){return u(this,void 0,void 0,function(){var e=this;return l(this,function(i){return[2,new Promise(function(i){var n=new XMLHttpRequest,s=e.getUrl(t);n.open("GET",s,!0),n.responseType="arraybuffer",n.onload=function(){i()},n.send()})]})})},t.prototype.getUrl=function(t){var e=n["default"].CONFIG,i=e.baseUrl,s=e.soundRoot;return i?""+i+s+t:""+s+t},t.prototype.createAudioElement=function(){var t=document.createElement("audio");return t.controls=!0,t.style.display="none",document.body.appendChild(t),t},t}(),e.SoundManager=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(12),r=i(82),o={},a=function(t){if(c.allowed){var e=n.createBufferSource();e.buffer=o[t],e.connect(n.destination),e.start()}},h=window.AudioContext||window.webkitAudioContext,u=function(){h&&s["default"].Device.soundsAllowed&&s["default"].CONFIG.soundsAllowed&&(n=new h,c.initialized=!0,"function"==typeof c.afterInitialized&&c.afterInitialized())},l=r["default"].get("allowedSounds")||null,c={initialized:!1,afterInitialized:null,allowed:null===l||"on"===l,buffer:function(t){if(n){var e=s["default"].CONFIG,i=e.baseUrl,r=e.soundRoot,a=new XMLHttpRequest,h=i?""+i+r+t:""+r+t;a.open("GET",h,!0),a.responseType="arraybuffer",a.onload=function(){var e=a.response,i=n.decodeAudioData(e,function(e){o[t]=e});i&&"function"==typeof i.then&&i.then(function(e){o[t]=e})},a.send()}},playSound:function(t){n&&o[t]&&a(t)},init:function(){u()},onInitialized:function(t){c.initialized&&"function"==typeof t?t():c.afterInitialized=t},setSounds:function(t){c.allowed=t,r["default"].set("allowedSounds",t?"on":"off")}};e["default"]=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return""};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t,e,i;for(t="",e=0;e<32;e+=1)i=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&i|8:i).toString(16);return t};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){var n,s,r=window.document.getElementsByTagName("object");if(r)for(n=0;n<r.length;n+=1)if(r[n]&&r[n].id===t)return r[n];return s=window.document.createElement("object"),s.id=t,"string"==typeof e?s.type=e:"object"==typeof e&&Object.keys(e).forEach(function(t){"style"===t?s.style.cssText=e[t]:s[t]=e[t]}),"object"==typeof i&&Object.keys(i).forEach(function(t){s.setAttribute(t,i[t])}),window.document.body.appendChild(s),s};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=[0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236],n=[1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251,1,.92387953251,.70710678118,.38268343236,0,-.38268343236,-.70710678118,-.92387953251,-1,-.92387953251,-.70710678118,-.38268343236,0,.38268343236,.70710678118,.92387953251],s={PI_8:1,PIx2_8:2,PIx3_8:3,PIx4_8:4,PIx5_8:5,PIx6_8:6,PIx7_8:7,PIx8_8:8,PIx9_8:9,PIx10_8:10,PIx11_8:11,PIx12_8:12,PIx13_8:13,PIx14_8:14,PIx15_8:15,PIx16_8:16,PIx17_8:17,PIx18_8:18,PIx19_8:19,PIx20_8:20,PIx21_8:21,PIx22_8:22,PIx23_8:23,PIx24_8:24,PI_4:2,PIx2_4:4,PIx3_4:6,PIx4_4:8,PIx5_4:10,PIx6_4:12,PIx7_4:14,PIx8_4:16,PIx9_4:18,PIx10_4:20,PIx11_4:22,PIx12_4:24,PI_2:4,PIx2_2:8,PIx3_2:12,PIx4_2:16,PIx5_2:20,PIx6_2:24,PI:8,PIx2:16,PIx3:24,sin:function(t){return i[t]},cos:function(t){return n[t]}};e["default"]=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t+.5<<0};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){for(var e=0,i=0,n=t.length;i<n;)e=(e<<5)-e+t.charCodeAt(i+=1)<<0;return e};e["default"]=function(t){return i(t)+2147483647+1+""}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){for(var i="",n=e;0<n;)i+=t,n--;return i};e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rangeToRange=function(t,e,i,n,s){return(t-e)*(s-n)/(i-e)+n}},function(t,e){function i(t,e){var i=t.x,n=t.y,s=e.x,r=e.y;return Math.sqrt(Math.pow(i-s,2)+Math.pow(n-r,2))}var n=this&&this.__assign||function(){return(n=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MATH_PI=3.14,e.getDistance=i,e.splitLine=function(t,e,i){void 0===i&&(i=100);for(var s=(e.x-t.x)/i,r=(e.y-t.y)/i,o=[n({},t)],a=1;a<i-1;a+=1)o.push({x:s*a+t.x,y:r*a+t.y});return o.push(n({},e)),o},e.getBezier=function(t,i){var n,s,r,o,a,h=t.a,u=t.b,l=t.c;for(void 0===i&&(i=100),n=e.splitLine(h,l,i),s=e.splitLine(l,u,i),r=[],o=0;o<i;o+=1)a=e.splitLine(n[o],s[o],i),r.push(a[o]);return r},e.movePoint=function(t,e,i){var s=n({},t);return s.y-=Math.sin(e)*i,s.x+=Math.cos(e)*i,s},e.rotatePoint=function(t,e,i){var n=Math.cos(i),s=Math.sin(i);return{x:n*(t.x-e.x)+s*(t.y-e.y)+e.x,y:n*(t.y-e.y)-s*(t.x-e.x)+e.y}},e.toIsometric=function(t){return{x:t.x-t.y,y:(t.x+t.y)/2}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(270),s=function(t){var e,i,s,r;if(!t||0===t.length)return[];if(e=t.slice(),1===t.length)return e;for(r=e.length;0!==r;)i=n["default"](0,r-1),s=e[--r],e[r]=e[i],e[i]=s;return e};e.shuffleArray=s},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v=this&&this.__assign||function(){return(v=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(892),s=window.CONFIG||{},r=function(t,e,i,s){var r=e.id,o=e.x,a=e.y,h=e.width,u=e.height,l=e.xoffset,c=e.yoffset,f=e.xadvance;return n.addLetter(i,s,v({},e,{kernings:{}})),t+".c-"+r+"{\n\t\tbackground-position:-"+o+"px -"+a+"px;\n\t\twidth:"+h+"px;\n\t\theight:"+u+"px;\n\t\tposition:relative;\n\t\ttop:"+c+"px;\n\t\tleft:"+l+"px;\n\t\tmargin-right:"+(f-h)+"px;\n\t}"},o=function(t,e,i,s){var r=e.first,o=e.second,a=e.amount;return n.addKerning(i,s,r,o,a),t+".c-"+o+".after-"+r+"{margin-left:"+a+"px;}"},a=function(t){var e,i,a=[],h=window.location.href,u=s.baseUrl||-1===h.indexOf("index.html")?t.asset:""+window.location.href.split("index.html")[0]+t.asset;n.addFont(u,t.name,t.focused,t.common,t.info),e=(t.focused?".focused ":"")+".graphical-letter.graphical-letter-"+t.name,a.push(".graphical-word.graphical-word-"+t.name),a.push("{display:inline-block;height:"+(t.common.lineHeight||0)+"px;}"),a.push(".focused .graphical-word.graphical-word-"+t.name),a.push("{display:block}"),a.push(e+"{vertical-align: top;display:inline-block;background-image:url("+u+");}"),t.letters.forEach(function(i){a.push(r(e,i,t.name,t.focused))}),t.kernings.forEach(function(i){a.push(o(e,i,t.name,t.focused))}),i=window.document.createElement("style"),i.innerHTML=a.join(""),window.document.head.appendChild(i)},h=function(t){var e=t.split("\n"),i=[],n=[],s=[],r=[];return e.forEach(function(t){0===t.indexOf("kerning ")?n.push(t):0===t.indexOf("char ")?i.push(t):0===t.indexOf("common ")?s.push(t):0===t.indexOf("info ")&&r.push(t)}),{commonLines:s,letterLines:i,kerningLines:n,infoLines:r}},u=function(t){var e={face:"",size:0,bold:0,italic:0,charset:"",unicode:"",stretchH:100,smooth:1,aa:1,padding:"0,0,0,0",spacing:"0,0,0,0",outline:0};return t&&t.split(" ").forEach(function(t){0===t.indexOf("face=")&&(e.face=t.split("=")[1]),0===t.indexOf("size=")&&(e.size=parseInt(t.split("=")[1],10)),0===t.indexOf("bold=")&&(e.bold=parseInt(t.split("=")[1],10)),0===t.indexOf("italic=")&&(e.italic=parseInt(t.split("=")[1],10)),0===t.indexOf("charset=")&&(e.charset=t.split("=")[1]),0===t.indexOf("unicode=")&&(e.unicode=t.split("=")[1]),0===t.indexOf("stretchH=")&&(e.stretchH=parseInt(t.split("=")[1],10)),0===t.indexOf("smooth=")&&(e.smooth=parseInt(t.split("=")[1],10)),0===t.indexOf("aa=")&&(e.aa=parseInt(t.split("=")[1],10)),0===t.indexOf("padding=")&&(e.padding=t.split("=")[1]),0===t.indexOf("spacing=")&&(e.spacing=t.split("=")[1]),0===t.indexOf("outline=")&&(e.outline=parseInt(t.split("=")[1],10))}),e},e.parseInfoLine=u,l=function(t){var e={lineHeight:0,base:0,scaleW:0,scaleH:0,pages:1,packed:0};return t&&t.split(" ").forEach(function(t){0===t.indexOf("lineHeight=")&&(e.lineHeight=parseInt(t.split("=")[1],10)),0===t.indexOf("base=")&&(e.base=parseInt(t.split("=")[1],10)),0===t.indexOf("scaleW=")&&(e.scaleW=parseInt(t.split("=")[1],10)),0===t.indexOf("scaleH=")&&(e.scaleH=parseInt(t.split("=")[1],10))}),e},e.parseCommonLine=l,c=function(t){var e={};return t.split(" ").forEach(function(t){0===t.indexOf("id=")&&(e.id=parseInt(t.split("=")[1],10)),0===t.indexOf("x=")&&(e.x=parseInt(t.split("=")[1],10)),0===t.indexOf("y=")&&(e.y=parseInt(t.split("=")[1],10)),0===t.indexOf("width=")&&(e.width=parseInt(t.split("=")[1],10)),0===t.indexOf("height=")&&(e.height=parseInt(t.split("=")[1],10)),0===t.indexOf("xoffset=")&&(e.xoffset=parseInt(t.split("=")[1],10)),0===t.indexOf("yoffset=")&&(e.yoffset=parseInt(t.split("=")[1],10)),0===t.indexOf("xadvance=")&&(e.xadvance=parseInt(t.split("=")[1],10))}),e},e.parseLetter=c,f=function(t){return t.map(function(t){return c(t)})},d=function(t){var e={};return t.split(" ").forEach(function(t){0===t.indexOf("first=")&&(e.first=parseInt(t.split("=")[1],10)),0===t.indexOf("second=")&&(e.second=parseInt(t.split("=")[1],10)),0===t.indexOf("amount=")&&(e.amount=parseInt(t.split("=")[1],10))}),e},e.parseKerning=d,p=function(t){return t.map(function(t){return d(t)})},g=function(t,e){var i=s.baseUrl,n=h(e),r=n.infoLines,o=n.commonLines,c=n.letterLines,d=n.kerningLines,g={name:t.name,asset:i?""+i+t.png:t.png,focused:t.focused||!1,letters:f(c),kernings:p(d),common:l(o[0]),info:u(r[0])};a(g)},e.parseFont=g,y=function(t){if(t.fnt){var e=s.baseUrl,i=new XMLHttpRequest,n=e?""+e+t.fnt:t.fnt;i.open("GET",n,!0),i.onreadystatechange=function(){4===i.readyState&&g(t,i.responseText)},i.send()}},m=function(t){t.forEach(function(t){y(t)})},e["default"]=m},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S;Object.defineProperty(e,"__esModule",{value:!0}),n=i(197),s=i(103),r="This font does not exist",o="This letter does not exist",a="This font already exists",h={},e.fonts=h,u=function(t,e){return void 0===t&&(t="default"),void 0===e&&(e=!1),t+"--"+(e?"focused":"")},e.getFontName=u,l=function(t,e){var i=h[e].canvas,n=i.getContext("2d"),s=new Image;s.onload=function(){i.width=s.width,i.height=s.height,n.drawImage(s,0,0)},s.src=t},c=function(t,e,i){var n=u(t,e);if(!h[n])throw Error(r);h[n].letters[i.id]=i},e.addLetter=c,f=function(t,e,i,n,s){var a,l=h[u(t,e)];if(!l)throw Error(r);if(!(a=l.letters[n]))throw Error(o);a.kernings[i]=s},e.addKerning=f,d=function(t,e,i,r,o){var c,f=u(e,i);if(h[f])throw Error(a);try{c=document.createElement("canvas")}catch(t){c=null,s["default"].error(t)}if(h[f]={name:f,canvas:c,common:r,info:o,imageURL:t,letters:{}},c&&!n["default"].disableCanvas)try{l(t,f)}catch(t){s["default"].error(t)}},e.addFont=d,p=function(t,e,i,n,s,o,a){var l,c,f,d,p,g,y,m,v,x=h[u(o,a)];if(!x)throw Error(r);return(l=x.letters[n])?l.width<=0||l.height<=0?l.xadvance:(c=l.x,f=l.y,d=l.width,p=l.height,g=e+l.xoffset+(s&&l.kernings[s]?l.kernings[s]:0),y=i+l.yoffset,m=l.width,v=l.height,t.drawImage(x.canvas,c,f,d,p,g,y,m,v),l.xadvance):0},g=function(t,e,i){var n,s,o,a;if(void 0===e&&(e="default"),void 0===i&&(i=!1),!(n=h[u(e,i)]))throw Error(r);return o=(""+t).split(""),a=0,o.forEach(function(t){var e=t.charCodeAt(0),i=n.letters[e]||{};a+=(i.xadvance||0)+(s&&i.kernings&&i.kernings[s]||0),s=e}),a},e.getWordWidth=g,y=function(t,e,i,n,s,r,o){var a,h,u,l;switch(void 0===s&&(s="left"),void 0===r&&(r="default"),void 0===o&&(o=!1),u=(""+n).split(""),s){case"right":h=e-g(n,r,o);break;case"center":h=e-~~(g(n,r,o)/2);break;case"left":default:h=e}l=i,u.forEach(function(e){var i=e.charCodeAt(0);h+=p(t,h,l,i,a,r,o),a=i})},e.drawWord=y,m=function(t,e){var i=t.info||{},n=e.createElement("info");return n.setAttribute("face",t.name),n.setAttribute("size",i.size),n.setAttribute("bold",i.bold),n.setAttribute("italic",i.italic),n.setAttribute("charset",i.charset),n.setAttribute("unicode",i.unicode),n.setAttribute("stretchH",i.stretchH),n.setAttribute("smooth",i.smooth),n.setAttribute("aa",i.aa),n.setAttribute("padding",i.padding),n.setAttribute("spacing",i.spacing),n.setAttribute("outline",i.outline),n},v=function(t,e){var i=t.common||{},n=e.createElement("common");return n.setAttribute("lineHeight",i.lineHeight),n.setAttribute("base",i.base),n.setAttribute("scaleW",i.scaleW),n.setAttribute("scaleH",i.scaleH),n.setAttribute("pages",i.pages),n.setAttribute("packed",i.packed),n},x=function(t,e){var i=e.createElement("pages"),n=e.createElement("page");return n.setAttribute("id","0"),n.setAttribute("file",t.imageURL),i.appendChild(n),i},b=function(t,e){var i=e.createElement("chars");return Object.keys(t.letters).forEach(function(n){var s=t.letters[parseInt(n,10)],r=e.createElement("char");r.setAttribute("id",n),r.setAttribute("x",""+s.x),r.setAttribute("y",""+s.y),r.setAttribute("width",""+s.width),r.setAttribute("height",""+s.height),r.setAttribute("xoffset",""+s.xoffset),r.setAttribute("yoffset",""+s.yoffset),r.setAttribute("xadvance",""+s.xadvance),r.setAttribute("page","0"),r.setAttribute("chnl","15"),i.appendChild(r)}),i},_=function(t,e){var i=e.createElement("kernings");return Object.keys(t.letters).forEach(function(n){var s=t.letters[parseInt(n,10)];Object.keys(s.kernings).forEach(function(t){var r=e.createElement("kerning");r.setAttribute("first",n),r.setAttribute("second",t),r.setAttribute("amount",""+s.kernings[parseInt(t,10)]),i.appendChild(r)})}),i},w=function(t){var e,i,n,s,r=window.document.implementation.createDocument(null,"font",null),o=r.getElementsByTagName("font")[0],a=m(t,r);return o.appendChild(a),e=v(t,r),o.appendChild(e),i=x(t,r),o.appendChild(i),n=b(t,r),o.appendChild(n),s=_(t,r),o.appendChild(s),r},T=function(t,e){void 0===t&&(t="default"),void 0===e&&(e=!1);var i=h[u(t,e)];if(!i)throw Error(r);return i.xml||(i.xml=w(i)),i.xml},e.getXML=T,S=function(t,e){void 0===t&&(t="default"),void 0===e&&(e=!1);var i=h[u(t,e)];if(!i)throw Error(r);return i.canvas},e.getCanvas=S},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d;Object.defineProperty(e,"__esModule",{value:!0}),n=i(103),s=i(198),r=i(12),o=i(200),i(927),a=i(928),e.PRODUCTION="production",h=10,u=function(t){var e=window.document.getElementsByTagName("title"),i=!!e.length,n=i?e[0]:window.document.createElement("title");n.innerText=t,i||window.document.head.appendChild(n)},l=function(t){var e=t.criticalAssets,i=t.baseUrl;return e&&"function"==typeof e.map?Promise.all(e.map(function(t){return new Promise(function(e){var n=new Image;n.onload=function(){e()},n.onerror=function(){e()},n.src=i?""+i+t:t})})):Promise.resolve()},c=function(t,e){var i,n=t.minimalLoaderTime,s=function(){var t=document.getElementById("loading");t&&(t.style.display="none")};if(n&&(i=Date.now()-e)<n)return void setTimeout(s,n-i);s()},f=function(t){return r["default"].init(t).then(function(){if(a["default"](),n["default"].log(r["default"].getUUID()),t.GA_ACCOUNT){var i={};t.env===e.PRODUCTION&&(i.sampleRate=h),o.initGA(t.GA_ACCOUNT,i),o["default"]("set","checkProtocolTask",null),o["default"]("set","dimension1",r["default"].Device.getDevice()),o["default"]("set","dimension2",r["default"].Device.getModel()),o["default"]("set","dimension3",r["default"].Device.getUserAgent()),o["default"]("send","event","Device",r["default"].Device.getDevice()+" "+r["default"].Device.getModel(),r["default"].Device.getPlatform()),o["default"]("send","event","UserAgent",r["default"].Device.getUserAgent(),r["default"].Device.getPlatform())}})},d=function(t){u(t.gameName||"Mautilus Game");var e=Date.now();return new Promise(function(i){Promise.all([l(t),f(t)]).then(function(){return s.initAdsControl()}).then(function(){c(t,e),i()})})},e["default"]=d},function(t,e,i){var n,s,r,o,a,h,u,l=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n["throw"](t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s["return"]:i[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(o){i=[6,o],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o};Object.defineProperty(e,"__esModule",{value:!0}),n=i(199),s=i(904),r=i(29),o=i(23),a=i(923),h=i(924),u=function(){function t(t,e){var i=this;this.providers=[],this.sendMissingGA=function(t){i.adsGa.sendMissing(n.adTypes.video,t)},this.sendErrorGA=function(t){i.adsGa.sendError(n.adTypes.video,t)},this.appConfig=e,this.adsParser=new a.AdsParser(this.sendMissingGA,this.sendErrorGA),this.adsGa=new n.AdsGA(this.appConfig),t&&(t.startsWith("{")?this.processConfigFile(t):o.request(t).then(function(t){i.processConfigFile(t)})["catch"](function(t){o.logger.error(t)}))}return t.prototype.init=function(){return l(this,void 0,void 0,function(){return c(this,function(t){return[2,o.obtainIPAddress()]})})},t.prototype.getLinearAd=function(){return l(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,this.adsParser.getAd(this.getConfigs(),{adType:"linear"})];case 1:return(t=e.sent())?[2,{source:t.source,vastTracker:new h["default"](t,this.adsGa)}]:[2,null]}})})},t.prototype.getConfigs=function(){return this.providers.map(function(t){return{name:t.name,url:t.getUrl()}})},t.prototype.getAdOccurrence=function(){return this.adOccurrence},t.prototype.processConfigFile=function(t){var e,i,n,s,r,a,h,u;try{if(e=this.appConfig,i=e.gameName,n=e.platform,s=JSON.parse(t),!s)return;if(!(r=s.games.find(function(t){return t.uniqueId.toLowerCase()===i.toLowerCase()})))return;if(!(a=r.platforms.find(function(t){return t.uniqueId.toLowerCase()===n.toLowerCase()})))return;h=a.adOccurrence,u=a.activeLinearFile,this.providers=this.processProvidersConfig(u||[]),this.adOccurrence=h||0}catch(t){o.logger.warn(t)}},t.prototype.processProvidersConfig=function(t){var e=this;return t.map(function(t){var i=t.name,n=t.subname,o=t.uid,a=t.url;return new(s.PROVIDERS[n||i]||r["default"])(a,o,i||n,e.appConfig)})},t}(),e.Ads=u},function(t,e,i){function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(395)),n(i(199)),n(i(902))},function(t,e,i){"use strict";var n,s,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(i){"object"===a(e)&&void 0!==t?t.exports=i():(s=[],n=i,(r="function"==typeof n?n.apply(e,s):n)!==undefined&&(t.exports=r))}(function(){return function t(e,i,n){function s(a,h){var u,l,c;if(!i[a]){if(!e[a]){if(u="function"==typeof o&&o,!h&&u)return o(a,!0);if(r)return r(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}c=i[a]={exports:{}},e[a][0].call(c.exports,function(t){return s(e[a][1][t]||t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var r="function"==typeof o&&o,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function r(t){return"object"===(void 0===t?"undefined":a(t))&&null!==t}function o(t){return void 0===t}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,a,h,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;throw l=Error('Uncaught, unspecified "error" event. ('+e+")"),l.context=e,l}if(o(i=this._events[t]))return!1;if(s(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(r(i))for(a=Array.prototype.slice.call(arguments,1),n=(u=i.slice()).length,h=0;h<n;h++)u[h].apply(this,a);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var i;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<i&&this._events[t].length>i&&(this._events[t].warned=!0,console.trace),this},n.prototype.once=function(t,e){function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}if(!s(e))throw TypeError("listener must be a function");var n=!1;return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var i,n,o,a;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(i=this._events[t]).length,n=-1,i===e||s(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(a=o;0<a--;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(s(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,i){var n;n=function(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]},e.exports=n},{}],3:[function(t,e,i){var n,s,r;s=t("./parser"),r=t("./util"),n=function(){function t(){}var e,n;return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,n){var r,o,a,h;if(o=+new Date,r=i.extend=function(t,e){var i,n;for(i in e)n=e[i],t[i]=n;return t},n||("function"==typeof e&&(n=e),a={}),a=r(this.options,e),this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((h=o-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(h<this.cappingMinimumTimeInterval)return void n(null,Error("VAST call canceled  ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return s.parse(t,a,function(t,e){return n(t,e)})}n(null,Error("VAST call canceled  FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},n=r.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(i){e(t,i,{get:function(){return n.getItem(i)},set:function(t){return n.setItem(i,t)},configurable:!1,enumerable:!0})}),null==t.lastSuccessfullAd&&(t.lastSuccessfullAd=0),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0),t}(),e.exports=n},{"./parser":12,"./util":18}],4:[function(t,e,i){var n;n=function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}},e.exports=n},{}],5:[function(t,e,i){var n,s,r,o,a=function(t,e){function i(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},h={}.hasOwnProperty;n=function(t){null==t&&(t={}),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={}},r=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return a(e,n),e}(),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return a(e,n),e}(),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return a(e,n),e}(),e.exports={VASTCreativeLinear:r,VASTCreativeNonLinear:o,VASTCreativeCompanion:s}},{}],6:[function(t,e,i){var n;n=function(){this.attributes={},this.children=[]},e.exports=n},{}],7:[function(t,e,i){var n;n=function(){this.name=null,this.value=null,this.attributes={}},e.exports=n},{}],8:[function(t,e,i){var n;n=function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null},e.exports=n},{}],9:[function(t,e,i){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(t,e,i){var n;n=function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null},e.exports=n},{}],11:[function(t,e,i){var n;n=function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null},e.exports=n},{}],12:[function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x=[].slice,b=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};r=t("./urlhandler"),m=t("./response"),o=t("./ad"),a=t("./extension"),h=t("./extensionchild"),v=t("./util"),c=t("./creative").VASTCreativeLinear,l=t("./creative").VASTCreativeCompanion,f=t("./creative").VASTCreativeNonLinear,p=t("./mediafile"),d=t("./icon"),u=t("./companionad"),g=t("./nonlinear"),s=t("events").EventEmitter,n={ERRORCODE:900,extensions:[]},y=function(){function t(){}var e,i;return i=null,e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(t,e,n){return n||("function"==typeof e&&(n=e),e={}),i=e.wrapperLimit||10,e.wrapperDepth=0,this._parse(t,null,e,function(t,e){return n(e,t)})},t.load=function(t,e,i){return i||("function"==typeof e&&(i=e),e={}),this.parseXmlDocument(null,[],e,t,i)},t.vent=new s,t.track=function(){var t,e,i;return i=arguments[0],e=arguments[1],t=3<=arguments.length?x.call(arguments,2):[],this.vent.emit("VAST-error",v.merge.apply(v,[n,e].concat(x.call(t)))),v.track(i,e)},t.on=function(t,e){return this.vent.on(t,e)},t.once=function(t,e){return this.vent.once(t,e)},t.off=function(t,e){return this.vent.removeListener(t,e)},t._parse=function(t,i,n,s){var o,a,h,u;for(a=0,h=e.length;a<h;a++)o=e[a],t=o(t);return null==i&&(i=[]),i.push(t),this.vent.emit("resolving",{url:t}),r.get(t,n,(u=this,function(e,r){return u.vent.emit("resolved",{url:t}),null!=e?s(e):u.parseXmlDocument(t,i,n,r,s)}))},t.parseXmlDocument=function(e,n,s,r,o){var a,h,u,l,c,f,d,p,g,y,v,x;if(x=s.wrapperDepth++,v=new m,null==(null!=r?r.documentElement:void 0)||"VAST"!==r.documentElement.nodeName)return o(Error("Invalid VAST XMLDocument"));for(u=0,c=(g=r.documentElement.childNodes).length;u<c;u++)"Error"===(p=g[u]).nodeName&&v.errorURLTemplates.push(t.parseNodeText(p));for(l=0,f=(y=r.documentElement.childNodes).length;l<f;l++)"Ad"===(p=y[l]).nodeName&&(null!=(a=t.parseAdElement(p))?v.ads.push(a):t.track(v.errorURLTemplates,{ERRORCODE:101}));for(h=function(){var e,i,n,s,r;for(e=i=(s=v.ads).length-1;0<=i;e=i+=-1)if(null!=(a=s[e]).nextWrapperURL)return;if(0===x)if(0===v.ads.length)t.track(v.errorURLTemplates,{ERRORCODE:303});else for(e=n=(r=v.ads).length-1;0<=n;e=n+=-1)((a=r[e]).errorCode||0===a.creatives.length)&&(t.track(a.errorURLTemplates.concat(v.errorURLTemplates),{ERRORCODE:a.errorCode||303},{ERRORMESSAGE:a.errorMessage||""},{extensions:a.extensions},{system:a.system}),v.ads.splice(e,1));return o(null,v)},d=v.ads.length;d--;)null!=(a=v.ads[d]).nextWrapperURL&&function(r){var o;n.length>=i||(o=r.nextWrapperURL,0<=b.call(n,o))?(r.errorCode=302,delete r.nextWrapperURL):(r.nextWrapperURL=t.resolveVastAdTagURI(r.nextWrapperURL,e),t._parse(r.nextWrapperURL,n,s,function(e,i){var n,s,o,a,u;if(delete r.nextWrapperURL,null!=e)return r.errorCode=301,r.errorMessage=e.message,void h();if(null!=(null!=i?i.errorURLTemplates:void 0)&&(v.errorURLTemplates=v.errorURLTemplates.concat(i.errorURLTemplates)),0===i.ads.length)r.creatives=[];else for(n=v.ads.indexOf(r),v.ads.splice(n,1),s=0,o=(a=i.ads).length;s<o;s++)u=a[s],t.mergeWrapperAdData(u,r),v.ads.splice(++n,0,u);return h()}))}(a);return h()},t.resolveVastAdTagURI=function(t,e){return 0===t.indexOf("//")?""+location.protocol+t:-1===t.indexOf("://")?e.slice(0,e.lastIndexOf("/"))+"/"+t:t},t.mergeWrapperAdData=function(t,e){var i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w;for(t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),r=0,u=(d=t.creatives).length;r<u;r++)if(n=d[r],null!=(null!=(p=e.trackingEvents)?p[n.type]:void 0))for(s in g=e.trackingEvents[n.type])w=g[s],(i=n.trackingEvents)[s]||(i[s]=[]),n.trackingEvents[s]=n.trackingEvents[s].concat(w);if(null!=(y=e.videoClickTrackingURLTemplates)?y.length:void 0)for(o=0,l=(m=t.creatives).length;o<l;o++)"linear"===(n=m[o]).type&&(n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));if(null!=(v=e.videoCustomClickURLTemplates)?v.length:void 0)for(a=0,c=(x=t.creatives).length;a<c;a++)"linear"===(n=x[a]).type&&(n.videoCustomClickURLTemplates=n.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates));if(null!=e.videoClickThroughURLTemplate){for(_=[],h=0,f=(b=t.creatives).length;h<f;h++)"linear"===(n=b[h]).type&&null==n.videoClickThroughURLTemplate?_.push(n.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate):_.push(void 0);return _}},t.childByName=function(t,e){var i,n,s,r;for(n=0,s=(r=t.childNodes).length;n<s;n++)if((i=r[n]).nodeName===e)return i},t.childsByName=function(t,e){var i,n,s,r,o;for(n=[],s=0,r=(o=t.childNodes).length;s<r;s++)(i=o[s]).nodeName===e&&n.push(i);return n},t.parseAdElement=function(t){var e,i,n,s,r;for(i=0,n=(s=t.childNodes).length;i<n;i++)if("Wrapper"===(r=(e=s[i]).nodeName)||"InLine"===r){if(this.copyNodeAttribute("id",t,e),this.copyNodeAttribute("sequence",t,e),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},t.parseWrapperElement=function(t){var e,i,n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T;for(e=this.parseInLineElement(t),null!=(T=this.childByName(t,"VASTAdTagURI"))?e.nextWrapperURL=this.parseNodeText(T):null!=(T=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(T,"URL"))),r=0,l=(g=e.creatives).length;r<l;r++)if("linear"===(y=(w=g[r]).type)||"nonlinear"===y){if(null!=w.trackingEvents)for(s in e.trackingEvents||(e.trackingEvents={}),(i=e.trackingEvents)[p=w.type]||(i[p]={}),m=w.trackingEvents)for(_=m[s],(n=e.trackingEvents[w.type])[s]||(n[s]=[]),a=0,c=_.length;a<c;a++)b=_[a],e.trackingEvents[w.type][s].push(b);if(null!=w.videoClickTrackingURLTemplates)for(e.videoClickTrackingURLTemplates||(e.videoClickTrackingURLTemplates=[]),h=0,f=(v=w.videoClickTrackingURLTemplates).length;h<f;h++)o=v[h],e.videoClickTrackingURLTemplates.push(o);if(null!=w.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=w.videoClickThroughURLTemplate),null!=w.videoCustomClickURLTemplates)for(e.videoCustomClickURLTemplates||(e.videoCustomClickURLTemplates=[]),u=0,d=(x=w.videoCustomClickURLTemplates).length;u<d;u++)o=x[u],e.videoCustomClickURLTemplates.push(o)}if(null!=e.nextWrapperURL)return e},t.parseInLineElement=function(t){var e,i,n,s,r,a,h,u,l,c,f,d,p,g,y;for((e=new o).id=t.getAttribute("id")||null,e.sequence=t.getAttribute("sequence")||null,a=0,l=(p=t.childNodes).length;a<l;a++)switch((d=p[a]).nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(d));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(d));break;case"Creatives":for(h=0,c=(g=this.childsByName(d,"Creative")).length;h<c;h++)for(n={id:(s=g[h]).getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(s),sequence:s.getAttribute("sequence")||null,apiFramework:s.getAttribute("apiFramework")||null},u=0,f=(y=s.childNodes).length;u<f;u++)switch((r=y[u]).nodeName){case"Linear":(i=this.parseCreativeLinearElement(r,n))&&e.creatives.push(i);break;case"NonLinearAds":(i=this.parseNonLinear(r,n))&&e.creatives.push(i);break;case"CompanionAds":(i=this.parseCompanionAd(r,n))&&e.creatives.push(i)}break;case"Extensions":this.parseExtension(e.extensions,this.childsByName(d,"Extension"));break;case"AdSystem":e.system={value:this.parseNodeText(d),version:d.getAttribute("version")||null};break;case"AdTitle":e.title=this.parseNodeText(d);break;case"Description":e.description=this.parseNodeText(d);break;case"Advertiser":e.advertiser=this.parseNodeText(d);break;case"Pricing":e.pricing={value:this.parseNodeText(d),model:d.getAttribute("model")||null,currency:d.getAttribute("currency")||null};break;case"Survey":e.survey=this.parseNodeText(d)}return e},t.parseExtension=function(t,e){var i,n,s,r,o,u,l,c,f,d,p,g,y,m,v,x,b,_,w;for(_=[],l=0,p=e.length;l<p;l++){if(o=e[l],n=new a,o.attributes)for(c=0,g=(v=o.attributes).length;c<g;c++)u=v[c],n.attributes[u.nodeName]=u.nodeValue;for(f=0,y=(x=o.childNodes).length;f<y;f++)if(i=x[f],w=this.parseNodeText(i),"#comment"!==i.nodeName&&""!==w){if((s=new h).name=i.nodeName,s.value=w,i.attributes)for(d=0,m=(b=i.attributes).length;d<m;d++)r=b[d],s.attributes[r.nodeName]=r.nodeValue;n.children.push(s)}_.push(t.push(n))}return _},t.parseCreativeLinearElement=function(t,e){var i,n,s,r,o,a,h,u,l,f,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K,q,J,Z,Q,$,tt,et,it,nt,st,rt,ot,at,ht,ut;if((r=new c(e)).duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),null==(st=t.getAttribute("skipoffset"))?r.skipDelay=null:"%"===st.charAt(st.length-1)&&-1!==r.duration?(X=parseInt(st,10),r.skipDelay=r.duration*(X/100)):r.skipDelay=this.parseDuration(st),null!=(ut=this.childByName(t,"VideoClicks"))){for(r.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(ut,"ClickThrough")),u=0,w=(j=this.childsByName(ut,"ClickTracking")).length;u<w;u++)s=j[u],r.videoClickTrackingURLTemplates.push(this.parseNodeText(s));for(x=0,T=(V=this.childsByName(ut,"CustomClick")).length;x<T;x++)o=V[x],r.videoCustomClickURLTemplates.push(this.parseNodeText(o))}for(null!=(i=this.childByName(t,"AdParameters"))&&(r.adParameters=this.parseNodeText(i)),b=0,A=(K=this.childsByName(t,"TrackingEvents")).length;b<A;b++)for(at=K[b],_=0,E=(q=this.childsByName(at,"Tracking")).length;_<E;_++)if(a=(ot=q[_]).getAttribute("event"),ht=this.parseNodeText(ot),null!=a&&null!=ht){if("progress"===a){if(!(G=ot.getAttribute("offset")))continue;a="%"===G.charAt(G.length-1)?"progress-"+G:"progress-"+Math.round(this.parseDuration(G))}null==(n=r.trackingEvents)[a]&&(n[a]=[]),r.trackingEvents[a].push(ht)}for(L=0,P=(J=this.childsByName(t,"MediaFiles")).length;L<P;L++)for(N=J[L],B=0,O=(Z=this.childsByName(N,"MediaFile")).length;B<O;B++)F=Z[B],(D=new p).id=F.getAttribute("id"),D.fileURL=this.parseNodeText(F),D.deliveryType=F.getAttribute("delivery"),D.codec=F.getAttribute("codec"),D.mimeType=F.getAttribute("type"),D.apiFramework=F.getAttribute("apiFramework"),D.bitrate=parseInt(F.getAttribute("bitrate")||0),D.minBitrate=parseInt(F.getAttribute("minBitrate")||0),D.maxBitrate=parseInt(F.getAttribute("maxBitrate")||0),D.width=parseInt(F.getAttribute("width")||0),D.height=parseInt(F.getAttribute("height")||0),(nt=F.getAttribute("scalable"))&&"string"==typeof nt&&("true"===(nt=nt.toLowerCase())?D.scalable=!0:"false"===nt&&(D.scalable=!1)),(k=F.getAttribute("maintainAspectRatio"))&&"string"==typeof k&&("true"===(k=k.toLowerCase())?D.maintainAspectRatio=!0:"false"===k&&(D.maintainAspectRatio=!1)),r.mediaFiles.push(D);if(null!=(m=this.childByName(t,"Icons")))for(U=0,M=(Q=this.childsByName(m,"Icon")).length;U<M;U++){for(y=Q[U],(l=new d).program=y.getAttribute("program"),l.height=parseInt(y.getAttribute("height")||0),l.width=parseInt(y.getAttribute("width")||0),l.xPosition=this.parseXPosition(y.getAttribute("xPosition")),l.yPosition=this.parseYPosition(y.getAttribute("yPosition")),l.apiFramework=y.getAttribute("apiFramework"),l.offset=this.parseDuration(y.getAttribute("offset")),l.duration=this.parseDuration(y.getAttribute("duration")),Y=0,C=($=this.childsByName(y,"HTMLResource")).length;Y<C;Y++)h=$[Y],l.type=h.getAttribute("creativeType")||"text/html",l.htmlResource=this.parseNodeText(h);for(z=0,I=(tt=this.childsByName(y,"IFrameResource")).length;z<I;z++)v=tt[z],l.type=v.getAttribute("creativeType")||0,l.iframeResource=this.parseNodeText(v);for(W=0,R=(et=this.childsByName(y,"StaticResource")).length;W<R;W++)rt=et[W],l.type=rt.getAttribute("creativeType")||0,l.staticResource=this.parseNodeText(rt);if(null!=(g=this.childByName(y,"IconClicks")))for(l.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(g,"IconClickThrough")),it=0,S=(H=this.childsByName(g,"IconClickTracking")).length;it<S;it++)f=H[it],l.iconClickTrackingURLTemplates.push(this.parseNodeText(f));l.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(y,"IconViewTracking")),r.icons.push(l)}return r},t.parseNonLinear=function(t,e){var i,n,s,r,o,a,h,u,l,c,d,p,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N;for(r=new f(e),h=0,p=(P=this.childsByName(t,"TrackingEvents")).length;h<p;h++)for(F=P[h],l=0,y=(O=this.childsByName(F,"Tracking")).length;l<y;l++)o=(D=O[l]).getAttribute("event"),N=this.parseNodeText(D),null!=o&&null!=N&&(null==(n=r.trackingEvents)[o]&&(n[o]=[]),r.trackingEvents[o].push(N));for(c=0,m=(M=this.childsByName(t,"NonLinear")).length;c<m;c++){for(A=M[c],(S=new g).id=A.getAttribute("id")||null,S.width=A.getAttribute("width"),S.height=A.getAttribute("height"),S.expandedWidth=A.getAttribute("expandedWidth"),S.expandedHeight=A.getAttribute("expandedHeight"),S.scalable=this.parseBoolean(A.getAttribute("scalable")),S.maintainAspectRatio=this.parseBoolean(A.getAttribute("maintainAspectRatio")),S.minSuggestedDuration=this.parseDuration(A.getAttribute("minSuggestedDuration")),S.apiFramework=A.getAttribute("apiFramework"),d=0,v=(C=this.childsByName(A,"HTMLResource")).length;d<v;d++)a=C[d],S.type=a.getAttribute("creativeType")||"text/html",S.htmlResource=this.parseNodeText(a);for(w=0,x=(I=this.childsByName(A,"IFrameResource")).length;w<x;w++)u=I[w],S.type=u.getAttribute("creativeType")||0,S.iframeResource=this.parseNodeText(u);for(T=0,b=(R=this.childsByName(A,"StaticResource")).length;T<b;T++)k=R[T],S.type=k.getAttribute("creativeType")||0,S.staticResource=this.parseNodeText(k);for(null!=(i=this.childByName(A,"AdParameters"))&&(S.adParameters=this.parseNodeText(i)),S.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(A,"NonLinearClickThrough")),E=0,_=(L=this.childsByName(A,"NonLinearClickTracking")).length;E<_;E++)s=L[E],S.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(s));r.variations.push(S)}return r},t.parseCompanionAd=function(t,e){var i,n,s,r,o,a,h,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G;for(a=new l(e),f=0,m=(M=this.childsByName(t,"Companion")).length;f<m;f++){for(o=M[f],(r=new u).id=o.getAttribute("id")||null,r.width=o.getAttribute("width"),r.height=o.getAttribute("height"),r.companionClickTrackingURLTemplates=[],p=0,v=(C=this.childsByName(o,"HTMLResource")).length;p<v;p++)c=C[p],r.type=c.getAttribute("creativeType")||"text/html",r.htmlResource=this.parseNodeText(c);for(g=0,x=(I=this.childsByName(o,"IFrameResource")).length;g<x;g++)d=I[g],r.type=d.getAttribute("creativeType")||0,r.iframeResource=this.parseNodeText(d);for(y=0,b=(R=this.childsByName(o,"StaticResource")).length;y<b;y++){for(N=R[y],r.type=N.getAttribute("creativeType")||0,A=0,_=(L=this.childsByName(o,"AltText")).length;A<_;A++)n=L[A],r.altText=this.parseNodeText(n);r.staticResource=this.parseNodeText(N)}for(E=0,w=(k=this.childsByName(o,"TrackingEvents")).length;E<w;E++)for(U=k[E],P=0,T=(D=this.childsByName(U,"Tracking")).length;P<T;P++)h=(B=D[P]).getAttribute("event"),G=this.parseNodeText(B),null!=h&&null!=G&&(null==(i=r.trackingEvents)[h]&&(i[h]=[]),r.trackingEvents[h].push(G));for(O=0,S=(F=this.childsByName(o,"CompanionClickTracking")).length;O<S;O++)s=F[O],r.companionClickTrackingURLTemplates.push(this.parseNodeText(s));r.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickThrough")),r.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickTracking")),a.variations.push(r)}return a},t.parseDuration=function(t){var e,i,n,s,r;return null==t?-1:v.isNumeric(t)?parseInt(t):3!==(e=t.split(":")).length?-1:(r=e[2].split("."),s=parseInt(r[0]),2===r.length&&(s+=parseFloat("0."+r[1])),n=parseInt(60*e[1]),i=parseInt(60*e[0]*60),isNaN(i)||isNaN(n)||isNaN(s)||3600<n||60<s?-1:i+n+s)},t.parseXPosition=function(t){return"left"===t||"right"===t?t:parseInt(t||0)},t.parseYPosition=function(t){return"top"===t||"bottom"===t?t:parseInt(t||0)},t.parseBoolean=function(t){return"true"===t||"TRUE"===t||"1"===t},t.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()},t.copyNodeAttribute=function(t,e,i){var n;if(n=e.getAttribute(t))return i.setAttribute(t,n)},t.parseCreativeAdIdAttribute=function(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null},t}(),e.exports=y},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(t,e,i){var n;n=function(){this.ads=[],this.errorURLTemplates=[]},e.exports=n},{}],14:[function(t,e,i){var n,s,r,o,a,h,u,l={}.hasOwnProperty;s=t("./client"),u=t("./util"),o=t("./creative").VASTCreativeLinear,a=t("./nonlinear"),r=t("./companionad"),n=t("events").EventEmitter,h=function(t){function e(t,e,i){var n,h,u;for(n in this.ad=t,this.creative=e,this.variation=null!=i?i:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],this._alreadyTriggeredQuartiles={},u=this.creative.trackingEvents)h=u[n],this.trackingEvents[n]=h.slice(0);this.creative instanceof o?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof a?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof r&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){s.lastSuccessfullAd=+new Date})}return function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,n),e.off=function(t,e){return this.removeListener(t,e)},e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,i,n,s,r,o,a,h,u;if(-1===(h=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(t<h?this.emit("skip-countdown",h-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&0<this.assetDuration){if(i=[],0<t)for(o in i.push("start"),r=Math.round(t/this.assetDuration*100),i.push("progress-"+r+"%"),i.push("progress-"+Math.round(t)),a=this.quartiles)u=a[o],this.isQuartileReached(o,u,t)&&(i.push(o),this._alreadyTriggeredQuartiles[o]=!0);for(n=0,s=i.length;n<s;n++)e=i[n],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.isQuartileReached=function(t,e,i){var n;return n=!1,e<=i&&!this._alreadyTriggeredQuartiles[t]&&(n=!0),n},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setExpand=function(t){return this.expanded!==t&&this.track(t?"expand":"collapse"),this.expanded=t},e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.stop=function(){},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,i;if((null!=(e=this.clickTrackingURLTemplates)?e.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(i={CONTENTPLAYHEAD:this.progressFormated()}),t=u.resolveURLTemplates([this.clickThroughURLTemplate],i)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var i,n;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),n=this.trackingEvents[t],i=this.emitAlwaysEvents.indexOf(t),null!=n?(this.emit(t,""),this.trackURLs(n)):-1!==i&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],-1<i&&this.emitAlwaysEvents.splice(i,1))},e.prototype.trackURLs=function(t,e){var i;return null==e&&(e={}),this.linear&&(null!=(null!=(i=this.creative.mediaFiles[0])?i.fileURL:void 0)&&(e.ASSETURI=this.creative.mediaFiles[0].fileURL),e.CONTENTPLAYHEAD=this.progressFormated()),u.track(t,e)},e.prototype.progressFormated=function(){var t,e,i,n;return(t=(n=parseInt(this.progress))/3600).length<2&&(t="0"+t),(e=n/60%60).length<2&&(e="0"+e),(i=n%60).length<2&&(i="0"+e),t+":"+e+":"+i+"."+parseInt(100*(this.progress-n))},e}(),e.exports=h},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(t,e,i){var n,s,r;r=t("./urlhandlers/xmlhttprequest"),s=t("./urlhandlers/flash"),n=function(){function e(){}return e.get=function(e,i,n){var o,a;return n||("function"==typeof i&&(n=i),i={}),null!=i.response?(a=i.response,delete i.response,n(null,a)):(null!=(o=i.urlhandler)?o.supported():void 0)?i.urlhandler.get(e,i,n):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,i,n):r.supported()?r.get(e,i,n):s.supported()?s.get(e,i,n):n(Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},e}(),e.exports=n},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(t,e,i){var n;n=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,i){var n,s;return(s="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(s.async=!1,(n=this.xdr()).open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return s.loadXML(n.responseText),i(null,s)}):i(Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},t}(),e.exports=n},{}],17:[function(t,e,i){var n;n=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=function(){return!!this.xhr()},t.get=function(t,e,i){var n;try{return(n=this.xhr()).open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?i(null,n.responseXML):i(Error("XHRURLHandler: "+n.statusText))},n.send()}catch(t){return i(Error("XHRURLHandler: Unexpected error"))}},t}(),e.exports=n},{}],18:[function(t,e,i){var n,s=[].slice;n=function(){function t(){}return t.track=function(t,e){var i,n,s,r,o,a;for(a=[],r=0,o=(n=this.resolveURLTemplates(t,e)).length;r<o;r++)i=n[r],"undefined"!=typeof window&&null!==window&&(s=new Image,a.push(s.src=i));return a},t.resolveURLTemplates=function(t,e){var i,n,s,r,o,a,h,u;for(null==e&&(e={}),i=[],null!=e.ASSETURI&&(e.ASSETURI=this.encodeURIComponentRFC3986(e.ASSETURI)),null!=e.CONTENTPLAYHEAD&&(e.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(e.CONTENTPLAYHEAD)),null==e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=this.leftpad(""+Math.round(1e8*Math.random())),e.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),e.RANDOM=e.random=e.CACHEBUSTING,n=0,r=t.length;n<r;n++)if(h=t[n]){for(s in e)u=e[s],o="["+s+"]",a="%%"+s+"%%",h=(h=h.replace(o,u)).replace(a,u);i.push(h)}return i},t.encodeURIComponentRFC3986=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.leftpad=function(t){return t.length<8?function(){var e,i,n;for(n=[],e=0,i=8-t.length;0<=i?e<i:i<e;0<=i?e++:e--)n.push("0");return n}().join("")+t:t},t.merge=function(){var t;if(0<(null!=(t=1<=arguments.length?s.call(arguments,0):[])?t.length:void 0))return this.tap({},function(e){var i,n,s,r,o,a;for(r=[],i=0,s=t.length;i<s;i++)a=t[i],r.push(function(){var t;for(n in t=[],a)o=a[n],t.push(e[n]=o);return t}());return r})},t.tap=function(t,e){return e(t),t},t.storage=function(){var t,e;try{e="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){e=null}return(null==e||function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return!0}return!1}(e))&&(t={},e={length:0,getItem:function(e){return t[e]},setItem:function(e,i){t[e]=i,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),e}(),t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}(),e.exports=n},{}]},{},[9])(9)})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParams=function(t){if(!t)return null;var e={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,n){return e[i]=n,""}),e}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(23);e.UUID_STORAGE="_uuid2",e.uuid=function(){var t,e,i;for(t="",e=0;e<32;e+=1)i=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&i|8:i).toString(16);return t},e.getUUID=function(){var t=n.Storage.get(e.UUID_STORAGE);return t||(t=e.uuid(),n.Storage.set(e.UUID_STORAGE,t),t)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i={},n=function(t){var e,n,s,r,o;try{for(e=t+"=",n=document.cookie.split(";"),s=n.length,r=0;r<s;r+=1){for(o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}}catch(e){return i[t]||null}return null},s=function(t,e){var n,s;try{n=new Date,n.setTime(n.getTime()+31536e6),s="expires="+n.toUTCString(),document.cookie=t+"="+e+"; "+s}catch(n){i[t]=e}},r=function(t){var e;if(window.localStorage&&"function"==typeof window.localStorage.getItem)try{e=window.localStorage.getItem(t)}catch(i){e=n(t)}else e=n(t);try{return e?JSON.parse(e):e}catch(i){return e}},o=function(t,e){var i;try{i=JSON.stringify(e)}catch(n){i=e}if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem(t,i)}catch(n){s(t,i)}else s(t,i)};e.Storage={get:function(t){return r(t)},set:function(t,e){o(t,e)}}},function(t,e){var i,n,s;Object.defineProperty(e,"__esModule",{value:!0}),i={VERBOSE:0,INFO:1,WARN:2,ERROR:3},e.logLevels=i,n=function(){function t(){}return t.prototype.assert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.clear=function(){},t.prototype.count=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.groupEnd=function(){},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.prototype.profile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.profileEnd=function(){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.timeStamp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}(),s=new n,e.logger=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getIntInInterval=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d=this&&this.__assign||function(){return(d=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),s=i(903),r=i(395),o=i(23),a=!1,h=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n?r.mpGA.apply(void 0,e):(t=window).ga.apply(t,e)},e.ga=h,u=function(){s.initRealGAScript(),n=!1},l=function(){n=!0},c=function(t,e){h("create",t,d({storage:"none",clientId:o.Storage.get("ga:clientId")},e)),h(function(t){o.Storage.set("ga:clientId",t.get("clientId"))})},f=function(t,e){try{a||(window.document.cookie,u())}catch(t){l()}finally{a=!0,c(t,e)}},e.initGA=f},function(t,e,i){"use strict";e.__esModule=!0;e.initRealGAScript=function(){var t,e,i,n,s,r,o,a="https:"===window.location.protocol?"https:":"http:";t=window,e=document,i="script",n=a+"//www.google-analytics.com/analytics.js",s="ga",t.GoogleAnalyticsObject=s,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,r=e.createElement(i),o=e.getElementsByTagName(i)[0],r.async=!0,r.src=n,o&&o.parentNode&&o.parentNode.insertBefore(r,o)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(905),s=i(906),r=i(907),o=i(908),a=i(909),h=i(910),u=i(911),l=i(912),c=i(913),f=i(914),d=i(915),p=i(916),g=i(917),y=i(918),m=i(919),v=i(920),x=i(921),b=i(922);e.PROVIDERS={StreamKey:p["default"],StreamKeyNew:y["default"],StreamKeyAniview:g["default"],StreamKeySpringServe:m["default"],Adsterra:n["default"],Adtelligent:s["default"],Spotx:d["default"],ImproveDigital:u["default"],SmartyAds:f["default"],FreeWheel:a["default"],iPrima:l["default"],Engageya:o["default"],GoogleAdManager:h["default"],DeliAds:r["default"],Vizio:x["default"],VizioSpotx:b["default"],Phunware:c["default"],TotalMedia:v["default"]}},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(46),r=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={key:"63cfb6c45f62f91daa4694b4e7cf9673",custom:JSON.stringify({width:"1920",height:"1080"}),vastref:"apps.tvgam.es"},r}return o(e,t),e.prototype.prepareUrl=function(){var t=this,e=Object.keys(this.defaultParams).map(function(e){return e+"="+encodeURIComponent(t.defaultParams[e]).replace(/%22/g,"%27")}).join("&");return this.serverUrl+"?"+e},e.prototype.getRndParam=function(){return"&cb="+s["default"]()},e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={width:"1920",height:"1080",device_category:"4"},r}return h(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,i=t.baseUrl,n=t.model,r=t.userAgent,a=e||"Game Name",h=this.getBundleId(),l=s.getUUID();return u({},this.defaultParams,{uip:o.getIPAdress(),ua:r,app_name:a,aid:this.uid,app_bundle:h,appuid:h,device_model:n,device_make:this.getDevice(),device_id:l,app_store_url:i?i+"index.html":window.location.href,idfa:l,idfa_md5:"",idfa_sha1:""})},e.prototype.getRndParam=function(){return"&cb="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={w:"1920",h:"1080"},r}return h(e,t),e.prototype.getParams=function(){var t,e,i=this.appConfig,n=i.gameTitle,r=i.baseUrl,a=i.model,h=i.userAgent;return n||s.logger.warn("[DeliAds] Game title does not exists!"),t=n||"Game Name",e=this.getBundleId(),u({},this.defaultParams,{ip:o.getIPAdress(),ua:h,app_bundle:e,app_name:t,app_store_url:r?r+"index.html":window.location.href,did:s.getUUID(),device_make:this.getDevice(),device_model:a})},e.prototype.getRndParam=function(){return"&cb="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={width:"1920",height:"1080"},r}return h(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,i=t.baseUrl,n=t.userAgent,r=e||"Game Name",a=this.getBundleId();return u({},this.defaultParams,{app_name:r,bundle_id:a,ifa:s.getUUID(),app_store_url:i?i+"index.html":window.location.href,ip:o.getIPAdress(),ua:n})},e.prototype.getRndParam=function(){return"&cb="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={reqType:"AdsSetup",protocolVersion:"2.0"},r}return o(e,t),e.prototype.getParams=function(){var t=this.getBundleId();return a({},this.defaultParams,{zoneId:this.uid,bundle:t,deviceIfa:s.getUUID()})},e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=this&&this.__assign||function(){return(h=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={env:"vp",gdfp_req:"1",output:"vast",sz:"400x300|640x480|854x480|1024x576|1280x720|1366x768|1600x900|1920x1080",max_ad_duration:"60000",tfcd:"0",npa:"0",vpmute:"0",vpa:"1",vad_format:"linear",vpos:"preroll",idtype:"adid",unviewed_position_start:"1"},r}return a(e,t),e.prototype.getParams=function(){var t=this.appConfig.baseUrl;return h({},this.defaultParams,{iu:this.uid,correlator:""+s.getIntInInterval(1e15,Number.MAX_SAFE_INTEGER),description_url:t?t+"index.html":window.location.href,url:t?t+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&c="+r["default"]()},e}(n["default"]),e["default"]=o},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={w:"16",h:"9",minduration:"5",maxduration:"60",player_width:"1920",player_height:"1080",vast_version:"3",video_format_type:"instream"},r}return o(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.baseUrl,i=t.userAgent,n=this.getBundleId();return a({p:this.uid},this.defaultParams,{ifa:s.getUUID(),ua:i,bundle:n,referrer:e?e+"index.html":window.location.href})},e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={keywords:"hbbtv-tv-games"},r}return r(e,t),e.prototype.getParams=function(){return o({},this.defaultParams,{tagid:this.uid})},e}(n["default"]),e["default"]=s},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=this&&this.__assign||function(){return(h=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(46),r=i(76),o=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={vpw:"1920",vph:"1080",os:"Linux",osv:"",type:"",vpaid:"",age:"",yob:"",gender:"",pchain:""},r}return a(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.baseUrl,i=t.model,n=t.userAgent;return h({plc:this.uid},this.defaultParams,{ip:r.getIPAdress(),ua:n,model:i,make:this.getDevice(),url:e?e+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&cb="+s["default"]()},e}(n["default"]),e["default"]=o},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={c:"v",m:"v",domain:"tvgam.es"},r}return r(e,t),e.prototype.getParams=function(){return o({},this.defaultParams,{placementId:this.uid})},e}(n["default"]),e["default"]=s},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={VPI:"MP4","app[cat]":"IAB1-23","app[privacypolicy]":"1","device[devicetype]":"3","device[dnt]":"0",player_height:"1080",player_width:"1920"},r}return h(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,i=t.baseUrl,n=t.version,r=t.model,a=t.userAgent,h=e||"Game Name",l=this.getBundleId();return e||s.logger.warn("[SpotX] Game title does not exists!"),u({},this.defaultParams,{ip_addr:o.getIPAdress(),"device[ifa]":s.getUUID(),"device[ua]":a,"device[model]":r,"device[make]":this.getDevice(),"app[name]":h,"app[bundle]":l,"app[storeurl]":i?i+"index.html":window.location.href,"app[domain]":i?i+"index.html":window.location.href,"app[ver]":n})},e.prototype.getRndParam=function(){return"&cp="+r["default"]()},e.prototype.getBundleId=function(){return"Vizio"===this.appConfig.device?"es.tvgam.vizio":t.prototype.getBundleId.call(this)},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={pid:"355",output:"vast",execution:"instream",placement:"preroll",playinit:"auto",volume:"100",dnt:"0",gdpr:"0",gdprcs:"",aid:"",aidmd5hex:"",aidsha1hex:"",contentlength:"",contenturl:""},r}return h(e,t),e.prototype.getParams=function(){var t,e,i=this.appConfig,n=i.gameName,r=i.gameTitle,a=i.userAgent,h=i.baseUrl,l=i.version;return r||s.logger.warn("[StreamKey] Game title does not exists!"),t=r||"Game Name",e="es.tvgam.streamkey."+n,u({},this.defaultParams,{width:"1920",height:"1080",sid:this.uid,ua:a,appname:t,bundleid:e,appstoreurl:h?h+"index.html":window.location.href,appversion:l,ip:o.getIPAdress(),contentid:e,contenttitle:t})},e.prototype.getRndParam=function(){return"&rnd="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={AV_CHANNELID:"5c987f9e28a0614d2d4e11d6",AV_WIDTH:"1920",AV_HEIGHT:"1080",AV_LATITUDE:"",AV_LONGITUDE:"",tgt:"0",s2s:"1"},r}return h(e,t),e.prototype.getParams=function(){var t,e,i=this.appConfig,n=i.gameName,r=i.gameTitle,a=i.userAgent,h=i.baseUrl,l=i.model;return r||s.logger.warn("[StreamKey] Game title does not exists!"),t=r||"Game Name",e="es.tvgam.streamkey."+n,u({},this.defaultParams,{AV_PUBLISHERID:this.uid,AV_APPNAME:t,AV_APPSTOREURL:h?h+"index.html":window.location.href,AV_APPPKGNAME:e,AV_IDFA:s.getUUID(),AV_IP:o.getIPAdress(),AV_USERAGENT:a,AV_MAKE:this.getDevice(),AV_MODEL:l})},e.prototype.getRndParam=function(){return"&cb="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={pid:"355",output:"vast",env:"4",format:"1"},r}return h(e,t),e.prototype.getParams=function(){var t,e,i=this.appConfig,n=i.gameName,r=i.gameTitle;return i.userAgent,i.baseUrl,i.version,r||s.logger.warn("[StreamKey] Game title does not exists!"),t=r||"Game Name",e="es.tvgam.streamkey."+n,u({},this.defaultParams,{width:"1920",height:"1080",sid:this.uid,ip:o.getIPAdress(),appname:t,bundleid:e,aid:""})},e.prototype.getRndParam=function(){return"&rnd="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=i(76),a=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={w:"1920",h:"1080",consent:"",gdpr:"0",dnt:"0"},r}return h(e,t),e.prototype.getParams=function(){var t=this.appConfig,e=t.gameTitle,i=t.userAgent,n=t.model,r=t.baseUrl,a=e||"Game Name";return u({},this.defaultParams,{ip:o.getIPAdress(),ua:i,app_bundle:this.getBundleId(),app_name:a,app_store_url:r?r+"index.html":window.location.href,did:s.getUUID(),device_make:this.getDevice(),device_model:n})},e.prototype.getRndParam=function(){return"&cb="+r["default"]()},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=this&&this.__assign||function(){return(h=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={pid:"362",output:"vastvpaid",support:"html5",execution:"instream",placement:"preroll",playinit:"auto",volume:"100",width:"1920",height:"1080",dnt:"0",gdpr:"0",gdprcs:"",aid:"",aidmd5hex:"",aidsha1hex:"",idfamd5hex:"",idfasha1hex:"",loclat:"",loclong:"",loc:"",contentlength:"",contenturl:""},r}return a(e,t),e.prototype.getParams=function(){var t,e,i=this.appConfig,n=i.gameName,r=i.gameTitle,o=i.baseUrl,a=i.version;return r||s.logger.warn("[TotalMedia] Game title does not exists!"),t=r||"Game Name",e="es.tvgam."+n,h({},this.defaultParams,{sid:this.uid,appname:t,bundleid:e,appstoreurl:o?o+"index.html":window.location.href,appversion:a,idfa:s.getUUID(),contentid:e,contenttitle:t,contenturl:o?o+"index.html":window.location.href})},e.prototype.getRndParam=function(){return"&rnd="+r["default"]()},e}(n["default"]),e["default"]=o},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={playerWidth:"1920",playerHeight:"1080",deviceDNT:"0",gdpr:"0",gdpr_consent:""},r}return o(e,t),e.prototype.getParams=function(){return a({},this.defaultParams,{adCode:this.uid,deviceId:s.getUUID()})},e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=this&&this.__assign||function(){return(h=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(29),s=i(23),r=i(46),o=function(t){function e(e,i,n,s){var r=t.call(this,e,i,n,s)||this;return r.defaultParams={VPI:"MP4","app[bundle]":"vizio.tvgames","app[name]":"TV Games",player_width:"1920",player_height:"1080"},r}return a(e,t),e.prototype.getParams=function(){return h({},this.defaultParams,{"device[ifa]":s.getUUID()})},e.prototype.getRndParam=function(){return"&cp="+r["default"]()},e}(n["default"]),e["default"]=o},function(t,e,i){var n,s,r,o,a,h,u=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n["throw"](t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&i[0]?s["return"]:i[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(o){i=[6,o],s=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o};Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),s=i(271),r={timeout:1e4},o=[{width:1920,height:1080},{width:1280,height:720}],a={linear:["video/mp4"],nonlinear:["image/jpeg"]},h=function(){function t(t,e){this.vastParser=new s.VASTParser,this.missingCallback=t,this.errorCallback=e}return t.prototype.getAd=function(t,e){return u(this,void 0,void 0,function(){var i,n,s,r,o;return l(this,function(a){switch(a.label){case 0:if(!t||!e)return[2,null];i=0,n=t,a.label=1;case 1:if(!(i<n.length))return[3,6];s=n[i],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchVast(s,e)];case 3:return(r=a.sent())?[2,r]:(this.handleMissingAd(s.name),[3,5]);case 4:return o=a.sent(),this.handleErrorAd(s.name,o),[3,5];case 5:return i++,[3,1];case 6:return[2,null]}})})},t.prototype.fetchVast=function(t,e){return u(this,void 0,void 0,function(){var i;return l(this,function(n){switch(n.label){case 0:return t&&e?[4,this.vastParser.getAndParseVAST(t.url,r)]:[2,null];case 1:return i=n.sent(),[2,this.checkAds(i.ads,t,e)]}})})},t.prototype.checkAds=function(t,e,i){var n,s,r,o,a,h,u,l,c;if(!t||!e||!i)return null;for(n=e.name,s=i.adType,r=0,o=t;r<o.length;r++)for(a=o[r],h=0,u=a.creatives;h<u.length;h++)if(l=u[h],l.type===s&&(c=this.findSource(l,i)))return{name:n,ad:a,creative:l,source:c};return null},t.prototype.findSource=function(t,e){return t&&e?"linear"===e.adType&&"linear"===t.type?this.findMediaFile(t,e):"nonlinear"===e.adType&&"nonlinear"===t.type?this.findImageFile(t,e):"":""},t.prototype.findMediaFile=function(t,e){var i,n,s,r,h,u,l,c,f;if(!t||!t.mediaFiles)return"";for(n=a.linear,e&&e.format&&(n=e.format),s=function(e){if(i=t.mediaFiles.find(function(t){return-1!==n.indexOf(t.mimeType)&&e.width===t.width&&e.height===t.height}))return{value:i.fileURL}},r=0,h=o;r<h.length;r++)if("object"==typeof(u=s(h[r])))return u.value;for(l=0,c=t.mediaFiles;l<c.length;l++)f=c[l],-1!==n.indexOf(f.mimeType)&&(!i||f.width>i.width||f.height>i.height)&&(i=f);return i?i.fileURL:""},t.prototype.findImageFile=function(t,e){var i,n=a.nonlinear;return e&&e.format&&(n=e.format),t&&t.variations?(i=t.variations.find(function(t){return-1!==n.indexOf(t.type)}),i?i.staticResource:""):""},t.prototype.handleMissingAd=function(t){this.missingCallback&&"function"==typeof this.missingCallback&&this.missingCallback(t),n.logger.warn("Missing ad with name "+t)},t.prototype.handleErrorAd=function(t,e){this.errorCallback&&"function"==typeof this.errorCallback&&this.errorCallback(t),n.logger.warn("Error during ad "+t+", "+e)},t}(),e.AdsParser=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(199),s=i(271),r=i(269),o=function(){function t(t,e){this.isSkippable=!1,this.skipDelay=0,this.duration=0,this.ended=!1,this.canSkip=!1,this.impressed=!1;var i=t.ad,r=t.creative,o=t.name,a=r.skipDelay,h=r.duration;this.vastTracker=new s.VASTTracker(null,i,r),this.name=o,this.adsGa=e,this.adType=n.adTypes.video,this.isSkippable=null!==a,this.skipDelay=a||0,this.duration=h||0}return t.prototype.stateChange=function(t){this.impressed||t!==r["default"].STATE.PLAYING||(this.vastTracker.trackImpression(),this.adsGa.sendStart(this.adType,this.name),this.impressed=!0)},t.prototype.onEnd=function(){this.ended||(this.vastTracker.complete(),this.adsGa.sendSuccess(this.adType,this.name),this.ended=!0)},t.prototype.timeUpdate=function(t){this.isSkippable&&this.skipDelay-t<=0&&!this.canSkip&&(this.canSkip=!0),this.vastTracker.setProgress(t)},t.prototype.onSkip=function(){this.vastTracker.skip(),this.adsGa.sendSuccess(this.adType,this.name),this.ended=!0},t.prototype.sendError=function(t,e){this.vastTracker.errorWithCode(t),this.adsGa.sendError(this.adType,this.name,e)},t}();e["default"]=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(35),s={uid:"",tracker:{get:function(){return s.uid}},config:{}},r=function(t,e){void 0===e&&(e={});var i=e.name||"default";e.sampleRate&&n.getIntInInterval(0,100)>e.sampleRate||(s.config[i]={v:1,tid:t},e&&"none"===e.storage?s.uid=e.clientId||n.uuid():s.uid=n.uuid())},o=function(t,e,i){s.config[t]&&(s.config[t][e]=i)},a=function(t,e){var i,n,r,o,a,h,u=s.config,l=s.uid;if(u[t]){for(i=u[t],n=i.v,r=i.tid,o="",o+="v="+n+"&",o+="tid="+r+"&",o+="cid="+l,a=1;u[t]["dimension"+a];)o+="&cd"+a+"="+u[t]["dimension"+a],a+=1;Object.keys(e).forEach(function(t){o+="&"+t+"="+e[t]}),h=new XMLHttpRequest,h.open("POST","http://www.google-analytics.com/collect",!0),h.setRequestHeader("Content-type","application/x-www-form-urlencode"),h.send(o)}},h=function(t,e,i,n,s){var r={t:"event"};e&&(r.ec=e),i&&(r.ea=i),n&&(r.el=n),s&&(r.ev=s),a(t,r)},u=function(t,e,i,n,s,r,o,h){var u={};e&&(u.dl=e),i&&(u.dh=i),n&&(u.dp=n),s&&(u.dt=s),r&&(u.cd=r),o&&(u.cg1=o),h&&(u.linkid=h),a(t,u)},l=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];switch(e){case"event":h.apply(void 0,[t].concat(i));break;case"pageview":u.apply(void 0,[t].concat(i))}},c=function(t){var e,i,n,a,h;for(e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if("function"==typeof t)t(s.tracker);else if("string"==typeof t)switch(n=t.split("."),a=n[2===n.length?1:0],h=2===n.length?n[0]:"default",a){case"create":r.apply(void 0,e);break;case"set":o.apply(void 0,[h].concat(e));break;case"send":l.apply(void 0,[h].concat(e))}};e["default"]=c},function(t,e,i){"use strict";e.__esModule=!0;var n=function(){var t,e,i,n,s,r,o,a="https:"===window.location.protocol?"https:":"http:";t=window,e=document,i="script",n=a+"//www.google-analytics.com/analytics.js",s="ga",t.GoogleAnalyticsObject=s,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,r=e.createElement(i),o=e.getElementsByTagName(i)[0],r.async=!0,r.src=n,o&&o.parentNode&&o.parentNode.insertBefore(r,o)};e.initRealGAScript=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i(36).addVocabulary({new_game:"New Game",highscores:"High Scores",settings:"Settings",about:"About",sounds:"Sounds",on:"On",off:"Off",render:"Render",canvas:"Canvas",legacy:"Legacy",performance_check:"Performance Check",yes:"Yes",no:"No",quit:"Quit",level:"Level",score:"Score",paused:"Paused",gameover:"Game Over",any_to_continue:"Press any key to continue",new_highscore:"New Highscore!",sure_leave:"Are you sure you want to leave the game?",sure_quit:"Are you sure you want to quit the game?",reward_question:"Do you want to watch an ad to continue?",game_in:"Your game will begin in",skip_ad_in:"You can skip the ad in",skip_ad:"Skip the ad",loading:"Loading",get_ready:"Get ready",any_to_start:"Press any key to start"},"en")},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(12),s=[],r=function(t){void 0===t&&(t=n["default"].CONFIG.toPreload);var e=n["default"].CONFIG.baseUrl;t&&"function"==typeof t.forEach&&t.forEach(function(t){var i=new Image;s.push(i),i.src=e?""+e+t:t})};e["default"]=r},function(t,e){},function(t,e){var i,n,s=this&&this.__assign||function(){return s=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++){e=arguments[i];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),i=["assets/fonts/big.png","assets/assets.png","assets/shopWindow.png","assets/player.png","assets/enemy.png","assets/redZone.png"],n=["assets/fonts/default.png","assets/fonts/defaultFocused.png","assets/assets2.png","assets/bg.png"],e["default"]=s({gameName:"mautilian",locale:"en",keyMask:831,soundsAllowed:!0,toPreload:i,criticalAssets:n},window.CONFIG||{})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=[{name:"default",fnt:"assets/fonts/default.fnt",png:"assets/fonts/default.png"},{name:"default",fnt:"assets/fonts/defaultFocused.fnt",png:"assets/fonts/defaultFocused.png",focused:!0},{name:"defaultNonFocus",fnt:"assets/fonts/default.fnt",png:"assets/fonts/default.png"},{name:"big",fnt:"assets/fonts/big.fnt",png:"assets/fonts/big.png"},{name:"big",fnt:"assets/fonts/bigFocused.fnt",png:"assets/fonts/bigFocused.png",focused:!0},{name:"font",fnt:"assets/fonts/font.fnt",png:"assets/fonts/font.png"}];e["default"]=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i(36).addVocabulary({about_1:"Welcome to the first infinite space game!",about_2:"Take control over the Mautilian spaceship",about_3:"and travel through universe. On your",about_4:"exploration you may face a dangerous foes!",about_5:"Fight them, get golds and buy upgrades in hangar",about_6:"and shops that you find on your travels.",about_7:"Good luck!",closeModal:"Press RETURN",closeModal_1:"to SKIP",hangar_1:"Hangar:",hangar_2:"Place where you can spend",hangar_3:"money that you have lost on the battlefield.",hangar_4:"This upgrades are permanent.",hangar_5:"This is only available",hangar_6:"before you take of!",shop_1:"Shop:",shop_2:"Buy temporary upgrades. They are lost upon death",shop_3:"Health: Increases the health of the hull",shop_4:"Shield: Increases the shield capacity",shop_5:"Damage: Increases the damage of projectiles",shop_6:"Crit: Increases the critical chance of you projectiles",shop_7:"Speed: Increases the maximal speed of your ship",weapon_1:"Weapon:",weapon_2:"You have just acquired a rare weapon.",weapon_3:"The weapon is released on double click of OK button",play_game:"Play Game"},"en")},function(t,e){},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d;Object.defineProperty(e,"__esModule",{value:!0}),n=i(42),s=i(935),r=i(941),o=i(943),a=i(945),h=i(953),u=i(962),l=i(1876),c=i(1878),f=i(1879),d=function(){n.setRoot(window.document.getElementById("root")),n.initRoute("menu",new a["default"]),n.initRoute("about",new s["default"]),n.initRoute("highscores",new o["default"]),n.initRoute("settings",new l["default"]),n.initRoute("phaserGame",new u["default"]),n.initRoute("shop",new c["default"]),n.initRoute("performance",new h["default"]),n.initRoute("xboxlive",new f["default"]),n.initRoute("adplayer",new r["default"])},e["default"]=d},function(t,e,i){var n,s,r,o,a,h,u=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(12),r=i(36),o=i(937),a=i(125),h=function(t){function e(){var e=t.call(this)||this;return e.quitGameModal=a["default"],e.aboutText=[r._("about_1"),r._("about_2"),r._("about_3"),r._("about_4"),r._("about_5"),r._("about_6"),r._("about_7")],e}return u(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene about-scene">\n\t\t\t\t<div class="about">\n\t\t\t\t\t<div class="redBG"></div>\n\t\t\t\t\t\t'+n["default"](this.aboutHeader,"big")+"\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t"+this.aboutText.map(function(t){return n["default"](t)+"<br />"}).join("")+'\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="version">'+n["default"](s["default"].CONFIG.version)+"</div>\n\t\t\t</div>\n\t\t"},e}(o["default"]),e["default"]=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,i,n){void 0===i&&(i="default");var s=t.charCodeAt(0),r=e?e.charCodeAt(0):null;return'<span class="graphical-letter graphical-letter-'+i+" c-"+s+(r?" after-"+r:"")+'" '+(n?'style="margin-right: 0px"':"")+"></span>"}},function(t,e,i){var n,s,r,o,a,h,u=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(141),s=i(12),r=i(124),o=i(40),a=i(36),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aboutHeader=a._("about"),e.aboutText=["Please fill your about text in this.aboutText array"],e.quitGameModal=r["default"],e.backRoute="menu",e.theme="default",e}return u(e,t),e.prototype.render=function(){switch(this.theme){case"default":return'\n\t\t\t\t\t<div class="scene about-scene">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t'+this.getTitle()+"<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t"+this.getText()+'\n\t\t\t\t\t\t\t<div class="version">'+o["default"](s["default"].CONFIG.version)+'</div>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t\t'+this.getOthers()+"\n\t\t\t\t\t</div>\n\t\t\t\t";case"wrapper":return'\n\t\t\t\t\t<div class="scene about-scene">\n\t\t\t\t\t\t<div class="titleUnderline"></div>\n\t\t\t\t\t\t<div class="title">'+this.getTitle()+'</div>\n\t\t\t\t\t\t<p class="aboutText">\n\t\t\t\t\t\t\t'+this.getText()+'\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div class="version">'+o["default"](s["default"].CONFIG.version)+'</div>\n\t\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t\t'+this.getOthers()+"\n\t\t\t\t\t</div>\n\t\t\t\t";default:return""}},e.prototype.getText=function(){return this.aboutText.map(function(t){return o["default"](t)+"<br />"}).join("")},e.prototype.getTitle=function(){return o["default"](this.aboutHeader,"big")},e.prototype.getOthers=function(){return""},e}(n["default"]),e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(201),s=i(45),r=i(940),o=function(){function t(){this.refs={},this.els=[],this.mouseInteractive=[]}return t.prototype.componentWillMount=function(){},t.prototype.render=function(){return""},t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.onKeyDown=function(t){return!1},t.prototype.onClick=function(t){return!1},t.prototype.onMouseOver=function(t){return!1},t.prototype.focus=function(t){n.focus(t)},t.prototype.mount=function(t){this.beforeMount(),t.innerHTML=this.render(),this.afterMount()},t.prototype.unmount=function(){this.componentWillUnmount()},t.prototype.mountAppend=function(t){this.beforeMount(),t.insertAdjacentHTML("beforeend",this.render()),this.afterMount()},t.prototype.updateStyle=function(t,e,i){r.updateStyle(t,e,i)},t.prototype.updateStyles=function(t,e){r.updateStyles(t,e)},t.prototype.hide=function(t){this.updateStyle(t,"display","none")},t.prototype.show=function(t){this.updateStyle(t,"display","block")},t.prototype.hidden=function(t){this.updateStyle(t,"visibility","hidden")},t.prototype.visible=function(t){this.updateStyle(t,"visibility","visible")},t.prototype.afterRender=function(){var t=this;this.els.forEach(function(e){var i=window.document.getElementById(e);i&&(t.refs[e]=i)}),this.mouseInteractive.forEach(function(e){var i=window.document.getElementById(e);i&&(i.addEventListener("mouseover",function(i){i.stopPropagation(),t.focus(e)}),i.addEventListener("click",function(e){t.onKeyDown({key:s.Keys.ENTER,target:i,originalEvent:e})}))})},t.prototype.beforeMount=function(){this.componentWillMount()},t.prototype.afterMount=function(){this.afterRender(),this.componentDidMount()},t}();e["default"]=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(197);e.getKey=function(t){return n["default"].keys[t]},e.getKeyCode=function(t){return Object.keys(n["default"].keys).map(function(t){return parseInt(t,10)}).find(function(e){return n["default"].keys[e]===t})}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(103);e.updateStyle=function(t,e,i){t&&"parentRule"!==e&&"length"!==e?t.style[e]!==i&&(t.style[e]=i):n["default"].error("Updating style of not present element!")},e.updateStyles=function(t,i){if(t){var s=Object.keys(i).filter(function(e){return t.style[e]!==i[e]}),r=2<s.length,o=t.style.display;r&&e.updateStyle(t,"display","none"),s.forEach(function(n){e.updateStyle(t,n,i[n])}),r&&e.updateStyle(t,"display",o)}else n["default"].error("Updating style of not present element!")}},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(942),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n["default"]),e["default"]=s},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(199),s=i(42),r=i(198),o=i(12),a=i(36),h=i(45),u=i(103),l=i(124),c=i(141),f=i(35),d=i(269),p="adPlayerTimer",g="adPlayerMessage",y="adPlayerInfo",m="adLoader",v="adPlayerLoader",x="adPlayerDebugName",b=64,_=b-1024,w=100,T=900,S=402,A=6e4,E=2e4,P=function(t){function e(){var e=t.call(this)||this;return e.quitGameModal=l["default"],e.debugSequence=[h.Keys.UP,h.Keys.RIGHT,h.Keys.LEFT,h.Keys.ENTER,h.Keys.DOWN],e.debugSequencePosition=0,e.els=[p,g,y,v,m,x],e.throbberIsShown=!1,e.playLinearAd=e.playLinearAd.bind(e),e.onError=e.onError.bind(e),e.onEnd=e.onEnd.bind(e),e.closePlayer=e.closePlayer.bind(e),e.onStateChange=e.onStateChange.bind(e),e.onTimeUpdate=e.onTimeUpdate.bind(e),e.initTimeoutFailSafe=e.initTimeoutFailSafe.bind(e),e.globalTimeoutFailSafe=e.globalTimeoutFailSafe.bind(e),e}return O(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="adplayerScene" class="scene game-scene">\n\t\t\t\t<div id="'+y+'">\n\t\t\t\t\t<span id="'+g+'"></span>\n\t\t\t\t\t<span id="'+p+'"></span>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+x+'"></div>\n\t\t\t\t<div id="'+m+'">\n\t\t\t\t\t<div id="'+v+'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.sceneDidMount=function(){r.restartStartCount(),this.vastTracker=null,this.globalFailSafeTimeout=setTimeout(this.globalTimeoutFailSafe,A),this.initFailSafeTimeout=setTimeout(this.initTimeoutFailSafe,E),this.showThrobber(),r.adsControl.getLinearAd().then(this.playLinearAd)["catch"](this.onError)},e.prototype.onKeyDown=function(t){var e=t.key;return e===h.Keys.ENTER&&this.vastTracker&&this.vastTracker.canSkip?(this.vastTracker.onSkip(),this.closePlayer()):e===this.debugSequence[this.debugSequencePosition]?this.debugSequencePosition+1>=this.debugSequence.length&&this.vastTracker?this.visible(this.refs[x]):this.debugSequencePosition+=1:this.debugSequencePosition=0,!1},e.prototype.onError=function(t){var e=t.message||"[MauAdPlayer] Error during ad retrieval.";u["default"].warn(e),this.vastTracker&&this.vastTracker.sendError(T,e),this.closePlayer()},e.prototype.playLinearAd=function(t){var e,i,n=o["default"].Device.player;if(!t)throw Error("Ad not found");if(!n)throw Error("[MauAdPlayer] Unable to fing a player.");e=t.vastTracker,i=t.source,this.vastTracker=e,this.player=n,this.refs[x].innerHTML=this.vastTracker.name,this.refs[g].innerHTML=this.vastTracker.isSkippable?a._("skip_ad_in"):a._("game_in"),this.addSubscribes(),this.player.open(i),this.player.play()},e.prototype.addSubscribes=function(){this.player&&(this.player.subscribe("statechange",this.onStateChange),this.player.subscribe("end",this.onEnd),this.player.subscribe("error",this.onError),this.player.subscribe("timeupdate",this.onTimeUpdate),this.updateTimer(0))},e.prototype.onStateChange=function(t){t===d["default"].STATE.BUFFERING?(this.hidden(this.refs[y]),this.showThrobber()):(t===d["default"].STATE.PLAYING&&clearTimeout(this.initFailSafeTimeout),this.hideThrobber(),this.refs[y].className="",this.visible(this.refs[y]),this.vastTracker&&this.vastTracker.stateChange(t))},e.prototype.onEnd=function(){this.vastTracker&&!this.vastTracker.ended&&(this.vastTracker.onEnd(),this.closePlayer())},e.prototype.onTimeUpdate=function(t){var e=f.round(t/1e3);this.vastTracker&&this.vastTracker.timeUpdate(e),this.updateTimer(e)},e.prototype.updateTimer=function(t){var e,i,n,s,r;this.vastTracker&&(e=this.vastTracker,i=e.duration,n=e.skipDelay,this.vastTracker.isSkippable?(s=n-t,this.vastTracker.canSkip?(this.refs[p].innerHTML="",this.refs[g].innerHTML=a._("skip_ad"),this.refs[y].className="focused"):this.refs[p].innerHTML=s+"s"):(r=i-t,r<0&&this.onEnd(),this.refs[p].innerHTML=r+"s"))},e.prototype.unsubscribeEvents=function(){this.player&&(this.player.unsubscribe("statechange",this.onStateChange),this.player.unsubscribe("end",this.onEnd),this.player.unsubscribe("error",this.onError),this.player.unsubscribe("timeupdate",this.onTimeUpdate))},e.prototype.showThrobber=function(){if(!this.throbberIsShown){var t=0,e=this.refs[v];this.throbberInt=setInterval(function(){(t-=b)<_&&(t=0),e.style.backgroundPosition=t+"px 0px"},w),this.visible(this.refs[m]),this.throbberIsShown=!0}},e.prototype.hideThrobber=function(){this.throbberIsShown&&this.throbberInt&&(clearInterval(this.throbberInt),this.hidden(this.refs[m]),this.throbberIsShown=!1,this.throbberInt=null)},e.prototype.initTimeoutFailSafe=function(){r.adsControl.adsGa.sendError(n.adTypes.video,"initTimeoutFailSafe","initTimeoutFailSafe"),this.vastTracker&&this.vastTracker.sendError(S,"initTimeoutFailSafe"),this.closePlayer()},e.prototype.globalTimeoutFailSafe=function(){r.adsControl.adsGa.sendError(n.adTypes.video,"globalTimeoutFailSafe","globalTimeoutFailSafe"),this.vastTracker&&this.vastTracker.sendError(T,"globalTimeoutFailSafe"),this.closePlayer()},e.prototype.closePlayer=function(){this.player&&(this.unsubscribeEvents(),this.player.hide(),this.player.stop(),this.player=null),this.hideThrobber(),clearTimeout(this.initFailSafeTimeout),clearTimeout(this.globalFailSafeTimeout),s.routeTo("game")},e}(c["default"]),e["default"]=P},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(36),r=i(944),o=i(125),a=function(t){function e(){var e=t.call(this)||this;return e.quitGameModal=o["default"],e}return h(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene highscores-scene">\n\t\t\t\t<div class="highscores">\n\t\t\t\t\t<div class="redBG"></div>\n\t\t\t\t\t<h1>'+n["default"](s._("highscores"),"big")+"</h1>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t"+this.highscores.map(function(t,e){return"\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>"+n["default"](e+1)+"</td>\n\t\t\t\t\t\t\t\t<td>"+n["default"](t.user)+'</td>\n\t\t\t\t\t\t\t\t<td class="right">'+n["default"](~~t.score)+"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t"}).join("")+"\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n        "},e}(r["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h,u,l,c,f=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(141),s=i(12),r=i(45),o=i(42),a=i(104),h=i(124),u=i(40),l=i(36),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quitGameModal=h["default"],e.highscores=[],e}return f(e,t),e.prototype.sceneWillMount=function(){this.highscores=s["default"].Storage.get(s["default"].CONFIG.gameName+"_highscore")||[]},e.prototype.render=function(){return'\n\t\t\t<div class="scene highscores-scene">\n\t\t\t\t<div class="highscores">\n\t\t\t\t\t<h1>'+u["default"](l._("highscores"),"big")+"</h1>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t"+this.highscores.map(function(t,e){return"\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>"+u["default"](e+1)+"</td>\n\t\t\t\t\t\t\t\t<td>"+u["default"](t.user)+'</td>\n\t\t\t\t\t\t\t\t<td class="right">'+u["default"](t.score)+"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t"}).join("")+"\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n        "},e.prototype.onKeyDown=function(t){var e=t.key;return e===r.Keys.RETURN||e===r.Keys.ENTER?(o.routeTo("menu"),!1):e!==r.Keys.EXIT||(a.showModal(this.quitGameModal).then(function(t){t&&s["default"].Device.exit()}),!1)},e}(n["default"]),e["default"]=c},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(12),r=i(36),o=i(42),a=i(946),h=i(399),u=i(125),l="sounds_on",c="sounds_off",f="root-main-menu",d=function(t){function e(){var e=t.call(this)||this;return e.MENU_ITEMS=[{id:a["default"].NEW_GAME,text:r._("play_game")},{id:a["default"].HIGHSCORES,text:r._("highscores")},{id:l,text:r._("sounds")+": "+r._("on")},{id:c,text:r._("sounds")+": "+r._("off")},{id:a["default"].ABOUT,text:r._("about")},{id:a["default"].QUIT,text:r._("quit")}],e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e.quitGameModal=u["default"],e.els.push(f),e}return p(e,t),e.prototype.sceneWillMount=function(){if(t.prototype.sceneWillMount.call(this),!s["default"].Sounds.initialized){var e=this.visibleMenuItems.indexOf(l);e>=0&&this.visibleMenuItems.splice(e,1),e=this.visibleMenuItems.indexOf(c),e>=0&&this.visibleMenuItems.splice(e,1)}},e.prototype.sceneDidMount=function(){s["default"].Sounds.initialized?this.changeSound(s["default"].Sounds.allowed):(this.hide(this.refs[l]),this.hide(this.refs[c]),this.refs[f].className+=" no-sound"),t.prototype.sceneDidMount.call(this),(new h.Checkpoints).hasCheckpoint()?this.newGameRoute="phaserGame":this.newGameRoute="shop"},e.prototype.render=function(){var t=this;return'\n\t\t\t<span id="'+f+'" class="scene main-menu-scene">\n\t\t\t\t<div class="gamelogo"></div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(e){return'<li id="'+e.id+'">\n\t\t\t\t\t\t\t<div class="inline select"></div>\n\t\t\t\t\t\t\t<div class="inline">'+n["default"](t.upperCase?e.text.toUpperCase():e.text)+"</div>\n\t\t\t\t\t\t</li>"}).join("")+'\n\t\t\t\t</ul>\n\t\t\t\t<div class="menuRocket"></div>\n\t\t\t\t<div class="twitter"></div>\n\t\t\t</div>\n\t\t'},e.prototype.enter=function(e){if(t.prototype.enter.call(this,e),!e)return!0;switch(e.id){case a["default"].NEW_GAME:o.routeTo(this.newGameRoute);break;case a["default"].HIGHSCORES:o.routeTo("highscores");break;case l:this.changeSound(!1);break;case c:this.changeSound(!0);break;case a["default"].ABOUT:o.routeTo("about");break;case a["default"].QUIT:this.handleQuit()}return!1},e.prototype.changeSound=function(t){t?this.switchVisibility(l,c):this.switchVisibility(c,l),s["default"].Sounds.setSounds(t),s["default"].SoundManager.setSounds(t)},e}(a["default"]),e["default"]=d},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(201),r=i(42),o=i(40),a=i(36),h=i(200),u=i(202),l=i(272),c="new_game",f="highscores",d="settings",p="about",g="quit",y=[{id:c,text:a._("new_game")},{id:f,text:a._("highscores")},{id:d,text:a._("settings")},{id:p,text:a._("about")},{id:g,text:a._("quit")}],m=function(t){function e(){var e=t.call(this)||this;return e.MENU_ITEMS=y,e.newGameRoute="game",e.upperCase=!1,e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e}return v(e,t),e.prototype.sceneDidMount=function(){t.prototype.sceneDidMount.call(this),s.focus(c),u["default"].adRewardPlayed=!1},e.prototype.render=function(){return'\n\t\t\t<div class="scene main-menu-scene">\n\t\t\t\t<div class="gamelogo"></div>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.renderMenuItems()+"\n\t\t\t\t</ul>\n\t\t\t\t"+this.renderOthers()+"\n\t\t\t</div>\n\t\t"},e.prototype.renderMenuItems=function(){var t=this;return"\n\t\t\t"+this.MENU_ITEMS.map(function(e){return'<li id="'+e.id+'">\n\t\t\t\t\t<span class="select"></span>\n\t\t\t\t\t'+o["default"](t.upperCase?e.text.toUpperCase():e.text)+"\n\t\t\t\t</li>"}).join("")+"\n\t\t"},e.prototype.renderOthers=function(){return""},e.prototype.sendGA=function(){setTimeout(function(){h["default"]("send","pageview",n["default"].CONFIG.gameName)},3e3)},e.prototype.enter=function(e){if(t.prototype.enter.call(this,e),!e)return!0;switch(e.id){case c:r.routeTo(this.newGameRoute);break;case f:r.routeTo("highscores");break;case d:r.routeTo("settings");break;case p:r.routeTo("about");break;case g:this.handleQuit()}return!1},e.prototype.handleBack=function(){return this.handleQuit()},e.NEW_GAME=c,e.HIGHSCORES=f,e.SETTINGS=d,e.ABOUT=p,e.QUIT=g,e}(l["default"]),e["default"]=m},function(t,e,i){var n,s,r,o,a,h,u=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(40),r=i(36),o=i(948),a="hsFormNameInput",h=function(t){function e(){var e=t.call(this)||this;return e.useFocusedFont=!1,e.NameInputClass=o["default"],e.nameInput=null,e.score=0,e.els=[a],e}return u(e,t),e.prototype.getName=function(){return this.nameInput?this.nameInput.getName():""},e.prototype.setScore=function(t){this.score=t},e.prototype.render=function(){return'\n\t\t\t<div id="highscoreForm">\n\t\t\t\t<h1>'+s["default"](r._("new_highscore"))+'</h1>\n\t\t\t\t<div id="'+a+'"></div>\n\t\t\t</div>\n\t\t'},e.prototype.componentDidMount=function(){this.nameInput=new this.NameInputClass(this.useFocusedFont),this.nameInput.mount(this.refs[a])},e.prototype.componentWillUnmout=function(){this.nameInput&&this.nameInput.unmount(),this.nameInput=null},e.prototype.onKeyDown=function(t){return!!this.nameInput&&this.nameInput.onKeyDown(t)},e}(n["default"]),e["default"]=h},function(t,e,i){var n,s,r,o,a,h,u,l,c,f=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(949),r=i(950),o=i(12),a=i(201),h=i(45),u=function(t,e,i){var n=t.split("");return n[i]=e,n.join("")},l="nameInput",c=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i.user=o["default"].Storage.get("last_used_user")||"AAA",i.selected=0,i.useFocusedFont=!1,i.useFocusedFont=e,i.els=[l],i.onClick=i.onClick.bind(i),i.onMouseOver=i.onMouseOver.bind(i),i}return f(e,t),e.prototype.componentDidMount=function(){this.refs[l].addEventListener("click",this.onClick,!1),this.refs[l].addEventListener("mouseover",this.onMouseOver,!1)},e.prototype.componentWillUnmount=function(){this.refs[l].removeEventListener("click",this.onClick,!1),this.refs[l].removeEventListener("mouseover",this.onMouseOver,!1)},e.prototype.render=function(){return'\n\t\t\t<div id="'+l+'">\n\t\t\t\t'+this.renderLetter()+"\n\t\t\t</div>\n\t\t"},e.prototype.onKeyDown=function(t){switch(t.key){case h.Keys.UP:this.previousLetter();break;case h.Keys.DOWN:this.nextLetter();break;case h.Keys.LEFT:this.previousPosition();break;case h.Keys.RIGHT:this.nextPosition()}return!1},e.prototype.onClick=function(t){var e=t.srcElement.className;return-1!==e.indexOf("down")?this.nextLetter():-1!==e.indexOf("up")?this.previousLetter():a.fakeEnter(),this.updateInput(),!1},e.prototype.onMouseOver=function(t){for(var e=this.selected,i=t.srcElement;i&&(!i.id||-1===i.id.indexOf("niLetter"));)i=i.parentElement;if(!i)return!1;switch(i.id){case"niLetter0":this.selected=0;break;case"niLetter1":this.selected=1;break;case"niLetter2":this.selected=2}this.selected!==e&&this.updateInput()},e.prototype.getName=function(){return this.user},e.prototype.previousPosition=function(){0<this.selected&&(this.selected-=1,this.updateInput())},e.prototype.nextPosition=function(){this.selected<2&&(this.selected+=1,this.updateInput())},e.prototype.previousLetter=function(){this.user=u(this.user,s["default"].prevLetter(this.user.charAt(this.selected)),this.selected),this.updateInput()},e.prototype.nextLetter=function(){this.user=u(this.user,s["default"].nextLetter(this.user.charAt(this.selected)),this.selected),this.updateInput()},e.prototype.renderLetter=function(){var t=this;return[0,1,2].map(function(e){return r["default"](t.user.charAt(e),t.selected===e,"niLetter"+e,t.useFocusedFont)}).join("")},e.prototype.updateInput=function(){this.refs[l].innerHTML=this.renderLetter()},e}(n["default"]),e["default"]=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i={alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"],nextLetter:function(t){var e=i.alphabet.indexOf(t)+1;return e===i.alphabet.length?i.alphabet[0]:i.alphabet[e]},prevLetter:function(t){var e=i.alphabet.indexOf(t)-1;return e<0?i.alphabet[i.alphabet.length-1]:i.alphabet[e]}};e["default"]=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(40);e["default"]=function(t,e,i,s){return'\n\t\t<div id="'+i+'" class="letter-input'+(e?" selected":"")+'">\n\t\t\t<div class="arrow up"></div>\n\t\t\t<div class="'+(s&&e?"focused":"")+'">'+n["default"](t)+'</div>\n\t\t\t<div class="arrow down"></div>\n\t\t</div>\n\t'}},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(162),s=i(36),r=function(t){function e(){var e=t.call(this)||this;return e.initFocus=e.YES_ID,e.question=s._("reward_question"),e}return o(e,t),e}(n["default"]),e["default"]=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(12),s=i(103),r=i(82),o=function(){function t(t){void 0===t&&(t=n["default"].CONFIG.gameName+"_checkpoint"),this.keys={},this.checkpoint=null,this.checkpointName=t;var e=r["default"].get(t);e&&(this.checkpoint=e)}return t.prototype.hasCheckpoint=function(){return null!==this.checkpoint},t.prototype.saveCheckpoint=function(t){this.checkpoint={},this.process(t,this.checkpoint,this.keys),r["default"].set(this.getCheckpointName(),this.checkpoint)},t.prototype.remove=function(){this.checkpoint=null,r["default"].set(this.getCheckpointName(),null)},t.prototype.loadCheckpoint=function(t){this.checkpoint&&this.process(this.checkpoint,t,this.keys)},t.prototype.getCheckpointName=function(){return this.checkpointName},t.prototype.process=function(t,e,i){var n=this;if("object"!=typeof t||null===t)throw Error("Copy FROM must be an object");if("object"!=typeof e||null===e)throw Error("Copy TO must be an object");Object.keys(i).forEach(function(s){!0===i[s]?e[s]=t[s]:"custom"===i[s]?e[s]=n.customCopy(t[s]):"deep"===i[s]?e[s]=n.deepCopy(t[s]):"array"===i[s]?e[s]=n.deepCopyArray(t[s]):"arrayarray"===i[s]?e[s]=n.deepCopyArrayArray(t[s]):(t[s]=t[s]||{},e[s]=e[s]||{},n.process(t[s],e[s],i[s]))})},t.prototype.customCopy=function(t){return null},t.prototype.deepCopy=function(t){var e,i=this;return t?(e={},Object.keys(t).forEach(function(n){"function"==typeof t[n]?s["default"].warn("Deep copy of a function is not supported"):t[n]instanceof Array?e[n]=i.deepCopyArray(t[n]):"object"!=typeof t[n]||null===t[n]?e[n]=t[n]:e[n]=i.deepCopy(t[n])}),e):null},t.prototype.deepCopyArray=function(t){var e=this;return t.map(function(t){return"function"==typeof t?(s["default"].warn("Deep copy of a function is not supported"),null):"object"!=typeof t||null===t?t:e.deepCopy(t)})},t.prototype.deepCopyArrayArray=function(t){var e=this;return t.map(function(t){return"function"==typeof t?(s["default"].warn("Deep copy of a function is not supported"),null):"object"!=typeof t||null===t?t:e.deepCopyArray(t)})},t}();e["default"]=o},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(954),s=i(400),r=i(125),o=function(t){function e(){var e=t.call(this)||this;return e.leaveGameModal=s["default"],e.quitGameModal=r["default"],e}return a(e,t),e}(n["default"]),e["default"]=o},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(202),s=i(955),r=i(162),o=i(124),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameComponentClass=s["default"],e.leaveGameModal=r["default"],e.quitGameModal=o["default"],e}return h(e,t),e.prototype.sendGA=function(){},e}(n["default"]),e["default"]=a},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),M=this&&this.__assign||function(){return(M=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(42),r=i(45),o=i(398),a=i(200),h=i(956),u=i(957),l=i(958),c=i(959),f=i(961),d="dom",p="bg",g="canvas",y=[{id:"dom1",type:d,Component:h["default"],results:[]},{id:"dom-background1",type:p,Component:u["default"],results:[]},{id:"canvas1",type:g,Component:l["default"],results:[]},{id:"dom-background2",type:p,Component:u["default"],results:[]},{id:"canvas2",type:g,Component:l["default"],results:[]},{id:"dom2",type:d,Component:h["default"],results:[]},{id:"canvas3",type:g,Component:l["default"],results:[]},{id:"dom3",type:d,Component:h["default"],results:[]},{id:"dom-background3",type:p,Component:u["default"],results:[]}],m=[{id:"canvas1",type:g,Component:l["default"],results:[]},{id:"canvas2",type:g,Component:l["default"],results:[]},{id:"canvas3",type:g,Component:l["default"],results:[]},{id:"canvas4",type:g,Component:l["default"],results:[]}],v=[{id:"dom1",type:d,Component:h["default"],results:[]},{id:"dom-background1",type:p,Component:u["default"],results:[]},{id:"dom-background2",type:p,Component:u["default"],results:[]},{id:"dom2",type:d,Component:h["default"],results:[]}],x=2e3,b=15e3,_=10,w="pretest-info",T="info",S="performance-tests",A="results",E=function(t){return n["default"].CONFIG.debug?y.map(function(t){return M({},t)}):(t?v:m).map(function(t){return M({},t)})},P=function(t){function e(){var e=t.call(this)||this;return e.debug=n["default"].CONFIG.debug,e.running=!1,e.finished=!1,e.testTimeout=x,e.testIndex=0,e.testStart=0,e.testDuration=0,e.fpsStack=[],e.els=[w,T,S,A],e}return O(e,t),e.prototype.componentWillMount=function(){this.testCases=E(this.useCanvas)},e.prototype.componentWillUnmount=function(){},e.prototype.componentDidMount=function(){this.physics=new c["default"],this.hide(this.refs[S]),this.hide(this.refs[T]),this.hide(this.refs[A])},e.prototype.render=function(){return'\n\t\t<div class="performance">\n\t\t\t<div id="'+w+'"></div>\n\t\t\t<div id="'+S+'"></div>\n\t\t\t<div id="'+T+'"><div id="information"></div></div>\n\t\t\t<div id="'+A+'"></div>\n\t\t</div>\n\t\t'},e.prototype.onKeyDown=function(t){return t.key!==r.Keys.ENTER||(this.running||this.finished?this.finished&&s.routeTo("menu"):(this.hide(this.refs[w]),this.show(this.refs[T]),this.show(this.refs[S]),this.running=!0),!1)},e.prototype.step=function(t,e){this.running&&(0<this.testTimeout?(this.testTimeout-=t,this.testTimeout<=0&&this.runNextTest()):(this.testDuration+=t,this.testDuration>b?this.endTest():this.physics&&(this.physics.step(t),this.testComponent.draw(this.physics.getData()),this.fpsStack.push(e||0))))},e.prototype.endTest=function(){this.getResults(),this.testComponent.unmount(),this.testTimeout=x,++this.testIndex===this.testCases.length&&(this.running=!1,this.finished=!0,this.processResults(),this.showResults())},e.prototype.getResults=function(){var t,e=(Date.now()-this.testStart)/1e3,i=this.fpsStack.length,n=1/(e/i);this.removeMinAndMaxFPS(),t=this.fpsStack.reduce(function(t,e){return t+e},0)/i,this.testCases[this.testIndex].results=[n,t]},e.prototype.runNextTest=function(){this.fpsStack=[],this.testDuration=0,this.testStart=Date.now();var t=this.testCases[this.testIndex];this.testComponent=new t.Component,this.testComponent.mount(this.refs[S]),this.physics.reset()},e.prototype.removeMinAndMaxFPS=function(){var t=~~(this.fpsStack.length/100*_);this.fpsStack.sort(function(t,e){return t-e}),this.fpsStack.splice(0,t),this.fpsStack.splice(this.fpsStack.length-t)},e.prototype.processResults=function(){var t,e,i,n=0,s=0;this.testCases.forEach(function(t){n+=t.results[0],s+=t.results[1]}),t=this.testCases.length,e=~~(((n/=t)+(s/=t))/2),i={total:n,average:s},this.debug&&(i.debug=this.getDetailResults()),this.results=i,a["default"]("send","event","Performance",e,this.useCanvas?"canvas":"dom")},e.prototype.showResults=function(){this.hide(this.refs[T]),this.hide(this.refs[S]),this.resultsComponent=new f["default"],this.resultsComponent.mount(this.refs[A]),this.resultsComponent.draw(this.results),this.show(this.refs[A])},e.prototype.getDetailResults=function(){return this.testCases.map(function(t){return{id:t.id,total:t.results[0],average:t.results[1]}})},e}(o["default"]),e["default"]=P},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s="dom-wrap",r=function(t){function e(){var e=t.call(this)||this;return e.renderedKeys=[],e.els=[s],e}return o(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="'+s+'"></div>\n\t\t'},e.prototype.draw=function(t){var e=this;t.elements.forEach(function(t){var i,n,r=t.key,o=t.position;-1===e.renderedKeys.indexOf(r)&&(i=document.createElement("div"),i.className="element",e.refs[r]=i,e.refs[s].appendChild(i),e.renderedKeys.push(r)),n=e.refs[r],n.style.top=o.y+"px",n.style.left=o.x+"px"})},e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s="bg-wrap",r=function(t){function e(){var e=t.call(this)||this;return e.renderedKeys=[],e.els=[s],e}return o(e,t),e.prototype.render=function(){return'\n\t\t\t<div id="'+s+'"></div>\n\t\t'},e.prototype.draw=function(t){var e=this;t.elements.forEach(function(t){var i,n=t.key,r=t.position;-1===e.renderedKeys.indexOf(n)&&(i=document.createElement("div"),i.className="element",e.refs[n]=i,e.refs[s].appendChild(i),e.renderedKeys.push(n)),e.refs[n].style.backgroundPosition=r.x+"px "+r.y+"px"})},e}(n["default"]),e["default"]=r},function(t,e,i){var n,s,r,o,a,h,u,l,c,f=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(12),r="assets/performance/boxes.png",o=120,a=54,h=1280,u=720,l="canvas",c=function(t){function e(){var e=t.call(this)||this;return e.els=[l],e}return f(e,t),e.prototype.componentWillMount=function(){this.preload()},e.prototype.componentDidMount=function(){this.getCanvas()},e.prototype.render=function(){return'\n\t\t\t<canvas width="'+h+'" height="'+u+'" id="'+l+'"></canvas>\n\t\t'},e.prototype.draw=function(t){var e=this,i=t.elements;null===this.mainCanvas&&(this.getCanvas(),null===this.mainCanvas)||(this.mainCanvas.width=this.mainCanvas.width,i.forEach(function(t){e.drawElement(t)}))},e.prototype.getCanvas=function(){this.mainCanvas=this.refs[l],null!==this.mainCanvas&&(this.ctx=this.mainCanvas.getContext("2d"))},e.prototype.preload=function(){this.elementCanvas=this.preloadAsset(o,a,r)},e.prototype.preloadAsset=function(t,e,i){var n,r,o,a=document.createElement("canvas");return a.width=t,a.height=e,n=new Image,n.onload=function(){a.getContext("2d").drawImage(n,0,0)},r=window.location.href,o=i,s["default"].CONFIG.baseUrl?o=""+s["default"].CONFIG.baseUrl+i:-1!==r.indexOf("index.html")&&(o=""+window.location.href.split("index.html")[0]+i),n.src=o,a},e.prototype.drawElement=function(t){this.ctx.drawImage(this.elementCanvas,t.position.x,t.position.y)},e}(n["default"]),e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(960),s=function(){function t(){this.nextElement=0,this.currentColumn=0,this.currentRow=0,this.elements=[],this.elementNumber=0}return t.prototype.getData=function(){return{elements:this.elements.map(function(t){return t.getState()})}},t.prototype.reset=function(){this.elements=[],this.elementNumber=0,this.nextElement=0,this.currentColumn=0,this.currentRow=0},t.prototype.step=function(t){var e,i;for(e=t;20<e;)this.step(20),e-=20;i=e/1e3,this.updateElements(e,i)},t.prototype.updateElements=function(t,e){if(this.nextElement-=t,this.nextElement<0){var i=this.generateNewElement();this.elements.push(i),this.nextElement=500}this.elements.forEach(function(t){t.move(e)})},t.prototype.generateNewElement=function(){var t=new n["default"](this.getPositionX(),100,666-54*this.currentRow);return t.setKey(this.elementNumber),this.elementNumber++,this.currentColumn++,this.currentColumn>=6&&(this.currentColumn=0,this.currentRow++),t},t.prototype.getPositionX=function(){return 200*this.currentColumn+80},t}();e["default"]=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,i){this.position={x:t,y:e},this.finalPosition=i}return t.prototype.move=function(t){if(this.position.y!==this.finalPosition){var e=this.position.y+.6*t*100;e>=this.finalPosition&&(e=this.finalPosition),this.position.y=e}},t.prototype.setKey=function(t){this.key="element"+t},t.prototype.getState=function(){return{position:{x:~~this.position.x,y:~~this.position.y},key:this.key}},t}();e["default"]=i},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(51),r=400,o=50,a=0,h=65,u=1,l=n["default"].CONFIG,c=l.fpsLevels,f=l.debug,d=~~((c[0]+c[1])/2),p=[{minValue:c[0],className:"excellent"},{minValue:c[1],className:"decent"},{minValue:c[2],className:"sufficient"},{minValue:c[3],className:"poor"}],g="description-value",y="description-content",m="required-bar",v="required-line",x="final-bar",b="score-label",_="required-label",w="performance-result",T=function(t){function e(){var e=t.call(this)||this;return e.debug=f,e.els=[g,y,m,v,x,b,_,w],e}return S(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="test-result">\n\t\t\t\t<div class="label"></div>\n\t\t\t\t<div id="'+g+'"></div>\n\t\t\t\t<div id="'+y+'"></div>\n\t\t\t</div>\n\t\t\t<div class="score">\n\t\t\t\t<div class="score-bar"></div>\n\t\t\t\t<div id="'+m+'"></div>\n\t\t\t\t<div id="'+v+'"></div>\n\t\t\t\t<div id="'+x+'"></div>\n\t\t\t\t<div id="'+b+'"></div>\n\t\t\t\t<div id="'+_+'"></div>\n\t\t\t</div>\n\t\t\t<table id="'+w+'"></table>\n\t\t\t<div class="enter"></div>\n\t\t'},e.prototype.draw=function(t){var e,i,n=(t.total+t.average)/2,s=this.getDescriptionClassName(n);this.refs[g].className=s,this.refs[y].className=s,e=this.getPosition(n),i=this.getPosition(d),this.refs[m].style.width=i+"px",this.refs[v].style.left=i-u+"px",this.refs[x].className=o<=n?"full":"",this.refs[x].style.width=e+"px",this.refs[b].style.left=e-h+"px",this.refs[_].style.left=i-h+"px",t.debug?this.drawDetail(t):this.hide(this.refs[w])},e.prototype.drawDetail=function(t){var e,i=this;t.debug.forEach(function(t){var n=t.id,s=t.total,r=t.average;document.createElement("tr").innerHTML="\n\t\t\t\t<td>"+n+"</td>\n\t\t\t\t<td>"+s+"</td>\n\t\t\t\t<td>"+r+"</td>\n\t\t\t",i.refs[w].appendChild(e)}),e=document.createElement("tr"),e.innerHTML="\n\t\t\t<td>Final</td>\n\t\t\t<td>"+t.total+"</td>\n\t\t\t<td>"+t.average+"</td>\n\t\t",this.refs[w].appendChild(e)},e.prototype.getDescriptionClassName=function(t){for(var e=p.length-1;--e;)if(p[e].minValue>t)return p[e+1].className;return p[0].className},e.prototype.getPosition=function(t){return r/o*(o<t?o:t)+a},e}(s["default"]),e["default"]=T},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(36),r=i(42),o=i(202),a=i(402),h=i(242),u=i(1874),l=i(400),c=i(125),f="ship",d="score",p=function(t){function e(){var e=t.call(this)||this;return e.maxHighscoreCount=8,e.quitGameModal=c["default"],e.leaveGameModal=l["default"],e.els=e.els.concat([f,d]),e}return g(e,t),e.prototype.sceneDidMount=function(){t.prototype.sceneDidMount.call(this),this.game.scene.add("preload",u.Preload),this.game.scene.add(a.MAIN_SCENE,h.Game),this.game.scene.start("preload")},e.prototype.getScore=function(){this.refs[d].innerHTML=n["default"](this.getScoreValue(),"default"),t.prototype.getScore.call(this)},e.prototype.getGameOverHtml=function(){return'\n\t\t\t<div id="'+o["default"].GAME_OVER+'" class="gameOver">\n\t\t\t\t<div class="redBG"></div>\n\t\t\t\t<div id="'+d+'"></div>\n\t\t\t\t<h1 class="info">'+n["default"](s._("gameover"),"big")+'</h1>\n\t\t\t\t<div id="'+f+'" class="ship"></div>\n\t\t\t\t<div id="'+o["default"].HAS_NO_HIGHSCORE+'">'+n["default"](s._("any_to_continue"),"default")+'</div>\n\t\t\t\t<div id="'+o["default"].HIGHSCORE+'"></div>\n\t\t\t</div>\n\t\t'},e.prototype.restart=function(){r.routeTo("shop")},e}(a["default"]),e["default"]=p},function(t,e,i){i(964),i(965),i(966),i(967),i(968),i(969),i(970),i(971)},function(t,e){Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";var e,i,n,s;if(void 0===this||null===this)throw new TypeError;if(e=Object(this),i=e.length>>>0,"function"!=typeof t)throw new TypeError;for(n=arguments.length>=2?arguments[1]:void 0,s=0;s<i;s++)s in e&&t.call(n,e[s],s,e)})},function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},function(t,e){!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var i=e?this.internal_createDelay(e):this.internal_createDelay();return t(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,i,n){void 0!==n?e.internal_start(t||0,i,n):e.internal_start(t||0,i||0)}):e.start=function(t,e,i){e||i?this.noteGrainOn(t||0,e,i):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}()},function(t,e){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(t,e){Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)})},function(t,e){!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}()},function(t,e,i){(function(t){var e,i,n,s;for(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),t.performance&&t.performance.now||(e=Date.now(),t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}),i=Date.now(),n=["ms","moz","webkit","o"],s=0;s<n.length&&!t.requestAnimationFrame;++s)t.requestAnimationFrame=t[n[s]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[s]+"CancelAnimationFrame"]||t[n[s]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+i-e;return n<0&&(n=0),i=e,setTimeout(function(){i=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(e,i(158))},function(t,e){if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var i=function(t){var e=[];window[t]=function(t){var e;if("number"==typeof t)for(Array.call(this,t),this.length=t,e=0;e<this.length;e++)this[e]=0;else for(Array.call(this,t.length),this.length=t.length,e=0;e<this.length;e++)this[e]=t[e]},window[t].prototype=e,window[t].constructor=window[t]};i("Float32Array"),i("Uint32Array"),i("Uint16Array"),i("Int16Array"),i("ArrayBuffer")}},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"angle",e,i,s,r)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s;for(n=0;n<t.length;n++)s=t[n],e.call(i,s);return t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o;for(i===undefined&&(i=0),n=i;n<t.length;n++){s=t[n],r=!0;for(o in e)s[o]!==e[o]&&(r=!1);if(r)return s}return null};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o;for(i===undefined&&(i=0),n=i;n<t.length;n++){s=t[n],r=!0;for(o in e)s[o]!==e[o]&&(r=!1);if(r)return s}return null};t.exports=i},function(t,e,i){var n=i(405),s=i(273),r=i(3),o=i(2),a=i(203),h=new a({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1),u=function(t,e){var i,o,a,u,l,c,f,d,p,g,y,m;for(e===undefined&&(e={}),i=r(e,"width",-1),o=r(e,"height",-1),a=r(e,"cellWidth",1),u=r(e,"cellHeight",a),l=r(e,"position",s.TOP_LEFT),c=r(e,"x",0),f=r(e,"y",0),d=0,p=0,g=i*a,y=o*u,h.setPosition(c,f),h.setSize(a,u),m=0;m<t.length;m++)if(n(t[m],h,l),-1===i)p+=u,h.y+=u,p===y&&(p=0,h.x+=a,h.y=f);else if(-1===o)d+=a,h.x+=a,d===g&&(d=0,h.x=c,h.y+=u);else if(d+=a,h.x+=a,d===g&&(d=0,p+=u,h.x=c,h.y+=u,p===y))break;return t};t.exports=u},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="add"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="complete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="repeat"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="restart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="start"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pauseall"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="remove"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resumeall"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationcomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationcomplete-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationrepeat-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationrestart-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationstart-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationupdate-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationrepeat"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationrestart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="animationupdate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,n){if(t===undefined)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,n,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};t.exports=i},function(t,e,i){var n=i(18),s=i(427),r=i(4),o={getCenter:function(t){return t===undefined&&(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,e){if(t||(t=new r),e===undefined&&(e=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,0!==this.rotation&&s(t,this.x,this.y,this.rotation),e&&this.parentContainer){this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t)}return t},getTopRight:function(t,e){if(t||(t=new r),e===undefined&&(e=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,0!==this.rotation&&s(t,this.x,this.y,this.rotation),e&&this.parentContainer){this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t)}return t},getBottomLeft:function(t,e){if(t||(t=new r),e===undefined&&(e=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,0!==this.rotation&&s(t,this.x,this.y,this.rotation),e&&this.parentContainer){this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t)}return t},getBottomRight:function(t,e){if(t||(t=new r),e===undefined&&(e=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,0!==this.rotation&&s(t,this.x,this.y,this.rotation),e&&this.parentContainer){this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t)}return t},getBounds:function(t){var e,i,s,r,o,a,h,u,l;return t===undefined&&(t=new n),this.parentContainer?(l=this.parentContainer.getBoundsTransformMatrix(),this.getTopLeft(t),l.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),l.transformPoint(t.x,t.y,t),s=t.x,r=t.y,this.getBottomLeft(t),l.transformPoint(t.x,t.y,t),o=t.x,a=t.y,this.getBottomRight(t),l.transformPoint(t.x,t.y,t),h=t.x,u=t.y):(this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),s=t.x,r=t.y,this.getBottomLeft(t),o=t.x,a=t.y,this.getBottomRight(t),h=t.x,u=t.y),t.x=Math.min(e,s,o,h),t.y=Math.min(i,r,a,u),t.width=Math.max(e,s,o,h)-t.x,t.height=Math.max(i,r,a,u)-t.y,t}};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return t===undefined&&(t=.5),e===undefined&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=Math.round(this.originX*this.width),this._displayOriginY=Math.round(this.originY*this.height),this}};t.exports=i},function(t,e,i){var n=i(163),s={_scaleMode:n.DEFAULT,scaleMode:{get:function(){return this._scaleMode},set:function(t){t!==n.LINEAR&&t!==n.NEAREST||(this._scaleMode=t)}},setScaleMode:function(t){return this.scaleMode=t,this}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.frame.realWidth},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return this.scaleY*this.frame.realHeight},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return t===undefined&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){var i=8,n={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,n){return e===undefined&&(e=!0),n===undefined&&(n=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=i:this.renderFlags&=~i,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};t.exports=n},function(t,e){var i=8,n={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,n){if(t===undefined)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,n,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,n){return e===undefined&&(e=!0),n===undefined&&(n=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=i:this.renderFlags&=~i,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=n},function(t,e){var i=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},n={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(t,e,n,s){return t===undefined&&(t=16777215),e===undefined&&(e=t,n=t,s=t),this._tintTL=i(t),this._tintTR=i(e),this._tintBL=i(n),this._tintBR=i(s),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(t,e,i,n){return this.setTint(t,e,i,n),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(t){this._tintTL=i(t),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(t){this._tintTR=i(t),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(t){this._tintBL=i(t),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(t){this._tintBR=i(t),this._isTinted=!0}},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this._isTinted}}};t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="changedata"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="changedata-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="removedata"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="setdata"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="destroy"},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"alpha",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"x",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r,o,a){return i!==undefined&&null!==i||(i=e),n(t,"x",e,s,o,a),n(t,"y",i,r,o,a)};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"y",e,i,s,r)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o;for(i===undefined&&(i=0),n===undefined&&(n=6.28),s=i,r=(n-i)/t.length,o=0;o<t.length;o++)t[o].x=e.x+e.radius*Math.cos(s),t[o].y=e.y+e.radius*Math.sin(s),s+=r;return t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o,a,h;for(i===undefined&&(i=0),n===undefined&&(n=6.28),s=i,r=(n-i)/t.length,o=e.width/2,a=e.height/2,h=0;h<t.length;h++)t[h].x=e.x+o*Math.cos(s),t[h].y=e.y+a*Math.sin(s),s+=r;return t};t.exports=i},function(t,e,i){var n=i(278),s=function(t,e){var i,s,r,o=n(e,t.length);for(i=0;i<t.length;i++)s=t[i],r=o[i],s.x=r.x,s.y=r.y;return t};t.exports=s},function(t,e,i){var n=i(436),s=i(437),r=i(438),o=function(t,e,i){var o,a;for(i===undefined&&(i=0),o=n(e,!1,t.length),i>0?s(o,i):i<0&&r(o,Math.abs(i)),a=0;a<t.length;a++)t[a].x=o[a].x,t[a].y=o[a].y;return t};t.exports=o},function(t,e,i){var n=i(439),s=function(t,e,i){var s,r,o,a,h,u=n({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),l=n({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),c=n({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);for(u.pop(),l.pop(),c.pop(),u=u.concat(l,c),s=u.length/t.length,r=0,o=0;o<t.length;o++)a=t[o],h=u[Math.floor(r)],a.x=h.x,a.y=h.y,r+=s;return t};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].anims.play(e,i);return t};t.exports=i},function(t,e,i){var n=i(275),s=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=s},function(t,e,i){var n=i(283),s=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=s},function(t,e,i){var n=i(279),s=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=s},function(t,e,i){var n=i(280),s=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=s},function(t,e,i){var n=i(284),s=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"rotation",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(285),s=i(109),r=function(t,e,i){var r,o,a=e.x,h=e.y;for(r=0;r<t.length;r++)o=t[r],n(o,a,h,i,Math.max(1,s(o.x,o.y,a,h)));return t};t.exports=r},function(t,e,i){var n=i(285),s=function(t,e,i,s){var r,o=e.x,a=e.y;if(0===s)return t;for(r=0;r<t.length;r++)n(t[r],o,a,i,s);return t};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"scaleX",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r,o,a){return i!==undefined&&null!==i||(i=e),n(t,"scaleX",e,s,o,a),n(t,"scaleY",i,r,o,a)};t.exports=s},function(t,e,i){var n=i(77),s=function(t,e,i,s,r){return n(t,"scaleY",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"alpha",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s){return n(t,"blendMode",e,0,i,s)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"depth",e,i,s,r)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].setInteractive(e,i);return t};t.exports=i},function(t,e,i){var n=i(53),s=function(t,e,i,s,r,o,a){return i!==undefined&&null!==i||(i=e),n(t,"originX",e,s,o,a),n(t,"originY",i,r,o,a)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"rotation",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r,o,a){return i!==undefined&&null!==i||(i=e),n(t,"scaleX",e,s,o,a),n(t,"scaleY",i,r,o,a)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"scaleX",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"scaleY",e,i,s,r)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){for(var r=0;r<t.length;r++)t[r].setTint(e,i,n,s);return t};t.exports=i},function(t,e,i){var n=i(53),s=function(t,e,i,s){return n(t,"visible",e,0,i,s)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"x",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r,o,a){return i!==undefined&&null!==i||(i=e),n(t,"x",e,s,o,a),n(t,"y",i,r,o,a)};t.exports=s},function(t,e,i){var n=i(53),s=function(t,e,i,s,r){return n(t,"y",e,i,s,r)};t.exports=s},function(t,e,i){var n=i(4),s=function(t,e,i,s,r){var o,a,h,u,l,c,f;if(s===undefined&&(s=0),r===undefined&&(r=new n),t.length>1)if(0===s){for(f=t.length-1,o=t[f].x,a=t[f].y,h=f-1;h>=0;h--)c=t[h],u=c.x,l=c.y,c.x=o,c.y=a,o=u,a=l;t[f].x=e,t[f].y=i}else{for(o=t[0].x,a=t[0].y,h=1;h<t.length;h++)c=t[h],u=c.x,l=c.y,c.x=o,c.y=a,o=u,a=l;t[0].x=e,t[0].y=i}else o=t[0].x,a=t[0].y,t[0].x=e,t[0].y=i;return r.x=o,r.y=a,r};t.exports=s},function(t,e,i){var n=i(208),s=function(t){return n(t)};t.exports=s},function(t,e,i){var n=i(286),s=function(t,e,i,s,r){var o,a;if(r===undefined&&(r=!1),o=Math.abs(s-i)/t.length,r)for(a=0;a<t.length;a++)t[a][e]+=n(a*o,i,s);else for(a=0;a<t.length;a++)t[a][e]=n(a*o,i,s);return t};t.exports=s},function(t,e,i){var n=i(287),s=function(t,e,i,s,r){var o,a;if(r===undefined&&(r=!1),o=Math.abs(s-i)/t.length,r)for(a=0;a<t.length;a++)t[a][e]+=n(a*o,i,s);else for(a=0;a<t.length;a++)t[a][e]=n(a*o,i,s);return t};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o;if(s===undefined&&(s=!1),r=Math.abs(n-i)/t.length,s)for(o=0;o<t.length;o++)t[o][e]+=o*r;else for(o=0;o<t.length;o++)t[o][e]=o*r;return t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t};t.exports=i},function(t,e,i){var n=i(108),s=function(t,e,i){var s,r;for(i===undefined&&(i=0),s=0;s<t.length;s++)r=t[s],r.x=n(r.x,e.left-i,e.right+i),r.y=n(r.y,e.top-i,e.bottom+i);return t};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Animation:i(276),AnimationFrame:i(422),AnimationManager:i(440),Events:i(204)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="blur"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="boot"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="destroy"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="focus"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="hidden"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="postrender"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="poststep"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="prerender"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="prestep"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="ready"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="step"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="visible"},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BaseCache:i(441),CacheManager:i(443),Events:i(442)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="add"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="remove"},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Controls:i(1071),Scene2D:i(1074)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={FixedKeyControl:i(1072),SmoothedKeyControl:i(1073)}},function(t,e,i){var n=i(0),s=i(6),r=new n({initialize:function(t){this.camera=s(t,"camera",null),this.left=s(t,"left",null),this.right=s(t,"right",null),this.up=s(t,"up",null),this.down=s(t,"down",null),this.zoomIn=s(t,"zoomIn",null),this.zoomOut=s(t,"zoomOut",null),this.zoomSpeed=s(t,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var e=s(t,"speed",null);"number"==typeof e?(this.speedX=e,this.speedY=e):(this.speedX=s(t,"speed.x",0),this.speedY=s(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){t===undefined&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<.1&&(e.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=r},function(t,e,i){var n=i(0),s=i(6),r=new n({initialize:function(t){var e,i,n;this.camera=s(t,"camera",null),this.left=s(t,"left",null),this.right=s(t,"right",null),this.up=s(t,"up",null),this.down=s(t,"down",null),this.zoomIn=s(t,"zoomIn",null),this.zoomOut=s(t,"zoomOut",null),this.zoomSpeed=s(t,"zoomSpeed",.01),this.accelX=0,this.accelY=0,e=s(t,"acceleration",null),"number"==typeof e?(this.accelX=e,this.accelY=e):(this.accelX=s(t,"acceleration.x",0),this.accelY=s(t,"acceleration.y",0)),this.dragX=0,this.dragY=0,i=s(t,"drag",null),"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=s(t,"drag.x",0),this.dragY=s(t,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0,n=s(t,"maxSpeed",null),"number"==typeof n?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=s(t,"maxSpeed.x",0),this.maxSpeedY=s(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){t===undefined&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(e.scrollX-=this._speedX*t|0),0!==this._speedY&&(e.scrollY-=this._speedY*t|0),0!==this._zoom&&(e.zoom+=this._zoom,e.zoom<.1&&(e.zoom=.1))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Camera:i(444),CameraManager:i(1127),Effects:i(452),Events:i(94)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="cameradestroy"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerafadeincomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerafadeinstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerafadeoutcomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerafadeoutstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="cameraflashcomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="cameraflashstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerapancomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerapanstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="postrender"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="prerender"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerashakecomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerashakestart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerazoomcomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="camerazoomstart"},function(t,e,i){var n=i(37),s=i(0),r=i(94),o=new s({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,s,o,a,h){if(t===undefined&&(t=!0),e===undefined&&(e=1e3),i===undefined&&(i=0),n===undefined&&(n=0),s===undefined&&(s=0),o===undefined&&(o=!1),a===undefined&&(a=null),h===undefined&&(h=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=t,this.progress=0,this.red=i,this.green=n,this.blue=s,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=h;var u=t?r.FADE_OUT_START:r.FADE_IN_START;return this.camera.emit(u,this.camera,this,e,i,n,s),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){var i,n,s,r;return!(!this.isRunning&&!this.isComplete)&&(i=this.camera,n=this.red/255,s=this.blue/255,r=this.green/255,t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(n,r,s,1),this.alpha),!0)},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?r.FADE_OUT_COMPLETE:r.FADE_IN_COMPLETE;this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},function(t,e,i){var n=i(37),s=i(0),r=i(94),o=new s({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,s,o,a){return t===undefined&&(t=250),e===undefined&&(e=255),i===undefined&&(i=255),n===undefined&&(n=255),s===undefined&&(s=!1),o===undefined&&(o=null),a===undefined&&(a=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,this.red=e,this.green=i,this.blue=n,this.alpha=1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=a,this.camera.emit(r.FLASH_START,this.camera,this,t,e,i,n),this.camera)},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){var i,n,s,r;return!!this.isRunning&&(i=this.camera,n=this.red/255,s=this.blue/255,r=this.green/255,t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(n,r,s,1),this.alpha),!0)},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},function(t,e,i){var n=i(37),s=i(0),r=i(294),o=i(94),a=i(4),h=new s({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,s,a,h){i===undefined&&(i=1e3),n===undefined&&(n=r.Linear),s===undefined&&(s=!1),a===undefined&&(a=null),h===undefined&&(h=this.camera.scene);var u=this.camera;return!s&&this.isRunning?u:(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(u.scrollX,u.scrollY),this.destination.set(t,e),u.getScroll(t,e,this.current),"string"==typeof n&&r.hasOwnProperty(n)?this.ease=r[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=h,this.camera.emit(o.PAN_START,this.camera,this,i,t,e),u)},update:function(t,e){var i,s,r,o,a;this.isRunning&&(this._elapsed+=e,i=n(this._elapsed/this.duration,0,1),this.progress=i,s=this.camera,this._elapsed<this.duration?(r=this.ease(i),s.getScroll(this.destination.x,this.destination.y,this.current),o=this.source.x+(this.current.x-this.source.x)*r,a=this.source.y+(this.current.y-this.source.y)*r,s.setScroll(o,a),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,i,o,a)):(s.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,i,s.scrollX,s.scrollY),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=h},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=1.70158),t*t*((e+1)*t-e)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=1.70158),--t*t*((e+1)*t+e)+1};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){e===undefined&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t=1-t,t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 1-Math.sqrt(1-t*t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.sqrt(1- --t*t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t*t*t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return--t*t*t+1};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){if(e===undefined&&(e=.1),i===undefined&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){if(e===undefined&&(e=.1),i===undefined&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/i)+1};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){if(e===undefined&&(e=.1),i===undefined&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*.5+1};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.pow(2,10*(t-1))-.001};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 1-Math.pow(2,-10*t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t*t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t*(2-t)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t*t*t*t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 1- --t*t*t*t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t*t*t*t*t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return--t*t*t*t*t+1};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=1),t<=0?0:t>=1?1:1/e*(1+(e*t|0))};t.exports=i},function(t,e,i){var n=i(37),s=i(0),r=i(94),o=i(4),a=new s({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,s){return t===undefined&&(t=100),e===undefined&&(e=.05),i===undefined&&(i=!1),n===undefined&&(n=null),s===undefined&&(s=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,"number"==typeof e?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=s,this.camera.emit(r.SHAKE_START,this.camera,this,t,e),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,e){var i,s,r,o;this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?(i=this.intensity,s=this.camera._cw,r=this.camera._ch,o=this.camera.zoom,this._offsetX=(Math.random()*i.x*s*2-i.x*s)*o,this._offsetY=(Math.random()*i.y*r*2-i.y*r)*o,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))):this.effectComplete())},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});t.exports=a},function(t,e,i){var n=i(37),s=i(0),r=i(294),o=i(94),a=new s({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,s,a){e===undefined&&(e=1e3),i===undefined&&(i=r.Linear),n===undefined&&(n=!1),s===undefined&&(s=null),a===undefined&&(a=this.camera.scene);var h=this.camera;return!n&&this.isRunning?h:(this.isRunning=!0,this.duration=e,this.progress=0,this.source=h.zoom,this.destination=t,"string"==typeof i&&r.hasOwnProperty(i)?this.ease=r[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=s,this._onUpdateScope=a,this.camera.emit(o.ZOOM_START,this.camera,this,e,t),h)},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=a},function(t,e,i){var n=i(444),s=i(0),r=i(3),o=i(26),a=i(92),h=i(30),u=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.roundPixels=t.sys.game.config.roundPixels,this.cameras=[],this.main,t.sys.events.once(h.BOOT,this.boot,this),t.sys.events.on(h.START,this.start,this)},boot:function(){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0],this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var t,e;this.main||(t=this.systems,t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0]),e=this.systems.events,e.on(h.UPDATE,this.update,this),e.once(h.SHUTDOWN,this.shutdown,this)},add:function(t,e,i,s,r,o){t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=this.scene.sys.scale.width),s===undefined&&(s=this.scene.sys.scale.height),r===undefined&&(r=!1),o===undefined&&(o="");var a=new n(t,e,i,s);return a.setName(o),a.setScene(this.scene),a.setRoundPixels(this.roundPixels),a.id=this.getNextID(),this.cameras.push(a),r&&(this.main=a),a},addExisting:function(t,e){return e===undefined&&(e=!1),-1===this.cameras.indexOf(t)?(t.id=this.getNextID(),t.setRoundPixels(this.roundPixels),this.cameras.push(t),e&&(this.main=t),t):null},getNextID:function(){var t,e,i,n,s=this.cameras,r=1;for(t=0;t<32;t++){for(e=!1,i=0;i<s.length;i++)(n=s[i])&&n.id===r&&(e=!0);if(!e)return r;r<<=1}return 0},getTotal:function(t){var e,i,n,s;for(t===undefined&&(t=!1),e=0,i=this.cameras,n=0;n<i.length;n++)s=i[n],(!t||t&&s.visible)&&e++;return e},fromJSON:function(t){var e,i,n,s,o,a,h,u,l,c,f,d,p,g,y;for(Array.isArray(t)||(t=[t]),e=this.scene.sys.scale.width,i=this.scene.sys.scale.height,n=0;n<t.length;n++)s=t[n],o=r(s,"x",0),a=r(s,"y",0),h=r(s,"width",e),u=r(s,"height",i),l=this.add(o,a,h,u),l.name=r(s,"name",""),l.zoom=r(s,"zoom",1),l.rotation=r(s,"rotation",0),l.scrollX=r(s,"scrollX",0),l.scrollY=r(s,"scrollY",0),l.roundPixels=r(s,"roundPixels",!1),l.visible=r(s,"visible",!0),c=r(s,"backgroundColor",!1),c&&l.setBackgroundColor(c),(f=r(s,"bounds",null))&&(d=r(f,"x",0),p=r(f,"y",0),g=r(f,"width",e),y=r(f,"height",i),l.setBounds(d,p,g,y));return this},getCamera:function(t){var e,i=this.cameras;for(e=0;e<i.length;e++)if(i[e].name===t)return i[e];return null},getCamerasBelowPointer:function(t){var e,i,n=this.cameras,s=t.x,r=t.y,o=[];for(e=0;e<n.length;e++)i=n[e],i.visible&&i.inputEnabled&&a(i,s,r)&&o.unshift(i);return o},remove:function(t,e){var i,n,s,r;for(e===undefined&&(e=!0),Array.isArray(t)||(t=[t]),i=0,n=this.cameras,s=0;s<t.length;s++)-1!==(r=n.indexOf(t[s]))&&(e&&n[r].destroy(),n.splice(r,1),i++);return!this.main&&n[0]&&(this.main=n[0]),i},render:function(t,e,i){var n,s,r=this.scene,o=this.cameras;for(n=0;n<this.cameras.length;n++)s=o[n],s.visible&&s.alpha>0&&(s.preRender(1),t.render(r,e,i,s))},resetAll:function(){for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(t,e)},resize:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(t,e)},shutdown:function(){var t,e;for(this.main=undefined,t=0;t<this.cameras.length;t++)this.cameras[t].destroy();this.cameras=[],e=this.systems.events,e.off(h.UPDATE,this.update,this),e.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});o.register("CameraManager",u,"cameras"),t.exports=u},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="boot"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="destroy"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="postupdate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="preupdate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="ready"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="render"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="shutdown"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="sleep"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="start"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="transitioncomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="transitioninit"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="transitionout"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="transitionstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="transitionwake"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="update"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="wake"},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Config:i(465),CreateRenderer:i(490),DebugHeader:i(497),Events:i(54),TimeStep:i(498),VisibilityHandler:i(500)}},function(t,e){function i(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function s(t){if(l===setTimeout)return setTimeout(t,0);if((l===i||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function r(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function o(){d&&p&&(d=!1,p.length?f=p.concat(f):g=-1,f.length&&a())}function a(){var t,e;if(!d){for(t=s(o),d=!0,e=f.length;e;){for(p=f,f=[];++g<e;)p&&p[g].run();g=-1,e=f.length}p=null,d=!1,r(t)}}function h(t,e){this.fun=t,this.array=e}function u(){}var l,c,f,d,p,g,y=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:i}catch(t){l=i}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}(),f=[],d=!1,g=-1,y.nextTick=function(t){var e,i=Array(arguments.length-1);if(arguments.length>1)for(e=1;e<arguments.length;e++)i[e-1]=arguments[e];f.push(new h(t,i)),1!==f.length||d||s(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=u,y.addListener=u,y.once=u,y.off=u,y.removeListener=u,y.removeAllListeners=u,y.emit=u,y.prependListener=u,y.prependOnceListener=u,y.listeners=function(t){return[]},y.binding=function(t){throw Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(t){throw Error("process.chdir is not supported")},y.umask=function(){return 0}},function(t,e,i){var n=i(166),s=i(212),r={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};t.exports=function(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(r.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(r.mspointer=!0),navigator.getGamepads&&(r.gamepads=!0),n.cocoonJS||("onwheel"in window||s.ie&&"WheelEvent"in window?r.wheelEvent="wheel":"onmousewheel"in window?r.wheelEvent="mousewheel":s.firefox&&"MouseScrollEvent"in window&&(r.wheelEvent="DOMMouseScroll")),r}()},function(t,e,i){var n=i(212),s={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};t.exports=function(){var t,e,i,r;s.audioData=!!window.Audio,s.webAudio=!(!window.AudioContext&&!window.webkitAudioContext),t=document.createElement("audio"),e=!!t.canPlayType;try{e&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(s.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(s.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(s.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(s.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(s.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(s.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')&&(n.edge?s.dolby=!0:n.safari&&n.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)&&(i=parseInt(RegExp.$1,10),r=parseInt(RegExp.$2,10),(10===i&&r>=11||i>10)&&(s.dolby=!0))))}catch(o){}return s}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={h264Video:!1,hlsVideo:!1,mp4Video:!1,oggVideo:!1,vp9Video:!1,webmVideo:!1};t.exports=function(){var t=document.createElement("video"),e=!!t.canPlayType;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.oggVideo=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264Video=!0,i.mp4Video=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webmVideo=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9Video=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hlsVideo=!0))}catch(n){}return i}()},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={available:!1,cancel:"",keyboard:!1,request:""};t.exports=function(){var t,e,n="Fullscreen",s="FullScreen",r=["request"+n,"request"+s,"webkitRequest"+n,"webkitRequest"+s,"msRequest"+n,"msRequest"+s,"mozRequest"+s,"mozRequest"+n];for(t=0;t<r.length;t++)if(document.documentElement[r[t]]){i.available=!0,i.request=r[t];break}if(e=["cancel"+s,"exit"+n,"webkitCancel"+s,"webkitExit"+n,"msCancel"+s,"msExit"+n,"mozCancel"+s,"mozExit"+n],i.available)for(t=0;t<e.length;t++)if(document[e[t]]){i.cancel=e[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(i.keyboard=!0),Object.defineProperty(i,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),i}()},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Between:i(469),BetweenPoints:i(1153),BetweenPointsY:i(1154),BetweenY:i(1155),CounterClockwise:i(1156),Normalize:i(470),Reverse:i(1157),RotateTo:i(1158),ShortestBetween:i(1159),Wrap:i(281),WrapDegrees:i(282)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){return Math.atan2(i-t,n-e)};t.exports=i},function(t,e,i){var n=i(33),s=function(t){return Math.abs(((t+n.TAU)%n.PI2-n.PI2)%n.PI2)};t.exports=s},function(t,e,i){var n=i(470),s=function(t){return n(t+Math.PI)};t.exports=s},function(t,e,i){var n=i(33),s=function(t,e,i){return i===undefined&&(i=.05),t===e?t:(Math.abs(e-t)<=i||Math.abs(e-t)>=n.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=n.PI2:e-=n.PI2),e>t?t+=i:e<t&&(t-=i)),t)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n=e-t;return 0===n?0:(i=Math.floor((n- -180)/360),n-360*i)};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Between:i(109),Power:i(1161),Squared:i(471)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){return s===undefined&&(s=2),Math.sqrt(Math.pow(i-t,s)+Math.pow(n-e,s))};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Back:i(453),Bounce:i(454),Circular:i(455),Cubic:i(456),Elastic:i(457),Expo:i(458),Linear:i(459),Quadratic:i(460),Quartic:i(461),Quintic:i(462),Sine:i(463),Stepped:i(464)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Ceil:i(1164),Equal:i(296),Floor:i(1165),GreaterThan:i(472),LessThan:i(473)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=1e-4),Math.ceil(t-e)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=1e-4),Math.floor(t+e)};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Bezier:i(1167),CatmullRom:i(1168),CubicBezier:i(476),Linear:i(1169),QuadraticBezier:i(477),SmoothStep:i(478),SmootherStep:i(1170)}},function(t,e,i){var n=i(474),s=function(t,e){var i,s=0,r=t.length-1;for(i=0;i<=r;i++)s+=Math.pow(1-e,r-i)*Math.pow(e,i)*t[i]*n(r,i);return s};t.exports=s},function(t,e,i){var n=i(297),s=function(t,e){var i=t.length-1,s=i*e,r=Math.floor(s);return t[0]===t[i]?(e<0&&(r=Math.floor(s=i*(1+e))),n(s-r,t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i])):e<0?t[0]-(n(-s,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(n(s-i,t[i],t[i],t[i-1],t[i-1])-t[i]):n(s-r,t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2])};t.exports=s},function(t,e,i){var n=i(211),s=function(t,e){var i=t.length-1,s=i*e,r=Math.floor(s);return e<0?n(t[0],t[1],s):e>1?n(t[i],t[i-1],i-s):n(t[r],t[r+1>i?i:r+1],s-r)};t.exports=s},function(t,e,i){var n=i(286),s=function(t,e,i){return e+(i-e)*n(t,0,1)};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GetNext:i(479),IsSize:i(213),IsValue:i(1172)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t>0&&0==(t&t-1)};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Ceil:i(480),Floor:i(167),To:i(1174)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){return i===undefined&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),n?(i+t)/e:i+t)};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t){t===undefined&&(t=[""+Date.now()*Math.random()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i,n=this.n;for(t=""+t,i=0;i<t.length;i++)n+=t.charCodeAt(i),e=.02519603282416938*n,n=e>>>0,e-=n,e*=n,n=e>>>0,e-=n,n+=4294967296*e;return this.n=n,2.3283064365386963e-10*(n>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){var e,i;if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(e=0;e<t.length&&null!=t[e];e++)i=t[e],this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+1.1102230246251565e-16*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){var e,i,n,s=t.length-1;for(e=s;e>0;e--)i=Math.floor(this.frac()*(e+1)),n=t[i],t[i]=t[e],t[e]=n;return t}});t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i=0;for(e=0;e<t.length;e++)i+=+t[e];return i/t.length};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){e===undefined&&(e=0),i===undefined&&(i=10);var n=Math.pow(i,-e);return Math.ceil(t*n)/n};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return Math.abs(t-e)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){e===undefined&&(e=0),i===undefined&&(i=10);var n=Math.pow(i,-e);return Math.floor(t*n)/n};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t/e/1e3};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t==parseFloat(t)?!(t%2):void 0};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t===parseFloat(t)?!(t%2):void 0};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return Math.min(t+e,i)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return Math.max(t-e,i)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){i===undefined&&(i=e+1);var s=(t-e)/(i-e);return s>1?n!==undefined?(s=(n-t)/(n-i))<0&&(s=0):s=1:s<0&&(s=0),s};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){e===undefined&&(e=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){e===undefined&&(e=0),i===undefined&&(i=10);var n=Math.pow(i,-e);return Math.round(t*n)/n};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o;for(e===undefined&&(e=1),i===undefined&&(i=1),n===undefined&&(n=1),n*=Math.PI/t,s=[],r=[],o=0;o<t;o++)i-=e*n,e+=i*n,s[o]=i,r[o]=e;return{sin:r,cos:s,length:t}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return Math.abs(t-e)<=i};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="addtexture"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="onerror"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="onload"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="ready"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="removetexture"},function(t,e){t.exports="#define SHADER_NAME PHASER_BITMAP_MASK_FS\n\nprecision mediump float;\n\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uMaskSampler;\nuniform bool uInvertMaskAlpha;\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy / uResolution;\n    vec4 mainColor = texture2D(uMainSampler, uv);\n    vec4 maskColor = texture2D(uMaskSampler, uv);\n    float alpha = mainColor.a;\n\n    if (!uInvertMaskAlpha)\n    {\n        alpha *= (maskColor.a);\n    }\n    else\n    {\n        alpha *= (1.0 - maskColor.a);\n    }\n\n    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);\n}\n"},function(t,e){t.exports="#define SHADER_NAME PHASER_BITMAP_MASK_VS\n\nprecision mediump float;\n\nattribute vec2 inPosition;\n\nvoid main()\n{\n    gl_Position = vec4(inPosition, 0.0, 1.0);\n}\n"},function(t,e){t.exports="#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS\n\nprecision mediump float;\n\nstruct Light\n{\n    vec2 position;\n    vec3 color;\n    float intensity;\n    float radius;\n};\n\nconst int kMaxLights = %LIGHT_COUNT%;\n\nuniform vec4 uCamera; /* x, y, rotation, zoom */\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uNormSampler;\nuniform vec3 uAmbientLightColor;\nuniform Light uLights[kMaxLights];\nuniform mat3 uInverseRotationMatrix;\n\nvarying vec2 outTexCoord;\nvarying vec4 outTint;\n\nvoid main()\n{\n    vec3 finalColor = vec3(0.0, 0.0, 0.0);\n    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);\n    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;\n    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));\n    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;\n\n    for (int index = 0; index < kMaxLights; ++index)\n    {\n        Light light = uLights[index];\n        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);\n        vec3 lightNormal = normalize(lightDir);\n        float distToSurf = length(lightDir) * uCamera.w;\n        float diffuseFactor = max(dot(normal, lightNormal), 0.0);\n        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;\n        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);\n        vec3 diffuse = light.color * diffuseFactor;\n        finalColor += (attenuation * diffuse) * light.intensity;\n    }\n\n    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);\n    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);\n\n}\n"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var t=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(t,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(t,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(t,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var t=this.modelMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(t,e,i){var n=this.modelMatrix;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*e,n[5]=n[5]*e,n[6]=n[6]*e,n[7]=n[7]*e,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(t,e,i){var n=this.modelMatrix;return n[12]=n[0]*t+n[4]*e+n[8]*i+n[12],n[13]=n[1]*t+n[5]*e+n[9]*i+n[13],n[14]=n[2]*t+n[6]*e+n[10]*i+n[14],n[15]=n[3]*t+n[7]*e+n[11]*i+n[15],this.modelMatrixDirty=!0,this},modelRotateX:function(t){var e=this.modelMatrix,i=Math.sin(t),n=Math.cos(t),s=e[4],r=e[5],o=e[6],a=e[7],h=e[8],u=e[9],l=e[10],c=e[11];return e[4]=s*n+h*i,e[5]=r*n+u*i,e[6]=o*n+l*i,e[7]=a*n+c*i,e[8]=h*n-s*i,e[9]=u*n-r*i,e[10]=l*n-o*i,e[11]=c*n-a*i,this.modelMatrixDirty=!0,this},modelRotateY:function(t){var e=this.modelMatrix,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],o=e[2],a=e[3],h=e[8],u=e[9],l=e[10],c=e[11];return e[0]=s*n-h*i,e[1]=r*n-u*i,e[2]=o*n-l*i,e[3]=a*n-c*i,e[8]=s*i+h*n,e[9]=r*i+u*n,e[10]=o*i+l*n,e[11]=a*i+c*n,this.modelMatrixDirty=!0,this},modelRotateZ:function(t){var e=this.modelMatrix,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],o=e[2],a=e[3],h=e[4],u=e[5],l=e[6],c=e[7];return e[0]=s*n+h*i,e[1]=r*n+u*i,e[2]=o*n+l*i,e[3]=a*n+c*i,e[4]=h*n-s*i,e[5]=u*n-r*i,e[6]=l*n-o*i,e[7]=c*n-a*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var t=this.viewMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(t,e,i){var n=this.viewMatrix;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*e,n[5]=n[5]*e,n[6]=n[6]*e,n[7]=n[7]*e,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(t,e,i){var n=this.viewMatrix;return n[12]=n[0]*t+n[4]*e+n[8]*i+n[12],n[13]=n[1]*t+n[5]*e+n[9]*i+n[13],n[14]=n[2]*t+n[6]*e+n[10]*i+n[14],n[15]=n[3]*t+n[7]*e+n[11]*i+n[15],this.viewMatrixDirty=!0,this},viewRotateX:function(t){var e=this.viewMatrix,i=Math.sin(t),n=Math.cos(t),s=e[4],r=e[5],o=e[6],a=e[7],h=e[8],u=e[9],l=e[10],c=e[11];return e[4]=s*n+h*i,e[5]=r*n+u*i,e[6]=o*n+l*i,e[7]=a*n+c*i,e[8]=h*n-s*i,e[9]=u*n-r*i,e[10]=l*n-o*i,e[11]=c*n-a*i,this.viewMatrixDirty=!0,this},viewRotateY:function(t){var e=this.viewMatrix,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],o=e[2],a=e[3],h=e[8],u=e[9],l=e[10],c=e[11];return e[0]=s*n-h*i,e[1]=r*n-u*i,e[2]=o*n-l*i,e[3]=a*n-c*i,e[8]=s*i+h*n,e[9]=r*i+u*n,e[10]=o*i+l*n,e[11]=a*i+c*n,this.viewMatrixDirty=!0,this},viewRotateZ:function(t){var e=this.viewMatrix,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],o=e[2],a=e[3],h=e[4],u=e[5],l=e[6],c=e[7];return e[0]=s*n+h*i,e[1]=r*n+u*i,e[2]=o*n+l*i,e[3]=a*n+c*i,e[4]=h*n-s*i,e[5]=u*n-r*i,e[6]=l*n-o*i,e[7]=c*n-a*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=0,e[4]=t[2],e[5]=t[3],e[6]=0,e[7]=0,e[8]=t[4],e[9]=t[5],e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var t=this.projectionMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(t,e,i,n,s,r){var o=this.projectionMatrix,a=1/(t-e),h=1/(i-n),u=1/(s-r);return o[0]=-2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*h,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*u,o[11]=0,o[12]=(t+e)*a,o[13]=(n+i)*h,o[14]=(r+s)*u,o[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(t,e,i,n){var s=this.projectionMatrix,r=1/Math.tan(t/2),o=1/(i-n);return s[0]=r/e,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=r,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+i)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*i*o,s[15]=0,this.projectionMatrixDirty=!0,this}};t.exports=i},function(t,e){t.exports="#define SHADER_NAME PHASER_TEXTURE_TINT_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler;\n\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\n\nvoid main()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);\n    vec4 color = texture;\n\n    if (outTintEffect == 0.0)\n    {\n        //  Multiply texture tint\n        color = texture * texel;\n    }\n    else if (outTintEffect == 1.0)\n    {\n        //  Solid color + texture alpha\n        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);\n        color.a = texture.a * texel.a;\n    }\n    else if (outTintEffect == 2.0)\n    {\n        //  Solid color, no texture\n        color = texel;\n    }\n\n    gl_FragColor = color;\n}\n"},function(t,e){t.exports="#define SHADER_NAME PHASER_TEXTURE_TINT_VS\n\nprecision mediump float;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uModelMatrix;\n\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTintEffect;\nattribute vec4 inTint;\n\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\n\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);\n\n    outTexCoord = inTexCoord;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}\n\n"},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GenerateTexture:i(501),Palettes:i(1202)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ARNE16:i(502),C64:i(1203),CGA:i(1204),JMP:i(1205),MSX:i(1206)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Path:i(1208),CubicBezier:i(503),Curve:i(148),Ellipse:i(504),Line:i(505),QuadraticBezier:i(506),Spline:i(507)}},function(t,e,i){var n=i(0),s=i(503),r=i(504),o=i(7),a=i(505),h=i(1209),u=i(506),l=i(18),c=i(507),f=i(4),d=new n({initialize:function(t,e){t===undefined&&(t=0),e===undefined&&(e=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new f,this._tmpVec2A=new f,this._tmpVec2B=new f,"object"==typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return e===undefined&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new a(e,t)),this},cubicBezierTo:function(t,e,i,n,r,o){var a,h,u,l=this.getEndPoint();return t instanceof f?(a=t,h=e,u=i):(a=new f(i,n),h=new f(r,o),u=new f(t,e)),this.add(new s(l,a,h,u))},quadraticBezierTo:function(t,e,i,n){var s,r,o=this.getEndPoint();return t instanceof f?(s=t,r=e):(s=new f(i,n),r=new f(t,e)),this.add(new u(o,s,r))},draw:function(t,e){var i,n;for(i=0;i<this.curves.length;i++)n=this.curves[i],n.active&&n.draw(t,e);return t},ellipseTo:function(t,e,i,n,s,o){var a=new r(0,0,t,e,i,n,s,o),h=this.getEndPoint(this._tmpVec2A),u=a.getStartPoint(this._tmpVec2B);return h.subtract(u),a.x=h.x,a.y=h.y,this.add(a)},fromJSON:function(t){var e,i;for(this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose,e=0;e<t.curves.length;e++)switch(i=t.curves[e],i.type){case"LineCurve":this.add(a.fromJSON(i));break;case"EllipseCurve":this.add(r.fromJSON(i));break;case"SplineCurve":this.add(c.fromJSON(i));break;case"CubicBezierCurve":this.add(s.fromJSON(i));break;case"QuadraticBezierCurve":this.add(u.fromJSON(i))}return this},getBounds:function(t,e){var i,n,s,r,o;for(t===undefined&&(t=new l),e===undefined&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE,i=new l,n=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,r=0;r<this.curves.length;r++)o=this.curves[r],o.active&&(o.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),n=Math.max(n,i.right),s=Math.max(s,i.bottom));return t.right=n,t.bottom=s,t},getCurveLengths:function(){var t,e,i;if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return t===undefined&&(t=new f),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){var i,n,s,r,o,a,h;for(e===undefined&&(e=new f),i=t*this.getLength(),n=this.getCurveLengths(),s=0;s<n.length;){if(n[s]>=i)return r=n[s]-i,o=this.curves[s],a=o.getLength(),h=0===a?0:1-r/a,o.getPointAt(h,e);s++}return null},getPoints:function(t){var e,i,n,s,r,o,a,h;for(t===undefined&&(t=12),e=[],n=0;n<this.curves.length;n++)if(s=this.curves[n],s.active)for(r=s.getResolution(t),o=s.getPoints(r),a=0;a<o.length;a++)h=o[a],i&&i.equals(h)||(e.push(h),i=h);return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},getRandomPoint:function(t){return t===undefined&&(t=new f),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){var e,i;for(t===undefined&&(t=40),e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return t===undefined&&(t=new f),t.copy(this.startPoint)},lineTo:function(t,e){t instanceof f?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new a([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new c(t))},moveTo:function(t,e){return this.add(new h(t,e))},toJSON:function(){var t,e=[];for(t=0;t<this.curves.length;t++)e.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:e}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=undefined}});o.register("path",function(t,e){return new d(t,e)}),t.exports=d},function(t,e,i){var n=i(0),s=i(4),r=new n({initialize:function(t,e){this.active=!1,this.p0=new s(t,e)},getPoint:function(t,e){return e===undefined&&(e=new s),e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DataManager:i(165),DataManagerPlugin:i(1211),Events:i(435)}},function(t,e,i){var n=i(0),s=i(165),r=i(26),o=i(30),a=new n({Extends:s,initialize:function(t){s.call(this,t,t.sys.events),this.scene=t,this.systems=t.sys,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){s.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("DataManagerPlugin",a,"data"),t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Align:i(1213),Bounds:i(1228),Canvas:i(1231),Color:i(508),Masks:i(1240)}},function(t,e,i){var n=i(273),s=i(32),r={In:i(1214),To:i(1215)};r=s(!1,r,n),t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BottomCenter:i(406),BottomLeft:i(407),BottomRight:i(408),Center:i(409),LeftCenter:i(411),QuickSet:i(405),RightCenter:i(412),TopCenter:i(413),TopLeft:i(414),TopRight:i(415)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BottomCenter:i(1216),BottomLeft:i(1217),BottomRight:i(1218),LeftBottom:i(1219),LeftCenter:i(1220),LeftTop:i(1221),RightBottom:i(1222),RightCenter:i(1223),RightTop:i(1224),TopCenter:i(1225),TopLeft:i(1226),TopRight:i(1227)}},function(t,e,i){var n=i(83),s=i(142),r=i(143),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,s(e)+i),o(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(83),s=i(85),r=i(86),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,s(e)-i),o(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(83),s=i(87),r=i(88),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,s(e)+i),o(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(83),s=i(85),r=i(84),o=i(88),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)-i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(145),s=i(85),r=i(144),o=i(88),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)-i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(85),s=i(89),r=i(88),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,n(e)-i),o(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(83),s=i(87),r=i(84),o=i(86),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)+i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(145),s=i(87),r=i(144),o=i(86),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,s(e)+i),r(t,n(e)+a),t};t.exports=a},function(t,e,i){var n=i(87),s=i(89),r=i(86),o=i(90),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),r(t,n(e)+i),o(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(142),s=i(89),r=i(84),o=i(143),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,n(e)+i),r(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(85),s=i(89),r=i(84),o=i(86),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,n(e)-i),r(t,s(e)-a),t};t.exports=a},function(t,e,i){var n=i(87),s=i(89),r=i(84),o=i(88),a=function(t,e,i,a){return i===undefined&&(i=0),a===undefined&&(a=0),o(t,n(e)+i),r(t,s(e)-a),t};t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CenterOn:i(410),GetBottom:i(83),GetCenterX:i(142),GetCenterY:i(145),GetLeft:i(85),GetOffsetX:i(1229),GetOffsetY:i(1230),GetRight:i(87),GetTop:i(89),SetBottom:i(84),SetCenterX:i(143),SetCenterY:i(144),SetLeft:i(86),SetRight:i(88),SetTop:i(90)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.width*t.originX};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.height*t.originY};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CanvasInterpolation:i(491),CanvasPool:i(43),Smoothing:i(210),TouchAction:i(1232),UserSelect:i(1233)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){t.style[i+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return t>16777215&&(e.a=t>>>24),e};t.exports=i},function(t,e,i){var n=i(68),s=i(510),r=function(t,e,i){var r,o,a,h=i,u=i,l=i;return 0!==e&&(r=i<.5?i*(1+e):i+e-i*e,o=2*i-r,h=s(o,r,t+1/3),u=s(o,r,t),l=s(o,r,t-1/3)),a=new n,a.setGLTo(h,u,l,1)};t.exports=r},function(t,e,i){var n=i(292),s=function(t,e){var i,s;for(t===undefined&&(t=1),e===undefined&&(e=1),i=[],s=0;s<=359;s++)i.push(n(s/359,t,e));return i};t.exports=s},function(t,e,i){var n=i(211),s=function(t,e,i,s,r,o,a,h){a===undefined&&(a=100),h===undefined&&(h=0);var u=h/a;return{r:n(t,s,u),g:n(e,r,u),b:n(i,o,u)}},r=function(t,e,i,n){return i===undefined&&(i=100),n===undefined&&(n=0),s(t.r,t.g,t.b,e.r,e.g,e.b,i,n)},o=function(t,e,i,n,r,o){return r===undefined&&(r=100),o===undefined&&(o=0),s(t.r,t.g,t.b,e,i,n,r,o)};t.exports={RGBWithRGB:s,ColorWithRGB:o,ColorWithColor:r}},function(t,e,i){var n=i(298),s=i(68),r=function(t,e){return t===undefined&&(t=0),e===undefined&&(e=255),new s(n(t,e),n(t,e),n(t,e))};t.exports=r},function(t,e,i){var n=i(509),s=function(t,e,i,s,r){return s===undefined&&(s=255),r===undefined&&(r="#"),"#"===r?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+n(s)+n(t)+n(e)+n(i)};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BitmapMask:i(429),GeometryMask:i(430)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n={AddToDOM:i(216),DOMContentLoaded:i(511),GetScreenOrientation:i(512),GetTarget:i(517),ParseXML:i(518),RemoveFromDOM:i(308),RequestAnimationFrame:i(499)};t.exports=n},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={EventEmitter:i(1243)}},function(t,e,i){var n=i(0),s=i(15),r=i(26),o=new n({Extends:s,initialize:function(){s.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});r.register("EventEmitter",o,"events"),t.exports=o},function(t,e,i){var n,s,r,o=i(216),a=i(440),h=i(443),u=i(43),l=i(0),c=i(465),f=i(490),d=i(165),p=i(497),g=i(466),y=i(511),m=i(15),v=i(54),x=i(519),b=i(26),_=i(525),w=i(526),T=i(529),S=i(533),A=i(215),E=i(540),P=i(498),O=i(500);n=i(1337),s=i(543),r=new l({initialize:function(t){this.config=new c(t),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new a(this),this.textures=new E(this),this.cache=new h(this),this.registry=new d(this),this.input=new x(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=g,this.scale=new w(this,this.config),this.sound=S.create(this),this.loop=new P(this,this.config.fps),this.plugins=new _(this,this.config),this.facebook=new s(this),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,y(this.boot.bind(this))},boot:function(){b.hasCore("EventEmitter")&&(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),n(this),p(this),o(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(v.BOOT))},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var t=this.events;t.on(v.HIDDEN,this.onHidden,this),t.on(v.VISIBLE,this.onVisible,this),t.on(v.BLUR,this.onBlur,this),t.on(v.FOCUS,this.onFocus,this)},step:function(t,e){var i,n;if(this.pendingDestroy)return this.runDestroy();i=this.events,i.emit(v.PRE_STEP,t,e),i.emit(v.STEP,t,e),this.scene.update(t,e),i.emit(v.POST_STEP,t,e),n=this.renderer,n.preRender(),i.emit(v.PRE_RENDER,n,t,e),this.scene.render(n),n.postRender(),i.emit(v.POST_RENDER,n,t,e)},headlessStep:function(t,e){var i=this.events;i.emit(v.PRE_STEP,t,e),i.emit(v.STEP,t,e),this.scene.update(t,e),i.emit(v.POST_STEP,t,e),i.emit(v.PRE_RENDER),i.emit(v.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.frame.time},destroy:function(t,e){e===undefined&&(e=!1),this.pendingDestroy=!0,this.removeCanvas=t,this.noReturn=e},runDestroy:function(){this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.scene.destroy(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}}),t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="boot"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="destroy"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragend"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragenter"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="drag"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragleave"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragover"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="drop"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameout"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameover"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameobjectdown"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragend"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragenter"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="drag"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragleave"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragover"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="drop"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameobjectmove"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameobjectout"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameobjectover"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerdown"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointermove"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerout"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerover"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerup"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="gameobjectup"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="boot"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="process"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="update"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerdown"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerdownoutside"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointermove"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerout"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerover"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerup"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerupoutside"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pointerlockchange"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="preupdate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="shutdown"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="start"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="update"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="enterfullscreen"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="fullscreenunsupported"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="leavefullscreen"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="orientationchange"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resize"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i,n;return t?(e=Math.abs(window.orientation),i={w:0,h:0},n=document.createElement("div"),n.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(n),i.w=90===e?n.offsetHeight:window.innerWidth,i.h=90===e?window.innerWidth:n.offsetHeight,document.documentElement.removeChild(n),n=null,90!==Math.abs(window.orientation)?i.h:i.w):window.innerHeight};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="addfile"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="complete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="filecomplete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="filecomplete-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="loaderror"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="load"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="fileprogress"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="postprocess"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="progress"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="start"},function(t,e,i){var n=i(3),s=i(531),r=function(t){var e,i,r=t.game.config.defaultPhysicsSystem,o=n(t.settings,"physics",!1);if(r||o){if(e=[],r&&e.push(s(r+"Physics")),o)for(i in o)i=s(i.concat("Physics")),-1===e.indexOf(i)&&e.push(i);return e}};t.exports=r},function(t,e,i){var n=i(3),s=function(t){var e=t.plugins.getDefaultScenePlugins(),i=n(t.settings,"plugins",!1);return Array.isArray(i)?i:e||[]};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};i.cameras3d="cameras3d",i.facebook="facebook",t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="complete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="destroy"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="detune"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="detune"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="mute"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="rate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="volume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="loop"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="looped"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="mute"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pauseall"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="play"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="rate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resumeall"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="seek"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="stopall"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="stop"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="unlocked"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="volume"},function(t,e,i){var n=i(0),s=i(37),r=i(68),o=i(213),a=i(311),h=new n({Extends:a,initialize:function(t,e,i,n,s){a.call(this,t,e,i,n,s),this.add("__BASE",0,0,0,n,s),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=n,this.height=s,this.imageData=this.context.getImageData(0,0,n,s),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},draw:function(t,e,i){return this.context.drawImage(i,t,e),this.update()},drawFrame:function(t,e,i,n){var s,r,o,a,h;return i===undefined&&(i=0),n===undefined&&(n=0),s=this.manager.getFrame(t,e),s?(r=s.canvasData,o=s.cutWidth,a=s.cutHeight,h=s.source.resolution,this.context.drawImage(s.source.image,r.x,r.y,o,a,i,n,o/h,a/h),this.update()):this},setPixel:function(t,e,i,n,s,r){var o,a;return r===undefined&&(r=255),t=Math.abs(Math.floor(t)),e=Math.abs(Math.floor(e)),o=this.getIndex(t,e),o>-1&&(a=this.context.getImageData(t,e,1,1),a.data[0]=i,a.data[1]=n,a.data[2]=s,a.data[3]=r,this.context.putImageData(a,t,e)),this},putData:function(t,e,i,n,s,r,o){return n===undefined&&(n=0),s===undefined&&(s=0),r===undefined&&(r=t.width),o===undefined&&(o=t.height),this.context.putImageData(t,e,i,n,s,r,o),this},getData:function(t,e,i,n){return t=s(Math.floor(t),0,this.width-1),e=s(Math.floor(e),0,this.height-1),i=s(i,1,this.width-t),n=s(n,1,this.height-e),this.context.getImageData(t,e,i,n)},getPixel:function(t,e,i){var n,s,o,a,h,u;return i||(i=new r),n=this.getIndex(t,e),n>-1&&(s=this.data,o=s[n+0],a=s[n+1],h=s[n+2],u=s[n+3],i.setTo(o,a,h,u)),i},getPixels:function(t,e,i,n){var o,a,h,u,l,c,f,d,p;for(n===undefined&&(n=i),t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e)),o=s(t,0,this.width),a=s(t+i,0,this.width),h=s(e,0,this.height),u=s(e+n,0,this.height),l=new r,c=[],f=h;f<u;f++){for(d=[],p=o;p<a;p++)l=this.getPixel(p,f,l),d.push({x:p,y:f,color:l.color,alpha:l.alphaGL});c.push(d)}return c},getIndex:function(t,e){return t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e)),t<this.width&&e<this.height?4*(t+e*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(t,e,i,n){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i=this.width),n===undefined&&(n=this.height),this.context.clearRect(t,e,i,n),this.update()},setSize:function(t,e){return e===undefined&&(e=t),t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=o(t,e),this.frames.__BASE.setSize(t,e,0,0),this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});t.exports=h},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y;if(i.getElementsByTagName("TextureAtlas")){for(n=t.source[e],t.add("__BASE",e,0,0,n.width,n.height),s=i.getElementsByTagName("SubTexture"),o=0;o<s.length;o++)a=s[o].attributes,h=a.name.value,u=parseInt(a.x.value,10),l=parseInt(a.y.value,10),c=parseInt(a.width.value,10),f=parseInt(a.height.value,10),r=t.add(h,e,u,l,c,f),a.frameX&&(d=Math.abs(parseInt(a.frameX.value,10)),p=Math.abs(parseInt(a.frameY.value,10)),g=parseInt(a.frameWidth.value,10),y=parseInt(a.frameHeight.value,10),r.setTrim(c,f,d,p,g,y));return t}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t};t.exports=i},function(t,e,i){var n=i(127),s=function(t,e,i){var s,r,o,a,h,u;if(i.frames||i.textures){for(s=t.source[e],t.add("__BASE",e,0,0,s.width,s.height),r=Array.isArray(i.textures)?i.textures[e].frames:i.frames,a=0;a<r.length;a++)h=r[a],o=t.add(h.filename,e,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&o.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(o.rotated=!0,o.updateUVsInverted()),h.anchor&&(o.customPivot=!0,o.pivotX=h.anchor.x,o.pivotY=h.anchor.y),o.customData=n(h);for(u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}};t.exports=s},function(t,e,i){var n=i(127),s=function(t,e,i){var s,r,o,a,h,u;if(i.frames){s=t.source[e],t.add("__BASE",e,0,0,s.width,s.height),r=i.frames;for(a in r)h=r[a],o=t.add(a,e,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&o.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(o.rotated=!0,o.updateUVsInverted()),o.customData=n(h);for(u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}};t.exports=s},function(t,e,i){var n=i(3),s=function(t,e,i,s,r,o,a){var h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T=n(a,"frameWidth",null),S=n(a,"frameHeight",T);if(null===T)throw Error("TextureManager.SpriteSheet: Invalid frameWidth given.");for(h=t.source[e],t.add("__BASE",e,0,0,h.width,h.height),u=n(a,"startFrame",0),l=n(a,"endFrame",-1),c=n(a,"margin",0),f=n(a,"spacing",0),d=Math.floor((r-c+f)/(T+f)),p=Math.floor((o-c+f)/(S+f)),g=d*p,(u>g||u<-g)&&(u=0),u<0&&(u=g+u),-1!==l&&(g=u+(l+1)),y=c,m=c,v=0,x=0,b=0;b<g;b++)v=0,x=0,_=y+T,w=m+S,_>r&&(v=_-r),w>o&&(x=w-o),t.add(b,e,i+y,s+m,T-v,S-x),(y+=T+f)+T>r&&(y=c,m+=S+f);return t};t.exports=s},function(t,e,i){var n=i(3),s=function(t,e,i){var s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G=n(i,"frameWidth",null),Y=n(i,"frameHeight",G);if(!G)throw Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");for(s=n(i,"startFrame",0),r=n(i,"endFrame",-1),o=n(i,"margin",0),a=n(i,"spacing",0),h=e.cutX,u=e.cutY,l=e.cutWidth,c=e.cutHeight,f=e.realWidth,d=e.realHeight,p=Math.floor((f-o+a)/(G+a)),g=Math.floor((d-o+a)/(Y+a)),y=p*g,m=e.x,v=G-m,x=G-(f-l-m),b=e.y,_=Y-b,w=Y-(d-c-b),(s>y||s<-y)&&(s=0),s<0&&(s=y+s),-1!==r&&(y=s+(r+1)),S=o,A=o,E=0,P=e.sourceIndex,O=0;O<g;O++){for(M=0===O,C=O===g-1,I=0;I<p;I++)R=0===I,L=I===p-1,T=t.add(E,P,h+S,u+A,G,Y),(R||M||L||C)&&(k=R?m:0,D=M?b:0,F=0,N=0,R&&(F+=G-v),L&&(F+=G-x),M&&(N+=Y-_),C&&(N+=Y-w),B=G-F,U=Y-N,T.cutWidth=B,T.cutHeight=U,T.setTrim(G,Y,k,D,B,U)),S+=a,S+=R?v:L?x:G,E++;S=o,A+=a,A+=M?_:C?w:Y}return t};t.exports=s},function(t,e){var i=0,n=function(t,e,n,s){var r=i-s.y-s.height;t.add(n,e,s.x,r,s.width,s.height)},s=function(t,e,s){var r,o,a,h,u,l,c,f,d,p,g=t.source[e];for(t.add("__BASE",e,0,0,g.width,g.height),i=g.height,r=s.split("\n"),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,a="",h="",u={x:0,y:0,width:0,height:0},l=0;l<r.length;l++)if(c=r[l].match(o))if(f="- "===c[1],d=c[2],p=c[3],f&&(h!==a&&(n(t,e,h,u),a=h),u={x:0,y:0,width:0,height:0}),"name"!==d)switch(d){case"x":case"y":case"width":case"height":u[d]=parseInt(p,10)}else h=p;return h!==a&&n(t,e,h,u),t};t.exports=s},function(t,e,i){var n=i(216),s=function(t){var e,i=t.config;i.parent&&i.domCreateContainer&&(e=document.createElement("div"),e.style=["display: block;","width: "+t.canvas.width+"px;","height: "+t.canvas.height+"px;","padding: 0; margin: 0; position: absolute; overflow: hidden; pointer-events: none;"].join(" "),t.domContainer=e,n(e,i.parent))};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return{instance:e,placementID:t,shown:!1,video:i}};t.exports=i},function(t,e,i){var n=i(0),s=i(15),r=i(1340),o=new n({Extends:s,initialize:function(t,e){s.call(this),this.plugin=t,this.ref=e,this.name=e.getName(),this.contextID=e.getContextID(),this.entryCount=0,this.playerScore=null,this.scores=[],this.getEntryCount()},getEntryCount:function(){var t=this;return this.ref.getEntryCountAsync().then(function(e){t.entryCount=e,t.emit("getentrycount",e,t.name)})["catch"](function(t){}),this},setScore:function(t,e){e===undefined&&(e=""),"object"==typeof e&&(e=JSON.stringify(e));var i=this;return this.ref.setScoreAsync(t,e).then(function(t){if(t){var e=r(t);i.playerScore=e,i.emit("setscore",e,i.name)}else i.emit("setscore",null,i.name)})["catch"](function(t){}),this},getPlayerScore:function(){var t=this;return this.ref.getPlayerEntryAsync().then(function(e){if(e){var i=r(e);t.playerScore=i,t.emit("getplayerscore",i,t.name)}else t.emit("getplayerscore",null,t.name)})["catch"](function(t){}),this},getScores:function(t,e){t===undefined&&(t=10),e===undefined&&(e=0);var i=this;return this.ref.getEntriesAsync(t,e).then(function(t){i.scores=[],t.forEach(function(t){i.scores.push(r(t))}),i.emit("getscores",i.scores,i.name)})["catch"](function(t){}),this},getConnectedScores:function(t,e){t===undefined&&(t=10),e===undefined&&(e=0);var i=this;return this.ref.getConnectedPlayerEntriesAsync().then(function(t){i.scores=[],t.forEach(function(t){i.scores.push(r(t))}),i.emit("getconnectedscores",i.scores,i.name)})["catch"](function(t){}),this}});t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return{score:t.getScore(),scoreFormatted:t.getFormattedScore(),timestamp:t.getTimestamp(),rank:t.getRank(),data:t.getExtraData(),playerName:t.getPlayer().getName(),playerPhotoURL:t.getPlayer().getPhoto(),playerID:t.getPlayer().getID()}};t.exports=i},function(t,e,i){var n=i(3),s=function(t){return{title:n(t,"title",""),productID:n(t,"productID",""),description:n(t,"description",""),imageURI:n(t,"imageURI",""),price:n(t,"price",""),priceCurrencyCode:n(t,"priceCurrencyCode","")}};t.exports=s},function(t,e,i){var n=i(3),s=function(t){return{developerPayload:n(t,"developerPayload",""),paymentID:n(t,"paymentID",""),productID:n(t,"productID",""),purchaseTime:n(t,"purchaseTime",""),purchaseToken:n(t,"purchaseToken",""),signedRequest:n(t,"signedRequest","")}};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n={Events:i(207),DisplayList:i(1344),GameObjectCreator:i(27),GameObjectFactory:i(7),UpdateList:i(1372),Components:i(24),BuildGameObject:i(55),BuildGameObjectAnimation:i(315),GameObject:i(19),BitmapText:i(225),Blitter:i(316),Container:i(317),DynamicBitmapText:i(318),Extern:i(549),Graphics:i(319),Group:i(171),Image:i(152),Particles:i(1399),PathFollower:i(561),RenderTexture:i(323),RetroFont:i(1408),Sprite:i(96),Text:i(324),TileSprite:i(325),Zone:i(203),Shape:i(60),Arc:i(563),Curve:i(564),Ellipse:i(565),Grid:i(566),IsoBox:i(567),IsoTriangle:i(568),Line:i(569),Polygon:i(570),Rectangle:i(575),Star:i(576),Triangle:i(577),Factories:{Blitter:i(1453),Container:i(1454),DynamicBitmapText:i(1455),Extern:i(1456),Graphics:i(1457),Group:i(1458),Image:i(1459),Particles:i(1460),PathFollower:i(1461),RenderTexture:i(1462),Sprite:i(1463),StaticBitmapText:i(1464),Text:i(1465),TileSprite:i(1466),Zone:i(1467),Arc:i(1468),Curve:i(1469),Ellipse:i(1470),Grid:i(1471),IsoBox:i(1472),IsoTriangle:i(1473),Line:i(1474),Polygon:i(1475),Rectangle:i(1476),Star:i(1477),Triangle:i(1478)},Creators:{Blitter:i(1479),Container:i(1480),DynamicBitmapText:i(1481),Graphics:i(1482),Group:i(1483),Image:i(1484),Particles:i(1485),RenderTexture:i(1486),Sprite:i(1487),StaticBitmapText:i(1488),Text:i(1489),TileSprite:i(1490),Zone:i(1491)}};n.DOMElement=i(580),n.Factories.DOMElement=i(1494),n.Mesh=i(226),n.Quad=i(328),n.Factories.Mesh=i(1498),n.Factories.Quad=i(1499),n.Creators.Mesh=i(1500),n.Creators.Quad=i(1501),n.Light=i(582),i(583),i(1502),t.exports=n},function(t,e,i){var n=i(0),s=i(222),r=i(26),o=i(30),a=i(224),h=new n({Extends:s,initialize:function(t){s.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},shutdown:function(){for(var t=this.list.length;t--;)this.list[t].destroy(!0);this.list.length=0,this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("DisplayList",h,"displayList"),t.exports=h},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CheckMatrix:i(313),MatrixToString:i(1346),ReverseColumns:i(1347),ReverseRows:i(1348),Rotate180:i(1349),RotateLeft:i(1350),RotateMatrix:i(223),RotateRight:i(1351),TransposeMatrix:i(544)}},function(t,e,i){var n=i(289),s=i(313),r=function(t){var e,i,r,o,a="";if(!s(t))return a;for(e=0;e<t.length;e++){for(i=0;i<t[e].length;i++)r=""+t[e][i],a+="undefined"!==r?n(r,2):"?",i<t[e].length-1&&(a+=" |");if(e<t.length-1){for(a+="\n",o=0;o<t[e].length;o++)a+="---",o<t[e].length-1&&(a+="+");a+="\n"}}return a};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.reverse()};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t};t.exports=i},function(t,e,i){var n=i(223),s=function(t){return n(t,180)};t.exports=s},function(t,e,i){var n=i(223),s=function(t){return n(t,90)};t.exports=s},function(t,e,i){var n=i(223),s=function(t){return n(t,-90)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h;if(s===undefined&&(s=t),i>0&&(r=i-t.length)<=0)return null;if(!Array.isArray(e))return-1===t.indexOf(e)?(t.push(e),n&&n.call(s,e),e):null;for(o=e.length-1;o>=0;)-1!==t.indexOf(e[o])&&e.pop(),o--;if(0===(o=e.length))return null;for(i>0&&o>r&&(e.splice(r),o=r),a=0;a<o;a++)h=e[a],t.push(h),n&&n.call(s,h);return e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s,r){var o,a,h,u;if(i===undefined&&(i=0),r===undefined&&(r=t),n>0&&(o=n-t.length)<=0)return null;if(!Array.isArray(e))return-1===t.indexOf(e)?(t.splice(i,0,e),s&&s.call(r,e),e):null;for(a=e.length-1;a>=0;)-1!==t.indexOf(e[a])&&e.pop(),a--;if(0===(a=e.length))return null;for(n>0&&a>o&&(e.splice(o),a=o),h=a-1;h>=0;h--)u=e[h],t.splice(i,0,u),s&&s.call(r,u);return e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.indexOf(e);return-1!==i&&i<t.length&&(t.splice(i,1),t.push(e)),e};t.exports=i},function(t,e,i){var n=i(129),s=function(t,e,i,s,r){var o,a,h;if(s===undefined&&(s=0),r===undefined&&(r=t.length),o=0,n(t,s,r))for(a=s;a<r;a++)h=t[a],h[e]===i&&o++;return o};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s=[null];for(n=3;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<t.length;n++)s[0]=t[n],e.apply(i,s);return t};t.exports=i},function(t,e,i){var n=i(129),s=function(t,e,i,s,r){var o,a;if(s===undefined&&(s=0),r===undefined&&(r=t.length),n(t,s,r)){for(a=[null],o=5;o<arguments.length;o++)a.push(arguments[o]);for(o=s;o<r;o++)a[0]=t[o],e.apply(i,a)}return t};t.exports=s},function(t,e,i){var n=i(129),s=function(t,e,i,s,r){var o,a,h;if(s===undefined&&(s=0),r===undefined&&(r=t.length),o=[],n(t,s,r))for(a=s;a<r;a++)h=t[a],(!e||e&&i===undefined&&h.hasOwnProperty(e)||e&&i!==undefined&&h[e]===i)&&o.push(h);return o};t.exports=s},function(t,e,i){var n=i(129),s=function(t,e,i,s,r){var o,a;if(s===undefined&&(s=0),r===undefined&&(r=t.length),n(t,s,r))for(o=s;o<r;o++)if(a=t[o],!e||e&&i===undefined&&a.hasOwnProperty(e)||e&&i!==undefined&&a[e]===i)return a;return null};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s=t.indexOf(e);return s>0&&(i=t[s-1],n=t.indexOf(i),t[s]=i,t[n]=e),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=t.indexOf(e);if(-1===n||i<0||i>=t.length)throw Error("Supplied index out of bounds");return n!==i&&(t.splice(n,1),t.splice(i,0,e)),e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s=t.indexOf(e);return-1!==s&&s<t.length-1&&(i=t[s+1],n=t.indexOf(i),t[s]=i,t[n]=e),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o=[];for(s=t;s<=e;s++)i||n?(r=i?i+""+s:""+s,n&&(r=r.concat(n)),o.push(r)):o.push(s);return o};t.exports=i},function(t,e,i){var n=i(485),s=function(t,e,i){var s,r,o;for(t===undefined&&(t=0),e===undefined&&(e=null),i===undefined&&(i=1),null===e&&(e=t,t=0),s=[],r=Math.max(n((e-t)/(i||1)),0),o=0;o<r;o++)s.push(t),t+=i;return s};t.exports=s},function(t,e,i){var n=i(168),s=function(t,e,i,s){if(s===undefined&&(s=t),e<0||e>t.length-1)throw Error("Index out of bounds");var r=n(t,e);return i&&i.call(s,r),r};t.exports=s},function(t,e,i){var n=i(129),s=function(t,e,i,s,r){var o,a,h,u;if(e===undefined&&(e=0),i===undefined&&(i=t.length),r===undefined&&(r=t),n(t,e,i)){if(o=i-e,a=t.splice(e,o),s)for(h=0;h<a.length;h++)u=a[h],s.call(r,u);return a}return[]};t.exports=s},function(t,e,i){var n=i(168),s=function(t,e,i){e===undefined&&(e=0),i===undefined&&(i=t.length);var s=e+Math.floor(Math.random()*i);return n(t,s)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=t.indexOf(e),s=t.indexOf(i);return-1!==n&&-1===s&&(t[n]=i,!0)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.indexOf(e);return-1!==i&&i>0&&(t.splice(i,1),t.unshift(e)),e};t.exports=i},function(t,e,i){var n=i(129),s=function(t,e,i,s,r){var o,a;if(s===undefined&&(s=0),r===undefined&&(r=t.length),n(t,s,r))for(o=s;o<r;o++)a=t[o],a.hasOwnProperty(e)&&(a[e]=i);return t};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s;if(e!==i){if(n=t.indexOf(e),s=t.indexOf(i),n<0||s<0)throw Error("Supplied items must be elements of the same array");return t[n]=i,t[s]=e,t}};t.exports=i},function(t,e,i){var n=i(0),s=i(26),r=i(30),o=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(r.PRE_UPDATE,this.preUpdate,this),t.on(r.UPDATE,this.update,this),t.once(r.SHUTDOWN,this.shutdown,this)},add:function(t){return-1===this._list.indexOf(t)&&-1===this._pendingInsertion.indexOf(t)&&this._pendingInsertion.push(t),t},preUpdate:function(){var t,e,i,n=this._pendingRemoval.length,s=this._pendingInsertion.length;if(0!==n||0!==s){for(t=0;t<n;t++)e=this._pendingRemoval[t],(i=this._list.indexOf(e))>-1&&this._list.splice(i,1);this._list=this._list.concat(this._pendingInsertion.splice(0)),this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){var i,n;for(i=0;i<this._list.length;i++)n=this._list[i],n.active&&n.preUpdate.call(n,t,e)},remove:function(t){var e=this._list.indexOf(t);return-1!==e&&this._list.splice(e,1),t},removeAll:function(){for(var t=this._list.length;t--;)this.remove(this._list[t]);return this},shutdown:function(){for(var t,e=this._list.length;e--;)this._list[e].destroy(!0);for(e=this._pendingRemoval.length;e--;)this._pendingRemoval[e].destroy(!0);for(e=this._pendingInsertion.length;e--;)this._pendingInsertion[e].destroy(!0);this._list.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,t=this.systems.events,t.off(r.PRE_UPDATE,this.preUpdate,this),t.off(r.UPDATE,this.update,this),t.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null},length:{get:function(){return this._list.length}}});s.register("UpdateList",o,"updateList"),t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k;for(i===undefined&&(i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null}}),n=t.text,s=n.length,r=Number.MAX_VALUE,o=Number.MAX_VALUE,a=0,h=0,u=t.fontData.chars,l=t.fontData.lineHeight,c=t.letterSpacing,f=0,d=0,p=0,g=null,y=0,m=0,v=t.fontSize/t.fontData.size,x=v*t.scaleX,b=v*t.scaleY,_=null,w=0,T=[],S=Number.MAX_VALUE,A=0,E=0,P=0,O=0;O<s;O++)p=n.charCodeAt(O),10!==p?(g=u[p])&&(y=f,m=d,null!==_&&(M=g.kerning[w],y+=M!==undefined?M:0),r>y&&(r=y),o>m&&(o=m),C=y+g.xAdvance,I=m+l,a<C&&(a=C),h<I&&(h=I),f+=g.xAdvance+c,_=g,w=p,P=C*v):(f=0,d+=l,_=null,T[E]=P,P>A&&(A=P),P<S&&(S=P),E++,P=0);return T[E]=P,P>A&&(A=P),P<S&&(S=P),R=i.local,L=i.global,k=i.lines,R.x=r*v,R.y=o*v,R.width=a*v,R.height=h*v,L.x=t.x-t.displayOriginX+r*x,L.y=t.y-t.displayOriginY+o*b,L.width=a*x,L.height=h*b,k.shortest=S,k.longest=A,k.lengths=T,e&&(R.x=Math.round(R.x),R.y=Math.round(R.y),R.width=Math.round(R.width),R.height=Math.round(R.height),L.x=Math.round(L.x),L.y=Math.round(L.y),L.width=Math.round(L.width),L.height=Math.round(L.height),k.shortest=Math.round(S),k.longest=Math.round(A)),i};t.exports=i},function(t,e,i){var n=i(547),s=function(t,e,i,s,r,o,a){var h,u=t.sys.textures.getFrame(i,s),l=t.sys.cache.xml.get(r);return!(!u||!l)&&(h=n(l,o,a,u),t.sys.cache.bitmapFont.add(e,{data:h,texture:i,frame:s}),!0)};t.exports=s},function(t,e,i){var n=i(2),s=i(2);n=i(1376),s=i(1377),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K,q,J,Z,Q,$,tt,et,it,nt,st,rt=e._text,ot=rt.length;if(0!==ot)for(o=this.pipeline,t.setPipeline(o,e),a=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3,h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(s.matrix),r?(a.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y,a.multiply(h,u)):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY,a.multiply(h,u)),l=e.frame,c=l.glTexture,f=l.cutX,d=l.cutY,p=c.width,g=c.height,y=e._isTinted&&e.tintFill,m=n.getTintAppendFloatAlpha(e._tintTL,s.alpha*e._alphaTL),v=n.getTintAppendFloatAlpha(e._tintTR,s.alpha*e._alphaTR),x=n.getTintAppendFloatAlpha(e._tintBL,s.alpha*e._alphaBL),b=n.getTintAppendFloatAlpha(e._tintBR,s.alpha*e._alphaBR),o.setTexture2D(c,0),_=0,w=0,T=0,S=0,A=e._letterSpacing,P=0,O=0,M=0,C=0,R=e.fontData,L=R.chars,k=R.lineHeight,D=e._fontSize/R.size,F=e._align,N=0,B=0,e.getTextBounds(!1),U=e._bounds.lines,1===F?B=(U.longest-U.lengths[0])/2:2===F&&(B=U.longest-U.lengths[0]),G=s.roundPixels,Y=0;Y<ot;Y++)T=rt.charCodeAt(Y),10!==T?(E=L[T])&&(P=f+E.x,O=d+E.y,M=E.width,C=E.height,X=E.xOffset+_,z=E.yOffset+w,null!==I&&(W=E.kerning[S],X+=W!==undefined?W:0),_+=E.xAdvance+A,I=E,S=T,0!==M&&0!==C&&32!==T&&(X*=D,z*=D,X-=e.displayOriginX,z-=e.displayOriginY,X+=B,j=P/p,V=O/g,H=(P+M)/p,K=(O+C)/g,q=X+M*D,J=z+C*D,Z=u.getX(X,z),Q=u.getY(X,z),$=u.getX(X,J),tt=u.getY(X,J),et=u.getX(q,J),it=u.getY(q,J),nt=u.getX(q,z),st=u.getY(q,z),G&&(Z=Math.round(Z),Q=Math.round(Q),$=Math.round($),tt=Math.round(tt),et=Math.round(et),it=Math.round(it),nt=Math.round(nt),st=Math.round(st)),o.batchQuad(Z,Q,$,tt,et,it,nt,st,j,V,H,K,m,v,x,b,y,c,0))):(N++,1===F?B=(U.longest-U.lengths[N])/2:2===F&&(B=U.longest-U.lengths[N]),_=0,w+=k,I=null)};t.exports=s},function(t,e,i){var n=i(44),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L=e._text,k=L.length,D=t.currentContext;if(0!==k&&n(t,D,e,s,r)){for(o=e.frame,a=e.fontData.chars,h=e.fontData.lineHeight,u=e._letterSpacing,l=0,c=0,f=0,d=null,p=0,g=0,y=0,m=0,v=0,x=0,b=null,_=0,w=e.frame.source.image,T=o.cutX,S=o.cutY,A=e._fontSize/e.fontData.size,E=e._align,P=0,O=0,e.getTextBounds(!1),M=e._bounds.lines,1===E?O=(M.longest-M.lengths[0])/2:2===E&&(O=M.longest-M.lengths[0]),D.translate(-e.displayOriginX,-e.displayOriginY),C=s.roundPixels,I=0;I<k;I++)f=L.charCodeAt(I),10!==f?(d=a[f])&&(p=T+d.x,g=S+d.y,y=d.width,m=d.height,v=d.xOffset+l,x=d.yOffset+c,null!==b&&(R=d.kerning[_],v+=R!==undefined?R:0),v*=A,x*=A,v+=O,l+=d.xAdvance+u,b=d,_=f,0!==y&&0!==m&&32!==f&&(C&&(v=Math.round(v),x=Math.round(x)),D.save(),D.translate(v,x),D.scale(A,A),D.drawImage(w,p,g,y,m,0,0,y,m),D.restore())):(P++,1===E?O=(M.longest-M.lengths[P])/2:2===E&&(O=M.longest-M.lengths[P]),l=0,c+=h,b=null);D.restore()}};t.exports=s},function(t,e,i){var n=i(2),s=i(2);n=i(1379),s=i(1380),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I=e.getRenderList();if(0!==I.length)for(o=this.pipeline,t.setPipeline(o,e),a=s.scrollX*e.scrollFactorX,h=s.scrollY*e.scrollFactorY,u=o._tempMatrix1,u.copyFrom(s.matrix),r&&(u.multiplyWithOffset(r,-a,-h),a=0,h=0),l=e.x-a,c=e.y-h,f=-1,d=!1,p=s.alpha*e.alpha,g=s.roundPixels,y=0;y<I.length;y++)m=I[y],v=m.frame,0!==(x=m.alpha*p)&&(b=v.width,_=v.height,w=l+m.x+v.x,T=c+m.y+v.y,m.flipX&&(b*=-1,w+=v.width),m.flipY&&(_*=-1,T+=v.height),S=w+b,A=T+_,E=u.getX(w,T),P=u.getY(w,T),O=u.getX(S,A),M=u.getY(S,A),C=n.getTintAppendFloatAlpha(16777215,x),v.sourceIndex!==f&&(o.setTexture2D(v.glTexture,0),f=v.sourceIndex),g&&(E=Math.round(E),P=Math.round(P),O=Math.round(O),M=Math.round(M)),o.batchQuad(E,P,E,M,O,M,O,P,v.u0,v.v0,v.u1,v.v1,C,C,C,C,d,v.glTexture,0)&&(f=-1))};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b=e.getRenderList();if(0!==b.length&&(r=t.currentContext,0!==(o=n.alpha*e.alpha))){for(r.globalCompositeOperation=t.blendModes[e.blendMode],a=e.x-n.scrollX*e.scrollFactorX,h=e.y-n.scrollY*e.scrollFactorY,r.save(),s&&s.copyToContext(r),u=n.roundPixels,l=0;l<b.length;l++)c=b[l],f=c.flipX||c.flipY,d=c.frame,p=d.canvasData,g=d.x,y=d.y,m=1,v=1,0!==(x=c.alpha*o)&&(r.globalAlpha=x,f?(c.flipX&&(m=-1,g-=p.width),c.flipY&&(v=-1,y-=p.height),r.save(),r.translate(c.x+a,c.y+h),r.scale(m,v),r.drawImage(d.source.image,p.x,p.y,p.width,p.height,g,y,p.width,p.height),r.restore()):(u&&(g=Math.round(g),y=Math.round(y)),r.drawImage(d.source.image,p.x,p.y,p.width,p.height,g+c.x+a,y+c.y+h,p.width,p.height)));r.restore()}};t.exports=i},function(t,e,i){var n=i(0),s=new n({initialize:function(t,e,i,n,s){this.parent=t,this.x=e,this.y=i,this.frame=n,this.data={},this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return t===undefined?this.frame=this.parent.frame:this.frame=this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,e,i){return this.x=t,this.y=e,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=undefined,this.frame=undefined,this.data=undefined},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.parent.dirty=!0}},alpha:{get:function(){return this._alpha},set:function(t){this._alpha=t,this.parent.dirty=!0}}});t.exports=s},function(t,e,i){var n=i(2),s=i(2);n=i(1383),s=i(1384),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h,u,l,c,f,d,p,g=e.list;if(0!==g.length)for(r=e.localTransform,s?(r.loadIdentity(),r.multiply(s),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o=-1!==e.blendMode,o||t.setBlendMode(0),a=e._alpha,h=e.scrollFactorX,u=e.scrollFactorY,l=0;l<g.length;l++)c=g[l],c.willRender(n)&&(f=c._alpha,d=c.scrollFactorX,p=c.scrollFactorY,o||c.blendMode===t.currentBlendMode||t.setBlendMode(c.blendMode),c.setScrollFactor(d*h,p*u),c.setAlpha(f*a),c.renderWebGL(t,c,i,n,r),c.setAlpha(f),c.setScrollFactor(d,p))};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h,u,l,c,f,d,p,g,y=e.list;if(0!==y.length)for(r=e.localTransform,s?(r.loadIdentity(),r.multiply(s),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o=-1!==e.blendMode,o||t.setBlendMode(0),a=e._alpha,h=e.scrollFactorX,u=e.scrollFactorY,l=0;l<y.length;l++)c=y[l],c.willRender(n)&&(f=c._alpha,d=c._blendMode,p=c.scrollFactorX,g=c.scrollFactorY,c.setScrollFactor(p*h,g*u),c.setAlpha(f*a),o&&c.setBlendMode(e._blendMode),c.renderCanvas(t,c,i,n,r),c.setAlpha(f),c.setScrollFactor(p,g),c.setBlendMode(d))};t.exports=i},function(t,e,i){var n=i(2),s=i(2);n=i(1386),s=i(1387),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K,q,J,Z,Q,$,tt,et,it,nt,st,rt,ot,at,ht,ut,lt,ct,ft,dt=e.text,pt=dt.length;if(0!==pt){for(o=this.pipeline,t.setPipeline(o,e),a=e.cropWidth>0||e.cropHeight>0,a&&(o.flush(),t.pushScissor(e.x,e.y,e.cropWidth*e.scaleX,e.cropHeight*e.scaleY)),h=o._tempMatrix1,u=o._tempMatrix2,l=o._tempMatrix3,c=o._tempMatrix4,u.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(s.matrix),r?(h.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),u.e=e.x,u.f=e.y,h.multiply(u,l)):(u.e-=s.scrollX*e.scrollFactorX,u.f-=s.scrollY*e.scrollFactorY,h.multiply(u,l)),f=e.frame,d=f.glTexture,p=f.cutX,g=f.cutY,y=d.width,m=d.height,v=e._isTinted&&e.tintFill,x=n.getTintAppendFloatAlpha(e._tintTL,s.alpha*e._alphaTL),b=n.getTintAppendFloatAlpha(e._tintTR,s.alpha*e._alphaTR),_=n.getTintAppendFloatAlpha(e._tintBL,s.alpha*e._alphaBL),w=n.getTintAppendFloatAlpha(e._tintBR,s.alpha*e._alphaBR),o.setTexture2D(d,0),T=0,S=0,A=0,E=0,P=e.letterSpacing,M=0,C=0,I=0,R=0,k=e.scrollX,D=e.scrollY,F=e.fontData,N=F.chars,B=F.lineHeight,U=e.fontSize/F.size,G=0,Y=e._align,X=0,z=0,e.getTextBounds(!1),W=e._bounds.lines,1===Y?z=(W.longest-W.lengths[0])/2:2===Y&&(z=W.longest-W.lengths[0]),j=s.roundPixels,V=e.displayCallback,H=e.callbackData,K=0;K<pt;K++)A=dt.charCodeAt(K),10!==A?(O=N[A])&&(M=p+O.x,C=g+O.y,I=O.width,R=O.height,q=O.xOffset+T-k,J=O.yOffset+S-D,null!==L&&(Z=O.kerning[E],q+=Z!==undefined?Z:0),T+=O.xAdvance+P,L=O,E=A,0!==I&&0!==R&&32!==A&&(U=e.fontSize/e.fontData.size,G=0,V&&(H.color=0,H.tint.topLeft=x,H.tint.topRight=b,H.tint.bottomLeft=_,H.tint.bottomRight=w,H.index=K,H.charCode=A,H.x=q,H.y=J,H.scale=U,H.rotation=G,H.data=O.data,Q=V(H),q=Q.x,J=Q.y,U=Q.scale,G=Q.rotation,Q.color?(x=Q.color,b=Q.color,_=Q.color,w=Q.color):(x=Q.tint.topLeft,b=Q.tint.topRight,_=Q.tint.bottomLeft,w=Q.tint.bottomRight),x=n.getTintAppendFloatAlpha(x,s.alpha*e._alphaTL),b=n.getTintAppendFloatAlpha(b,s.alpha*e._alphaTR),_=n.getTintAppendFloatAlpha(_,s.alpha*e._alphaBL),w=n.getTintAppendFloatAlpha(w,s.alpha*e._alphaBR)),q*=U,J*=U,q-=e.displayOriginX,J-=e.displayOriginY,q+=z,c.applyITRS(q,J,G,U,U),l.multiply(c,u),$=M/y,tt=C/m,et=(M+I)/y,it=(C+R)/m,nt=I,st=R,rt=u.e,ot=u.f,at=st*u.c+u.e,ht=st*u.d+u.f,ut=nt*u.a+st*u.c+u.e,lt=nt*u.b+st*u.d+u.f,ct=nt*u.a+u.e,ft=nt*u.b+u.f,j&&(rt=Math.round(rt),ot=Math.round(ot),at=Math.round(at),ht=Math.round(ht),ut=Math.round(ut),lt=Math.round(lt),ct=Math.round(ct),ft=Math.round(ft)),o.batchQuad(rt,ot,at,ht,ut,lt,ct,ft,$,tt,et,it,x,b,_,w,v,d,0))):(X++,1===Y?z=(W.longest-W.lengths[X])/2:2===Y&&(z=W.longest-W.lengths[X]),T=0,S+=B,L=null);a&&(o.flush(),t.popScissor())}};t.exports=s},function(t,e,i){var n=i(44),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k=e.text,D=k.length,F=t.currentContext;if(0!==D&&n(t,F,e,s,r)){for(o=e.frame,a=e.displayCallback,h=e.callbackData,u=s.scrollX*e.scrollFactorX,l=s.scrollY*e.scrollFactorY,c=e.fontData.chars,f=e.fontData.lineHeight,d=0,p=0,g=0,y=0,m=null,v=0,x=0,b=0,_=0,w=0,T=0,S=null,A=0,E=e.frame.source.image,P=o.cutX,O=o.cutY,M=0,C=e.fontSize/e.fontData.size,e.cropWidth>0&&e.cropHeight>0&&(F.beginPath(),F.rect(0,0,e.cropWidth,e.cropHeight),F.clip()),I=0;I<D;++I)C=e.fontSize/e.fontData.size,M=0,y=k.charCodeAt(I),10!==y?(m=c[y])&&(v=P+m.x,x=O+m.y,b=m.width,_=m.height,w=g+m.xOffset+d-e.scrollX,T=m.yOffset+p-e.scrollY,null!==S&&(R=m.kerning[A],w+=R!==undefined?R:0),a&&(h.index=I,h.charCode=y,h.x=w,h.y=T,h.scale=C,h.rotation=M,h.data=m.data,L=a(h),w=L.x,T=L.y,C=L.scale,M=L.rotation),w*=C,T*=C,w-=u,T-=l,s.roundPixels&&(w=Math.round(w),T=Math.round(T)),F.save(),F.translate(w,T),F.rotate(M),F.scale(C,C),F.drawImage(E,v,x,b,_,0,0,b,_),F.restore(),d+=m.xAdvance,g+=1,S=m,A=y):(d=0,g=0,p+=f,S=null);F.restore()}};t.exports=s},function(t,e,i){var n=i(2),s=i(2);n=i(1389),s=i(1390),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h=t.currentPipeline;t.clearPipeline(),r=t._tempMatrix1,o=t._tempMatrix2,a=t._tempMatrix3,o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.copyFrom(n.matrix),s?(r.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),o.e=e.x,o.f=e.y,r.multiply(o,a)):(o.e-=n.scrollX*e.scrollFactorX,o.f-=n.scrollY*e.scrollFactorY,r.multiply(o,a)),e.render.call(e,t,n,a),t.rebindPipeline(h)};t.exports=i},function(t,e){},function(t,e,i){var n=i(2),s=i(2);n=i(1392),s=i(553),s=i(553),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(320),s=i(16),r=function(t,e,i){this.x=t,this.y=e,this.width=i},o=function(t,e,i){this.points=[],this.pointsLength=1,this.points[0]=new r(t,e,i)},a=[],h=function(t,e,i,h,u){var l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B,U,G,Y,X,z,W,j,V,H,K;if(0!==e.commandBuffer.length)for(l=t.currentPipeline,c=l._tempMatrix1,f=l._tempMatrix2,d=l._tempMatrix4,t.setPipeline(l),d.loadIdentity(),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(h.matrix),u?(c.multiplyWithOffset(u,-h.scrollX*e.scrollFactorX,-h.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y,c.multiply(f)):(f.e-=h.scrollX*e.scrollFactorX,f.f-=h.scrollY*e.scrollFactorY,c.multiply(f)),p=e.commandBuffer,g=h.alpha*e.alpha,y=1,m=l.fillTint,v=l.strokeTint,x=0,b=0,_=0,w=.01,T=2*Math.PI,S=[],A=0,E=!1,P=null,O=s.getTintAppendFloatAlphaAndSwap,M=t.blankTexture.glTexture,C=0;C<p.length;C++)switch(p[C]){case n.BEGIN_PATH:S.length=0,P=null,E=!0;break;case n.CLOSE_PATH:E=!1,P&&P.points.length&&P.points.push(P.points[0]);break;case n.FILL_PATH:for(A=0;A<S.length;A++)l.setTexture2D(M),l.batchFillPath(S[A].points,d,c);break;case n.STROKE_PATH:for(A=0;A<S.length;A++)l.setTexture2D(M),l.batchStrokePath(S[A].points,y,E,d,c);break;case n.LINE_STYLE:y=p[++C],I=p[++C],R=p[++C]*g,L=O(I,R),v.TL=L,v.TR=L,v.BL=L,v.BR=L;break;case n.FILL_STYLE:k=p[++C],D=p[++C]*g,F=O(k,D),m.TL=F,m.TR=F,m.BL=F,m.BR=F;break;case n.GRADIENT_FILL_STYLE:N=p[++C]*g,m.TL=O(p[++C],N),m.TR=O(p[++C],N),m.BL=O(p[++C],N),m.BR=O(p[++C],N);break;case n.GRADIENT_LINE_STYLE:y=p[++C],B=p[++C]*g,v.TL=O(p[++C],B),v.TR=O(p[++C],B),v.BL=O(p[++C],B),v.BR=O(p[++C],B);break;case n.ARC:for(U=0,G=p[++C],Y=p[++C],X=p[++C],z=p[++C],W=p[++C],j=p[++C],V=p[++C],W-=z,j?W<-T?W=-T:W>0&&(W=W%T-T):W>T?W=T:W<0&&(W=T+W%T),null===P&&(P=new o(G+Math.cos(z)*X,Y+Math.sin(z)*X,y),S.push(P),U+=w);U<1+V;)_=W*U+z,x=G+Math.cos(_)*X,b=Y+Math.sin(_)*X,P.points.push(new r(x,b,y)),U+=w;_=W+z,x=G+Math.cos(_)*X,b=Y+Math.sin(_)*X,P.points.push(new r(x,b,y));break;case n.FILL_RECT:l.setTexture2D(M),l.batchFillRect(p[++C],p[++C],p[++C],p[++C],d,c);break;case n.FILL_TRIANGLE:l.setTexture2D(M),l.batchFillTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],d,c);break;case n.STROKE_TRIANGLE:l.setTexture2D(M),l.batchStrokeTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],y,d,c);break;case n.LINE_TO:null!==P?P.points.push(new r(p[++C],p[++C],y)):(P=new o(p[++C],p[++C],y),S.push(P));break;case n.MOVE_TO:P=new o(p[++C],p[++C],y),S.push(P);break;case n.SAVE:a.push(d.copyToArray());break;case n.RESTORE:d.copyFromArray(a.pop());break;case n.TRANSLATE:G=p[++C],Y=p[++C],d.translate(G,Y);break;case n.SCALE:G=p[++C],Y=p[++C],d.scale(G,Y);break;case n.ROTATE:d.rotate(p[++C]);break;case n.SET_TEXTURE:H=p[++C],K=p[++C],l.currentFrame=H,l.setTexture2D(H.glTexture,0),l.tintEffect=K,M=H.glTexture;break;case n.CLEAR_TEXTURE:l.currentFrame=t.blankTexture,l.tintEffect=2,M=t.blankTexture.glTexture}};t.exports=h},function(t,e,i){var n=i(2),s=i(2);n=i(1394),s=i(1395),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){this.pipeline.batchSprite(e,n,s)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){t.batchSprite(e,e.frame,n,s)};t.exports=i},function(t,e,i){var n=i(2),s=i(2);n=i(1397),s=i(1398),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){this.pipeline.batchSprite(e,n,s)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){t.batchSprite(e,e.frame,n,s)};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GravityWell:i(554),Particle:i(555),ParticleEmitter:i(556),ParticleEmitterManager:i(322),Zones:i(1404)}},function(t,e,i){var n=i(0),s=i(481),r=i(172),o=i(3),a=i(108),h=new n({initialize:function(t,e,i,n){n===undefined&&(n=!1),this.propertyKey=e,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=n,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(t,e){t===undefined&&(t={}),e&&(this.propertyKey=e),this.propertyValue=o(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t,e,i,n=this.propertyValue,s=typeof n;return"number"===s?(this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate):Array.isArray(n)?this.onEmit=this.randomStaticValueEmit:"function"===s?this.emitOnly?this.onEmit=n:this.onUpdate=n:"object"===s&&(this.has(n,"random")||this.hasBoth(n,"start","end")||this.hasBoth(n,"min","max"))?(this.start=this.has(n,"start")?n.start:n.min,this.end=this.has(n,"end")?n.end:n.max,t=this.hasBoth(n,"min","max")||this.has(n,"random"),t&&(e=n.random,Array.isArray(e)&&(this.start=e[0],this.end=e[1]),this.onEmit=this.randomRangedValueEmit),this.has(n,"steps")?(this.steps=n.steps,this.counter=this.start,this.onEmit=this.steppedEmit):(i=this.has(n,"ease")?n.ease:"Linear",this.ease=r(i),t||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate)):"object"===s&&this.hasEither(n,"onEmit","onUpdate")&&(this.has(n,"onEmit")&&(this.onEmit=n.onEmit),this.has(n,"onUpdate")&&(this.onUpdate=n.onUpdate)),this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,n){return n},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,e){var i=s(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i),i},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=a(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var n=t.data[e];return(n.max-n.min)*this.ease(i)+n.min}});t.exports=h},function(t,e,i){var n=i(2),s=i(2);n=i(1402),s=i(1403),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I,R,L,k,D,F,N,B=e.emitters.list,U=B.length;if(0!==U)for(o=this.pipeline,a=o._tempMatrix1.copyFrom(s.matrix),h=o._tempMatrix2,u=o._tempMatrix3,l=o._tempMatrix4.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.multiply(l),t.setPipeline(o),c=s.roundPixels,f=e.defaultFrame.glTexture,d=n.getTintAppendFloatAlphaAndSwap,o.setTexture2D(f,0),p=0;p<U;p++)if(g=B[p],y=g.alive,m=y.length,g.visible&&0!==m)for(v=s.scrollX*g.scrollFactorX,x=s.scrollY*g.scrollFactorY,r&&(a.multiplyWithOffset(r,-v,-x),v=0,x=0),t.setBlendMode(g.blendMode)&&o.setTexture2D(f,0),b=0,_=0;_<m;_++)w=y[_],(T=w.alpha*s.alpha)<=0||(S=w.frame,A=-S.halfWidth,E=-S.halfHeight,P=A+S.width,O=E+S.height,u.applyITRS(0,0,w.rotation,w.scaleX,w.scaleY),u.e=w.x-v,u.f=w.y-x,a.multiply(u,h),M=h.getX(A,E),C=h.getY(A,E),I=h.getX(A,O),R=h.getY(A,O),L=h.getX(P,O),k=h.getY(P,O),D=h.getX(P,E),F=h.getY(P,E),c&&(M=Math.round(M),C=Math.round(C),I=Math.round(I),R=Math.round(R),L=Math.round(L),k=Math.round(k),D=Math.round(D),F=Math.round(F)),N=d(w.tint,T),o.batchQuad(M,C,I,R,L,k,D,F,S.u0,S.v0,S.u1,S.v1,N,N,N,N,b,f,0))};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S=e.emitters.list,A=S.length;if(0!==A){for(r=t._tempMatrix1.copyFrom(n.matrix),o=t._tempMatrix2,a=t._tempMatrix3,h=t._tempMatrix4.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.multiply(h),u=n.roundPixels,l=t.currentContext,l.save(),c=0;c<A;c++)if(f=S[c],d=f.alive,p=d.length,f.visible&&0!==p)for(g=n.scrollX*f.scrollFactorX,y=n.scrollY*f.scrollFactorY,s&&(r.multiplyWithOffset(s,-g,-y),g=0,y=0),l.globalCompositeOperation=t.blendModes[f.blendMode],m=0;m<p;m++)v=d[m],(x=v.alpha*n.alpha)<=0||(b=v.frame,_=b.canvasData,w=-b.halfWidth,T=-b.halfHeight,a.applyITRS(0,0,v.rotation,v.scaleX,v.scaleY),a.e=v.x-g,a.f=v.y-y,r.multiply(a,o),l.globalAlpha=x,l.save(),o.copyToContext(l),u&&(w=Math.round(w),T=Math.round(T)),l.drawImage(b.source.image,_.x,_.y,_.width,_.height,w,T,_.width,_.height),l.restore());l.restore()}};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DeathZone:i(557),EdgeZone:i(558),RandomZone:i(560)}},function(t,e,i){var n=i(2),s=i(2);n=i(1406),s=i(1407),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o=e.frame,a=o.width,h=o.height,u=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,h,e.x,e.y,a,h,e.scaleX,e.scaleY,e.rotation,e.flipX,!e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,u(e._tintTL,s.alpha*e._alphaTL),u(e._tintTR,s.alpha*e._alphaTR),u(e._tintBL,s.alpha*e._alphaBL),u(e._tintBR,s.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,s,r),t.setBlankTexture(!0)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){t.batchSprite(e,e.frame,n,s)};t.exports=i},function(t,e,i){var n=i(1409),s=i(32),r={Parse:i(1410)};r=s(!1,r,n),t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"};t.exports=i},function(t,e,i){var n=i(6),s=function(t,e){var i,s,r,o,a,h,u,l,c,f,d,p,g,y=e.width,m=e.height,v=Math.floor(y/2),x=Math.floor(m/2),b=n(e,"chars","");if(""!==b){for(i=n(e,"image",""),s=n(e,"offset.x",0),r=n(e,"offset.y",0),o=n(e,"spacing.x",0),a=n(e,"spacing.y",0),h=n(e,"lineSpacing",0),u=n(e,"charsPerRow",null),null===u&&(u=t.sys.textures.getFrame(i).width/y)>b.length&&(u=b.length),l=s,c=r,f={retroFont:!0,font:i,size:y,lineHeight:m+h,chars:{}},d=0,p=0;p<b.length;p++)g=b.charCodeAt(p),f.chars[g]={x:l,y:c,width:y,height:m,centerX:v,centerY:x,xOffset:0,yOffset:0,xAdvance:y,data:{},kerning:{}},d++,d===u?(d=0,l=s,c+=m+a):l+=y+o;return{data:f,frame:null,texture:i}}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r,o,a,h=t.canvas,u=t.context,l=t.style,c=[],f=0,d=i.length;for(l.maxLines>0&&l.maxLines<i.length&&(d=l.maxLines),l.syncFont(h,u),n=0;n<d;n++)s=l.strokeThickness,s+=u.measureText(i[n]).width,l.wordWrap&&(s-=u.measureText(" ").width),c[n]=Math.ceil(s),f=Math.max(f,c[n]);return r=e.fontSize+l.strokeThickness,o=r*d,a=t.lineSpacing,i.length>1&&(o+=a*(i.length-1)),{width:f,height:o,lines:d,lineWidths:c,lineSpacing:a,lineHeight:r}};t.exports=i},function(t,e,i){var n=i(2),s=i(2);n=i(1413),s=i(1414),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u;""!==e.text&&(o=e.frame,a=o.width,h=o.height,u=n.getTintAppendFloatAlpha,this.pipeline.batchTexture(e,o.glTexture,a,h,e.x,e.y,a/e.style.resolution,h/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,u(e._tintTL,s.alpha*e._alphaTL),u(e._tintTR,s.alpha*e._alphaTR),u(e._tintBL,s.alpha*e._alphaBL),u(e._tintBR,s.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,s,r))};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){""!==e.text&&t.batchSprite(e,e.frame,n,s)};t.exports=i},function(t,e,i){var n=i(0),s=i(25),r=i(6),o=i(1416),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},h=new n({initialize:function(t,e){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(e,!1,!0);var i=r(e,"metrics",!1);this.metrics=i?{ascent:r(i,"ascent",0),descent:r(i,"descent",0),fontSize:r(i,"fontSize",0)}:o(this)},setStyle:function(t,e,i){var n,o,h,u;e===undefined&&(e=!0),i===undefined&&(i=!1),t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize+"px");for(n in a)o=i?a[n][1]:this[n],this[n]="wordWrapCallback"===n||"wordWrapCallbackScope"===n?r(t,a[n][0],o):s(t,a[n][0],o);return h=r(t,"font",null),null!==h&&this.setFont(h,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),u=r(t,"fill",null),null!==u&&(this.color=u),e?this.update(!0):this.parent},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},setFont:function(t,e){var i,n,s,o,a;return e===undefined&&(e=!0),i=t,n="",s="","string"!=typeof t?(i=r(t,"fontFamily","Courier"),n=r(t,"fontSize","16px"),s=r(t,"fontStyle","")):(o=t.split(" "),a=0,s=o.length>2?o[a++]:"",n=o[a++]||"16px",i=o[a++]||"Courier"),i===this.fontFamily&&n===this.fontSize&&s===this.fontStyle||(this.fontFamily=i,this.fontSize=n,this.fontStyle=s,e&&this.update(!0)),this.parent},setFontFamily:function(t){return this.fontFamily!==t&&(this.fontFamily=t,this.update(!0)),this.parent},setFontStyle:function(t){return this.fontStyle!==t&&(this.fontStyle=t,this.update(!0)),this.parent},setFontSize:function(t){return"number"==typeof t&&(t+="px"),this.fontSize!==t&&(this.fontSize=t,this.update(!0)),this.parent},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,e){return e===undefined&&(e=this.strokeThickness),t===undefined&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===t&&this.strokeThickness===e||(this.stroke=t,this.strokeThickness=e,this.update(!0)),this.parent},setShadow:function(t,e,i,n,s,r){return t===undefined&&(t=0),e===undefined&&(e=0),i===undefined&&(i="#000"),n===undefined&&(n=0),s===undefined&&(s=!1),r===undefined&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=s,this.shadowFill=r,this.update(!1)},setShadowOffset:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return t===undefined&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return t===undefined&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,e){return e===undefined&&(e=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=e,this.update(!1)},setWordWrapCallback:function(t,e){return e===undefined&&(e=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=e,this.update(!1)},setAlign:function(t){return t===undefined&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return t===undefined&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t,e={};for(t in a)e[t]=this[t];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=undefined}});t.exports=h},function(t,e,i){var n=i(43),s=function(t){var e,i,s,r,o,a,h,u,l,c,f,d=n.create(this),p=d.getContext("2d");if(t.syncFont(d,p),e=Math.ceil(p.measureText(t.testString).width*t.baselineX),i=e,s=2*i,i=i*t.baselineY|0,d.width=e,d.height=s,p.fillStyle="#f00",p.fillRect(0,0,e,s),p.font=t._font,p.textBaseline="alphabetic",p.fillStyle="#000",p.fillText(t.testString,0,i),r={ascent:0,descent:0,fontSize:0},!p.getImageData(0,0,e,s))return r.ascent=i,r.descent=i+6,r.fontSize=r.ascent+r.descent,n.remove(d),r;for(o=p.getImageData(0,0,e,s).data,a=o.length,h=4*e,c=0,f=!1,u=0;u<i;u++){for(l=0;l<h;l+=4)if(255!==o[c+l]){f=!0;break}if(f)break;c+=h}for(r.ascent=i-u,c=a-h,f=!1,u=s;u>i;u--){for(l=0;l<h;l+=4)if(255!==o[c+l]){f=!0;break}if(f)break;c-=h}return r.descent=u-i,r.fontSize=r.ascent+r.descent,n.remove(d),r};t.exports=s},function(t,e,i){var n=i(2),s=i(2);n=i(1418),s=i(1419),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){e.updateCanvas();var o=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,e.width,e.height,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*e.width,e.originY*e.height,0,0,e.width,e.height,o(e._tintTL,s.alpha*e._alphaTL),o(e._tintTR,s.alpha*e._alphaTR),o(e._tintBL,s.alpha*e._alphaBL),o(e._tintBR,s.alpha*e._alphaBR),e._isTinted&&e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,s,r)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){e.updateCanvas(),t.batchSprite(e,e.frame,n,s)};t.exports=i},function(t,e,i){var n=i(2),s=i(2);n=i(1421),s=i(1422),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(175),s=i(130),r=function(t,e,i,r,o){var a,h,u,l=this.pipeline,c=l._tempMatrix1,f=l._tempMatrix2,d=l._tempMatrix3;t.setPipeline(l),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(r.matrix),o?(c.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y):(f.e-=r.scrollX*e.scrollFactorX,f.f-=r.scrollY*e.scrollFactorY),c.multiply(f,d),a=e._displayOriginX,h=e._displayOriginY,u=r.alpha*e.alpha,e.isFilled&&n(l,d,e,u,a,h),e.isStroked&&s(l,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(78),s=i(79),r=i(97),o=i(44),a=function(t,e,i,a,h){var u,l=t.currentContext;o(t,l,e,a,h)&&(u=e.radius,l.beginPath(),l.arc(u-e.originX*(2*u),u-e.originY*(2*u),u,n(e._startAngle),n(e._endAngle),e.anticlockwise),e.closePath&&l.closePath(),e.isFilled&&(s(l,e),l.fill()),e.isStroked&&(r(l,e),l.stroke()),l.restore())};t.exports=a},function(t,e,i){var n=i(2),s=i(2);n=i(1424),s=i(1425),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(175),s=i(130),r=function(t,e,i,r,o){var a,h,u,l=this.pipeline,c=l._tempMatrix1,f=l._tempMatrix2,d=l._tempMatrix3;t.setPipeline(l),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(r.matrix),o?(c.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y):(f.e-=r.scrollX*e.scrollFactorX,f.f-=r.scrollY*e.scrollFactorY),c.multiply(f,d),a=e._displayOriginX+e._curveBounds.x,h=e._displayOriginY+e._curveBounds.y,u=r.alpha*e.alpha,e.isFilled&&n(l,d,e,u,a,h),e.isStroked&&s(l,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l,c,f,d,p,g,y,m=t.currentContext;if(r(t,m,e,o,a)){for(h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,l=e.pathData,c=l.length-1,f=l[0]-h,d=l[1]-u,m.beginPath(),m.moveTo(f,d),e.closePath||(c-=2),p=2;p<c;p+=2)g=l[p]-h,y=l[p+1]-u,m.lineTo(g,y);e.closePath&&m.closePath(),e.isFilled&&(n(m,e),m.fill()),e.isStroked&&(s(m,e),m.stroke()),m.restore()}};t.exports=o},function(t,e,i){var n=i(2),s=i(2);n=i(1427),s=i(1428),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(175),s=i(130),r=function(t,e,i,r,o){var a,h,u,l=this.pipeline,c=l._tempMatrix1,f=l._tempMatrix2,d=l._tempMatrix3;t.setPipeline(l),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(r.matrix),o?(c.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y):(f.e-=r.scrollX*e.scrollFactorX,f.f-=r.scrollY*e.scrollFactorY),c.multiply(f,d),a=e._displayOriginX,h=e._displayOriginY,u=r.alpha*e.alpha,e.isFilled&&n(l,d,e,u,a,h),e.isStroked&&s(l,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l,c,f,d,p,g,y,m=t.currentContext;if(r(t,m,e,o,a)){for(h=e._displayOriginX,u=e._displayOriginY,l=e.pathData,c=l.length-1,f=l[0]-h,d=l[1]-u,m.beginPath(),m.moveTo(f,d),e.closePath||(c-=2),p=2;p<c;p+=2)g=l[p]-h,y=l[p+1]-u,m.lineTo(g,y);m.closePath(),e.isFilled&&(n(m,e),m.fill()),e.isStroked&&(s(m,e),m.stroke()),m.restore()}};t.exports=o},function(t,e,i){var n=i(2),s=i(2);n=i(1430),s=i(1431),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I=this.pipeline,R=I._tempMatrix1,L=I._tempMatrix2,k=I._tempMatrix3;if(t.setPipeline(I),L.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),R.copyFrom(s.matrix),r?(R.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),L.e=e.x,L.f=e.y):(L.e-=s.scrollX*e.scrollFactorX,L.f-=s.scrollY*e.scrollFactorY),R.multiply(L,k),k.translate(-e._displayOriginX,-e._displayOriginY),o=s.alpha*e.alpha,a=e.width,h=e.height,u=e.cellWidth,l=e.cellHeight,c=Math.ceil(a/u),f=Math.ceil(h/l),d=u,p=l,g=u-(c*u-a),y=l-(f*l-h),x=e.showCells,b=e.showAltCells,_=e.showOutline,w=0,T=0,S=0,A=0,E=0,_&&(d--,p--,g===u&&g--,y===l&&y--),x&&e.fillAlpha>0)for(m=I.fillTint,v=n.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*o),m.TL=v,m.TR=v,m.BL=v,m.BR=v,T=0;T<f;T++)for(b&&(S=T%2),w=0;w<c;w++)b&&S?S=0:(S++,A=w<c-1?d:g,E=T<f-1?p:y,I.setTexture2D(),I.batchFillRect(w*u,T*l,A,E));if(b&&e.altFillAlpha>0)for(m=I.fillTint,v=n.getTintAppendFloatAlphaAndSwap(e.altFillColor,e.altFillAlpha*o),m.TL=v,m.TR=v,m.BL=v,m.BR=v,T=0;T<f;T++)for(b&&(S=T%2),w=0;w<c;w++)!b||S?(S=0,A=w<c-1?d:g,E=T<f-1?p:y,I.setTexture2D(),I.batchFillRect(w*u,T*l,A,E)):S=1;if(_&&e.outlineFillAlpha>0){for(P=I.strokeTint,O=n.getTintAppendFloatAlphaAndSwap(e.outlineFillColor,e.outlineFillAlpha*o),P.TL=O,P.TR=O,P.BL=O,P.BR=O,w=1;w<c;w++)M=w*u,I.setTexture2D(),I.batchLine(M,0,M,h,1,1,1,0,!1);for(T=1;T<f;T++)C=T*l,I.setTexture2D(),I.batchLine(0,C,a,C,1,1,1,0,!1)}};t.exports=s},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l=t.currentContext;r(t,l,e,o,a)&&(h=e._displayOriginX,u=e._displayOriginY,e.isFilled&&(n(l,e),l.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(s(l,e),l.beginPath(),l.rect(-h,-u,e.width,e.height),l.stroke()),l.restore())};t.exports=o},function(t,e,i){var n=i(2),s=i(2);n=i(1433),s=i(1434),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b=this.pipeline,_=b._tempMatrix1,w=b._tempMatrix2,T=b._tempMatrix3;t.setPipeline(b),w.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),_.copyFrom(s.matrix),r?(_.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),w.e=e.x,w.f=e.y):(w.e-=s.scrollX*e.scrollFactorX,w.f-=s.scrollY*e.scrollFactorY),_.multiply(w,T),o=e.width,a=e.height,h=o/2,u=o/e.projection,l=s.alpha*e.alpha,e.isFilled&&(e.showTop&&(c=n.getTintAppendFloatAlphaAndSwap(e.fillTop,l),f=T.getX(-h,-a),d=T.getY(-h,-a),p=T.getX(0,-u-a),g=T.getY(0,-u-a),y=T.getX(h,-a),m=T.getY(h,-a),v=T.getX(0,u-a),x=T.getY(0,u-a),b.setTexture2D(),b.batchQuad(f,d,p,g,y,m,v,x,0,0,1,1,c,c,c,c,2)),e.showLeft&&(c=n.getTintAppendFloatAlphaAndSwap(e.fillLeft,l),f=T.getX(-h,0),d=T.getY(-h,0),p=T.getX(0,u),g=T.getY(0,u),y=T.getX(0,u-a),m=T.getY(0,u-a),v=T.getX(-h,-a),x=T.getY(-h,-a),b.setTexture2D(),b.batchQuad(f,d,p,g,y,m,v,x,0,0,1,1,c,c,c,c,2)),e.showRight&&(c=n.getTintAppendFloatAlphaAndSwap(e.fillRight,l),f=T.getX(h,0),d=T.getY(h,0),p=T.getX(0,u),g=T.getY(0,u),y=T.getX(0,u-a),m=T.getY(0,u-a),v=T.getX(h,-a),x=T.getY(h,-a),b.setTexture2D(),b.batchQuad(f,d,p,g,y,m,v,x,0,0,1,1,c,c,c,c,2)))};t.exports=s},function(t,e,i){var n=i(79),s=i(44),r=function(t,e,i,r,o){var a,h,u,l,c=t.currentContext;s(t,c,e,r,o)&&e.isFilled&&(a=e.width,h=e.height,u=a/2,l=a/e.projection,e.showTop&&(n(c,e,e.fillTop),c.beginPath(),c.moveTo(-u,-h),c.lineTo(0,-l-h),c.lineTo(u,-h),c.lineTo(u,-1),c.lineTo(0,l-1),c.lineTo(-u,-1),c.lineTo(-u,-h),c.fill()),e.showLeft&&(n(c,e,e.fillLeft),c.beginPath(),c.moveTo(-u,0),c.lineTo(0,l),c.lineTo(0,l-h),c.lineTo(-u,-h),c.lineTo(-u,0),c.fill()),e.showRight&&(n(c,e,e.fillRight),c.beginPath(),c.moveTo(u,0),c.lineTo(0,l),c.lineTo(0,l-h),c.lineTo(u,-h),c.lineTo(u,0),c.fill()),c.restore())};t.exports=r},function(t,e,i){var n=i(2),s=i(2);n=i(1436),s=i(1437),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_=this.pipeline,w=_._tempMatrix1,T=_._tempMatrix2,S=_._tempMatrix3;t.setPipeline(_),T.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),w.copyFrom(s.matrix),r?(w.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),T.e=e.x,T.f=e.y):(T.e-=s.scrollX*e.scrollFactorX,T.f-=s.scrollY*e.scrollFactorY),w.multiply(T,S),o=e.width,a=e.height,h=o/2,u=o/e.projection,l=e.isReversed,c=s.alpha*e.alpha,e.isFilled&&(e.showTop&&l&&(f=n.getTintAppendFloatAlphaAndSwap(e.fillTop,c),d=S.getX(-h,-a),p=S.getY(-h,-a),g=S.getX(0,-u-a),y=S.getY(0,-u-a),m=S.getX(h,-a),v=S.getY(h,-a),x=S.getX(0,u-a),b=S.getY(0,u-a),_.setTexture2D(),_.batchQuad(d,p,g,y,m,v,x,b,0,0,1,1,f,f,f,f,2)),e.showLeft&&(f=n.getTintAppendFloatAlphaAndSwap(e.fillLeft,c),l?(d=S.getX(-h,-a),p=S.getY(-h,-a),g=S.getX(0,u),y=S.getY(0,u),m=S.getX(0,u-a),v=S.getY(0,u-a)):(d=S.getX(-h,0),p=S.getY(-h,0),g=S.getX(0,u),y=S.getY(0,u),m=S.getX(0,u-a),v=S.getY(0,u-a)),_.batchTri(d,p,g,y,m,v,0,0,1,1,f,f,f,2)),e.showRight&&(f=n.getTintAppendFloatAlphaAndSwap(e.fillRight,c),l?(d=S.getX(h,-a),p=S.getY(h,-a),g=S.getX(0,u),y=S.getY(0,u),m=S.getX(0,u-a),v=S.getY(0,u-a)):(d=S.getX(h,0),p=S.getY(h,0),g=S.getX(0,u),y=S.getY(0,u),m=S.getX(0,u-a),v=S.getY(0,u-a)),_.setTexture2D(),_.batchTri(d,p,g,y,m,v,0,0,1,1,f,f,f,2)))};t.exports=s},function(t,e,i){var n=i(79),s=i(44),r=function(t,e,i,r,o){var a,h,u,l,c,f=t.currentContext;s(t,f,e,r,o)&&e.isFilled&&(a=e.width,h=e.height,u=a/2,l=a/e.projection,c=e.isReversed,e.showTop&&c&&(n(f,e,e.fillTop),f.beginPath(),f.moveTo(-u,-h),f.lineTo(0,-l-h),f.lineTo(u,-h),f.lineTo(0,l-h),f.fill()),e.showLeft&&(n(f,e,e.fillLeft),f.beginPath(),c?(f.moveTo(-u,-h),f.lineTo(0,l),f.lineTo(0,l-h)):(f.moveTo(-u,0),f.lineTo(0,l),f.lineTo(0,l-h)),f.fill()),e.showRight&&(n(f,e,e.fillRight),f.beginPath(),c?(f.moveTo(u,-h),f.lineTo(0,l),f.lineTo(0,l-h)):(f.moveTo(u,0),f.lineTo(0,l),f.lineTo(0,l-h)),f.fill()),f.restore())};t.exports=r},function(t,e,i){var n=i(2),s=i(2);n=i(1439),s=i(1440),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d=this.pipeline,p=d._tempMatrix1,g=d._tempMatrix2;t.setPipeline(d),g.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),p.copyFrom(s.matrix),r?(p.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),g.e=e.x,g.f=e.y):(g.e-=s.scrollX*e.scrollFactorX,g.f-=s.scrollY*e.scrollFactorY),o=e._displayOriginX,a=e._displayOriginY,h=s.alpha*e.alpha,e.isStroked&&(u=d.strokeTint,l=n.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*h),u.TL=l,u.TR=l,u.BL=l,u.BR=l,c=e._startWidth,f=e._endWidth,d.setTexture2D(),d.batchLine(e.geom.x1-o,e.geom.y1-a,e.geom.x2-o,e.geom.y2-a,c,f,1,0,!1,g,p))};t.exports=s},function(t,e,i){var n=i(97),s=i(44),r=function(t,e,i,r,o){var a,h,u=t.currentContext;s(t,u,e,r,o)&&(a=e._displayOriginX,h=e._displayOriginY,e.isStroked&&(n(u,e),u.beginPath(),u.moveTo(e.geom.x1-a,e.geom.y1-h),u.lineTo(e.geom.x2-a,e.geom.y2-h),u.stroke()),u.restore())};t.exports=r},function(t,e,i){var n=i(2),s=i(2);n=i(1442),s=i(1443),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(175),s=i(130),r=function(t,e,i,r,o){var a,h,u,l=this.pipeline,c=l._tempMatrix1,f=l._tempMatrix2,d=l._tempMatrix3;t.setPipeline(l),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(r.matrix),o?(c.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y):(f.e-=r.scrollX*e.scrollFactorX,f.f-=r.scrollY*e.scrollFactorY),c.multiply(f,d),a=e._displayOriginX,h=e._displayOriginY,u=r.alpha*e.alpha,e.isFilled&&n(l,d,e,u,a,h),e.isStroked&&s(l,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l,c,f,d,p,g,y,m=t.currentContext;if(r(t,m,e,o,a)){for(h=e._displayOriginX,u=e._displayOriginY,l=e.pathData,c=l.length-1,f=l[0]-h,d=l[1]-u,m.beginPath(),m.moveTo(f,d),e.closePath||(c-=2),p=2;p<c;p+=2)g=l[p]-h,y=l[p+1]-u,m.lineTo(g,y);m.closePath(),e.isFilled&&(n(m,e),m.fill()),e.isStroked&&(s(m,e),m.stroke()),m.restore()}};t.exports=o},function(t,e,i){var n=i(2),s=i(2);n=i(1445),s=i(1446),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(130),s=i(16),r=function(t,e,i,r,o){var a,h,u,l,c,f=this.pipeline,d=f._tempMatrix1,p=f._tempMatrix2,g=f._tempMatrix3;t.setPipeline(f),p.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),d.copyFrom(r.matrix),o?(d.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),p.e=e.x,p.f=e.y):(p.e-=r.scrollX*e.scrollFactorX,p.f-=r.scrollY*e.scrollFactorY),d.multiply(p,g),a=e._displayOriginX,h=e._displayOriginY,u=r.alpha*e.alpha,e.isFilled&&(l=f.fillTint,c=s.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*u),l.TL=c,l.TR=c,l.BL=c,l.BR=c,f.setTexture2D(),f.batchFillRect(-a,-h,e.width,e.height)),e.isStroked&&n(f,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l=t.currentContext;r(t,l,e,o,a)&&(h=e._displayOriginX,u=e._displayOriginY,e.isFilled&&(n(l,e),l.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(s(l,e),l.beginPath(),l.rect(-h,-u,e.width,e.height),l.stroke()),l.restore())};t.exports=o},function(t,e,i){var n=i(2),s=i(2);n=i(1448),s=i(1449),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(175),s=i(130),r=function(t,e,i,r,o){var a,h,u,l=this.pipeline,c=l._tempMatrix1,f=l._tempMatrix2,d=l._tempMatrix3;t.setPipeline(l),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(r.matrix),o?(c.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y):(f.e-=r.scrollX*e.scrollFactorX,f.f-=r.scrollY*e.scrollFactorY),c.multiply(f,d),a=e._displayOriginX,h=e._displayOriginY,u=r.alpha*e.alpha,e.isFilled&&n(l,d,e,u,a,h),e.isStroked&&s(l,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l,c,f,d,p,g,y,m=t.currentContext;if(r(t,m,e,o,a)){for(h=e._displayOriginX,u=e._displayOriginY,l=e.pathData,c=l.length-1,f=l[0]-h,d=l[1]-u,m.beginPath(),m.moveTo(f,d),e.closePath||(c-=2),p=2;p<c;p+=2)g=l[p]-h,y=l[p+1]-u,m.lineTo(g,y);m.closePath(),e.isFilled&&(n(m,e),m.fill()),e.isStroked&&(s(m,e),m.stroke()),m.restore()}};t.exports=o},function(t,e,i){var n=i(2),s=i(2);n=i(1451),s=i(1452),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(130),s=i(16),r=function(t,e,i,r,o){var a,h,u,l,c,f,d,p,g,y,m,v=this.pipeline,x=v._tempMatrix1,b=v._tempMatrix2,_=v._tempMatrix3;t.setPipeline(v),b.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),x.copyFrom(r.matrix),o?(x.multiplyWithOffset(o,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),b.e=e.x,b.f=e.y):(b.e-=r.scrollX*e.scrollFactorX,b.f-=r.scrollY*e.scrollFactorY),x.multiply(b,_),a=e._displayOriginX,h=e._displayOriginY,u=r.alpha*e.alpha,e.isFilled&&(l=v.fillTint,c=s.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*u),l.TL=c,l.TR=c,l.BL=c,l.BR=c,f=e.geom.x1-a,d=e.geom.y1-h,p=e.geom.x2-a,g=e.geom.y2-h,y=e.geom.x3-a,m=e.geom.y3-h,v.setTexture2D(),v.batchFillTriangle(f,d,p,g,y,m,b,x)),e.isStroked&&n(v,e,u,a,h)};t.exports=r},function(t,e,i){var n=i(79),s=i(97),r=i(44),o=function(t,e,i,o,a){var h,u,l,c,f,d,p,g,y=t.currentContext;r(t,y,e,o,a)&&(h=e._displayOriginX,u=e._displayOriginY,l=e.geom.x1-h,c=e.geom.y1-u,f=e.geom.x2-h,d=e.geom.y2-u,p=e.geom.x3-h,g=e.geom.y3-u,y.beginPath(),y.moveTo(l,c),y.lineTo(f,d),y.lineTo(p,g),y.closePath(),e.isFilled&&(n(y,e),y.fill()),e.isStroked&&(s(y,e),y.stroke()),y.restore())};t.exports=o},function(t,e,i){var n=i(316);i(7).register("blitter",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},function(t,e,i){var n=i(317);i(7).register("container",function(t,e,i){return this.displayList.add(new n(this.scene,t,e,i))})},function(t,e,i){var n=i(318);i(7).register("dynamicBitmapText",function(t,e,i,s,r){return this.displayList.add(new n(this.scene,t,e,i,s,r))})},function(t,e,i){var n=i(549);i(7).register("extern",function(){var t=new n(this.scene);return this.displayList.add(t),this.updateList.add(t),t})},function(t,e,i){var n=i(319);i(7).register("graphics",function(t){return this.displayList.add(new n(this.scene,t))})},function(t,e,i){var n=i(171);i(7).register("group",function(t,e){return this.updateList.add(new n(this.scene,t,e))})},function(t,e,i){var n=i(152);i(7).register("image",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},function(t,e,i){var n=i(7),s=i(322);n.register("particles",function(t,e,i){var n=new s(this.scene,t,e,i);return this.displayList.add(n),this.updateList.add(n),n})},function(t,e,i){var n=i(7),s=i(561);n.register("follower",function(t,e,i,n,r){var o=new s(this.scene,t,e,i,n,r);return this.displayList.add(o),this.updateList.add(o),o})},function(t,e,i){var n=i(7),s=i(323);n.register("renderTexture",function(t,e,i,n){return this.displayList.add(new s(this.scene,t,e,i,n))})},function(t,e,i){var n=i(7),s=i(96);n.register("sprite",function(t,e,i,n){var r=new s(this.scene,t,e,i,n);return this.displayList.add(r),this.updateList.add(r),r})},function(t,e,i){var n=i(225);i(7).register("bitmapText",function(t,e,i,s,r,o){return this.displayList.add(new n(this.scene,t,e,i,s,r,o))})},function(t,e,i){var n=i(324);i(7).register("text",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},function(t,e,i){var n=i(325);i(7).register("tileSprite",function(t,e,i,s,r,o){return this.displayList.add(new n(this.scene,t,e,i,s,r,o))})},function(t,e,i){var n=i(203);i(7).register("zone",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},function(t,e,i){var n=i(563),s=i(7);s.register("arc",function(t,e,i,s,r,o,a,h){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a,h))}),s.register("circle",function(t,e,i,s,r){return this.displayList.add(new n(this.scene,t,e,i,0,360,!1,s,r))})},function(t,e,i){var n=i(7),s=i(564);n.register("curve",function(t,e,i,n,r){return this.displayList.add(new s(this.scene,t,e,i,n,r))})},function(t,e,i){var n=i(565);i(7).register("ellipse",function(t,e,i,s,r,o){return this.displayList.add(new n(this.scene,t,e,i,s,r,o))})},function(t,e,i){var n=i(7),s=i(566);n.register("grid",function(t,e,i,n,r,o,a,h,u,l){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h,u,l))})},function(t,e,i){var n=i(7),s=i(567);n.register("isobox",function(t,e,i,n,r,o,a){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a))})},function(t,e,i){var n=i(7),s=i(568);n.register("isotriangle",function(t,e,i,n,r,o,a,h){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h))})},function(t,e,i){var n=i(7),s=i(569);n.register("line",function(t,e,i,n,r,o,a,h){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h))})},function(t,e,i){var n=i(7),s=i(570);n.register("polygon",function(t,e,i,n,r){return this.displayList.add(new s(this.scene,t,e,i,n,r))})},function(t,e,i){var n=i(7),s=i(575);n.register("rectangle",function(t,e,i,n,r,o){return this.displayList.add(new s(this.scene,t,e,i,n,r,o))})},function(t,e,i){var n=i(576);i(7).register("star",function(t,e,i,s,r,o,a){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a))})},function(t,e,i){var n=i(7),s=i(577);n.register("triangle",function(t,e,i,n,r,o,a,h,u,l){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h,u,l))})},function(t,e,i){var n=i(316),s=i(55),r=i(27),o=i(25);r.register("blitter",function(t,e){var i,r,a;return t===undefined&&(t={}),i=o(t,"key",null),r=o(t,"frame",null),a=new n(this.scene,0,0,i,r),e!==undefined&&(t.add=e),s(this.scene,a,t),a})},function(t,e,i){var n=i(55),s=i(317),r=i(27),o=i(25);r.register("container",function(t,e){var i,r,a;return t===undefined&&(t={}),i=o(t,"x",0),r=o(t,"y",0),a=new s(this.scene,i,r),e!==undefined&&(t.add=e),n(this.scene,a,t),a})},function(t,e,i){var n=i(318),s=i(55),r=i(27),o=i(25);r.register("dynamicBitmapText",function(t,e){var i,r,a,h;return t===undefined&&(t={}),i=o(t,"font",""),r=o(t,"text",""),a=o(t,"size",!1),h=new n(this.scene,0,0,i,r,a),e!==undefined&&(t.add=e),s(this.scene,h,t),h})},function(t,e,i){var n=i(27),s=i(319);n.register("graphics",function(t,e){t===undefined&&(t={}),e!==undefined&&(t.add=e);var i=new s(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i})},function(t,e,i){var n=i(27),s=i(171);n.register("group",function(t){return new s(this.scene,null,t)})},function(t,e,i){var n=i(55),s=i(27),r=i(25),o=i(152);s.register("image",function(t,e){var i,s,a;return t===undefined&&(t={}),i=r(t,"key",null),s=r(t,"frame",null),a=new o(this.scene,0,0,i,s),e!==undefined&&(t.add=e),n(this.scene,a,t),a})},function(t,e,i){var n=i(27),s=i(25),r=i(3),o=i(322);n.register("particles",function(t,e){var i,n,a,h,u;return t===undefined&&(t={}),i=s(t,"key",null),n=s(t,"frame",null),a=r(t,"emitters",null),h=new o(this.scene,i,n,a),e!==undefined&&(t.add=e),u=r(t,"add",!1),u&&this.displayList.add(h),this.updateList.add(h),h})},function(t,e,i){var n=i(55),s=i(27),r=i(25),o=i(323);s.register("renderTexture",function(t,e){var i,s,a,h,u;return t===undefined&&(t={}),i=r(t,"x",0),s=r(t,"y",0),a=r(t,"width",32),h=r(t,"height",32),u=new o(this.scene,i,s,a,h),e!==undefined&&(t.add=e),n(this.scene,u,t),u})},function(t,e,i){var n=i(55),s=i(315),r=i(27),o=i(25),a=i(96);r.register("sprite",function(t,e){var i,r,h;return t===undefined&&(t={}),i=o(t,"key",null),r=o(t,"frame",null),h=new a(this.scene,0,0,i,r),e!==undefined&&(t.add=e),n(this.scene,h,t),s(h,t),h})},function(t,e,i){var n=i(225),s=i(55),r=i(27),o=i(25),a=i(6);r.register("bitmapText",function(t,e){var i,r,h,u,l;return t===undefined&&(t={}),i=a(t,"font",""),r=o(t,"text",""),h=o(t,"size",!1),u=a(t,"align",0),l=new n(this.scene,0,0,i,r,h,u),e!==undefined&&(t.add=e),s(this.scene,l,t),l})},function(t,e,i){var n=i(55),s=i(27),r=i(25),o=i(324);s.register("text",function(t,e){var i,s,a,h;return t===undefined&&(t={}),i=r(t,"text",""),s=r(t,"style",null),a=r(t,"padding",null),null!==a&&(s.padding=a),h=new o(this.scene,0,0,i,s),e!==undefined&&(t.add=e),n(this.scene,h,t),h.autoRound=r(t,"autoRound",!0),h.resolution=r(t,"resolution",1),h})},function(t,e,i){var n=i(55),s=i(27),r=i(25),o=i(325);s.register("tileSprite",function(t,e){var i,s,a,h,u,l,c;return t===undefined&&(t={}),i=r(t,"x",0),s=r(t,"y",0),a=r(t,"width",512),h=r(t,"height",512),u=r(t,"key",""),l=r(t,"frame",""),c=new o(this.scene,i,s,a,h,u,l),e!==undefined&&(t.add=e),n(this.scene,c,t),c})},function(t,e,i){var n=i(27),s=i(25),r=i(203);n.register("zone",function(t){var e=s(t,"x",0),i=s(t,"y",0),n=s(t,"width",1),o=s(t,"height",n);return new r(this.scene,e,i,n,o)})},function(t,e,i){var n=i(2),s=i(2);n=i(581),s=i(581),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(t,e,i){var n=i(580);i(7).register("dom",function(t,e,i){return this.displayList.add(new n(this.scene,t,e,i))})},function(t,e,i){var n=i(2),s=i(2);n=i(1496),s=i(1497),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P=this.pipeline;for(t.setPipeline(P,e),o=P._tempMatrix1,a=P._tempMatrix2,h=P._tempMatrix3,a.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(s.matrix),r?(o.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),a.e=e.x,a.f=e.y,o.multiply(a,h)):(a.e-=s.scrollX*e.scrollFactorX,a.f-=s.scrollY*e.scrollFactorY,o.multiply(a,h)),u=e.frame,l=u.glTexture,c=e.vertices,f=e.uv,d=e.colors,p=e.alphas,g=c.length,y=Math.floor(.5*g),P.vertexCount+y>P.vertexCapacity&&P.flush(),P.setTexture2D(l,0),m=P.vertexViewF32,v=P.vertexViewU32,x=P.vertexCount*P.vertexComponentCount-1,b=0,_=e.tintFill,w=0;w<g;w+=2)T=c[w+0],S=c[w+1],A=T*h.a+S*h.c+h.e,E=T*h.b+S*h.d+h.f,s.roundPixels&&(A=Math.round(A),E=Math.round(E)),m[++x]=A,m[++x]=E,m[++x]=f[w+0],m[++x]=f[w+1],m[++x]=_,v[++x]=n.getTintAppendFloatAlpha(d[b],s.alpha*p[b]),b++;P.vertexCount+=y};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(){};t.exports=i},function(t,e,i){var n=i(226);i(7).register("mesh",function(t,e,i,s,r,o,a,h){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a,h))})},function(t,e,i){var n=i(328);i(7).register("quad",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},function(t,e,i){var n=i(55),s=i(27),r=i(25),o=i(6),a=i(226);s.register("mesh",function(t,e){var i,s,h,u,l,c,f;return t===undefined&&(t={}),i=r(t,"key",null),s=r(t,"frame",null),h=o(t,"vertices",[]),u=o(t,"colors",[]),l=o(t,"alphas",[]),c=o(t,"uv",[]),f=new a(this.scene,0,0,h,c,u,l,i,s),e!==undefined&&(t.add=e),n(this.scene,f,t),f})},function(t,e,i){var n=i(55),s=i(27),r=i(25),o=i(328);s.register("quad",function(t,e){var i,s,a,h,u;return t===undefined&&(t={}),i=r(t,"x",0),s=r(t,"y",0),a=r(t,"key",null),h=r(t,"frame",null),u=new o(this.scene,i,s,a,h),e!==undefined&&(t.add=e),n(this.scene,u,t),u})},function(t,e,i){var n=i(0),s=i(583),r=i(26),o=i(30),a=new n({Extends:s,initialize:function(t){this.scene=t,this.systems=t.sys,t.sys.settings.isBooted||t.sys.events.once(o.BOOT,this.boot,this),s.call(this)},boot:function(){var t=this.systems.events;t.on(o.SHUTDOWN,this.shutdown,this),t.on(o.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=undefined,this.systems=undefined}});r.register("LightsPlugin",a,"lights"),t.exports=a},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(146);n.Area=i(1504),n.Circumference=i(418),n.CircumferencePoint=i(274),n.Clone=i(1505),n.Contains=i(91),n.ContainsPoint=i(1506),n.ContainsRect=i(1507),n.CopyFrom=i(1508),n.Equals=i(1509),n.GetBounds=i(1510),n.GetPoint=i(416),n.GetPoints=i(417),n.Offset=i(1511),n.OffsetPoint=i(1512),n.Random=i(275),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};t.exports=i},function(t,e,i){var n=i(146),s=function(t){return new n(t.x,t.y,t.radius)};t.exports=s},function(t,e,i){var n=i(91),s=function(t,e){return n(t,e.x,e.y)};t.exports=s},function(t,e,i){var n=i(91),s=function(t,e){return n(t,e.x,e.y)&&n(t,e.right,e.y)&&n(t,e.x,e.bottom)&&n(t,e.right,e.bottom)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.setTo(t.x,t.y,t.radius)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius};t.exports=i},function(t,e,i){var n=i(18),s=function(t,e){return e===undefined&&(e=new n),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x+=e.x,t.y+=e.y,t};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(169);n.Area=i(1514),n.Circumference=i(552),n.CircumferencePoint=i(321),n.Clone=i(1515),n.Contains=i(170),n.ContainsPoint=i(1516),n.ContainsRect=i(1517),n.CopyFrom=i(1518),n.Equals=i(1519),n.GetBounds=i(1520),n.GetPoint=i(550),n.GetPoints=i(551),n.Offset=i(1521),n.OffsetPoint=i(1522),n.Random=i(283),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};t.exports=i},function(t,e,i){var n=i(169),s=function(t){return new n(t.x,t.y,t.width,t.height)};t.exports=s},function(t,e,i){var n=i(170),s=function(t,e){return n(t,e.x,e.y)};t.exports=s},function(t,e,i){var n=i(170),s=function(t,e){return n(t,e.x,e.y)&&n(t,e.right,e.y)&&n(t,e.x,e.bottom)&&n(t,e.right,e.bottom)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height};t.exports=i},function(t,e,i){var n=i(18),s=function(t,e){return e===undefined&&(e=new n),e.x=t.left,e.y=t.top,e.width=t.width,e.height=t.height,e};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x+=e.x,t.y+=e.y,t};t.exports=i},function(t,e,i){var n=i(109),s=function(t,e){return n(t.x,t.y,e.x,e.y)<=t.radius+e.radius};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s,r,o,a=e.width/2,h=e.height/2,u=Math.abs(t.x-e.x-a),l=Math.abs(t.y-e.y-h),c=a+t.radius,f=h+t.radius;return!(u>c||l>f)&&(u<=a||l<=h||(i=u-a,n=l-h,s=i*i,r=n*n,o=t.radius*t.radius,s+r<=o))};t.exports=i},function(t,e,i){var n=i(18),s=i(329),r=function(t,e,i){return i===undefined&&(i=new n),s(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i=t.x1,n=t.y1,s=t.x2,r=t.y2,o=e.x,a=e.y,h=e.right,u=e.bottom,l=0;if(i>=o&&i<=h&&n>=a&&n<=u||s>=o&&s<=h&&r>=a&&r<=u)return!0;if(i<o&&s>=o){if((l=n+(r-n)*(o-i)/(s-i))>a&&l<=u)return!0}else if(i>h&&s<=h&&(l=n+(r-n)*(h-i)/(s-i))>=a&&l<=u)return!0;if(n<a&&r>=a){if((l=i+(s-i)*(a-n)/(r-n))>=o&&l<=h)return!0}else if(n>u&&r<=u&&(l=i+(s-i)*(u-n)/(r-n))>=o&&l<=h)return!0;return!1};t.exports=i},function(t,e,i){var n=i(587),s=function(t,e){var i,s,r,o;return!!n(t,e)&&(i=Math.min(e.x1,e.x2),s=Math.max(e.x1,e.x2),r=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2),t.x>=i&&t.x<=s&&t.y>=r&&t.y<=o)};t.exports=s},function(t,e,i){var n=i(227),s=i(92),r=i(330),o=i(588),a=function(t,e){var i,a,h,u,l,c,f,d,p;return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)&&(i=e.getLineA(),a=e.getLineB(),h=e.getLineC(),!(!s(t,i.x1,i.y1)&&!s(t,i.x2,i.y2))||(!(!s(t,a.x1,a.y1)&&!s(t,a.x2,a.y2))||(!(!s(t,h.x1,h.y1)&&!s(t,h.x2,h.y2))||(u=t.getLineA(),l=t.getLineB(),c=t.getLineC(),f=t.getLineD(),!!(n(i,u)||n(i,l)||n(i,c)||n(i,f))||(!!(n(a,u)||n(a,l)||n(a,c)||n(a,f))||(!!(n(h,u)||n(h,l)||n(h,c)||n(h,f))||(d=o(t),p=r(e,d,!0),p.length>0)))))))};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s,r){return r===undefined&&(r=0),!(e>t.right+r||i<t.left-r||n>t.bottom+r||s<t.top-r)};t.exports=i},function(t,e,i){var n=i(586),s=i(154),r=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)&&(!!s(t,e.x,e.y)||(!!n(t.getLineA(),e)||(!!n(t.getLineB(),e)||!!n(t.getLineC(),e))))};t.exports=r},function(t,e,i){var n=i(154),s=i(227),r=function(t,e){return!(!n(t,e.getPointA())&&!n(t,e.getPointB()))||(!!s(t.getLineA(),e)||(!!s(t.getLineB(),e)||!!s(t.getLineC(),e)))};t.exports=r},function(t,e,i){var n=i(330),s=i(589),r=i(227),o=function(t,e){var i,o,a,h,u,l,c,f;return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)&&(i=t.getLineA(),o=t.getLineB(),a=t.getLineC(),h=e.getLineA(),u=e.getLineB(),l=e.getLineC(),!!(r(i,h)||r(i,u)||r(i,l))||(!!(r(o,h)||r(o,u)||r(o,l))||(!!(r(a,h)||r(a,u)||r(a,l))||(c=s(t),f=n(e,c,!0),f.length>0||(c=s(e),f=n(t,c,!0),f.length>0)))))};t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(106);n.Angle=i(155),n.BresenhamPoints=i(439),n.CenterOn=i(1534),n.Clone=i(1535),n.CopyFrom=i(1536),n.Equals=i(1537),n.Extend=i(1538),n.GetMidPoint=i(1539),n.GetNearestPoint=i(1540),n.GetNormal=i(1541),n.GetPoint=i(426),n.GetPoints=i(278),n.GetShortestDistance=i(1542),n.Height=i(1543),n.Length=i(107),n.NormalAngle=i(590),n.NormalX=i(1544),n.NormalY=i(1545),n.Offset=i(1546),n.PerpSlope=i(1547),n.Random=i(279),n.ReflectAngle=i(1548),n.Rotate=i(1549),n.RotateAroundPoint=i(1550),n.RotateAroundXY=i(331),n.SetToAngle=i(1551),n.Slope=i(1552),n.Width=i(1553),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n=e-(t.x1+t.x2)/2,s=i-(t.y1+t.y2)/2;return t.x1+=n,t.y1+=s,t.x2+=n,t.y2+=s,t};t.exports=i},function(t,e,i){var n=i(106),s=function(t){return new n(t.x1,t.y1,t.x2,t.y2)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2};t.exports=i},function(t,e,i){var n=i(107),s=function(t,e,i){var s,r,o;return i===undefined&&(i=e),s=n(t),r=t.x2-t.x1,o=t.y2-t.y1,e&&(t.x1=t.x1-r/s*e,t.y1=t.y1-o/s*e),i&&(t.x2=t.x2+r/s*i,t.y2=t.y2+o/s*i),t};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e){return e===undefined&&(e=new n),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e,i){var s,r,o,a,h,u;return i===undefined&&(i=new n),s=t.x1,r=t.y1,o=t.x2,a=t.y2,0===(h=(o-s)*(o-s)+(a-r)*(a-r))?i:(u=((e.x-s)*(o-s)+(e.y-r)*(a-r))/h,i.x=s+u*(o-s),i.y=r+u*(a-r),i)};t.exports=s},function(t,e,i){var n=i(33),s=i(155),r=i(9),o=function(t,e){e===undefined&&(e=new r);var i=s(t)-n.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n=t.x1,s=t.y1,r=t.x2,o=t.y2,a=(r-n)*(r-n)+(o-s)*(o-s);return 0!==a&&(i=((s-e.y)*(r-n)-(n-e.x)*(o-s))/a,Math.abs(i)*Math.sqrt(a))};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.abs(t.y1-t.y2)};t.exports=i},function(t,e,i){var n=i(33),s=i(155),r=function(t){return Math.cos(s(t)-n.TAU)};t.exports=r},function(t,e,i){var n=i(33),s=i(155),r=function(t){return Math.sin(s(t)-n.TAU)};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return-(t.x2-t.x1)/(t.y2-t.y1)};t.exports=i},function(t,e,i){var n=i(155),s=i(590),r=function(t,e){return 2*s(e)-Math.PI-n(t)};t.exports=r},function(t,e,i){var n=i(331),s=function(t,e){var i=(t.x1+t.x2)/2,s=(t.y1+t.y2)/2;return n(t,i,s,e)};t.exports=s},function(t,e,i){var n=i(331),s=function(t,e,i){return n(t,e.x,e.y,i)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){return t.x1=e,t.y1=i,t.x2=e+Math.cos(n)*s,t.y2=i+Math.sin(n)*s,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return Math.abs(t.x1-t.x2)};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);n.Ceil=i(1555),n.Clone=i(1556),n.CopyFrom=i(1557),n.Equals=i(1558),n.Floor=i(1559),n.GetCentroid=i(1560),n.GetMagnitude=i(591),n.GetMagnitudeSq=i(592),n.GetRectangleFromPoints=i(1561),n.Interpolate=i(1562),n.Invert=i(1563),n.Negative=i(1564),n.Project=i(1565),n.ProjectUnit=i(1566),n.SetMagnitude=i(1567),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};t.exports=i},function(t,e,i){var n=i(9),s=function(t){return new n(t.x,t.y)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.setTo(t.x,t.y)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x===e.x&&t.y===e.y};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};t.exports=i},function(t,e,i){var n=i(9),s=function(t,e){var i,s;if(e===undefined&&(e=new n),!Array.isArray(t))throw Error("GetCentroid points argument must be an array");if((i=t.length)<1)throw Error("GetCentroid points array must not be empty");if(1===i)e.x=t[0].x,e.y=t[0].y;else{for(s=0;s<i;s++)e.x+=t[s].x,e.y+=t[s].y;e.x/=i,e.y/=i}return e};t.exports=s},function(t,e,i){var n=i(18),s=function(t,e){var i,s,r,o,a,h;for(e===undefined&&(e=new n),i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=0;a<t.length;a++)h=t[a],h.x>i&&(i=h.x),h.x<s&&(s=h.x),h.y>r&&(r=h.y),h.y<o&&(o=h.y);return e.x=s,e.y=o,e.width=i-s,e.height=r-o,e};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e,i,s){return i===undefined&&(i=0),s===undefined&&(s=new n),s.x=t.x+(e.x-t.x)*i,s.y=t.y+(e.y-t.y)*i,s};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.setTo(t.y,t.x)};t.exports=i},function(t,e,i){var n=i(9),s=function(t,e){return e===undefined&&(e=new n),e.setTo(-t.x,-t.y)};t.exports=s},function(t,e,i){var n=i(9),s=i(592),r=function(t,e,i){var r,o;return i===undefined&&(i=new n),r=t.x*e.x+t.y*e.y,o=r/s(e),0!==o&&(i.x=o*e.x,i.y=o*e.y),i};t.exports=r},function(t,e,i){var n=i(9),s=function(t,e,i){i===undefined&&(i=new n);var s=t.x*e.x+t.y*e.y;return 0!==s&&(i.x=s*e.x,i.y=s*e.y),i};t.exports=s},function(t,e,i){var n=i(591),s=function(t,e){if(0!==t.x||0!==t.y){var i=n(t);t.x/=i,t.y/=i}return t.x*=e,t.y*=e,t};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(326);n.Clone=i(1569),n.Contains=i(327),n.ContainsPoint=i(1570),n.GetAABB=i(571),n.GetNumberArray=i(1571),n.GetPoints=i(572),n.Perimeter=i(573),n.Reverse=i(1572),n.Smooth=i(574),t.exports=n},function(t,e,i){var n=i(326),s=function(t){return new n(t.points)};t.exports=s},function(t,e,i){var n=i(327),s=function(t,e){return n(t,e.x,e.y)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){e===undefined&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.points.reverse(),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.width*t.height};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};t.exports=i},function(t,e,i){var n=i(18),s=function(t){return new n(t.x,t.y,t.width,t.height)};t.exports=s},function(t,e,i){var n=i(92),s=function(t,e){return n(t,e.x,e.y)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height};t.exports=i},function(t,e,i){var n=i(332),s=function(t,e){var i=n(t);return i<n(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)};t.exports=s},function(t,e,i){var n=i(332),s=function(t,e){var i=n(t);return i>n(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};t.exports=i},function(t,e,i){var n=i(9),s=function(t,e){return e===undefined&&(e=new n),e.x=t.centerX,e.y=t.centerY,e};t.exports=s},function(t,e,i){var n=i(9),s=function(t,e){return e===undefined&&(e=new n),e.x=t.width,e.y=t.height,e};t.exports=s},function(t,e,i){var n=i(293),s=function(t,e,i){var s=t.centerX,r=t.centerY;return t.setSize(t.width+2*e,t.height+2*i),n(t,s,r)};t.exports=s},function(t,e,i){var n=i(18),s=i(329),r=function(t,e,i){return i===undefined&&(i=new n),s(t,e)?(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y):i.setEmpty(),i};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n=t.x,s=t.right,r=t.y,o=t.bottom;for(i=0;i<e.length;i++)n=Math.min(n,e[i].x),s=Math.max(s,e[i].x),r=Math.min(r,e[i].y),o=Math.max(o,e[i].y);return t.x=n,t.y=r,t.width=s-n,t.height=o-r,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s=Math.min(t.x,e.x),r=Math.max(t.right,e.right);return t.x=s,t.width=r-s,i=Math.min(t.y,e.y),n=Math.max(t.bottom,e.bottom),t.y=i,t.height=n-i,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){var n,s,r=Math.min(t.x,e),o=Math.max(t.right,e);return t.x=r,t.width=o-r,n=Math.min(t.y,i),s=Math.max(t.bottom,i),t.y=n,t.height=s-n,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x+=e.x,t.y+=e.y,t};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y};t.exports=i},function(t,e,i){var n=i(9),s=i(78),r=function(t,e,i){var r,o,a,h;return i===undefined&&(i=new n),e=s(e),r=Math.sin(e),o=Math.cos(e),a=o>0?t.width/2:t.width/-2,h=r>0?t.height/2:t.height/-2,Math.abs(a*r)<Math.abs(h*o)?h=a*r/o:a=h*o/r,i.x=a+t.centerX,i.y=h+t.centerY,i};t.exports=r},function(t,e,i){var n=i(298),s=i(594),r=i(9),o=function(t,e,i){if(i===undefined&&(i=new r),s(t,e))switch(n(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x),i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right),i.y=t.y+Math.random()*(e.bottom-t.y)}return i};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.width===e.width&&t.height===e.height};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i){return i===undefined&&(i=e),t.width*=e,t.height*=i,t};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(131);n.Area=i(1599),n.BuildEquilateral=i(1600),n.BuildFromPolygon=i(1601),n.BuildRight=i(1602),n.CenterOn=i(1603),n.Centroid=i(595),n.CircumCenter=i(1604),n.CircumCircle=i(1605),n.Clone=i(1606),n.Contains=i(154),n.ContainsArray=i(330),n.ContainsPoint=i(1607),n.CopyFrom=i(1608),n.Decompose=i(589),n.Equals=i(1609),n.GetPoint=i(578),n.GetPoints=i(579),n.InCenter=i(597),n.Perimeter=i(1610),n.Offset=i(596),n.Random=i(284),n.Rotate=i(1611),n.RotateAroundPoint=i(1612),n.RotateAroundXY=i(333),t.exports=n},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e=t.x1,i=t.y1,n=t.x2,s=t.y2,r=t.x3,o=t.y3;return Math.abs(((r-e)*(s-i)-(n-e)*(o-i))/2)};t.exports=i},function(t,e,i){var n=i(131),s=function(t,e,i){var s=i*(Math.sqrt(3)/2);return new n(t,e,t+i/2,e+s,t-i/2,e+s)};t.exports=s},function(t,e,i){var n=i(126),s=i(131),r=function(t,e,i,r,o){var a,h,u,l,c,f,d,p,g,y,m;for(e===undefined&&(e=null),i===undefined&&(i=1),r===undefined&&(r=1),o===undefined&&(o=[]),a=n(t,e),m=0;m<a.length;m+=3)h=a[m],u=a[m+1],l=a[m+2],c=t[2*h]*i,f=t[2*h+1]*r,d=t[2*u]*i,p=t[2*u+1]*r,g=t[2*l]*i,y=t[2*l+1]*r,o.push(new s(c,f,d,p,g,y));return o};t.exports=r},function(t,e,i){var n=i(131),s=function(t,e,i,s){var r,o,a,h,u,l;return s===undefined&&(s=i),r=t,o=e,a=t,h=e-s,u=t+i,l=e,new n(r,o,a,h,u,l)};t.exports=s},function(t,e,i){var n=i(595),s=i(596),r=function(t,e,i,r){var o,a,h;return r===undefined&&(r=n),o=r(t),a=e-o.x,h=i-o.y,s(t,a,h)};t.exports=r},function(t,e,i){function n(t,e,i,n){return t*n-e*i}var s=i(4),r=function(t,e){var i,r,o,a,h,u,l,c,f;return e===undefined&&(e=new s),i=t.x3,r=t.y3,o=t.x1-i,a=t.y1-r,h=t.x2-i,u=t.y2-r,l=2*n(o,a,h,u),c=n(a,o*o+a*a,u,h*h+u*u),f=n(o,o*o+a*a,h,h*h+u*u),e.x=i-c/l,e.y=r+f/l,e};t.exports=r},function(t,e,i){var n=i(146),s=function(t,e){var i,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x;return e===undefined&&(e=new n),i=t.x1,s=t.y1,r=t.x2,o=t.y2,a=t.x3,h=t.y3,u=r-i,l=o-s,c=a-i,f=h-s,d=u*(i+r)+l*(s+o),p=c*(i+a)+f*(s+h),g=2*(u*(h-o)-l*(a-r)),Math.abs(g)<1e-6?(v=Math.min(i,r,a),x=Math.min(s,o,h),y=.5*(Math.max(i,r,a)-v),m=.5*(Math.max(s,o,h)-x),e.x=v+y,e.y=x+m,e.radius=Math.sqrt(y*y+m*m)):(e.x=(f*d-l*p)/g,e.y=(u*p-c*d)/g,y=e.x-i,m=e.y-s,e.radius=Math.sqrt(y*y+m*m)),e};t.exports=s},function(t,e,i){var n=i(131),s=function(t){return new n(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};t.exports=s},function(t,e,i){var n=i(154),s=function(t,e){return n(t,e.x,e.y)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3};t.exports=i},function(t,e,i){var n=i(107),s=function(t){var e=t.getLineA(),i=t.getLineB(),s=t.getLineC();return n(e)+n(i)+n(s)};t.exports=s},function(t,e,i){var n=i(333),s=i(597),r=function(t,e){var i=s(t);return n(t,i.x,i.y,e)};t.exports=r},function(t,e,i){var n=i(333),s=function(t,e,i){return n(t,e.x,e.y,i)};t.exports=s},function(t,e,i){var n=i(520),s=i(32),r={CreateInteractiveObject:i(598),Events:i(95),Gamepad:i(1614),InputManager:i(519),InputPlugin:i(1626),InputPluginCache:i(228),Keyboard:i(1628),Mouse:i(1645),Pointer:i(523),Touch:i(1646)};r=s(!1,r,n),t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Axis:i(599),Button:i(600),Events:i(334),Gamepad:i(601),GamepadPlugin:i(1621),Configs:i(1622)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="down"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="up"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="connected"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="disconnected"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="down"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="up"},function(t,e,i){var n=i(0),s=i(15),r=i(334),o=i(601),a=i(6),h=i(228),u=i(95),l=new n({Extends:s,initialize:function(t){s.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once(u.BOOT,this.boot,this),t.pluginEvents.on(u.START,this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,i=t.config;this.enabled=a(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads,this.target=a(e,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,i=function(e){!e.defaultPrevented&&t.isActive()&&(t.refreshPads(),t.queue.push(e))};this.onGamepadHandler=i,e.addEventListener("gamepadconnected",i,!1),e.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update)},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads.connected=!1},refreshPads:function(){var t,e,i,n,s,r,a,h=navigator.getGamepads();if(h)for(t=this.gamepads,e=0;e<h.length;e++)(i=h[e])&&(n=i.id,s=i.index,r=t[s],r?r.id!==n?(r.destroy(),t[s]=new o(this,i)):r.update(i):(a=new o(this,i),t[s]=a,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=a):this._pad3=a:this._pad2=a:this._pad1=a));else this.disconnectAll()},getAll:function(){var t,e=[],i=this.gamepads;for(t=0;t<i.length;t++)i[t]&&e.push(i[t]);return e},getPad:function(t){var e,i=this.gamepads;for(e=0;e<i.length;e++)if(i[e]&&i[e].index===t)return i[e]},update:function(){var t,e,i,n,s;if(this.enabled&&(this.refreshPads(),0!==(t=this.queue.length)))for(e=this.queue.splice(0,t),i=0;i<t;i++)n=e[i],s=this.getPad(n.gamepad.index),"gamepadconnected"===n.type?this.emit(r.CONNECTED,s,n):"gamepaddisconnected"===n.type&&this.emit(r.DISCONNECTED,s,n)},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});h.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),t.exports=l},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DUALSHOCK_4:i(1623),SNES_USB:i(1624),XBOX_360:i(1625)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e,i){var n=i(146),s=i(91),r=i(0),o=i(598),a=i(1627),h=i(109),u=i(169),l=i(170),c=i(95),f=i(15),d=i(3),p=i(228),g=i(13),y=i(26),m=i(18),v=i(92),x=i(30),b=i(131),_=i(154),w=new r({Extends:f,initialize:function(t){f.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var e={cancelled:!1};this._eventContainer={stopPropagation:function(){e.cancelled=!0}},this._eventData=e,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],t.sys.events.once(x.BOOT,this.boot,this),t.sys.events.on(x.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(x.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var t=this.systems.events;t.on(x.TRANSITION_START,this.transitionIn,this),t.on(x.TRANSITION_OUT,this.transitionOut,this),t.on(x.TRANSITION_COMPLETE,this.transitionComplete,this),t.on(x.PRE_UPDATE,this.preUpdate,this),this.manager.useQueue&&t.on(x.UPDATE,this.update,this),t.once(x.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(t){this.isActive()&&this.emit(c.GAME_OVER,t.timeStamp,t)},onGameOut:function(t){this.isActive()&&this.emit(c.GAME_OUT,t.timeStamp,t)},preUpdate:function(){var t,e,i,n,s,r,o,a;if(this.pluginEvents.emit(c.PRE_UPDATE),t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,n=e.length,0!==i||0!==n){for(s=this._list,r=0;r<i;r++)o=t[r],(a=s.indexOf(o))>-1&&(s.splice(a,1),this.clear(o));t.length=0,this._pendingRemoval.length=0,this._list=s.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},update:function(t,e){var i,n,s,r,o,a,h;if(this.isActive()&&(i=this.manager,this.pluginEvents.emit(c.UPDATE,t,e),(!i.globalTopOnly||!i.ignoreEvents)&&(n=i.dirty||0===this.pollRate,this.pollRate>-1&&(this._pollTimer-=e,this._pollTimer<0&&(n=!0,this._pollTimer=this.pollRate)),n)))for(s=this.manager.pointers,r=this.manager.pointersTotal,o=0;o<r;o++)a=s[o],this._tempZones=[],this._temp=this.hitTestPointer(a),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),h=this.processDragEvents(a,t),(r<3||!a.wasTouch)&&(h+=this.processOverOutEvents(a)),a.justDown&&(h+=this.processDownEvents(a)),a.justMoved&&(h+=this.processMoveEvents(a)),a.justUp&&(h+=this.processUpEvents(a)),h>0&&i.globalTopOnly&&(i.ignoreEvents=!0)},clear:function(t){var e,i=t.input;if(i)return this.queueForRemoval(t),i.gameObject=undefined,i.target=undefined,i.hitArea=undefined,i.hitAreaCallback=undefined,i.callbackContext=undefined,this.manager.resetCursor(i),t.input=null,e=this._draggable.indexOf(t),e>-1&&this._draggable.splice(e,1),e=this._drag[0].indexOf(t),e>-1&&this._drag[0].splice(e,1),e=this._over[0].indexOf(t),e>-1&&this._over[0].splice(e,1),t},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,n){return n===undefined&&(n=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&n&&!t.input.dropZone&&(t.input.dropZone=n),this},hitTestPointer:function(t){var e,i,n,s,r,o=this.cameras.getCamerasBelowPointer(t);for(e=0;e<o.length;e++){for(i=o[e],n=this.manager.hitTest(t,this._list,i),s=0;s<n.length;s++)r=n[s],r.input.dropZone&&this._tempZones.push(r);if(n.length>0)return t.camera=i,n}return t.camera=o[0],[]},processDownEvents:function(t){var e,i,n,s=0,r=this._temp,o=this._eventData,a=this._eventContainer;for(o.cancelled=!1,e=!1,i=0;i<r.length;i++)if(n=r[i],n.input){if(s++,n.emit(c.GAMEOBJECT_POINTER_DOWN,t,n.input.localX,n.input.localY,a),o.cancelled){e=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,t,n,a),o.cancelled){e=!0;break}}return e||(t.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,t,r):this.emit(c.POINTER_DOWN_OUTSIDE,t)),s},getDragState:function(t){return this._dragState[t.id]},setDragState:function(t,e){this._dragState[t.id]=e},processDragEvents:function(t,e){var i,n,s,r,o,a,u,l,f,d,p;if(0===this._draggable.length)return 0;if(o=this._temp,0===this.getDragState(t)&&t.primaryDown&&t.justDown&&o.length>0?this.setDragState(t,1):this.getDragState(t)>0&&!t.primaryDown&&t.justUp&&this.setDragState(t,5),1===this.getDragState(t)){for(a=[],i=0;i<o.length;i++)n=o[i],n.input.draggable&&0===n.input.dragState&&a.push(n);if(0===a.length)return this.setDragState(t,0),0;a.length>1&&(this.sortGameObjects(a),this.topOnly&&a.splice(1)),this._drag[t.id]=a,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?this.setDragState(t,3):this.setDragState(t,2)}if(2===this.getDragState(t)&&(this.dragDistanceThreshold>0&&h(t.x,t.y,t.downX,t.downY)>=this.dragDistanceThreshold&&this.setDragState(t,3),this.dragTimeThreshold>0&&e>=t.downTime+this.dragTimeThreshold&&this.setDragState(t,3)),3===this.getDragState(t)){for(s=this._drag[t.id],i=0;i<s.length;i++)n=s[i],r=n.input,r.dragState=2,r.dragX=t.x-n.x,r.dragY=t.y-n.y,r.dragStartX=n.x,r.dragStartY=n.y,n.emit(c.GAMEOBJECT_DRAG_START,t,r.dragX,r.dragY),this.emit(c.DRAG_START,t,n);return this.setDragState(t,4),s.length}if(4===this.getDragState(t)&&t.justMoved&&!t.justUp){for(u=this._tempZones,s=this._drag[t.id],i=0;i<s.length;i++)n=s[i],r=n.input,r.target?(l=u.indexOf(r.target),0===l?(n.emit(c.GAMEOBJECT_DRAG_OVER,t,r.target),this.emit(c.DRAG_OVER,t,n,r.target)):l>0?(n.emit(c.GAMEOBJECT_DRAG_LEAVE,t,r.target),this.emit(c.DRAG_LEAVE,t,n,r.target),r.target=u[0],n.emit(c.GAMEOBJECT_DRAG_ENTER,t,r.target),this.emit(c.DRAG_ENTER,t,n,r.target)):(n.emit(c.GAMEOBJECT_DRAG_LEAVE,t,r.target),this.emit(c.DRAG_LEAVE,t,n,r.target),u[0]?(r.target=u[0],n.emit(c.GAMEOBJECT_DRAG_ENTER,t,r.target),this.emit(c.DRAG_ENTER,t,n,r.target)):r.target=null)):!r.target&&u[0]&&(r.target=u[0],n.emit(c.GAMEOBJECT_DRAG_ENTER,t,r.target),this.emit(c.DRAG_ENTER,t,n,r.target)),f=t.x-n.input.dragX,d=t.y-n.input.dragY,n.emit(c.GAMEOBJECT_DRAG,t,f,d),this.emit(c.DRAG,t,n,f,d);return s.length}if(5===this.getDragState(t)){for(s=this._drag[t.id],i=0;i<s.length;i++)n=s[i],r=n.input,2===r.dragState&&(r.dragState=0,r.dragX=r.localX-n.displayOriginX,r.dragY=r.localY-n.displayOriginY,p=!1,r.target&&(n.emit(c.GAMEOBJECT_DROP,t,r.target),this.emit(c.DROP,t,n,r.target),r.target=null,p=!0),n.emit(c.GAMEOBJECT_DRAG_END,t,r.dragX,r.dragY,p),this.emit(c.DRAG_END,t,n,p));this.setDragState(t,0),s.splice(0)}return 0},processMoveEvents:function(t){var e,i,n,s=0,r=this._temp,o=this._eventData,a=this._eventContainer;for(o.cancelled=!1,e=!1,i=0;i<r.length;i++)if(n=r[i],n.input){if(s++,n.emit(c.GAMEOBJECT_POINTER_MOVE,t,n.input.localX,n.input.localY,a),o.cancelled){e=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,t,n,a),o.cancelled){e=!0;break}if(this.topOnly)break}return e||this.emit(c.POINTER_MOVE,t,r),s},processOverOutEvents:function(t){var e,i,n,s,r,o,a,h=this._temp,u=[],l=[],f=[],d=this._over[t.id],p=this._drag[t.id],g=this.manager;for(e=0;e<d.length;e++)i=d[e],-1===h.indexOf(i)&&-1===p.indexOf(i)?u.push(i):f.push(i);for(e=0;e<h.length;e++)i=h[e],-1===d.indexOf(i)&&l.push(i);if(n=u.length,s=0,r=this._eventData,o=this._eventContainer,r.cancelled=!1,a=!1,n>0){for(this.sortGameObjects(u),e=0;e<n;e++)if(i=u[e],i.input){if(i.emit(c.GAMEOBJECT_POINTER_OUT,t,o),g.resetCursor(i.input),s++,r.cancelled){a=!0;break}if(this.emit(c.GAMEOBJECT_OUT,t,i,o),r.cancelled){a=!0;break}}a||this.emit(c.POINTER_OUT,t,u)}if(n=l.length,r.cancelled=!1,a=!1,n>0){for(this.sortGameObjects(l),e=0;e<n;e++)if(i=l[e],i.input){if(i.emit(c.GAMEOBJECT_POINTER_OVER,t,i.input.localX,i.input.localY,o),g.setCursor(i.input),s++,r.cancelled){a=!0;break}if(this.emit(c.GAMEOBJECT_OVER,t,i,o),r.cancelled){a=!0;break}}a||this.emit(c.POINTER_OVER,t,l)}return d=f.concat(l),this._over[t.id]=this.sortGameObjects(d),s},processUpEvents:function(t){var e,i,n,s=this._temp,r=this._eventData,o=this._eventContainer;for(r.cancelled=!1,e=!1,i=0;i<s.length;i++)if(n=s[i],n.input){if(n.emit(c.GAMEOBJECT_POINTER_UP,t,n.input.localX,n.input.localY,o),t.wasTouch&&(this._over[t.id]=[],n.emit(c.GAMEOBJECT_POINTER_OUT,t,n.input.localX,n.input.localY,o)),r.cancelled){e=!0;break}if(this.emit(c.GAMEOBJECT_UP,t,n,o),r.cancelled){e=!0;break}}return e||(t.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,t,s):this.emit(c.POINTER_UP_OUTSIDE,t)),s.length},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){var i,n,s;for(e===undefined&&(e=!0),Array.isArray(t)||(t=[t]),i=0;i<t.length;i++)n=t[i],n.input.draggable=e,s=this._draggable.indexOf(n),e&&-1===s?this._draggable.push(n):!e&&s>-1&&this._draggable.splice(s,1);return this},makePixelPerfect:function(t){t===undefined&&(t=1);var e=this.systems.textures;return a(e,t)},setHitArea:function(t,e,i){var n,s,r,a,h,u,l,c,f,p;if(e===undefined)return this.setHitAreaFromTexture(t);for(Array.isArray(t)||(t=[t]),n=!1,s=!1,r=!1,a=!1,g(e)?(h=e,e=d(h,"hitArea",null),i=d(h,"hitAreaCallback",null),n=d(h,"draggable",!1),s=d(h,"dropZone",!1),r=d(h,"cursor",!1),a=d(h,"useHandCursor",!1),u=d(h,"pixelPerfect",!1),l=d(h,"alphaTolerance",1),u&&(e={},i=this.makePixelPerfect(l)),e&&i||this.setHitAreaFromTexture(t)):"function"!=typeof e||i||(i=e,e={}),c=0;c<t.length;c++)f=t[c],p=f.input?f.input:o(f,e,i),p.dropZone=s,p.cursor=a?"pointer":r,f.input=p,n&&this.setDraggable(f),this.queueForInsertion(f);return this},setHitAreaCircle:function(t,e,i,r,o){o===undefined&&(o=s);var a=new n(e,i,r);return this.setHitArea(t,a,o)},setHitAreaEllipse:function(t,e,i,n,s,r){r===undefined&&(r=l);var o=new u(e,i,n,s);return this.setHitArea(t,o,r)},setHitAreaFromTexture:function(t,e){var i,n,s,r,a;for(e===undefined&&(e=v),Array.isArray(t)||(t=[t]),i=0;i<t.length;i++)n=t[i],s=n.frame,r=0,a=0,n.width?(r=n.width,a=n.height):s&&(r=s.realWidth,a=s.realHeight),("Container"!==n.type||0!==r&&0!==a)&&0!==r&&0!==a&&(n.input=o(n,new m(0,0,r,a),e),this.queueForInsertion(n));return this},setHitAreaRectangle:function(t,e,i,n,s,r){r===undefined&&(r=v);var o=new m(e,i,n,s);return this.setHitArea(t,o,r)},setHitAreaTriangle:function(t,e,i,n,s,r,o,a){a===undefined&&(a=_);var h=new b(e,i,n,s,r,o);return this.setHitArea(t,h,a)},setPollAlways:function(){return this.pollRate=0,this._pollTimer=0,this},setPollOnMove:function(){return this.pollRate=-1,this._pollTimer=0,this},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(t,e){var i,n,s,r,o,a;if(!t.parentContainer&&!e.parentContainer)return this.displayList.getIndex(e)-this.displayList.getIndex(t);if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(i=t.getIndexList(),n=e.getIndexList(),s=Math.min(i.length,n.length),r=0;r<s;r++)if(o=i[r],a=n[r],o!==a)return a-o;return 0},stopPropagation:function(){return this.manager.globalTopOnly&&(this.manager.ignoreEvents=!0),this},addUpCallback:function(t,e){return this.manager.addUpCallback(t,e),this},addDownCallback:function(t,e){return this.manager.addDownCallback(t,e),this},addMoveCallback:function(t,e){return this.manager.addMoveCallback(t,e),this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){var t,e;for(this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0,t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners(),e=this.systems.events,e.off(x.TRANSITION_START,this.transitionIn,this),e.off(x.TRANSITION_OUT,this.transitionOut,this),e.off(x.TRANSITION_COMPLETE,this.transitionComplete,this),e.off(x.PRE_UPDATE,this.preUpdate,this),this.manager.useQueue&&e.off(x.UPDATE,this.update,this),this.manager.events.off(c.GAME_OUT,this.onGameOut,this),this.manager.events.off(c.GAME_OVER,this.onGameOver,this),e.off(x.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(x.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",w,"input"),t.exports=w},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return function(i,n,s,r){var o=t.getPixelAlpha(n,s,r.texture.key,r.frame.name);return o&&o>=e}};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Events:i(229),KeyboardManager:i(521),KeyboardPlugin:i(1636),Key:i(602),KeyCodes:i(217),KeyCombo:i(603),JustDown:i(1641),JustUp:i(1642),DownDuration:i(1643),UpDuration:i(1644)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="keydown"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="keyup"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="keycombomatch"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="down"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="keydown-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="keyup-"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="up"},function(t,e,i){var n=i(0),s=i(15),r=i(229),o=i(54),a=i(6),h=i(95),u=i(228),l=i(602),c=i(217),f=i(603),d=i(1640),p=i(167),g=new n({Extends:s,initialize:function(t){s.call(this),this.game=t.systems.game,this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.manager=t.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],t.pluginEvents.once(h.BOOT,this.boot,this),t.pluginEvents.on(h.START,this.start,this)},boot:function(){var t,e=this.settings.input;this.enabled=a(e,"keyboard",!0),t=a(e,"keyboard.capture",null),t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(h.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(t){return this.manager.addCapture(t),this},removeCapture:function(t){return this.manager.removeCapture(t),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(t,e,i){var n,s,r,o;if(e===undefined&&(e=!0),i===undefined&&(i=!1),n={},"string"==typeof t)for(t=t.split(","),s=0;s<t.length;s++)(r=t[s].trim())&&(n[r]=this.addKey(r,e,i));else for(o in t)n[o]=this.addKey(t[o],e,i);return n},addKey:function(t,e,i){var n,s;return e===undefined&&(e=!0),i===undefined&&(i=!1),n=this.keys,t instanceof l?(s=n.indexOf(t),s>-1?n[s]=t:n[t.keyCode]=t,e&&this.addCapture(t.keyCode),t.setEmitOnRepeat(i),t):("string"==typeof t&&(t=c[t.toUpperCase()]),n[t]||(n[t]=new l(t),e&&this.addCapture(t),n[t].setEmitOnRepeat(i)),n[t])},removeKey:function(t){var e,i=this.keys;return t instanceof l?(e=i.indexOf(t))>-1&&(this.keys[e]=undefined):"string"==typeof t&&(t=c[t.toUpperCase()]),i[t]&&(i[t]=undefined),this},createCombo:function(t,e){return new f(this,t,e)},checkDown:function(t,e){if(this.enabled&&t.isDown){var i=p(this.time-t.timeDown,e);if(i>t._tick)return t._tick=i,!0}return!1},update:function(){var t,e,i,n,s,o,a=this.manager.queue,h=a.length;if(this.isActive()&&0!==h)for(t=this.keys,e=0;e<h;e++)i=a[e],n=i.keyCode,s=t[n],o=!1,i.cancelled===undefined&&(i.cancelled=0,i.stopImmediatePropagation=function(){i.cancelled=1},i.stopPropagation=function(){i.cancelled=-1}),-1!==i.cancelled&&("keydown"===i.type?(s&&(o=s.isDown,s.onDown(i)),i.cancelled||s&&o||(d[n]&&(this.emit(r.KEY_DOWN+d[n],i),this.emit("keydown_"+d[n],i)),i.cancelled||this.emit(r.ANY_KEY_DOWN,i))):(s&&s.onUp(i),i.cancelled||(d[n]&&(this.emit(r.KEY_UP+d[n],i),this.emit("keyup_"+d[n],i)),i.cancelled||this.emit(r.ANY_KEY_UP,i))),1===i.cancelled&&(i.cancelled=0))},resetKeys:function(){var t,e=this.keys;for(t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(h.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){var t,e;for(this.shutdown(),t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),t.exports=g},function(t,e,i){var n=i(1638),s=function(t,e){var i,s,r;return!!e.matched||(i=!1,s=!1,t.keyCode===e.current&&(e.index>0&&e.maxKeyDelay>0?(r=e.timeLastMatched+e.maxKeyDelay,t.timeStamp<=r&&(s=!0,i=n(t,e))):(s=!0,i=n(t,e))),!s&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e.timeLastMatched=t.timeStamp,++e.index===e.size||(e.current=e.keyCodes[e.index],!1)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};t.exports=i},function(t,e,i){var n,s=i(217),r={};for(n in s)r[s[n]]=n;t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return!!t._justDown&&(t._justDown=!1,!0)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return!!t._justUp&&(t._justUp=!1,!0)};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=50),t.isDown&&t.duration<e};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return e===undefined&&(e=50),t.isUp&&t.duration<e};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={MouseManager:i(522)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={TouchManager:i(524)}},function(t,e,i){var n=i(34),s=i(32),r={Events:i(149),FileTypes:i(1648),File:i(38),FileTypesManager:i(14),GetURL:i(335),LoaderPlugin:i(1670),MergeXHRSettings:i(336),MultiFile:i(133),XHRLoader:i(604),XHRSettings:i(230)};r=s(!1,r,n),t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={AnimationJSONFile:i(1649),AtlasJSONFile:i(1650),AtlasXMLFile:i(1651),AudioFile:i(605),AudioSpriteFile:i(1652),BinaryFile:i(1653),BitmapFontFile:i(1654),GLSLFile:i(1655),HTML5AudioFile:i(606),HTMLFile:i(1656),HTMLTextureFile:i(1657),ImageFile:i(132),JSONFile:i(110),MultiAtlasFile:i(1658),PackFile:i(1659),PluginFile:i(1660),SceneFile:i(1661),ScenePluginFile:i(1662),ScriptFile:i(1663),SpriteSheetFile:i(1664),SVGFile:i(1665),TextFile:i(607),TilemapCSVFile:i(1666),TilemapImpactFile:i(1667),TilemapJSONFile:i(1668),UnityAtlasFile:i(1669),XMLFile:i(337)}},function(t,e,i){var n=i(0),s=i(14),r=i(110),o=i(149),a=new n({Extends:r,initialize:function(t,e,i,n,s){r.call(this,t,e,i,n,s),this.type="animationJSON"},onProcess:function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),r.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data),this.pendingDestroy()}});s.register("animation",function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new a(this,t[s]));else this.addFile(new a(this,t,e,n,i));return this}),t.exports=a},function(t,e,i){var n=i(0),s=i(14),r=i(3),o=i(132),a=i(13),h=i(110),u=i(133),l=new n({Extends:u,initialize:function(t,e,i,n,s,l){var c,f,d;a(e)?(d=e,e=r(d,"key"),c=new o(t,{key:e,url:r(d,"textureURL"),extension:r(d,"textureExtension","png"),normalMap:r(d,"normalMap"),xhrSettings:r(d,"textureXhrSettings")}),f=new h(t,{key:e,url:r(d,"atlasURL"),extension:r(d,"atlasExtension","json"),xhrSettings:r(d,"atlasXhrSettings")})):(c=new o(t,e,i,s),f=new h(t,e,n,l)),c.linkFile?u.call(this,t,"atlasjson",e,[c,f,c.linkFile]):u.call(this,t,"atlasjson",e,[c,f])},addToCache:function(){var t,e,i;this.isReadyToProcess()&&(t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null,this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0)}});s.register("atlas",function(t,e,i,n,s){var r,o;if(Array.isArray(t))for(o=0;o<t.length;o++)r=new l(this,t[o]),this.addFile(r.files);else r=new l(this,t,e,i,n,s),this.addFile(r.files);return this}),t.exports=l},function(t,e,i){var n=i(0),s=i(14),r=i(3),o=i(132),a=i(13),h=i(133),u=i(337),l=new n({Extends:h,initialize:function(t,e,i,n,s,l){var c,f,d;a(e)?(d=e,e=r(d,"key"),c=new o(t,{key:e,url:r(d,"textureURL"),extension:r(d,"textureExtension","png"),normalMap:r(d,"normalMap"),xhrSettings:r(d,"textureXhrSettings")}),f=new u(t,{key:e,url:r(d,"atlasURL"),extension:r(d,"atlasExtension","xml"),xhrSettings:r(d,"atlasXhrSettings")})):(c=new o(t,e,i,s),f=new u(t,e,n,l)),c.linkFile?h.call(this,t,"atlasxml",e,[c,f,c.linkFile]):h.call(this,t,"atlasxml",e,[c,f])},addToCache:function(){var t,e,i;this.isReadyToProcess()&&(t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null,this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0)}});s.register("atlasXML",function(t,e,i,n,s){var r,o;if(Array.isArray(t))for(o=0;o<t.length;o++)r=new l(this,t[o]),this.addFile(r.files);else r=new l(this,t,e,i,n,s),this.addFile(r.files);return this}),t.exports=l},function(t,e,i){var n=i(605),s=i(0),r=i(14),o=i(3),a=i(13),h=i(110),u=i(133),l=new s({Extends:u,initialize:function(t,e,i,s,r,l,c){var f,d,p;a(e)&&(f=e,e=o(f,"key"),i=o(f,"jsonURL"),s=o(f,"audioURL"),r=o(f,"audioConfig"),l=o(f,"audioXhrSettings"),c=o(f,"jsonXhrSettings")),s?(p=n.create(t,e,s,r,l))&&(d=new h(t,e,i,c),u.call(this,t,"audiosprite",e,[p,d]),this.config.resourceLoad=!1):(d=new h(t,e,i,c),u.call(this,t,"audiosprite",e,[d]),this.config.resourceLoad=!0,this.config.audioConfig=r,this.config.audioXhrSettings=l)},onFileComplete:function(t){var e,i,s,r;-1!==this.files.indexOf(t)&&(this.pending--,this.config.resourceLoad&&"json"===t.type&&t.data.hasOwnProperty("resources")&&(e=t.data.resources,i=o(this.config,"audioConfig"),s=o(this.config,"audioXhrSettings"),(r=n.create(this.loader,t.key,e,i,s))&&(this.addToMultiFile(r),this.loader.addFile(r))))},addToCache:function(){var t,e;this.isReadyToProcess()&&(t=this.files[0],e=this.files[1],t.addToCache(),e.addToCache(),this.complete=!0)}});r.register("audioSprite",function(t,e,i,n,s,r){var o,a,h=this.systems.game,u=h.config.audio,c=h.device.audio;if(u&&u.noAudio||!c.webAudio&&!c.audioData)return this;if(Array.isArray(t))for(a=0;a<t.length;a++)o=new l(this,t[a]),o.files&&this.addFile(o.files);else o=new l(this,t,e,i,n,s,r),o.files&&this.addFile(o.files);return this})},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n,s){var o,u,l="bin";h(e)&&(o=e,e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),l=a(o,"extension",l),s=a(o,"dataType",s)),u={type:"binary",cache:t.cacheManager.binary,extension:l,responseType:"arraybuffer",key:e,url:i,xhrSettings:n,config:{dataType:s}},r.call(this,t,u)},onProcess:function(){this.state=s.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,n,i));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(14),r=i(3),o=i(132),a=i(13),h=i(133),u=i(547),l=i(337),c=new n({Extends:h,initialize:function(t,e,i,n,s,u){var c,f,d;a(e)?(d=e,e=r(d,"key"),c=new o(t,{key:e,url:r(d,"textureURL"),extension:r(d,"textureExtension","png"),normalMap:r(d,"normalMap"),xhrSettings:r(d,"textureXhrSettings")}),f=new l(t,{key:e,url:r(d,"fontDataURL"),extension:r(d,"fontDataExtension","xml"),xhrSettings:r(d,"fontDataXhrSettings")})):(c=new o(t,e,i,s),f=new l(t,e,n,u)),c.linkFile?h.call(this,t,"bitmapfont",e,[c,f,c.linkFile]):h.call(this,t,"bitmapfont",e,[c,f])},addToCache:function(){var t,e;this.isReadyToProcess()&&(t=this.files[0],e=this.files[1],t.addToCache(),e.addToCache(),this.loader.cacheManager.bitmapFont.add(t.key,{data:u(e.data),texture:t.key,frame:null}),this.complete=!0)}});s.register("bitmapFont",function(t,e,i,n,s){var r,o;if(Array.isArray(t))for(o=0;o<t.length;o++)r=new c(this,t[o]),this.addFile(r.files);else r=new c(this,t,e,i,n,s),this.addFile(r.files);return this}),t.exports=c},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n){var s,o,u="glsl";h(e)&&(s=e,e=a(s,"key"),i=a(s,"url"),n=a(s,"xhrSettings"),u=a(s,"extension",u)),o={type:"glsl",cache:t.cacheManager.shader,extension:u,responseType:"text",key:e,url:i,xhrSettings:n},r.call(this,t,o)},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("glsl",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n){var s,o,u="html";h(e)&&(s=e,e=a(s,"key"),i=a(s,"url"),n=a(s,"xhrSettings"),u=a(s,"extension",u)),o={type:"text",cache:t.cacheManager.html,extension:u,responseType:"text",key:e,url:i,xhrSettings:n},r.call(this,t,o)},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n,s,o){var u,l,c;n===undefined&&(n=512),s===undefined&&(s=512),u="html",h(e)&&(l=e,e=a(l,"key"),i=a(l,"url"),o=a(l,"xhrSettings"),u=a(l,"extension",u),n=a(l,"width",n),s=a(l,"height",s)),c={type:"html",cache:t.textureManager,extension:u,responseType:"text",key:e,url:i,xhrSettings:o,config:{width:n,height:s}},r.call(this,t,c)},onProcess:function(){var t,e,i,n,o,a;this.state=s.FILE_PROCESSING,t=this.config.width,e=this.config.height,i=[],i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>"),n=[i.join("\n")],o=this;try{a=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch(h){return o.state=s.FILE_ERRORED,void o.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){r.revokeObjectURL(o.data),o.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(o.data),o.onProcessError()},r.createObjectURL(this.data,a,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});o.register("htmlTexture",function(t,e,i,n,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i,n,s));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(14),r=i(3),o=i(132),a=i(13),h=i(110),u=i(133),l=new n({Extends:u,initialize:function(t,e,i,n,s,o,l){var c,f;a(e)&&(c=e,e=r(c,"key"),i=r(c,"url"),o=r(c,"xhrSettings"),n=r(c,"path"),s=r(c,"baseURL"),l=r(c,"textureXhrSettings")),f=new h(t,e,i,o),u.call(this,t,"multiatlas",e,[f]),this.config.path=n,this.config.baseURL=s,this.config.textureXhrSettings=l},onFileComplete:function(t){var e,i,n,s,a,h,u,l,c,f,d,p,g,y,m;if(-1!==this.files.indexOf(t)&&(this.pending--,"json"===t.type&&t.data.hasOwnProperty("textures"))){for(e=t.data.textures,i=this.config,n=this.loader,s=n.baseURL,a=n.path,h=n.prefix,u=r(i,"baseURL",s),l=r(i,"path",a),c=r(i,"prefix",h),f=r(i,"textureXhrSettings"),n.setBaseURL(u),n.setPath(l),n.setPrefix(c),d=0;d<e.length;d++)p=e[d].image,g="_MA_"+p,y=new o(n,g,p,f),this.addToMultiFile(y),n.addFile(y),e[d].normalMap&&(m=new o(n,g,e[d].normalMap,f),m.type="normalMap",y.setLink(m),this.addToMultiFile(m),n.addFile(m));n.setBaseURL(s),n.setPath(a),n.setPrefix(h)}},addToCache:function(){var t,e,i,n,s,r,o,a,h,u;if(this.isReadyToProcess()){for(t=this.files[0],t.addToCache(),e=[],i=[],n=[],s=1;s<this.files.length;s++)if(r=this.files[s],"normalMap"!==r.type)for(o=r.key.substr(4),a=r.data,h=0;h<t.data.textures.length;h++)if(u=t.data.textures[h],u.image===o){i.push(a),e.push(u),r.linkFile&&n.push(r.linkFile.data);break}for(0===n.length&&(n=undefined),this.loader.textureManager.addAtlasJSONArray(this.key,i,e,n),this.complete=!0,s=0;s<this.files.length;s++)this.files[s].pendingDestroy()}}});s.register("multiatlas",function(t,e,i,n,s){var r,o;if(Array.isArray(t))for(o=0;o<t.length;o++)r=new l(this,t[o]),this.addFile(r.files);else r=new l(this,t,e,i,n,s),this.addFile(r.files);return this}),t.exports=l},function(t,e,i){var n=i(0),s=i(34),r=i(14),o=i(110),a=new n({Extends:o,initialize:function(t,e,i,n,s){o.call(this,t,e,i,n,s),this.type="packfile"},onProcess:function(){this.state!==s.FILE_POPULATED&&(this.state=s.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});r.register("pack",function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new a(this,t[s]));else this.addFile(new a(this,t,e,n,i));return this}),t.exports=a},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n,o,u){var l,c,f="js";h(e)&&(l=e,e=a(l,"key"),i=a(l,"url"),u=a(l,"xhrSettings"),f=a(l,"extension",f),n=a(l,"start"),o=a(l,"mapping")),c={type:"plugin",cache:!1,extension:f,responseType:"text",key:e,url:i,xhrSettings:u,config:{start:n,mapping:o}},r.call(this,t,c),"function"==typeof i&&(this.data=i,this.state=s.FILE_POPULATED)},onProcess:function(){var t,e=this.loader.systems.plugins,i=this.config,n=a(i,"start",!1),r=a(i,"mapping",null);this.state===s.FILE_POPULATED?e.install(this.key,this.data,n,r):(this.state=s.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t=e.install(this.key,window[this.key],n,r),(n||r)&&(this.loader.systems[r]=t,this.loader.scene[r]=t)),this.onProcessComplete()}});o.register("plugin",function(t,e,i,n,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i,n,s));return this}),t.exports=u},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),CONST=__webpack_require__(34),File=__webpack_require__(38),FileTypesManager=__webpack_require__(14),GetFastValue=__webpack_require__(3),IsPlainObject=__webpack_require__(13),SceneFile=new Class({Extends:File,initialize:function(t,e,i,n){var s,r,o="js";IsPlainObject(e)&&(s=e,e=GetFastValue(s,"key"),i=GetFastValue(s,"url"),n=GetFastValue(s,"xhrSettings"),o=GetFastValue(s,"extension",o)),r={type:"text",cache:t.cacheManager.text,extension:o,responseType:"text",key:e,url:i,xhrSettings:n},File.call(this,t,r)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var code=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);");this.loader.sceneManager.add(this.key,eval(code)),this.complete=!0}});FileTypesManager.register("sceneFile",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new SceneFile(this,t[n]));else this.addFile(new SceneFile(this,t,e,i));return this}),module.exports=SceneFile},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n,o,u){var l,c,f="js";h(e)&&(l=e,e=a(l,"key"),i=a(l,"url"),u=a(l,"xhrSettings"),f=a(l,"extension",f),n=a(l,"systemKey"),o=a(l,"sceneKey")),c={type:"scenePlugin",cache:!1,extension:f,responseType:"text",key:e,url:i,xhrSettings:u,config:{systemKey:n,sceneKey:o}},r.call(this,t,c),"function"==typeof i&&(this.data=i,this.state=s.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=this.key,n=a(e,"systemKey",i),r=a(e,"sceneKey",i);this.state===s.FILE_POPULATED?t.installScenePlugin(n,this.data,r,this.loader.scene):(this.state=s.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.installScenePlugin(n,window[this.key],r,this.loader.scene)),this.onProcessComplete()}});o.register("scenePlugin",function(t,e,i,n,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i,n,s));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n){var s,o,u="js";h(e)&&(s=e,e=a(s,"key"),i=a(s,"url"),n=a(s,"xhrSettings"),u=a(s,"extension",u)),o={type:"script",cache:!1,extension:u,responseType:"text",key:e,url:i,xhrSettings:n},r.call(this,t,o)},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(14),r=i(132),o=new n({Extends:r,initialize:function(t,e,i,n,s){r.call(this,t,e,i,s,n),this.type="spritesheet"},addToCache:function(){var t=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(t)}});s.register("spritesheet",function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new o(this,t[s]));else this.addFile(new o(this,t,e,i,n));return this}),t.exports=o},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=new n({Extends:r,initialize:function(t,e,i,n,s){var o,u,l="svg";h(e)&&(o=e,e=a(o,"key"),i=a(o,"url"),n=a(o,"svgConfig",{}),s=a(o,"xhrSettings"),l=a(o,"extension",l)),u={type:"svg",cache:t.textureManager,extension:l,responseType:"text",key:e,url:i,xhrSettings:s,config:{width:a(n,"width"),height:a(n,"height"),scale:a(n,"scale")}},r.call(this,t,u)},onProcess:function(){var t,e,i,n,o,a,h,u,l,c,f,d,p,g,y;this.state=s.FILE_PROCESSING,t=this.xhrLoader.responseText,e=[t],i=this.config.width,n=this.config.height,o=this.config.scale;t:if(i&&n||o){if(a=null,h=new DOMParser,a=h.parseFromString(t,"text/xml"),u=a.getElementsByTagName("svg")[0],l=u.hasAttribute("viewBox"),c=parseFloat(u.getAttribute("width")),f=parseFloat(u.getAttribute("height")),!l&&c&&f?u.setAttribute("viewBox","0  0 "+c+" "+f):!l||c||f||(d=u.getAttribute("viewBox").split(/\s+|,/),c=d[2],f=d[3]),o){if(!c||!f)break t;i=c*o,n=f*o}u.setAttribute("width",i+"px"),u.setAttribute("height",n+"px"),e=[(new XMLSerializer).serializeToString(u)]}try{p=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(m){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,g=this,y=!1,this.data.onload=function(){y||r.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){y?g.onProcessError():(y=!0,r.revokeObjectURL(g.data),g.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},r.createObjectURL(this.data,p,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});o.register("svg",function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,n));return this}),t.exports=u},function(t,e,i){var n=i(0),s=i(34),r=i(38),o=i(14),a=i(3),h=i(13),u=i(61),l=new n({Extends:r,initialize:function(t,e,i,n){var s,o,l="csv";h(e)&&(s=e,e=a(s,"key"),i=a(s,"url"),n=a(s,"xhrSettings"),l=a(s,"extension",l)),o={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:l,responseType:"text",key:e,url:i,xhrSettings:n},r.call(this,t,o),this.tilemapFormat=u.CSV},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});o.register("tilemapCSV",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,i));return this}),t.exports=l},function(t,e,i){var n=i(0),s=i(14),r=i(110),o=i(61),a=new n({Extends:r,initialize:function(t,e,i,n){r.call(this,t,e,i,n),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});s.register("tilemapImpact",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,i));return this}),t.exports=a},function(t,e,i){var n=i(0),s=i(14),r=i(110),o=i(61),a=new n({Extends:r,initialize:function(t,e,i,n){r.call(this,t,e,i,n),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});s.register("tilemapTiledJSON",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,i));return this}),t.exports=a},function(t,e,i){var n=i(0),s=i(14),r=i(3),o=i(132),a=i(13),h=i(133),u=i(607),l=new n({Extends:h,initialize:function(t,e,i,n,s,l){var c,f,d;a(e)?(d=e,e=r(d,"key"),c=new o(t,{key:e,url:r(d,"textureURL"),extension:r(d,"textureExtension","png"),normalMap:r(d,"normalMap"),xhrSettings:r(d,"textureXhrSettings")}),f=new u(t,{key:e,url:r(d,"atlasURL"),extension:r(d,"atlasExtension","txt"),xhrSettings:r(d,"atlasXhrSettings")})):(c=new o(t,e,i,s),f=new u(t,e,n,l)),c.linkFile?h.call(this,t,"unityatlas",e,[c,f,c.linkFile]):h.call(this,t,"unityatlas",e,[c,f])},addToCache:function(){var t,e,i;this.isReadyToProcess()&&(t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null,this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0)}});s.register("unityAtlas",function(t,e,i,n,s){var r,o;if(Array.isArray(t))for(o=0;o<t.length;o++)r=new l(this,t[o]),this.addFile(r.files);else r=new l(this,t,e,i,n,s),this.addFile(r.files);return this}),t.exports=l},function(t,e,i){var n=i(0),s=i(34),r=i(151),o=i(15),a=i(149),h=i(14),u=i(3),l=i(26),c=i(30),f=i(230),d=new n({Extends:o,initialize:function(t){var e,i;o.call(this),e=t.sys.game.config,i=t.sys.settings.loader,this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,this.sceneManager=t.sys.game.scene,h.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(i,"baseURL",e.loaderBaseURL)),this.setPath(u(i,"path",e.loaderPath)),this.setPrefix(u(i,"prefix",e.loaderPrefix)),this.maxParallelDownloads=u(i,"maxParallelDownloads",e.loaderMaxParallelDownloads),this.xhr=f(u(i,"responseType",e.loaderResponseType),u(i,"async",e.loaderAsync),u(i,"user",e.loaderUser),u(i,"password",e.loaderPassword),u(i,"timeout",e.loaderTimeout)),this.crossOrigin=u(i,"crossOrigin",e.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new r,this.inflight=new r,this.queue=new r,this._deleteQueue=new r,this.totalFailed=0,this.totalComplete=0,this.state=s.LOADER_IDLE,t.sys.events.once(c.BOOT,this.boot,this),t.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(t){return t===undefined&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return t===undefined&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return t===undefined&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){var e,i;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++)i=t[e],this.keyExists(i)||(this.list.set(i),this.emit(a.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),!e&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),this.queue.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),e},addPack:function(t,e){var i,n,s,r,o,a,h,l,c,f,d,p,g,y;e&&t.hasOwnProperty(e)&&(t={packKey:t[e]}),i=0,n=this.baseURL,s=this.path,r=this.prefix;for(o in t)if(a=t[o],h=u(a,"baseURL",n),l=u(a,"path",s),c=u(a,"prefix",r),f=u(a,"files",null),d=u(a,"defaultType","void"),Array.isArray(f))for(this.setBaseURL(h),this.setPath(l),this.setPrefix(c),p=0;p<f.length;p++)g=f[p],y=g.hasOwnProperty("type")?g.type:d,this[y]&&(this[y](g),i++);return this.setBaseURL(n),this.setPath(s),this.setPrefix(r),i>0},isLoading:function(){return this.state===s.LOADER_LOADING||this.state===s.LOADER_PROCESSING},isReady:function(){return this.state===s.LOADER_IDLE||this.state===s.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),0===this.list.size?this.loadComplete():(this.state=s.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===s.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(t){if((t.state===s.FILE_POPULATED||t.state===s.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list["delete"](t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(t,e){this.inflight&&(this.inflight["delete"](t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit(a.FILE_LOAD,t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit(a.FILE_LOAD_ERROR,t),this.fileProcessComplete(t)))},fileProcessComplete:function(t){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(t.state===s.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===s.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue["delete"](t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=s.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){var n,s,r;return e===undefined&&(e="file.json"),i===undefined&&(i="application/json"),n=new Blob([t],{type:i}),s=URL.createObjectURL(n),r=document.createElement("a"),r.download=e,r.textContent="Download "+e,r.href=s,r.click(),this},reset:function(){var t,e;this.list.clear(),this.inflight.clear(),this.queue.clear(),t=this.systems.game.config,e=this.systems.settings.loader,this.setBaseURL(u(e,"baseURL",t.loaderBaseURL)),this.setPath(u(e,"path",t.loaderPath)),this.setPrefix(u(e,"prefix",t.loaderPrefix)),this.state=s.LOADER_IDLE},shutdown:function(){this.reset(),this.state=s.LOADER_SHUTDOWN,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=s.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",d,"load"),t.exports=d},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Arcade:i(1672),Impact:i(1701),Matter:i(1724)}},function(t,e,i){var n=i(98),s=i(32),r={ArcadePhysics:i(1673),Body:i(614),Collider:i(616),Factory:i(608),Group:i(611),Image:i(609),Sprite:i(231),StaticBody:i(622),StaticGroup:i(612),World:i(613)};r=s(!1,r,n),t.exports=r},function(t,e,i){var n=i(0),s=i(78),r=i(109),o=i(471),a=i(608),h=i(3),u=i(150),l=i(26),c=i(30),f=i(4),d=i(613),p=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(c.BOOT,this.boot,this),t.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new a(this.world));var t=this.systems.events;t.on(c.UPDATE,this.world.update,this.world),t.on(c.POST_UPDATE,this.world.postUpdate,this.world),t.once(c.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return u(h(e,"arcade",{}),h(t,"arcade",{}))},overlap:function(t,e,i,n,s){return i===undefined&&(i=null),n===undefined&&(n=null),s===undefined&&(s=i),this.world.collideObjects(t,e,i,n,s,!0)},collide:function(t,e,i,n,s){return i===undefined&&(i=null),n===undefined&&(n=null),s===undefined&&(s=i),this.world.collideObjects(t,e,i,n,s,!1)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,n,s,r){n===undefined&&(n=60);var o=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(o,n),s!==undefined&&r!==undefined&&t.body.maxVelocity.set(s,r),o},accelerateToObject:function(t,e,i,n,s){return this.accelerateTo(t,e.x,e.y,i,n,s)},closest:function(t){var e,i,n,s=this.world.tree.all(),r=Number.MAX_VALUE,a=null,h=t.x,u=t.y;for(e=s.length-1;e>=0;e--)i=s[e],(n=o(h,u,i.x,i.y))<r&&(a=i,r=n);return a},furthest:function(t){var e,i,n,s=this.world.tree.all(),r=-1,a=null,h=t.x,u=t.y;for(e=s.length-1;e>=0;e--)i=s[e],(n=o(h,u,i.x,i.y))>r&&(a=i,r=n);return a},moveTo:function(t,e,i,n,s){n===undefined&&(n=60),s===undefined&&(s=0);var o=Math.atan2(i-t.y,e-t.x);return s>0&&(n=r(t.x,t.y,e,i)/(s/1e3)),t.body.velocity.setToPolar(o,n),o},moveToObject:function(t,e,i,n){return this.moveTo(t,e.x,e.y,i,n)},velocityFromAngle:function(t,e,i){return e===undefined&&(e=60),i===undefined&&(i=new f),i.setToPolar(s(t),e)},velocityFromRotation:function(t,e,i){return e===undefined&&(e=60),i===undefined&&(i=new f),i.setToPolar(t,e)},shutdown:function(){if(this.world){var t=this.systems.events;t.off(c.UPDATE,this.world.update,this.world),t.off(c.POST_UPDATE,this.world.postUpdate,this.world),t.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});l.register("ArcadePhysics",p,"arcadePhysics"),t.exports=p},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t){return this.body.collideWorldBounds=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={enableBody:function(t,e,i,n,s){return t&&this.body.reset(e,i),n&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return t===undefined&&(t=!1),e===undefined&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setImmovable:function(t){return t===undefined&&(t=!0),this.body.immovable=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setMass:function(t){return this.body.mass=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="collide"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="overlap"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="tilecollide"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="tileoverlap"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="worldbounds"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)};t.exports=i},function(t,e,i){var n=i(1695),s=i(1697),r=i(621),o=function(t,e,i,o,a,h){var u,l,c,f,d=o.left,p=o.top,g=o.right,y=o.bottom,m=i.faceLeft||i.faceRight,v=i.faceTop||i.faceBottom;if(!m&&!v)return!1;if(u=0,l=0,c=0,f=1,e.deltaAbsX()>e.deltaAbsY()?c=-1:e.deltaAbsX()<e.deltaAbsY()&&(f=-1),0!==e.deltaX()&&0!==e.deltaY()&&m&&v&&(c=Math.min(Math.abs(e.position.x-g),Math.abs(e.right-d)),f=Math.min(Math.abs(e.position.y-y),Math.abs(e.bottom-p))),c<f){if(m&&0!==(u=n(e,i,d,g,h))&&!r(o,e))return!0;v&&(l=s(e,i,p,y,h))}else{if(v&&0!==(l=s(e,i,p,y,h))&&!r(o,e))return!0;m&&(u=n(e,i,d,g,h))}return 0!==u||0!==l};t.exports=o},function(t,e,i){var n=i(1696),s=function(t,e,i,s,r){var o=0;return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x<s&&(o=t.x-s)<-r&&(o=0):t.deltaX()>0&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right>i&&(o=t.right-i)>r&&(o=0),0!==o&&(t.customSeparateX?t.overlapX=o:n(t,o)),o};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};t.exports=i},function(t,e,i){var n=i(1698),s=function(t,e,i,s,r){var o=0;return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y<s&&(o=t.y-s)<-r&&(o=0):t.deltaY()>0&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom>i&&(o=t.bottom-i)>r&&(o=0),0!==o&&(t.customSeparateY?t.overlapY=o:n(t,o)),o};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};t.exports=i},function(t,e,i){var n=i(617),s=function(t,e,i,s){var r,o,a,h,u,l=n(t,e,i,s);return i||0===l||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX?0!==l||t.embedded&&e.embedded:(r=t.velocity.x,o=e.velocity.x,t.immovable||e.immovable?t.immovable?(e.x+=l,e.velocity.x=r-o*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=l,t.velocity.x=o-r*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y)):(l*=.5,t.x-=l,e.x+=l,a=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),h=Math.sqrt(r*r*t.mass/e.mass)*(r>0?1:-1),u=.5*(a+h),a-=u,h-=u,t.velocity.x=u+a*t.bounce.x,e.velocity.x=u+h*e.bounce.x),!0)};t.exports=s},function(t,e,i){var n=i(618),s=function(t,e,i,s){var r,o,a,h,u,l=n(t,e,i,s);return i||0===l||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY?0!==l||t.embedded&&e.embedded:(r=t.velocity.y,o=e.velocity.y,t.immovable||e.immovable?t.immovable?(e.y+=l,e.velocity.y=r-o*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=l,t.velocity.y=o-r*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x)):(l*=.5,t.y-=l,e.y+=l,a=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),h=Math.sqrt(r*r*t.mass/e.mass)*(r>0?1:-1),u=.5*(a+h),a-=u,h-=u,t.velocity.y=u+a*t.bounce.y,e.velocity.y=u+h*e.bounce.y),!0)};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Body:i(623),Events:i(338),COLLIDES:i(176),CollisionMap:i(624),Factory:i(625),Image:i(627),ImpactBody:i(626),ImpactPhysics:i(1720),Sprite:i(628),TYPE:i(177),World:i(629)}},function(t,e,i){var n=i(37),s=function(t,e,i,s,r){if(i)return n(e+i*t,-r,r);if(s){var o=s*t;return e-o>0?e-o:e+o<0?e+o:0}return n(e,-r,r)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){var i,n,s,r,o;t.standing=!1,e.collision.y&&(t.bounciness>0&&Math.abs(t.vel.y)>t.minBounceVelocity?t.vel.y*=-t.bounciness:(t.vel.y>0&&(t.standing=!0),t.vel.y=0)),e.collision.x&&(t.bounciness>0&&Math.abs(t.vel.x)>t.minBounceVelocity?t.vel.x*=-t.bounciness:t.vel.x=0),e.collision.slope&&(i=e.collision.slope,t.bounciness>0?(n=t.vel.x*i.nx+t.vel.y*i.ny,t.vel.x=(t.vel.x-i.nx*n*2)*t.bounciness,t.vel.y=(t.vel.y-i.ny*n*2)*t.bounciness):(s=i.x*i.x+i.y*i.y,r=(t.vel.x*i.x+t.vel.y*i.y)/s,t.vel.x=i.x*r,t.vel.y=i.y*r,(o=Math.atan2(i.x,i.y))>t.slopeStanding.min&&o<t.slopeStanding.max&&(t.standing=!0))),t.pos.x=e.pos.x,t.pos.y=e.pos.y};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="collide"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){var i=.5,n=1/3,s=2/3;t.exports={2:[0,1,1,0,!0],3:[0,1,1,i,!0],4:[0,i,1,0,!0],5:[0,1,1,s,!0],6:[0,s,1,n,!0],7:[0,n,1,0,!0],8:[i,1,0,0,!0],9:[1,0,i,1,!0],10:[i,1,1,0,!0],11:[0,0,i,1,!0],12:[0,0,1,0,!1],13:[1,1,0,0,!0],14:[1,i,0,0,!0],15:[1,1,0,i,!0],16:[1,n,0,0,!0],17:[1,s,0,n,!0],18:[1,1,0,s,!0],19:[1,1,i,0,!0],20:[i,0,0,1,!0],21:[0,1,i,0,!0],22:[i,0,1,1,!0],23:[1,1,0,1,!1],24:[0,0,1,1,!0],25:[0,0,1,i,!0],26:[0,i,1,1,!0],27:[0,0,1,n,!0],28:[0,n,1,s,!0],29:[0,s,1,1,!0],30:[n,1,0,0,!0],31:[1,0,s,1,!0],32:[s,1,1,0,!0],33:[0,0,n,1,!0],34:[1,0,1,1,!1],35:[1,0,0,1,!0],36:[1,i,0,1,!0],37:[1,0,0,i,!0],38:[1,s,0,1,!0],39:[1,n,0,s,!0],40:[1,0,0,n,!0],41:[s,1,n,0,!0],42:[s,0,n,1,!0],43:[n,1,s,0,!0],44:[n,0,s,1,!0],45:[0,1,0,0,!1],52:[1,1,s,0,!0],53:[n,0,0,1,!0],54:[0,1,n,0,!0],55:[s,0,1,1,!0]}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setAccelerationX:function(t){return this.accel.x=t,this},setAccelerationY:function(t){return this.accel.y=t,this},setAcceleration:function(t,e){return this.accel.x=t,this.accel.y=e,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setBodySize:function(t,e){return e===undefined&&(e=t),this.body.size.x=Math.round(t),this.body.size.y=Math.round(e),this},setBodyScale:function(t,e){e===undefined&&(e=t);var i=this.body.gameObject;return i?(i.setScale(t,e),this.setBodySize(i.width*i.scaleX,i.height*i.scaleY)):this.setBodySize(this.body.size.x*t,this.body.size.y*e)}};t.exports=i},function(t,e,i){var n=i(177),s={getBodyType:function(){return this.body.type},setTypeNone:function(){return this.body.type=n.NONE,this},setTypeA:function(){return this.body.type=n.A,this},setTypeB:function(){return this.body.type=n.B,this}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setBounce:function(t){return this.body.bounciness=t,this},setMinBounceVelocity:function(t){return this.body.minBounceVelocity=t,this},bounce:{get:function(){return this.body.bounciness},set:function(t){this.body.bounciness=t}}};t.exports=i},function(t,e,i){var n=i(177),s={setAvsB:function(){return this.setTypeA(),this.setCheckAgainstB()},setBvsA:function(){return this.setTypeB(),this.setCheckAgainstA()},setCheckAgainstNone:function(){return this.body.checkAgainst=n.NONE,this},setCheckAgainstA:function(){return this.body.checkAgainst=n.A,this},setCheckAgainstB:function(){return this.body.checkAgainst=n.B,this},checkAgainst:{get:function(){return this.body.checkAgainst},set:function(t){this.body.checkAgainst=t}}};t.exports=s},function(t,e,i){var n=i(176),s={_collideCallback:null,_callbackScope:null,setCollideCallback:function(t,e){return this._collideCallback=t,e&&(this._callbackScope=e),this},setCollidesNever:function(){return this.body.collides=n.NEVER,this},setLiteCollision:function(){return this.body.collides=n.LITE,this},setPassiveCollision:function(){return this.body.collides=n.PASSIVE,this},setActiveCollision:function(){return this.body.collides=n.ACTIVE,this},setFixedCollision:function(){return this.body.collides=n.FIXED,this},collides:{get:function(){return this.body.collides},set:function(t){this.body.collides=t}}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setFriction:function(t,e){return this.friction.x=t,this.friction.y=e,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setGravity:function(t){return this.body.gravityFactor=t,this},gravity:{get:function(){return this.body.gravityFactor},set:function(t){this.body.gravityFactor=t}}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setOffset:function(t,e,i,n){return this.body.offset.x=t,this.body.offset.y=e,i&&this.setBodySize(i,n),this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setGameObject:function(t,e){return e===undefined&&(e=!0),t?(this.body.gameObject=t,e&&this.syncGameObject()):this.body.gameObject=null,this},syncGameObject:function(){var t=this.body.gameObject;return t&&this.setBodySize(t.width*t.scaleX,t.height*t.scaleY),this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setVelocityX:function(t){return this.vel.x=t,this},setVelocityY:function(t){return this.vel.y=t,this},setVelocity:function(t,e){return e===undefined&&(e=t),this.vel.x=t,this.vel.y=e,this},setMaxVelocity:function(t,e){return e===undefined&&(e=t),this.maxVel.x=t,this.maxVel.y=e,this}};t.exports=i},function(t,e,i){var n=i(0),s=i(625),r=i(3),o=i(150),a=i(26),h=i(30),u=i(629),l=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(h.BOOT,this.boot,this),t.sys.events.on(h.START,this.start,this)},boot:function(){this.world=new u(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new u(this.scene,this.config),this.add=new s(this.world));var t=this.systems.events;t.on(h.UPDATE,this.world.update,this.world),t.once(h.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return o(r(e,"impact",{}),r(t,"impact",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},shutdown:function(){var t=this.systems.events;t.off(h.UPDATE,this.world.update,this.world),t.off(h.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});a.register("ImpactPhysics",l,"impactPhysics"),t.exports=l},function(t,e,i){var n=i(176),s=i(338),r=i(1722),o=i(1723),a=function(t,e,i){var a=null;e.collides===n.LITE||i.collides===n.FIXED?a=e:i.collides!==n.LITE&&e.collides!==n.FIXED||(a=i),e.last.x+e.size.x>i.last.x&&e.last.x<i.last.x+i.size.x?(e.last.y<i.last.y?o(t,e,i,a):o(t,i,e,a),e.collideWith(i,"y"),i.collideWith(e,"y"),t.emit(s.COLLIDE,e,i,"y")):e.last.y+e.size.y>i.last.y&&e.last.y<i.last.y+i.size.y&&(e.last.x<i.last.x?r(t,e,i,a):r(t,i,e,a),e.collideWith(i,"x"),i.collideWith(e,"x"),t.emit(s.COLLIDE,e,i,"x"))};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o,a,h,u=e.pos.x+e.size.x-i.pos.x;n?(s=e===n?i:e,n.vel.x=-n.vel.x*n.bounciness+s.vel.x,r=t.collisionMap.trace(n.pos.x,n.pos.y,n===e?-u:u,0,n.size.x,n.size.y),n.pos.x=r.pos.x):(o=(e.vel.x-i.vel.x)/2,e.vel.x=-o,i.vel.x=o,a=t.collisionMap.trace(e.pos.x,e.pos.y,-u/2,0,e.size.x,e.size.y),e.pos.x=Math.floor(a.pos.x),h=t.collisionMap.trace(i.pos.x,i.pos.y,u/2,0,i.size.x,i.size.y),i.pos.x=Math.ceil(h.pos.x))};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o,a,h,u,l=e.pos.y+e.size.y-i.pos.y;n?(o=e===n?i:e,n.vel.y=-n.vel.y*n.bounciness+o.vel.y,s=0,n===e&&Math.abs(n.vel.y-o.vel.y)<n.minBounceVelocity&&(n.standing=!0,s=o.vel.x*t.delta),a=t.collisionMap.trace(n.pos.x,n.pos.y,s,n===e?-l:l,n.size.x,n.size.y),n.pos.y=a.pos.y,n.pos.x=a.pos.x):t.gravity&&(i.standing||e.vel.y>0)?(r=t.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-i.pos.y),e.size.x,e.size.y),e.pos.y=r.pos.y,e.bounciness>0&&e.vel.y>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.standing=!0,e.vel.y=0)):(h=(e.vel.y-i.vel.y)/2,e.vel.y=-h,i.vel.y=h,s=i.vel.x*t.delta,r=t.collisionMap.trace(e.pos.x,e.pos.y,s,-l/2,e.size.x,e.size.y),e.pos.y=r.pos.y,u=t.collisionMap.trace(i.pos.x,i.pos.y,0,l/2,i.size.x,i.size.y),i.pos.y=u.pos.y)};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Factory:i(630),Image:i(633),Matter:i(345),MatterPhysics:i(1755),PolyDecomp:i(631),Sprite:i(634),TileBody:i(342),World:i(640)}},function(t,e,i){function n(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}var s=i(232),r=i(3),o=i(4),a=function(t,e,i){var a,h,u,l;return i===undefined&&(i={}),a=e.x,h=e.y,e.body={temp:!0,position:{x:a,y:h}},u=[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity],u.forEach(function(t){for(var i in t)n(t[i])?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]})}),e.world=t,e._tempVec2=new o(a,h),l=r(i,"shape",null),l||(l="rectangle"),e.setBody(l,i),e};t.exports=a},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setBounce:function(t){return this.body.restitution=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e,i=0;if(Array.isArray(t))for(e=0;e<t.length;e++)i|=t[e];else i=t;return this.body.collisionFilter.mask=i,this}};t.exports=i},function(t,e,i){var n=i(47),s={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),n.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return n.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setFriction:function(t,e,i){return this.body.friction=t,e!==undefined&&(this.body.frictionAir=e),i!==undefined&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};t.exports=i},function(t,e,i){var n=i(47),s=i(4),r={setMass:function(t){return n.setMass(this.body,t),this},setDensity:function(t){return n.setDensity(this.body,t),this},centerOfMass:{get:function(){return new s(this.body.render.sprite.xOffset*this.width,this.body.render.sprite.yOffset*this.height)}}};t.exports=r},function(t,e,i){var n=i(47),s={setStatic:function(t){return n.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};t.exports=i},function(t,e,i){var n=i(111),s=i(47),r=i(3),o=i(1735),a=i(62),h={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,n){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},n)},setExistingBody:function(t,e){var i,n;for(e===undefined&&(e=!0),this.body&&this.world.remove(this.body),this.body=t,i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;return n=this,t.destroy=function(){n.world.remove(n.body),n.body.gameObject=null},e&&this.world.add(t),this._originComponent&&this.setOrigin(t.render.sprite.xOffset,t.render.sprite.yOffset),this},setBody:function(t,e){var i,h,u,l,c,f,d,p,g,y,m,v,x,b,_;if(!t)return this;switch("string"==typeof t&&(t={type:t}),h=r(t,"type","rectangle"),u=r(t,"x",this._tempVec2.x),l=r(t,"y",this._tempVec2.y),c=r(t,"width",this.width),f=r(t,"height",this.height),h){case"rectangle":i=n.rectangle(u,l,c,f,e);break;case"circle":d=r(t,"radius",Math.max(c,f)/2),p=r(t,"maxSides",25),i=n.circle(u,l,d,e,p);break;case"trapezoid":g=r(t,"slope",.5),i=n.trapezoid(u,l,c,f,g,e);break;case"polygon":y=r(t,"sides",5),m=r(t,"radius",Math.max(c,f)/2),i=n.polygon(u,l,y,m,e);break;case"fromVertices":case"fromVerts":v=r(t,"verts",null),v&&("string"==typeof v&&(v=a.fromPath(v)),this.body&&!this.body.hasOwnProperty("temp")?(s.setVertices(this.body,v),i=this.body):(x=r(t,"flagInternal",!1),b=r(t,"removeCollinear",.01),_=r(t,"minimumArea",10),i=n.fromVertices(u,l,v,e,x,b,_)));break;case"fromPhysicsEditor":i=o.parseBody(u,l,c,f,t)}return i&&this.setExistingBody(i,t.addToWorld),this}};t.exports=h},function(t,e,i){var n=i(111),s=i(47),r=i(70),o=i(28),a=i(3),h=i(69),u=i(62),l={parseBody:function(t,e,i,n,r){var h,u,l,c,f,d=a(r,"fixtures",[]),p=[];for(h=0;h<d.length;h++)for(u=this.parseFixture(d[h]),l=0;l<u.length;l++)p.push(u[l]);return c=o.extend({},!1,r),delete c.fixtures,delete c.type,f=s.create(c),s.setParts(f,p),f.render.sprite.xOffset=f.position.x/i,f.render.sprite.yOffset=f.position.y/n,s.setPosition(f,{x:t,y:e}),f},parseFixture:function(t){var e,i,s,r,h=o.extend({},!1,t);return delete h.circle,delete h.vertices,t.circle?(i=a(t.circle,"x"),s=a(t.circle,"y"),r=a(t.circle,"radius"),e=[n.circle(i,s,r,h)]):t.vertices&&(e=this.parseVertices(t.vertices,h)),e},parseVertices:function(t,e){var i,n,a,l,c,f,d,p,g,y,m,v,x=[];for(e=e||{},l=0;l<t.length;l+=1)x.push(s.create(o.extend({position:u.centre(t[l]),vertices:t[l]},e)));for(f=5,i=0;i<x.length;i++)for(d=x[i],n=i+1;n<x.length;n++)if(p=x[n],r.overlaps(d.bounds,p.bounds))for(g=d.vertices,y=p.vertices,a=0;a<d.vertices.length;a++)for(c=0;c<p.vertices.length;c++)m=h.magnitudeSquared(h.sub(g[(a+1)%g.length],y[c])),v=h.magnitudeSquared(h.sub(g[a],y[(c+1)%y.length])),m<f&&v<f&&(g[a].isInternal=!0,y[c].isInternal=!0);return x}};t.exports=l},function(t,e,i){var n=i(341),s=i(156),r={setSleepThreshold:function(t){return t===undefined&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;s.on(this.body,"sleepStart",function(t){e.emit(n.SLEEP_START,t,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;s.on(this.body,"sleepEnd",function(t){e.emit(n.SLEEP_END,t,this)})}else s.off(this.body,"sleepEnd");return this}};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="afterupdate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="beforeupdate"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="collisionactive"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="collisionend"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="collisionstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragend"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="drag"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="dragstart"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="sleepend"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="sleepstart"},function(t,e,i){var n=i(47),s=i(33),r=i(281),o=i(282),a=4,h={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),n.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),n.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=t,0===this._scaleX?this.renderFlags&=~a:this.renderFlags|=a,n.scale(this.body,e,i),n.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=~a:this.renderFlags|=a,n.scale(this.body,e,i),n.scale(this.body,this._scaleX,t)}},angle:{get:function(){return o(this.body.angle*s.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*s.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=r(t),n.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return t===undefined&&(t=0),e===undefined&&(e=t),this._tempVec2.set(t,e),n.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return t===undefined&&(t=0),this._rotation=r(t),n.setAngle(this.body,t),this},setFixedRotation:function(){return n.setInertia(this.body,Infinity),this},setAngle:function(t){return t===undefined&&(t=0),this.angle=t,n.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){var s,r;return t===undefined&&(t=1),e===undefined&&(e=t),s=1/this._scaleX,r=1/this._scaleY,this._scaleX=t,this._scaleY=e,n.scale(this.body,s,r,i),n.scale(this.body,t,e,i),this}};t.exports=h},function(t,e,i){var n=i(47),s={setAngularVelocity:function(t){return n.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),n.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),n.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),n.setVelocity(this.body,this._tempVec2),this}};t.exports=s},function(t,e,i){var n=i(70),s=i(0),r=i(134),o=i(157),a=i(343),h=i(341),u=i(95),l=i(150),c=i(178),f=i(4),d=i(62),p=new s({initialize:function(t,e,i){i===undefined&&(i={});var n={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},damping:0,length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=t,this.world=e,this.camera=null,this.pointer=null,this.active=!0,this.position=new f,this.body=null,this.part=null,this.constraint=o.create(l(i,n)),this.world.on(h.BEFORE_UPDATE,this.update,this),t.sys.input.on(u.POINTER_DOWN,this.onDown,this)},onDown:function(t){this.pointer||this.getBody(t)&&(this.pointer=t,this.camera=t.camera)},getBody:function(t){var e,i,s,o=this.position,u=this.constraint;for(t.camera.getWorldPoint(t.x,t.y,o),e=r.allBodies(this.world.localWorld),i=0;i<e.length;i++)if(s=e[i],!s.ignorePointer&&n.contains(s.bounds,o)&&a.canCollide(s.collisionFilter,u.collisionFilter)&&this.hitTestBody(s,o))return this.world.emit(h.DRAG_START,this.body,this.part,this),!0;return!1},hitTestBody:function(t,e){var i,n,s=this.constraint,r=t.parts.length>1?1:0;for(i=r;i<t.parts.length;i++)if(n=t.parts[i],d.contains(n.vertices,e))return s.bodyB=t,s.pointA.x=e.x,s.pointA.y=e.y,s.pointB.x=e.x-t.position.x,s.pointB.y=e.y-t.position.y,s.angleB=t.angle,c.set(t,!1),this.part=n,this.body=t,!0;return!1},update:function(){var t,e,i=this.body,n=this.pointer;this.active&&n&&i&&(n.isDown?(t=this.position,e=this.constraint,this.camera.getWorldPoint(n.x,n.y,t),c.set(i,!1),e.pointA.x=t.x,e.pointA.y=t.y,this.world.emit(h.DRAG,i,this)):this.stopDrag())},stopDrag:function(){var t=this.body,e=this.constraint;t&&(this.world.emit(h.DRAG_END,t,this),this.pointer=null,this.body=null,this.part=null,e.bodyB=null)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(h.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this)}});t.exports=p},function(t,e,i){var n,s,r,o,a,h={};t.exports=h,n=i(69),s=i(344),r=i(70),o=i(111),a=i(62),function(){h.collides=function(t,e){var i,n,o,a,h,u=[];for(i=0;i<e.length;i++)if(n=e[i],r.overlaps(n.bounds,t.bounds))for(o=1===n.parts.length?0:1;o<n.parts.length;o++)if(a=n.parts[o],r.overlaps(a.bounds,t.bounds)&&(h=s.collides(a,t),h.collided)){u.push(h);break}return u},h.ray=function(t,e,i,s){var r,a,u,l,c,f,d,p;for(s=s||1e-100,r=n.angle(e,i),a=n.magnitude(n.sub(e,i)),u=.5*(i.x+e.x),l=.5*(i.y+e.y),c=o.rectangle(u,l,a,s,{angle:r}),f=h.collides(c,t),d=0;d<f.length;d+=1)p=f[d],p.body=p.bodyB=p.bodyA;return f},h.region=function(t,e,i){var n,s,o,a=[];for(n=0;n<t.length;n++)s=t[n],o=r.overlaps(s.bounds,e),(o&&!i||!o&&i)&&a.push(s);return a},h.point=function(t,e){var i,n,s,o,h=[];for(i=0;i<t.length;i++)if(n=t[i],r.contains(n.bounds,e))for(s=1===n.parts.length?0:1;s<n.parts.length;s++)if(o=n.parts[s],r.contains(o.bounds,e)&&a.contains(o.vertices,e)){h.push(n);break}return h}}()},function(t,e,i){var n,s,r={};t.exports=r,n=i(134),s=i(28),function(){r.create=function(t){var e={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return s.extend(e,!1,t)},r.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},r.update=function(t,e){if(t.extended){var i=e.world,s=n.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=s.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(s.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}}()},function(t,e,i){var n,s={};t.exports=s,i(70),n=i(28),function(){s.pathToVertices=function(t,e){var i,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_;"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required."),p=[],m=0,v=0,x=0,e=e||15,b=function(t,e,i){var n,s=i%2==1&&i>1;f&&t==f.x&&e==f.y||(f&&s?(g=f.x,y=f.y):(g=0,y=0),n={x:g+t,y:y+e},!s&&f||(f=n),p.push(n),v=g+t,x=y+e)},_=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":v=t.x,x=t.y;break;case"H":v=t.x;break;case"V":x=t.y}b(v,x,t.pathSegType)}},s._svgPathToAbsolute(t),o=t.getTotalLength(),u=[];for(i=0;i<t.pathSegList.numberOfItems;i+=1)u.push(t.pathSegList.getItem(i));for(l=u.concat();m<o;){if(d=t.getPathSegAtLength(m),(h=u[d])!=c){for(;l.length&&l[0]!=h;)_(l.shift());c=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(m),b(a.x,a.y,0)}m+=e}for(i=0,r=l.length;i<r;++i)_(l[i]);return p},s._svgPathToAbsolute=function(t){var e,i,n,s,r,o,a,h,u,l=t.pathSegList,c=0,f=0,d=l.numberOfItems;for(a=0;a<d;++a){if(h=l.getItem(a),u=h.pathSegTypeAsLetter,/[MLHVCSQTA]/.test(u))"x"in h&&(c=h.x),"y"in h&&(f=h.y);else switch("x1"in h&&(n=c+h.x1),"x2"in h&&(r=c+h.x2),"y1"in h&&(s=f+h.y1),"y2"in h&&(o=f+h.y2),"x"in h&&(c+=h.x),"y"in h&&(f+=h.y),u){case"m":l.replaceItem(t.createSVGPathSegMovetoAbs(c,f),a);break;case"l":l.replaceItem(t.createSVGPathSegLinetoAbs(c,f),a);break;case"h":l.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(c),a);break;case"v":l.replaceItem(t.createSVGPathSegLinetoVerticalAbs(f),a);break;case"c":l.replaceItem(t.createSVGPathSegCurvetoCubicAbs(c,f,n,s,r,o),a);break;case"s":l.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(c,f,r,o),a);break;case"q":l.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(c,f,n,s),a);break;case"t":l.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(c,f),a);break;case"a":l.replaceItem(t.createSVGPathSegArcAbs(c,f,h.r1,h.r2,h.angle,h.largeArcFlag,h.sweepFlag),a);break;case"z":case"Z":c=e,f=i}"M"!=u&&"m"!=u||(e=c,i=f)}}}()},function(t,e,i){var n=i(0),s=i(630),r=i(3),o=i(6),a=i(1756),h=i(635),u=i(1757),l=i(150),c=i(346),f=i(26),d=i(30),p=i(640),g=i(62),y=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.verts=g,o(this.config,"plugins.attractors",!1)&&(c.register(a),c.use(h,a)),o(this.config,"plugins.wrap",!1)&&(c.register(u),c.use(h,u)),t.sys.events.once(d.BOOT,this.boot,this),t.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new p(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new p(this.scene,this.config),this.add=new s(this.world));var t=this.systems.events;t.on(d.UPDATE,this.world.update,this.world),t.on(d.POST_UPDATE,this.world.postUpdate,this.world),t.once(d.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return l(r(e,"matter",{}),r(t,"matter",{}))},enableAttractorPlugin:function(){return c.register(a),c.use(h,a),this},enableWrapPlugin:function(){return c.register(u),c.use(h,u),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},shutdown:function(){var t=this.systems.events;t.off(d.UPDATE,this.world.update,this.world),t.off(d.POST_UPDATE,this.world.postUpdate,this.world),t.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});f.register("MatterPhysics",y,"matterPhysics"),t.exports=y},function(t,e,i){var n=i(345),s={name:"matter-attractors",version:"0.1.7","for":"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Body.create",function(){s.Body.init(this)}),t.before("Engine.update",function(t){s.Engine.update(t)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){var e,i,s,r,o,a,h,u,l=t.world,c=n.Composite.allBodies(l);for(e=0;e<c.length;e+=1)if(i=c[e],(s=i.plugin.attractors)&&s.length>0)for(r=e+1;r<c.length;r+=1)for(o=c[r],a=0;a<s.length;a+=1)h=s[a],u=h,n.Common.isFunction(h)&&(u=h(i,o)),u&&n.Body.applyForce(o,o.position,u)}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=n.Vector.sub(e.position,t.position),r=n.Vector.magnitudeSquared(i)||1e-4,o=n.Vector.normalise(i),a=-s.Attractors.gravityConstant*(t.mass*e.mass/r),h=n.Vector.mult(o,a);n.Body.applyForce(t,t.position,n.Vector.neg(h)),n.Body.applyForce(e,e.position,h)}}};t.exports=s},function(t,e,i){var n=i(345),s={name:"matter-wrap",version:"0.1.4","for":"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Engine.update",function(){s.Engine.update(this)})},Engine:{update:function(t){var e,i,r,o=t.world,a=n.Composite.allBodies(o),h=n.Composite.allComposites(o);for(e=0;e<a.length;e+=1)i=a[e],i.plugin.wrap&&s.Body.wrap(i,i.plugin.wrap);for(e=0;e<h.length;e+=1)r=h[e],r.plugin.wrap&&s.Composite.wrap(r,r.plugin.wrap)}},Bounds:{wrap:function(t,e){var i=null,n=null;if("undefined"!=typeof e.min.x&&"undefined"!=typeof e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),"undefined"!=typeof e.min.y&&"undefined"!=typeof e.max.y&&(t.min.y>e.max.y?n=e.min.y-t.max.y:t.max.y<e.min.y&&(n=e.max.y-t.min.y)),null!==i||null!==n)return{x:i||0,y:n||0}}},Body:{wrap:function(t,e){var i=s.Bounds.wrap(t.bounds,e);return i&&n.Body.translate(t,i),i}},Composite:{bounds:function(t){var e,i,s=n.Composite.allBodies(t),r=[];for(e=0;e<s.length;e+=1)i=s[e],r.push(i.bounds.min,i.bounds.max);return n.Bounds.create(r)},wrap:function(t,e){var i=s.Bounds.wrap(s.Composite.bounds(t),e);return i&&n.Composite.translate(t,i),i}}};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BasePlugin:i(641),DefaultPlugins:i(301),PluginCache:i(26),PluginManager:i(525),ScenePlugin:i(1759)}},function(t,e,i){var n=i(641),s=i(0),r=i(30),o=new s({Extends:n,initialize:function(t,e){n.call(this,e),this.scene=t,this.systems=t.sys,t.sys.events.once(r.BOOT,this.boot,this)},boot:function(){}});t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Canvas:i(1761),Snapshot:i(1762),WebGL:i(1763)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CanvasRenderer:i(302),GetBlendModes:i(493),SetTransform:i(44)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Canvas:i(492),WebGL:i(494)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Utils:i(16),WebGLPipeline:i(304),WebGLRenderer:i(303),Pipelines:i(1764),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BitmapMaskPipeline:i(495),ForwardDiffuseLightPipeline:i(496),TextureTintPipeline:i(305)}},function(t,e,i){var n=i(32),s=i(307),r={Center:i(513),Events:i(527),Orientation:i(514),ScaleManager:i(526),ScaleModes:i(515),Zoom:i(516)};r=n(!1,r,s.CENTER),r=n(!1,r,s.ORIENTATION),r=n(!1,r,s.SCALE_MODE),r=n(!1,r,s.ZOOM),t.exports=r},function(t,e,i){var n=i(218),s=i(32),r={Events:i(30),SceneManager:i(529),ScenePlugin:i(1767),Settings:i(532),Systems:i(310)};r=s(!1,r,n),t.exports=r},function(t,e,i){var n=i(37),s=i(0),r=i(30),o=i(3),a=i(26),h=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.pluginStart,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},start:function(t,e){return t===undefined&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,e),this},restart:function(t){var e=this.key;return this.manager.queueOp("stop",e),this.manager.queueOp("start",e,t),this},transition:function(t){var e,i,n,s,a,h;return t===undefined&&(t={}),e=o(t,"target",!1),i=this.manager.getScene(e),!(!e||!this.checkValidTransition(i))&&(n=o(t,"duration",1e3),this._elapsed=0,this._target=i,this._duration=n,this._willSleep=o(t,"sleep",!1),this._willRemove=o(t,"remove",!1),s=o(t,"onUpdate",null),s&&(this._onUpdate=s,this._onUpdateScope=o(t,"onUpdateScope",this.scene)),a=o(t,"allowInput",!1),this.settings.transitionAllowInput=a,h=i.sys.settings,h.isTransition=!0,h.transitionFrom=this.scene,h.transitionDuration=n,h.transitionAllowInput=a,o(t,"moveAbove",!1)?this.manager.moveAbove(this.key,e):o(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,e),i.sys.isSleeping()?i.sys.wake():this.manager.start(e,o(t,"data")),this.systems.events.emit(r.TRANSITION_OUT,i,n),this.systems.events.on(r.UPDATE,this.step,this),!0)},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(t,e){this._elapsed+=e,this.transitionProgress=n(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,e=this._target.sys.settings;this.systems.events.off(r.UPDATE,this.step,this),t.events.emit(r.TRANSITION_COMPLETE,this.scene),e.isTransition=!1,e.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,e,i,n){return this.manager.add(t,e,i,n),this},launch:function(t,e){return t&&t!==this.key&&this.manager.queueOp("start",t,e),this},run:function(t,e){return t&&t!==this.key&&this.manager.queueOp("run",t,e),this},pause:function(t,e){return t===undefined&&(t=this.key),this.manager.queueOp("pause",t,e),this},resume:function(t,e){return t===undefined&&(t=this.key),this.manager.queueOp("resume",t,e),this},sleep:function(t,e){return t===undefined&&(t=this.key),this.manager.queueOp("sleep",t,e),this},wake:function(t,e){return t===undefined&&(t=this.key),this.manager.queueOp("wake",t,e),this},"switch":function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t){return t===undefined&&(t=this.key),this.manager.queueOp("stop",t),this},setActive:function(t,e,i){e===undefined&&(e=this.key);var n=this.manager.getScene(e);return n&&n.sys.setActive(t,i),this},setVisible:function(t,e){e===undefined&&(e=this.key);var i=this.manager.getScene(e);return i&&i.sys.setVisible(t),this},isSleeping:function(t){return t===undefined&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return t===undefined&&(t=this.key),this.manager.isActive(t)},isVisible:function(t){return t===undefined&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,e){return e===undefined&&(e=this.key),t!==e&&this.manager.swapPosition(t,e),this},moveAbove:function(t,e){return e===undefined&&(e=this.key),t!==e&&this.manager.moveAbove(t,e),this},moveBelow:function(t,e){return e===undefined&&(e=this.key),t!==e&&this.manager.moveBelow(t,e),this},remove:function(t){return t===undefined&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return t===undefined&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return t===undefined&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return t===undefined&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return t===undefined&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return t===undefined&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off(r.SHUTDOWN,this.shutdown,this),t.off(r.POST_UPDATE,this.step,this),t.off(r.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",h,"scenePlugin"),t.exports=h},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={SoundManagerCreator:i(533),Events:i(128),BaseSound:i(220),BaseSoundManager:i(219),WebAudioSound:i(539),WebAudioSoundManager:i(538),HTML5AudioSound:i(535),HTML5AudioSoundManager:i(534),NoAudioSound:i(537),NoAudioSoundManager:i(536)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={List:i(222),Map:i(288),ProcessQueue:i(619),RTree:i(620),Set:i(151),Size:i(528)}},function(t,e,i){var n=i(32),s=i(1771),r={Events:i(215),FilterMode:s,Frame:i(221),Parsers:i(542),Texture:i(311),TextureManager:i(540),TextureSource:i(541)};r=n(!1,r,s),t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={LINEAR:0,NEAREST:1};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Components:i(234),Parsers:i(1802),Formats:i(61),ImageCollection:i(649),ParseToTilemap:i(352),Tile:i(136),Tilemap:i(653),TilemapCreator:i(1819),TilemapFactory:i(1820),Tileset:i(238),LayerData:i(180),MapData:i(181),ObjectLayer:i(651),DynamicTilemapLayer:i(654),StaticTilemapLayer:i(655)}},function(t,e,i){var n=i(39),s=i(99),r=function(t,e,i,r,o,a,h,u){var l,c,f,d,p,g;for(t<0&&(t=0),e<0&&(e=0),h===undefined&&(h=!0),l=n(t,e,i,r,null,u),c=o-t,f=a-e,d=0;d<l.length;d++)p=l[d].x+c,g=l[d].y+f,p>=0&&p<u.width&&g>=0&&g<u.height&&u.data[g][p]&&u.data[g][p].copy(l[d]);h&&s(o-1,a-1,i+2,r+2,u)};t.exports=r},function(t,e,i){var n=i(236),s=i(237),r=i(39),o=i(642),a=function(t,e,i,a,h,u){var l,c,f,d,p,g;for(i===undefined&&(i={}),Array.isArray(t)||(t=[t]),l=u.tilemapLayer,a===undefined&&(a=l.scene),h===undefined&&(h=a.cameras.main),c=r(0,0,u.width,u.height,null,u),f=[],d=0;d<c.length;d++)p=c[d],-1!==t.indexOf(p.index)&&(i.x=n(p.x,h,u),i.y=s(p.y,h,u),g=a.make.sprite(i),f.push(g));if("number"==typeof e)for(d=0;d<t.length;d++)o(t[d],e,0,0,u.width,u.height,u);else if(Array.isArray(e))for(d=0;d<t.length;d++)o(t[d],e[d],0,0,u.width,u.height,u);return f};t.exports=a},function(t,e,i){var n=i(167),s=i(480),r=function(t,e,i,r){var o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T;if(i===undefined&&(i=[]),r===undefined&&(r=0),i.length=0,o=t.tilemapLayer.tilemap,a=t.tilemapLayer,h=t.data,u=t.width,l=t.height,c=Math.floor(o.tileWidth*a.scaleX),f=Math.floor(o.tileHeight*a.scaleY),d=0,p=u,g=0,y=l,a.skipCull||1!==a.scrollFactorX||1!==a.scrollFactorY||(m=n(e.worldView.x-a.x,c,0,!0)-a.cullPaddingX,v=s(e.worldView.right-a.x,c,0,!0)+a.cullPaddingX,x=n(e.worldView.y-a.y,f,0,!0)-a.cullPaddingY,b=s(e.worldView.bottom-a.y,f,0,!0)+a.cullPaddingY,d=Math.max(0,m),p=Math.min(u,v),g=Math.max(0,x),y=Math.min(l,b)),0===r)for(w=g;w<y;w++)for(_=d;h[w]&&_<p;_++)(T=h[w][_])&&-1!==T.index&&T.visible&&0!==T.alpha&&i.push(T);else if(1===r)for(w=g;w<y;w++)for(_=p;h[w]&&_>=d;_--)(T=h[w][_])&&-1!==T.index&&T.visible&&0!==T.alpha&&i.push(T);else if(2===r)for(w=y;w>=g;w--)for(_=d;h[w]&&_<p;_++)(T=h[w][_])&&-1!==T.index&&T.visible&&0!==T.alpha&&i.push(T);else if(3===r)for(w=y;w>=g;w--)for(_=p;h[w]&&_>=d;_--)(T=h[w][_])&&-1!==T.index&&T.visible&&0!==T.alpha&&i.push(T);return a.tilesDrawn=i.length,a.tilesTotal=u*l,i};t.exports=r},function(t,e,i){var n=i(39),s=i(99),r=i(135),o=function(t,e,i,o,a,h,u){var l,c=-1!==u.collideIndexes.indexOf(t),f=n(e,i,o,a,null,u);for(l=0;l<f.length;l++)f[l].index=t,r(f[l],c);h&&s(e-1,i-1,o+2,a+2,u)};t.exports=o},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o,a,h){return n(i,s,r,o,a,h).filter(t,e)};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r,o,a;if(e===undefined&&(e=0),i===undefined&&(i=!1),s=0,i){for(o=n.height-1;o>=0;o--)for(r=n.width-1;r>=0;r--)if((a=n.data[o][r])&&a.index===t){if(s===e)return a;s+=1}}else for(o=0;o<n.height;o++)for(r=0;r<n.width;r++)if((a=n.data[o][r])&&a.index===t){if(s===e)return a;s+=1}return null};t.exports=i},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o,a,h){return n(i,s,r,o,a,h).find(t,e)||null};t.exports=s},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o,a,h){n(i,s,r,o,a,h).forEach(t,e)};t.exports=s},function(t,e,i){var n=i(235),s=i(112),r=i(113),o=function(t,e,i,o,a){var h=s(t,!0,o,a),u=r(e,!0,o,a);return n(h,u,i,a)};t.exports=o},function(t,e,i){var n=i(584),s=i(39),r=i(585),o=i(2),a=i(236),h=i(237),u=i(112),l=i(113),c=function(t,e){return r.RectangleToTriangle(e,t)},f=function(t,e,i,f){var d,p,g,y,m,v,x,b,_,w,T,S,A,E;if(t===undefined)return[];for(d=o,t instanceof n.Circle?d=r.CircleToRectangle:t instanceof n.Rectangle?d=r.RectangleToRectangle:t instanceof n.Triangle?d=c:t instanceof n.Line&&(d=r.LineToRectangle),p=u(t.left,!0,i,f),g=l(t.top,!0,i,f),y=Math.ceil(u(t.right,!1,i,f)),m=Math.ceil(l(t.bottom,!1,i,f)),v=Math.max(y-p,1),x=Math.max(m-g,1),b=s(p,g,v,x,e,f),_=f.tileWidth,w=f.tileHeight,f.tilemapLayer&&(_*=f.tilemapLayer.scaleX,w*=f.tilemapLayer.scaleY),T=[],S=new n.Rectangle(0,0,_,w),A=0;A<b.length;A++)E=b[A],S.x=a(E.x,i,f),S.y=h(E.y,i,f),d(t,S)&&T.push(E);return T};t.exports=f},function(t,e,i){var n=i(39),s=i(112),r=i(113),o=function(t,e,i,o,a,h,u){var l=s(t,!0,h,u),c=r(e,!0,h,u),f=Math.ceil(s(t+i,!1,h,u)),d=Math.ceil(r(e+o,!1,h,u));return n(l,c,f-l,d-c,a,u)};t.exports=o},function(t,e,i){var n=i(643),s=i(112),r=i(113),o=function(t,e,i,o){var a=s(t,!0,i,o),h=r(e,!0,i,o);return n(a,h,o)};t.exports=o},function(t,e,i){var n=i(349),s=i(112),r=i(113),o=function(t,e,i,o,a,h){var u=s(e,!0,a,h),l=r(i,!0,a,h);return n(t,u,l,o,h)};t.exports=o},function(t,e,i){var n=i(99),s=i(349),r=function(t,e,i,r,o){var a,h,u,l,c;if(!Array.isArray(t))return null;for(r===undefined&&(r=!0),Array.isArray(t[0])||(t=[t]),a=t.length,h=t[0].length,u=0;u<a;u++)for(l=0;l<h;l++)c=t[u][l],s(c,e+l,i+u,!1,o);r&&n(e-1,i-1,h+2,a+2,o)};t.exports=r},function(t,e,i){var n=i(39),s=i(314),r=function(t,e,i,r,o,a){var h,u=n(t,e,i,r,null,a);if(o===undefined)for(o=[],h=0;h<u.length;h++)-1===o.indexOf(u[h].index)&&o.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=s(o)};t.exports=r},function(t,e,i){var n=i(644),s=i(112),r=i(113),o=function(t,e,i,o,a,h){var u=s(t,!0,a,h),l=r(e,!0,a,h);return n(u,l,i,o,h)};t.exports=o},function(t,e,i){var n=i(39),s=i(508),r=new s(105,210,231,150),o=new s(243,134,48,200),a=new s(40,39,37,150),h=function(t,e,i){var s,h,u,l,c,f,d,p,g,y,m;for(e===undefined&&(e={}),s=e.tileColor!==undefined?e.tileColor:r,h=e.collidingTileColor!==undefined?e.collidingTileColor:o,u=e.faceColor!==undefined?e.faceColor:a,l=n(0,0,i.width,i.height,null,i),t.translate(i.tilemapLayer.x,i.tilemapLayer.y),t.scale(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY),c=0;c<l.length;c++)f=l[c],d=f.width,p=f.height,g=f.pixelX,y=f.pixelY,m=f.collides?h:s,null!==m&&(t.fillStyle(m.color,m.alpha/255),t.fillRect(g,y,d,p)),g+=1,y+=1,d-=2,p-=2,null!==u&&(t.lineStyle(1,u.color,u.alpha/255),f.faceTop&&t.lineBetween(g,y,g+d,y),f.faceRight&&t.lineBetween(g+d,y,g+d,y+p),f.faceBottom&&t.lineBetween(g,y+p,g+d,y+p),f.faceLeft&&t.lineBetween(g,y,g,y+p))};t.exports=h},function(t,e,i){var n=i(135),s=i(99),r=i(350),o=function(t,e,i,o){var a,h,u,l;for(e===undefined&&(e=!0),i===undefined&&(i=!0),Array.isArray(t)||(t=[t]),a=0;a<t.length;a++)r(t[a],e,o);for(h=0;h<o.height;h++)for(u=0;u<o.width;u++)(l=o.data[h][u])&&-1!==t.indexOf(l.index)&&n(l,e);i&&s(0,0,o.width,o.height,o)};t.exports=o},function(t,e,i){var n=i(135),s=i(99),r=i(350),o=function(t,e,i,o,a){var h,u,l,c;if(i===undefined&&(i=!0),o===undefined&&(o=!0),!(t>e)){for(h=t;h<=e;h++)r(h,i,a);for(u=0;u<a.height;u++)for(l=0;l<a.width;l++)(c=a.data[u][l])&&c.index>=t&&c.index<=e&&n(c,i);o&&s(0,0,a.width,a.height,a)}};t.exports=o},function(t,e,i){var n=i(135),s=i(99),r=i(350),o=function(t,e,i,o){var a,h,u;for(e===undefined&&(e=!0),i===undefined&&(i=!0),Array.isArray(t)||(t=[t]),a=0;a<o.height;a++)for(h=0;h<o.width;h++)(u=o.data[a][h])&&-1===t.indexOf(u.index)&&(n(u,e),r(u.index,e,o));i&&s(0,0,o.width,o.height,o)};t.exports=o},function(t,e,i){var n=i(135),s=i(99),r=i(153),o=function(t,e,i,o){var a,h,u,l,c,f;for(e===undefined&&(e=!0),i===undefined&&(i=!0),a=0;a<o.height;a++)for(h=0;h<o.width;h++)if(u=o.data[a][h])for(l in t)if(r(u.properties,l))for(c=t[l],Array.isArray(c)||(c=[c]),f=0;f<c.length;f++)u.properties[l]===c[f]&&n(u,e);i&&s(0,0,o.width,o.height,o)};t.exports=o},function(t,e,i){var n=i(135),s=i(99),r=function(t,e,i){var r,o,a,h;for(t===undefined&&(t=!0),e===undefined&&(e=!0),r=0;r<i.height;r++)for(o=0;o<i.width;o++)(a=i.data[r][o])&&(h=a.getCollisionGroup())&&h.objects&&h.objects.length>0&&n(a,t);e&&s(0,0,i.width,i.height,i)};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){if("number"==typeof t)n.callbacks[t]=null!==e?{callback:e,callbackContext:i}:undefined;else for(var s=0,r=t.length;s<r;s++)n.callbacks[t[s]]=null!==e?{callback:e,callbackContext:i}:undefined};t.exports=i},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o,a){var h,u=n(t,e,i,s,null,a);for(h=0;h<u.length;h++)u[h].setCollisionCallback(r,o)};t.exports=s},function(t,e,i){var n=i(39),s=i(208),r=function(t,e,i,r,o){var a,h=n(t,e,i,r,null,o),u=h.map(function(t){return t.index});for(s(u),a=0;a<h.length;a++)h[a].index=u[a]};t.exports=r},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o,a){var h,u=n(i,s,r,o,null,a);for(h=0;h<u.length;h++)u[h]&&(u[h].index===t?u[h].index=e:u[h].index===e&&(u[h].index=t))};t.exports=s},function(t,e,i){var n=i(236),s=i(237),r=i(4),o=function(t,e,i,o,a){return i===undefined&&(i=new r(0,0)),i.x=n(t,o,a),i.y=s(e,o,a),i};t.exports=o},function(t,e,i){var n=i(39),s=function(t,e,i,s,r,o){var a,h,u,l,c,f,d,p;if(r!==undefined){for(h=n(t,e,i,s,null,o),u=0,a=0;a<r.length;a++)u+=r[a].weight;if(!(u<=0))for(a=0;a<h.length;a++){for(l=Math.random()*u,c=0,f=-1,d=0;d<r.length;d++)if(c+=r[d].weight,l<=c){p=r[d].index,f=Array.isArray(p)?p[Math.floor(Math.random()*p.length)]:p;break}h[a].index=f}}};t.exports=s},function(t,e,i){var n=i(112),s=i(113),r=i(4),o=function(t,e,i,o,a,h){return o===undefined&&(o=new r(0,0)),o.x=n(t,i,a,h),o.y=s(e,i,a,h),o};t.exports=o},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Parse:i(645),Parse2DArray:i(351),ParseCSV:i(646),Impact:i(652),Tiled:i(647)}},function(t,e,i){var n=i(1804),s=i(3),r=i(180),o=i(648),a=i(136),h=function(t,e){var i,h,u,l,c,f,d,p,g,y,m,v=[];for(i=0;i<t.layers.length;i++)if("tilelayer"===t.layers[i].type&&(h=t.layers[i],!h.compression)){for(h.encoding&&"base64"===h.encoding&&(h.data=n(h.data),delete h.encoding),u=new r({name:h.name,x:s(h,"offsetx",0)+h.x,y:s(h,"offsety",0)+h.y,width:h.width,height:h.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:h.opacity,visible:h.visible,properties:s(h,"properties",{})}),l=0,c=[],f=[],d=0,p=h.data.length;d<p;d++)g=o(h.data[d]),g.gid>0?(y=new a(u,g.gid,l,f.length,t.tilewidth,t.tileheight),y.rotation=g.rotation,y.flipX=g.flipped,c.push(y)):(m=e?null:new a(u,-1,l,f.length,t.tilewidth,t.tileheight),c.push(m)),++l===h.width&&(f.push(c),l=0,c=[]);u.data=f,v.push(u)}return v};t.exports=h},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i=window.atob(t),n=i.length,s=Array(n/4);for(e=0;e<n;e+=4)s[e/4]=(i.charCodeAt(e)|i.charCodeAt(e+1)<<8|i.charCodeAt(e+2)<<16|i.charCodeAt(e+3)<<24)>>>0;return s};t.exports=i},function(t,e,i){var n=i(3),s=function(t){var e,i,s=[];for(e=0;e<t.layers.length;e++)"imagelayer"===t.layers[e].type&&(i=t.layers[e],s.push({name:i.name,image:i.image,x:n(i,"offsetx",0)+i.x,y:n(i,"offsety",0)+i.y,alpha:i.opacity,visible:i.visible,properties:n(i,"properties",{})}));return s};t.exports=s},function(t,e,i){var n=i(238),s=i(649),r=i(650),o=function(t){var e,i,o,a,h,u,l,c,f,d,p,g,y,m,v,x=[],b=[],_=null;for(i=0;i<t.tilesets.length;i++){if(o=t.tilesets[i],o.source);else if(o.image){if(a=new n(o.name,o.firstgid,o.tilewidth,o.tileheight,o.margin,o.spacing),t.version>1){if(Array.isArray(o.tiles)){for(h={},u={},l=0;l<o.tiles.length;l++)c=o.tiles[l],c.properties&&(f={},c.properties.forEach(function(t){f[t.name]=t.value}),u[c.id]=f),c.objectgroup&&(h[c.id]={objectgroup:c.objectgroup},c.objectgroup.objects&&(d=c.objectgroup.objects.map(function(t){return r(t)}),h[c.id].objectgroup.objects=d)),c.animation&&(h.hasOwnProperty(c.id)?h[c.id].animation=c.animation:h[c.id]={animation:c.animation});a.tileData=h,a.tileProperties=u}}else if(o.tileproperties&&(a.tileProperties=o.tileproperties),o.tiles){a.tileData=o.tiles;for(e in a.tileData)(p=a.tileData[e].objectgroup)&&p.objects&&(g=p.objects.map(function(t){return r(t)}),a.tileData[e].objectgroup.objects=g)}a.updateTileData(o.imagewidth,o.imageheight),x.push(a)}else{y=new s(o.name,o.firstgid,o.tilewidth,o.tileheight,o.margin,o.spacing,o.properties);for(e in o.tiles)m=o.tiles[e].image,v=o.firstgid+parseInt(e,10),y.addImage(v,m);b.push(y)}_&&(_.lastgid=o.firstgid-1),_=o}return{tilesets:x,imageCollections:b}};t.exports=o},function(t,e,i){var n=i(153),s=function(t,e){var i,s,r={};for(i=0;i<e.length;i++)s=e[i],n(t,s)&&(r[s]=t[s]);return r};t.exports=s},function(t,e,i){var n=i(3),s=i(650),r=i(651),o=function(t){var e,i,o,a,h,u,l,c,f=[];for(e=0;e<t.layers.length;e++)if("objectgroup"===t.layers[e].type){for(i=t.layers[e],o=n(i,"offsetx",0),a=n(i,"offsety",0),h=[],u=0;u<i.objects.length;u++)l=s(i.objects[u],o,a),h.push(l);c=new r(i),c.objects=h,f.push(c)}return f};t.exports=o},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){var e,i,n,s,r,o,a,h,u=[];for(e=0;e<t.tilesets.length;e++)for(i=t.tilesets[e],n=i.tileMargin,s=i.tileMargin,r=0,o=0,a=0,h=i.firstgid;h<i.firstgid+i.total&&(u[h]=[n,s,e],n+=i.tileWidth+i.tileSpacing,++r!==i.total)&&(++o!==i.columns||(n=i.tileMargin,s+=i.tileHeight+i.tileSpacing,o=0,++a!==i.rows));h++);return u};t.exports=i},function(t,e,i){var n=i(32),s=function(t){var e,i,s,r,o,a,h,u;for(a=0;a<t.layers.length;a++)for(e=t.layers[a],r=null,h=0;h<e.data.length;h++)for(o=e.data[h],u=0;u<o.length;u++)null===(i=o[u])||i.index<0||(s=t.tiles[i.index][2],r=t.tilesets[s],i.width=r.tileWidth,i.height=r.tileHeight,r.tileProperties&&r.tileProperties[i.index-r.firstgid]&&(i.properties=n(i.properties,r.tileProperties[i.index-r.firstgid])))};t.exports=s},function(t,e,i){var n=i(180),s=i(136),r=function(t,e){var i,r,o,a,h,u,l,c,f,d=[];for(i=0;i<t.layer.length;i++){for(r=t.layer[i],o=new n({name:r.name,width:r.width,height:r.height,tileWidth:r.tilesize,tileHeight:r.tilesize,visible:1===r.visible}),a=[],h=[],u=0;u<r.data.length;u++){for(l=0;l<r.data[u].length;l++)c=r.data[u][l]-1,f=c>-1?new s(o,c,l,u,r.tilesize,r.tilesize):e?null:new s(o,-1,l,u,r.tilesize,r.tilesize),a.push(f);h.push(a),a=[]}o.data=h,d.push(o)}return d};t.exports=r},function(t,e,i){var n=i(238),s=function(t){var e,i,s,r=[],o=[];for(e=0;e<t.layer.length;e++)i=t.layer[e],""!==(s=i.tilesetName)&&-1===o.indexOf(s)&&(o.push(s),r.push(new n(s,0,i.tilesize,i.tilesize,0,0)));return r};t.exports=s},function(t,e,i){var n=i(2),s=i(2);n=i(1814),s=i(1815),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e,i){var n=i(16),s=function(t,e,i,s){var r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w,T,S,A,E,P,O,M,C,I;if(e.cull(s),r=e.culledTiles,o=r.length,a=s.alpha*e.alpha,!(0===o||a<=0))for(h=e.gidMap,u=e.pipeline,l=n.getTintAppendFloatAlpha,c=e.scrollFactorX,f=e.scrollFactorY,d=e.x,p=e.y,g=e.scaleX,y=e.scaleY,m=e.tileset,v=0;v<m.length;v++)for(x=m[v],b=x.glTexture,_=0;_<o;_++)w=r[_],(T=h[w.index])===x&&null!==(S=T.getTileTextureCoordinates(w.index))&&(A=w.width,E=w.height,P=S.x,O=S.y,M=.5*w.width,C=.5*w.height,I=l(w.tint,a*w.alpha),u.batchTexture(e,b,b.width,b.height,d+(M+w.pixelX)*g,p+(C+w.pixelY)*y,w.width,w.height,g,y,w.rotation,w.flipX,w.flipY,c,f,M,C,P,O,A,E,I,I,I,I,!1,0,0,s,null,!0))};t.exports=s},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h,u,l,c,f,d,p,g,y,m,v,x;if(e.cull(n),r=e.culledTiles,0!==(o=r.length)){for(a=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3,h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(n.matrix),l=t.currentContext,c=e.gidMap,l.save(),s?(a.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y,a.multiply(h,u),u.copyToContext(l)):(h.e-=n.scrollX*e.scrollFactorX,h.f-=n.scrollY*e.scrollFactorY,h.copyToContext(l)),f=n.alpha*e.alpha,d=0;d<o;d++)p=r[d],(g=c[p.index])&&(y=g.image.getSourceImage(),(m=g.getTileTextureCoordinates(p.index))&&(v=p.width/2,x=p.height/2,l.save(),l.translate(p.pixelX+v,p.pixelY+x),0!==p.rotation&&l.rotate(p.rotation),(p.flipX||p.flipY)&&l.scale(p.flipX?-1:1,p.flipY?-1:1),l.globalAlpha=f*p.alpha,l.drawImage(y,m.x,m.y,p.width,p.height,-v,-x,p.width,p.height),l.restore()));l.restore()}};t.exports=i},function(t,e,i){var n=i(2),s=i(2);n=i(1817),s=i(1818),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n){var s,r=e.tileset,o=e.pipeline,a=o.vertexBuffer;for(t.setPipeline(o),o.modelIdentity(),o.modelTranslate(e.x-n.scrollX*e.scrollFactorX,e.y-n.scrollY*e.scrollFactorY,0),o.modelScale(e.scaleX,e.scaleY,1),o.viewLoad2D(n.matrix.matrix),s=0;s<r.length;s++)e.upload(n,s),e.vertexCount[s]>0&&(t.currentPipeline&&t.currentPipeline.vertexCount>0&&t.flush(),o.vertexBuffer=e.vertexBuffer[s],t.setPipeline(o),t.setTexture2D(r[s].glTexture,0),t.gl.drawArrays(o.topology,0,e.vertexCount[s]));o.vertexBuffer=a,o.viewIdentity(),o.modelIdentity()};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,i,n,s){var r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_;if(e.cull(n),r=e.culledTiles,0!==(o=r.length)){for(a=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3,h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(n.matrix),l=t.currentContext,c=e.gidMap,l.save(),s?(a.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y,a.multiply(h,u),u.copyToContext(l)):(h.e-=n.scrollX*e.scrollFactorX,h.f-=n.scrollY*e.scrollFactorY,h.copyToContext(l)),f=n.alpha*e.alpha,l.globalAlpha=n.alpha*e.alpha,d=0;d<o;d++)p=r[d],(g=c[p.index])&&(y=g.image.getSourceImage(),(m=g.getTileTextureCoordinates(p.index))&&(v=g.tileWidth,x=g.tileHeight,b=v/2,_=x/2,l.save(),l.translate(p.pixelX+b,p.pixelY+_),0!==p.rotation&&l.rotate(p.rotation),(p.flipX||p.flipY)&&l.scale(p.flipX?-1:1,p.flipY?-1:1),l.globalAlpha=f*p.alpha,l.drawImage(y,m.x,m.y,v,x,-b,-_,v,x),l.restore()));l.restore()}};t.exports=i},function(t,e,i){var n=i(27),s=i(352);n.register("tilemap",function(t){var e=t!==undefined?t:{};return s(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)})},function(t,e,i){var n=i(7),s=i(352);n.register("tilemap",function(t,e,i,n,r,o,a){return null===t&&(t=undefined),null===e&&(e=undefined),null===i&&(i=undefined),null===n&&(n=undefined),null===r&&(r=undefined),s(this.scene,t,e,i,n,r,o,a)})},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Clock:i(1822),TimerEvent:i(656)}},function(t,e,i){var n=i(0),s=i(26),r=i(30),o=i(656),a=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=Date.now(),this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(r.PRE_UPDATE,this.preUpdate,this),t.on(r.UPDATE,this.update,this),t.once(r.SHUTDOWN,this.shutdown,this)},addEvent:function(t){var e=new o(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,n){return this.addEvent({delay:t,callback:e,args:i,callbackScope:n})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t,e,i,n=this._pendingRemoval.length,s=this._pendingInsertion.length;if(0!==n||0!==s){for(t=0;t<n;t++)e=this._pendingRemoval[t],i=this._active.indexOf(e),i>-1&&this._active.splice(i,1),e.destroy();for(t=0;t<s;t++)e=this._pendingInsertion[t],this._active.push(e);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){var i,n,s;if(this.now=t,!this.paused)for(e*=this.timeScale,i=0;i<this._active.length;i++)n=this._active[i],n.paused||(n.elapsed+=e*n.timeScale,n.elapsed>=n.delay&&(s=n.elapsed-n.delay,n.elapsed=n.delay,!n.hasDispatched&&n.callback&&(n.hasDispatched=!0,n.callback.apply(n.callbackScope,n.args)),n.repeatCount>0?(n.repeatCount--,n.elapsed=s,n.hasDispatched=!1):this._pendingRemoval.push(n)))},shutdown:function(){var t,e;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,e=this.systems.events,e.off(r.PRE_UPDATE,this.preUpdate,this),e.off(r.UPDATE,this.update,this),e.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("Clock",a,"time"),t.exports=a},function(t,e,i){var n=i(174),s=i(32),r={Builders:i(1824),Events:i(662),TweenManager:i(1832),Tween:i(356),TweenData:i(357),Timeline:i(661)};r=s(!1,r,n),t.exports=r},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GetBoolean:i(173),GetEaseFunction:i(172),GetNewValue:i(239),GetProps:i(657),GetTargets:i(353),GetTweens:i(658),GetValueOp:i(354),NumberTweenBuilder:i(659),TimelineBuilder:i(660),TweenBuilder:i(240)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="complete"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="loop"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="pause"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="resume"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="start"},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports="update"},function(t,e,i){var n=i(0),s=i(659),r=i(26),o=i(30),a=i(660),h=i(174),u=i(240),l=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(o.PRE_UPDATE,this.preUpdate,this),t.on(o.UPDATE,this.update,this),t.once(o.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(t){return a(this,t)},timeline:function(t){var e=a(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return u(this,t)},add:function(t){var e=u(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=s(this,t);return this._add.push(e),this._toProcess++,e},preUpdate:function(){var t,e,i,n,s,r;if(0!==this._toProcess){for(t=this._destroy,e=this._active,i=this._pending,n=0;n<t.length;n++)s=t[n],r=e.indexOf(s),-1===r?(r=i.indexOf(s))>-1&&(s.state=h.REMOVED,i.splice(r,1)):(s.state=h.REMOVED,e.splice(r,1));for(t.length=0,t=this._add,n=0;n<t.length;n++)s=t[n],s.state===h.PENDING_ADD&&(s.init()?(s.play(),this._active.push(s)):this._pending.push(s));t.length=0,this._toProcess=0}},update:function(t,e){var i,n,s=this._active;for(e*=this.timeScale,n=0;n<s.length;n++)i=s[n],i.update(t,e)&&(this._destroy.push(i),this._toProcess++)},makeActive:function(t){if(-1===this._add.indexOf(t)&&-1===this._active.indexOf(t)){var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=h.PENDING_ADD,this._toProcess++,this}},each:function(t,e){var i,n,s=[null];for(i=1;i<arguments.length;i++)s.push(arguments[i]);for(n in this.list)s[0]=this.list[n],t.apply(e,s)},getAllTweens:function(){var t,e=this._active,i=[];for(t=0;t<e.length;t++)i.push(e[t]);return i},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e,i,n,s=this._active,r=[];if(Array.isArray(t))for(i=0;i<s.length;i++)for(e=s[i],n=0;n<t.length;n++)e.hasTarget(t[n])&&r.push(e);else for(i=0;i<s.length;i++)e=s[i],e.hasTarget(t)&&r.push(e);return r},isTweening:function(t){var e,i,n=this._active;for(i=0;i<n.length;i++)if(e=n[i],e.hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){var t,e=this.getAllTweens();for(t=0;t<e.length;t++)e[t].stop();return this},killTweensOf:function(t){var e,i=this.getTweensOf(t);for(e=0;e<i.length;e++)i[e].stop();return this},pauseAll:function(){var t,e=this._active;for(t=0;t<e.length;t++)e[t].pause();return this},resumeAll:function(){var t,e=this._active;for(t=0;t<e.length;t++)e[t].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off(o.PRE_UPDATE,this.preUpdate,this),t.off(o.UPDATE,this.update,this),t.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("TweenManager",l,"tweens"),t.exports=l},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Array:i(312),Objects:i(1834),String:i(1838)}},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Clone:i(127),Extend:i(32),GetAdvancedValue:i(25),GetFastValue:i(3),GetMinMaxValue:i(1835),GetValue:i(6),HasAll:i(1836),HasAny:i(559),HasValue:i(153),IsPlainObject:i(13),Merge:i(150),MergeRight:i(1837)}},function(t,e,i){var n=i(6),s=i(37),r=function(t,e,i,r,o){o===undefined&&(o=i);var a=n(t,e,o);return s(a,i,r)};t.exports=r},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0};t.exports=i},function(t,e,i){var n=i(127),s=function(t,e){var i,s=n(t);for(i in e)s.hasOwnProperty(i)&&(s[i]=e[i]);return s};t.exports=s},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Format:i(1839),Pad:i(289),Reverse:i(1840),UppercaseFirst:i(531),UUID:i(562)}},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e){return t.replace(/%([0-9]+)/g,function(t,i){return e[+i-1]})};t.exports=i},function(t,e){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return t.split("").reverse().join("")};t.exports=i},function(t,e,i){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Camera:i(358),CameraManager:i(1842),OrthographicCamera:i(663),PerspectiveCamera:i(664)}},function(t,e,i){var n=i(0),s=i(663),r=i(664),o=i(26),a=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.cameras=[],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},add:function(t,e,i){return this.addPerspectiveCamera(t,e,i)},addOrthographicCamera:function(t,e){var i,n=this.scene.sys.game.config;return t===undefined&&(t=n.width),e===undefined&&(e=n.height),i=new s(this.scene,t,e),this.cameras.push(i),i},addPerspectiveCamera:function(t,e,i){var n,s=this.scene.sys.game.config;return t===undefined&&(t=80),e===undefined&&(e=s.width),i===undefined&&(i=s.height),n=new r(this.scene,t,e,i),this.cameras.push(n),n},getCamera:function(t){for(var e=0;e<this.cameras.length;e++)if(this.cameras[e].name===t)return this.cameras[e];return null},removeCamera:function(t){var e=this.cameras.indexOf(t);-1!==e&&this.cameras.splice(e,1)},removeAll:function(){for(;this.cameras.length>0;){this.cameras.pop().destroy()}return this.main},update:function(t,e){for(var i=0,n=this.cameras.length;i<n;++i)this.cameras[i].update(t,e)},shutdown:function(){var t=this.systems.events;t.off("update",this.update,this),t.off("shutdown",this.shutdown,this),this.removeAll()},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});o.register("CameraManager3D",a,"cameras3d"),t.exports=a},function(t,e,i){var n=i(241);i(7).register("sprite3D",function(t,e,i,s,r){var o=new n(this.scene,t,e,i,s,r);return this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o})},function(t,e,i){var n=i(55),s=i(315),r=i(27),o=i(25),a=i(241);r.register("sprite3D",function(t,e){var i,r,h;return t===undefined&&(t={}),i=o(t,"key",null),r=o(t,"frame",null),h=new a(this.scene,0,0,i,r),e!==undefined&&(t.add=e),n(this.scene,h,t),s(h,t),h})},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m,v,x,b,_,w=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(1846),s=i(1850),r=i(1852),o=i(399),a=i(1854),h=i(1856),u=i(1858),l=i(666),c=i(359),f=i(1868),d=i(1872),p=i(667),g=i(668),y=i(63),m=i(45),v=i(104),x=i(82),e.EXPLOSION_ANIN="explosion",e.EXPLOSION_ANIN2="explosion2",e.HIT_HULL_ANIM="hitHull",e.HIT_ANIM="hit",e.ENGINE_ANIM="engine",e.ENGINE_ANIM1="engine2",e.SHOP_PRICE=60,b=5e3,e.SHOP_TUTORIAL_KEY="MautilianShopTutorial",e.WEAPON_TUTORIAL_KEY="MautilianWeaponTutorial",e.LEVEL_TUTORIAL_KEY="MautilianLevelTutorial",_=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.dmgTextIndex=0,i.dmgTexts=[],i.critTextIndex=0,i.critTexts=[],i.dropCollision=function(t,n){i.drops.killItem(n),i.player.setWeapon(n.name),i.player.health>0&&!x["default"].get(e.WEAPON_TUTORIAL_KEY)&&(i.scene.pause(),v.showModal(p.InfoModal,"weapon").then(function(t){i.scene.resume(),t||x["default"].set(e.WEAPON_TUTORIAL_KEY,!0)}))},i.ramPlayerCollision=function(t,e){e.anims.isPlaying||(i.ramCollision(t,e),i.player.damage(e.ramDamage))},i.ramCollision=function(t,e){if(!e.anims.isPlaying)return e.explode(),!0},i.shotShopCollision=function(t,i){if(!i.anims.isPlaying){var n=y.getAngle(i,t);return i.setRotation(-n),i.play(e.HIT_ANIM,!0),!1}},i.shotPlayerCollision=function(t,e){if(!e.anims.isPlaying)return i.shotCollision(t,e)&&i.player.damage(e.damage),!1},i.shotEnemyCollision=function(t,i){if(!i.anims.isPlaying&&!t.anims.isPlaying){var n=i.shotType;if("enemyShot"!==n){switch(n){default:break;case"shot":case"smallShot":i.play(e.HIT_HULL_ANIM,!0);break;case"missile":case"mine":i.play(e.EXPLOSION_ANIN,!0)}t.damageEnemy(i.damage)}return!1}},i.shotCollision=function(t,i){if("enemyShot"===i.shotType){var n=y.getAngle(i,t);return i.setRotation(-n),i.play(e.HIT_ANIM,!0),!0}return!1},i.shopCollision=function(t,n){if(!i.block){i.shop=n;var s=n.getPlatformPos();return i.player.shopping?y.getDistance(s,i.player.pos)>5?i.physics.moveTo(i.player.container,s.x,s.y,null,500):i.player.motorSprite.anims.isPlaying&&(i.player.container.body.setVelocity(0,0),i.player.rotate(y.MATH_PI/2),i.player.stopEngine(),x["default"].get(e.SHOP_TUTORIAL_KEY)||(i.scene.pause(),v.showModal(p.InfoModal,"shop").then(function(t){i.scene.resume(),t||x["default"].set(e.SHOP_TUTORIAL_KEY,!0)}))):(i.player.shopping=!0,i.player.rotate(y.getAngle(i.player.pos,s)),i.player.restartSlope(),i.cameras.main.stopFollow(),i.cameras.main.pan(s.x,s.y-265,500)),!0}},i.save=function(){i.checkpoint.saveCheckpoint(i)},i}return w(i,t),i.prototype.update=function(t,e){var i=.001*e;this.player.update2(i),this.enemies.update2(i),this.miniMap.update2(),this.infoBar.update2(),this.info.update2(),this.getLevel()},i.prototype.redZoneEffect=function(){this.tweens.add({targets:this.redZone,alpha:.7,duration:150,ease:"Power2",loop:2,yoyo:!0})},i.prototype.getScore=function(){return this.info.score},i.prototype.getLevel=function(){var t=1+~~(this.info.distance/b);return this.level!==t&&(this.level=t,this.showLevel()),t},i.prototype.onKeyDown=function(t){if(!this.block){switch(t.key){default:break;case m.Keys.ENTER:if(this.shop){var e=this.shop.getPrice();e<this.info.gold&&(this.info.gold-=e,this.player.raiseBuff(this.shop.getBuff(),1),this.shop.setIconsPosition())}else this.player.enter();break;case m.Keys.LEFT:this.shop?this.shop.left():this.player.left();break;case m.Keys.RIGHT:this.shop?this.shop.right():this.player.right();break;case m.Keys.UP:this.player.shopping?this.stopShopping():this.player.up();break;case m.Keys.DOWN:this.player.shopping?this.stopShopping():this.player.down()}return!0}},i.prototype.gameOver=function(){var t=(x["default"].get(c.GLOBAL_GOLD_KEY)||0)+this.info.gold;x["default"].set(c.GLOBAL_GOLD_KEY,t),this.saveEvent.remove(),this.checkpoint.remove(),this.time.delayedCall(500,function(){var t=document.createEvent("Event");t.initEvent("gameover",!0,!0),document.dispatchEvent(t)},[],this)},i.prototype.showDMG=function(t,e){},i.prototype.init=function(){},i.prototype.preload=function(){this.anims.create({key:e.HIT_ANIM,frameRate:60,frames:this.anims.generateFrameNames("items",{prefix:"hit",end:7,zeroPad:0})}),this.anims.create({key:e.EXPLOSION_ANIN,frameRate:35,frames:this.anims.generateFrameNames("items",{prefix:"explosion",end:11,zeroPad:0})}),this.anims.create({key:e.EXPLOSION_ANIN2,frameRate:80,frames:this.anims.generateFrameNames("items",{prefix:"explosion",end:11,zeroPad:0})}),this.anims.create({key:e.HIT_HULL_ANIM,frameRate:45,frames:this.anims.generateFrameNames("items",{prefix:"hitExplosion",end:6,zeroPad:0})}),this.anims.create({key:e.ENGINE_ANIM,frameRate:20,repeat:-1,frames:this.anims.generateFrameNames("player",{prefix:"speed",end:6,zeroPad:0})}),this.anims.create({key:e.ENGINE_ANIM1,frameRate:20,repeat:-1,frames:this.anims.generateFrameNames("player",{prefix:"speed2_",end:6,zeroPad:0})})},i.prototype.create=function(){this.background=this.add.existing(new n.Background(this)),this.player=new l.Player(this),this.enemies=new r.Enemies(this),this.shots=new d.Shots(this),this.shops=new f.Shops(this),this.drops=new s.Drops(this),this.levelText=this.add.dynamicBitmapText(525,300,"big"),this.levelText.alpha=0,this.levelText.setScrollFactor(0),this.levelText.setDepth(100),this.info=this.add.existing(new a.Info(this)),this.infoBar=this.add.existing(new h.InfoBar(this)),this.miniMap=new u.MiniMap(this),this.redZone=this.add.sprite(0,0,"redZone"),this.redZone.setOrigin(0,0),this.redZone.alpha=0,this.redZone.setScrollFactor(0),this.cameras.main.startFollow(this.player.container),this.cameras.main.setBackgroundColor("#090b2d"),this.physics.add.collider(this.player.container,this.shots.group,null,this.shotPlayerCollision),this.physics.add.collider(this.player.container,this.enemies.group,null,this.ramPlayerCollision),this.physics.add.overlap(this.enemies.group,this.shots.group,null,this.shotEnemyCollision),this.physics.add.collider(this.player.container,this.shops.group,null,this.shopCollision),this.physics.add.collider(this.shops.group,this.shots.group,null,this.shotShopCollision),this.physics.add.overlap(this.shops.group,this.enemies.group,null,this.ramCollision),this.physics.add.overlap(this.player.container,this.drops.group,null,this.dropCollision),this.checkpoint=new o.Checkpoints,this.checkpoint.hasCheckpoint()&&this.checkpoint.loadCheckpoint(this),g.playSound({key:g.SOUNDS.bg,looping:!0}),this.saveEvent=this.time.addEvent({delay:5e3,loop:!0,callback:this.save})},i.prototype.showLevel=function(){this.levelTween&&this.levelTween.isPlaying()&&this.levelTween.stop(),this.levelText.text="Level "+this.level,this.levelText.alpha=.8,this.levelTween=this.tweens.add({targets:this.levelText,alpha:0,duration:2e3,ease:"Power2"})},i.prototype.stopShopping=function(){var t,e=this;y.getDistance(this.shop.getPlatformPos(),this.player.pos)>5||(this.block=!0,t={x:this.shop.x,y:this.shop.y-450},this.player.startEngine(),this.physics.moveTo(this.player.container,t.x,t.y,null,500),this.cameras.main.pan(t.x,t.y,500),this.time.delayedCall(500,function(){e.cameras.main.startFollow(e.player.container),e.player.shopping=!1,e.block=!1,e.shop=null},[],this))},i}(Phaser.Scene),e.Game=_},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1847))},function(t,e,i){var n,s,r,o,a,h=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__assign||function(){return u=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++){e=arguments[i];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},u.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(665),s=i(63),r=i(35),o={planet:2,star:1,galaxy:0},e.SPAWN_ANGLE=s.MATH_PI/8,e.SPAWN_RANDOM=s.MATH_PI/2/e.SPAWN_ANGLE,e.RADIUS=1e3,e.PLANET_SPAWN_LENGTH=1e3,e.PLANET_SPAWN_LENGTH_MAX=1500,e.PLANET_SPAWN_AMOUNT=2,e.STAR_SPAWN_LENGTH=100,e.STAR_SPAWN_LENGTH_MAX=1e3,e.STAR_SPAWN_AMOUNT=3,e.GALAXY_SPAWN_LENGTH=1e3,e.GALAXY_SPAWN_LENGTH_MAX=5e3,e.GALAXY_SPAWN_AMOUNT=2,e.RECYCLE_TIME=2e3,e.SPAWN_TIME=2e3,a=function(t){function i(i){var n=t.call(this,i,[])||this;return n.pool=[],n.planetSpawnLength=0,n.planetSpawn={x:-1e3,y:-1e3},n.starSpawnLength=0,n.starSpawn={x:-1e3,y:-1e3},n.galaxySpawnLength=0,n.galaxySpawn={x:-1e3,y:-1e3},n.checkOutOfRange=function(){n.getChildren().forEach(function(t){s.getDistance(t,n.scene.player.pos)>e.RADIUS&&n.killItem(t)})},n.checkSpawns=function(){n.checkPlanetSpawn(),n.checkStarSpawn(),n.checkGalaxySpawn()},n.removeCallback=function(t){n.pool.push(t)},n.scene=i,s.runFn(r.getIntInInterval(0,e.PLANET_SPAWN_AMOUNT),function(){return n.addItem("planet",2,s.getRandomPoint(-640,640,-360,360))}),s.runFn(r.getIntInInterval(1,e.STAR_SPAWN_AMOUNT),function(){return n.addItem("star",3,s.getRandomPoint(-640,640,-360,360))}),n.scene.time.addEvent({delay:e.RECYCLE_TIME,callback:n.checkOutOfRange,loop:!0}),n.scene.time.addEvent({delay:e.SPAWN_TIME,callback:n.checkSpawns,loop:!0}),n}return h(i,t),i.prototype.addItem=function(t,e,i){var n=void 0===i?this.getSpawnPoint():i,s=n.x,a=n.y,h=this.getItem();this.add(h,!0),h.setTexture("items",""+t+r.getIntInInterval(0,e-1)),h.x=s,h.y=a,h.setDepth(o[t]),h.active=!0,h.visible=!0},i.prototype.killItem=function(t){this.killAndHide(t),this.remove(t)},i.prototype.getItem=function(){return this.pool.length>0?this.pool.pop():new n.Enemy(this.scene)},i.prototype.checkPlanetSpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.planetSpawn,i)>=e.PLANET_SPAWN_LENGTH&&(s.runFn(r.getIntInInterval(1,e.PLANET_SPAWN_AMOUNT),function(){return t.addItem("planet",2)}),this.planetSpawn=u({},i),this.planetSpawnLength=r.getIntInInterval(e.PLANET_SPAWN_LENGTH,e.PLANET_SPAWN_LENGTH_MAX))},i.prototype.checkStarSpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.starSpawn,i)>=e.STAR_SPAWN_LENGTH&&(s.runFn(r.getIntInInterval(1,e.STAR_SPAWN_AMOUNT),function(){return t.addItem("star",3)}),this.starSpawn=u({},i),this.starSpawnLength=r.getIntInInterval(e.STAR_SPAWN_LENGTH,e.STAR_SPAWN_LENGTH_MAX))},i.prototype.checkGalaxySpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.galaxySpawn,i)>=e.GALAXY_SPAWN_LENGTH&&(s.runFn(r.getIntInInterval(1,e.GALAXY_SPAWN_AMOUNT),function(){return t.addItem("galaxy",3)}),this.galaxySpawn=u({},i),this.galaxySpawnLength=r.getIntInInterval(e.GALAXY_SPAWN_LENGTH,e.GALAXY_SPAWN_LENGTH_MAX))},i.prototype.getSpawnPoint=function(){var t=this.scene.player,i=t.pos,n=t.angle,o=i.x,a=i.y,h=r.getIntInInterval(0,e.SPAWN_RANDOM),u=n-e.SPAWN_ANGLE*e.SPAWN_RANDOM/2+h*e.SPAWN_ANGLE;return{x:o+s.cos(u)*e.RADIUS,y:a-s.sin(u)*e.RADIUS}},i}(Phaser.GameObjects.Group),e.Background=a},function(t,e,i){var n,s,r,o,a,h,u,l,c,f=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(242),s=i(63),r=i(35),o=i(403),a=1e3,h=3,u=.6,l={satelite:{slopeAmount:.2,lockRange:s.MATH_PI/2,speed:0,health:100,cadency:1e3,damage:8,value:90,ramDamage:200,dropChance:50,upgrade:{cadency:-.1,value:1,ramDamage:1,damage:1,health:1}},shooter:{slopeAmount:.7,lockRange:s.MATH_PI/8,speed:20,health:50,cadency:1500,damage:20,value:40,ramDamage:100,dropChance:35,upgrade:{cadency:-.1,value:1,ramDamage:1,damage:1,health:1}},kamikaze:{slopeAmount:1,lockRange:0,speed:50,health:30,cadency:0,damage:0,value:25,ramDamage:150,dropChance:15,upgrade:{cadency:-.1,value:1,ramDamage:1,damage:1,health:1}},mother:{slopeAmount:.3,lockRange:s.MATH_PI/4,speed:10,cadency:1e3,damage:10,health:200,value:150,ramDamage:200,dropChance:65,upgrade:{cadency:-.1,value:1,ramDamage:1,damage:1,health:1}}},c=function(t){function e(e){var i=t.call(this,e,0,0,"")||this;return i.shoot=function(){i.locked&&("satelite"===i.enemyType?(i.scene.shots.addItem(s.movePoint(i.pos,i.angle-s.MATH_PI/4,45),i.angle,i.damage,"enemyShot"),i.scene.shots.addItem(s.movePoint(i.pos,i.angle+s.MATH_PI/4,45),i.angle,i.damage,"enemyShot")):"mother"===i.enemyType?(i.cannonSwitch?(i.scene.shots.addItem(s.movePoint(i.pos,i.angle-6*s.MATH_PI/15,90),i.angle,i.damage,"enemyShot"),i.scene.shots.addItem(s.movePoint(i.pos,i.angle+6*s.MATH_PI/15,90),i.angle,i.damage,"enemyShot")):(i.scene.shots.addItem(s.movePoint(i.pos,i.angle-3*s.MATH_PI/15,100),i.angle,i.damage,"enemyShot"),i.scene.shots.addItem(s.movePoint(i.pos,i.angle+3*s.MATH_PI/15,100),i.angle,i.damage,"enemyShot")),i.cannonSwitch=!i.cannonSwitch):i.scene.shots.addItem(i.pos,i.angle,i.damage,"enemyShot"))},i.scene=e,i.setDepth(15),i}return f(e,t),Object.defineProperty(e.prototype,"pos",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.pAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"damage",{get:function(){return this.pDamage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drop",{get:function(){return this.pDrop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ramDamage",{get:function(){return this.pRamDamage},enumerable:!0,configurable:!0}),e.prototype.update2=function(t){this.aim(),this.pAngle=s.turnAngle(this.angle,this.slope*t),this.setRotation(-this.pAngle),this.scene.physics.velocityFromRotation(this.rotation,this.speed,this.body.velocity)},e.prototype.spawn=function(t,e){var i,n,o,a,h,c,f,d,p,g,y,m,v;this.x=t.x,this.y=t.y,this.setTexture("enemy",e+"0"),this.setCircle(this.width/2),this.setImmovable(!0),i=l[e],n=i.slopeAmount,o=i.value,a=i.lockRange,h=i.speed,c=i.cadency,f=i.damage,d=i.ramDamage,p=i.health,g=i.dropChance,y=i.upgrade,m=this.scene.getLevel(),v=1===m?u:1,this.slopeAmount=n+(y.slopeAmount||0)*n*m,this.lockRange=a+(y.lockRange||0)*a*m,this.speed=(h+(y.speed||0)*h*m)*v,this.enemyType=e,this.pDamage=(f+(y.damage||0)*f*m)*v,this.pDrop=g+(y.dropChance||0)*g*m,this.pRamDamage=(d+(y.ramDamage||0)*d*m)*v,this.pMaxHealth=(p+(y.health||0)*p*m)*v,this.pValue=(o+(y.value||0)*o*m)*v,this.pCurrentHealth=this.pMaxHealth,this.setScale(1,1),this.pAngle=r.getIntInInterval(0,15)*s.MATH_PI/8,c&&(this.shootTimer=this.scene.time.addEvent({delay:c+(y.cadency||0)*c,loop:!0,callback:this.shoot}))},e.prototype.damageEnemy=function(t){var e,i=r.getIntInInterval(0,100)<this.scene.player.critical,n=i?3*t:t;this.scene.showDMG(""+n,i),this.pCurrentHealth-=n,this.pCurrentHealth<=0?this.explode():(e=h-Math.floor(r.rangeToRange(this.pCurrentHealth,0,this.pMaxHealth,0,h)),this.setTexture("enemy",""+this.enemyType+e))},e.prototype.kill=function(){this.shootTimer&&this.shootTimer.destroy()},e.prototype.explode=function(){if(!this.anims.isPlaying){var t=this.play(n.EXPLOSION_ANIN,!0);"kamikaze"!==this.enemyType&&"shooter"!==this.enemyType||t.setScale(.5,.5),this.scene.info.score+=this.pValue,this.scene.info.gold+=this.pValue,r.getIntInInterval(0,100)<this.drop&&this.scene.drops.addItem(this)}},e.prototype.aim=function(){var t=s.getAngles(this,this.scene.player),e=t.left,i=t.right,n=e<i;this.slope=n?this.slopeAmount:-this.slopeAmount,this.locked=Math.abs(n?e:i)<this.lockRange,this.locked=s.getDistance(this,this.scene.player.pos)<a&&this.locked},e}(o.Physics.Arcade.Sprite),e.Enemy=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.collideCircles=function(t,e){var i=t.x,n=t.y,s=t.radius,r=e.x,o=e.y,a=e.radius;return Math.sqrt((i-r)*(i-r)+(n-o)*(n-o))<=s+a},e.collideLines=function(t,e){var i,n,s=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);return 0!=s&&(i=((e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1))/s,n=((t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1))/s,!(i<0||1<i||n<0||1<n))},e.collideLineCircle=function(t,e){var i=t.x1,n=t.y1,s=t.x2,r=t.y2,o=e.x,a=e.y,h=e.radius,u=s-i,l=r-n,c=((o-i)*u+(a-n)*l)/(l*l+u*u);return(0<=c&&c<=1?Math.pow(i+u*c-o,2)+Math.pow(n+l*c-a,2):c<0?Math.pow(i-o,2)+Math.pow(n-a,2):Math.pow(s-o,2)+Math.pow(r-a,2))<h*h},e.collideRects=function(t,e){return t.x<=e.x1&&t.x1>=e.x&&t.y<=e.y1&&t.y1>=e.y},e.collidePointRects=function(t,e){return t.x<=e.x1&&t.x>=e.x&&t.y<=e.y1&&t.y>=e.y},e.collideCircleRect=function(t,e){var i,n,s=Math.abs(e.x-e.x1)/2,r=Math.abs(e.y-e.y1)/2,o=Math.abs(t.x-e.x-s),a=Math.abs(t.y-e.y-r);return!(o>s+t.radius||a>r+t.radius)&&(o<=s||a<=r||(i=o-s,n=a-r,i*i+n*n<=t.radius*t.radius))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1851))},function(t,e,i){var n,s,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(63),s=i(35),e.RADIUS=1e3,e.RECYCLE_TIME=5e3,e.WEAPONS=["heal","mine","missile","redZone"],r=function(){function t(t){var i=this;this.pool=[],this.checkOutOfRange=function(){i.group.getChildren().forEach(function(t){n.getDistance(t,i.scene.player.pos)>e.RADIUS&&i.killItem(t)})},this.scene=t,this.group=this.scene.physics.add.group(),this.group.removeCallback=function(t){i.pool.push(t)},this.scene.time.addEvent({delay:e.RECYCLE_TIME,callback:this.checkOutOfRange,loop:!0})}return t.prototype.addItem=function(t,i){void 0===i&&(i=e.WEAPONS[s.getIntInInterval(0,e.WEAPONS.length-1)]);var n=this.getItem();n.setTexture("items","drop"+i),this.group.add(n,!0),n.x=t.x,n.y=t.y,n.name=i,n.active=!0,n.visible=!0,n.setDepth(5)},t.prototype.killItem=function(t){this.group.killAndHide(t),this.group.remove(t)},t.prototype.getItem=function(){return this.pool.length>0?this.pool.pop():new Phaser.GameObjects.Sprite(this.scene,0,0,"")},t}(),e.Drops=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1853))},function(t,e,i){var n,s,r,o,a=this&&this.__assign||function(){return a=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++){e=arguments[i];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(665),s=i(63),r=i(35),e.SATELITE_SPAWN_LENGTH=3e3,e.SATELITE_SPAWN_LENGTH_MAX=5e3,e.SATELITE_SPAWN_CHANCE=40,e.SATELITE_SPAWN_AMOUNT=1,e.MOTHER_SPAWN_LENGTH=5e3,e.MOTHER_SPAWN_LENGTH_MAX=1e4,e.MOTHER_SPAWN_CHANCE=20,e.MOTHER_SPAWN_AMOUNT=1,e.SHOOTER_SPAWN_LENGTH=2e3,e.SHOOTER_SPAWN_LENGTH_MAX=4e3,e.SHOOTER_SPAWN_CHANCE=30,e.SHOOTER_SPAWN_AMOUNT=1,e.KAMIKAZE_SPAWN_LENGTH=1e3,e.KAMIKAZE_SPAWN_LENGTH_MAX=3e3,e.KAMIKAZE_SPAWN_CHANCE=50,e.KAMIKAZE_SPAWN_AMOUNT=2,e.SPAWN_ANGLE=s.MATH_PI/8,e.SPAWN_RANDOM=s.MATH_PI/2/e.SPAWN_ANGLE,e.RADIUS=1500,e.RECYCLE_TIME=1500,e.SPAWN_TIME=1500,o=function(){function t(t){var i=this;this.pool=[],this.sateliteSpawnLength=5e3,this.sateliteSpawn={x:-1e4,y:-1e4},this.kamikazeSpawnLength=0,this.kamikazeSpawn={x:-1e4,y:-1e4},this.shooterSpawnLength=2e3,this.shooterSpawn={x:-1e4,y:-1e4},this.motherSpawnLength=8e3,this.motherSpawn={x:-1e3,y:-1e3},this.checkOutOfRange=function(){i.group.getChildren().forEach(function(t){s.getDistance(t.pos,i.scene.player.pos)>e.RADIUS&&i.killItem(t)})},this.checkSpawns=function(){i.checkShooterSpawn(),i.checkKamikazeSpawn(),i.checkSateliteSpawn(),i.checkMotherSpawn()},this.scene=t,this.group=this.scene.physics.add.group(),this.group.removeCallback=function(t){i.pool.push(t)},this.scene.time.addEvent({delay:e.RECYCLE_TIME,callback:this.checkOutOfRange,loop:!0}),this.scene.time.addEvent({delay:e.SPAWN_TIME,callback:this.checkSpawns,loop:!0})}return t.prototype.update2=function(t){var e,i;for(e=0;e<this.length;e+=1)i=this.children[e],i.update2(t)},t.prototype.addItem=function(t){var e=this.getItem();this.group.add(e,!0),e.spawn(this.getSpawnPoint(),t),e.active=!0,e.visible=!0,this.updateChildren()},t.prototype.updateChildren=function(){this.children=this.group.getChildren(),this.length=this.children.length},t.prototype.killItem=function(t){this.group.killAndHide(t),this.group.remove(t),t.kill(),this.updateChildren()},t.prototype.getItem=function(){var t,e=this;return this.pool.length>0?this.pool.pop():(t=new n.Enemy(this.scene),t.on("animationcomplete",function(){e.killItem(t)}),t)},t.prototype.checkSateliteSpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.sateliteSpawn,i)>=this.sateliteSpawnLength&&(s.runFn(r.getIntInInterval(1,e.SATELITE_SPAWN_AMOUNT),function(){t.addItem("satelite")}),this.sateliteSpawn=a({},i),this.sateliteSpawnLength=r.getIntInInterval(e.SATELITE_SPAWN_LENGTH,e.SATELITE_SPAWN_LENGTH_MAX))},t.prototype.checkKamikazeSpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.kamikazeSpawn,i)>=this.kamikazeSpawnLength&&(s.runFn(r.getIntInInterval(1,e.KAMIKAZE_SPAWN_AMOUNT),function(){t.addItem("kamikaze")}),this.kamikazeSpawn=a({},i),this.kamikazeSpawnLength=r.getIntInInterval(e.KAMIKAZE_SPAWN_LENGTH,e.KAMIKAZE_SPAWN_LENGTH_MAX))},t.prototype.checkShooterSpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.shooterSpawn,i)>=this.shooterSpawnLength&&(s.runFn(r.getIntInInterval(1,e.SHOOTER_SPAWN_AMOUNT),function(){t.addItem("shooter")}),this.shooterSpawn=a({},i),this.shooterSpawnLength=r.getIntInInterval(e.SHOOTER_SPAWN_LENGTH,e.SHOOTER_SPAWN_LENGTH_MAX))},t.prototype.checkMotherSpawn=function(){var t=this,i=this.scene.player.pos;s.getDistance(this.motherSpawn,i)>=this.motherSpawnLength&&(s.runFn(r.getIntInInterval(1,e.MOTHER_SPAWN_AMOUNT),function(){t.addItem("mother")}),this.motherSpawn=a({},i),this.motherSpawnLength=r.getIntInInterval(e.MOTHER_SPAWN_LENGTH,e.MOTHER_SPAWN_LENGTH_MAX))},t.prototype.getSpawnPoint=function(){var t=this.scene.player,i=t.pos,n=t.angle,o=i.x,a=i.y,h=r.getIntInInterval(0,e.SPAWN_RANDOM),u=n-e.SPAWN_ANGLE*e.SPAWN_RANDOM/2+h*e.SPAWN_ANGLE;return{x:o+s.cos(u)*e.RADIUS,y:a-s.sin(u)*e.RADIUS}},t}(),e.Enemies=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1855))},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(63),s={x:0,y:0},r=function(t){function e(e){var i=t.call(this,e)||this;return i.gold=0,i.score=0,i.distance=0,i.update2=function(){var t=i.scene.player,e=t.pos,r=t.weapon;i.distance=~~n.getDistance(s,e),i.scoreText.text="Score: "+n.getExp(Math.floor(i.score)),i.goldText.text="Gold: "+n.getExp(Math.floor(i.gold)),i.distanceText.text="Distance: "+i.distance,r?(i.weapon.setTexture("items",r),i.weapon.setVisible(!0)):i.weapon.setVisible(!1)},i.scene=e,i.scoreText=new Phaser.GameObjects.BitmapText(i.scene,15,15,"font"),i.goldText=new Phaser.GameObjects.BitmapText(i.scene,15,40,"font"),i.distanceText=new Phaser.GameObjects.BitmapText(i.scene,15,65,"font"),i.weapon=new Phaser.GameObjects.Sprite(i.scene,15,90,""),i.weapon.setOrigin(0,0),i.setScrollFactor(0),i.setDepth(20),i.add(i.scoreText),i.add(i.goldText),i.add(i.distanceText),i.add(i.weapon),i.update2(),i}return o(e,t),e}(Phaser.GameObjects.Container),e.Info=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1857))},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(35),e.HEALTH_BAR={x:28,y:29},e.SHIELD_BAR={x:28,y:-22},e.BAR_WIDTH=382,e.BAR_HEIGHT=20,s=function(t){function i(i){var s=t.call(this,i,640,50)||this;return s.update2=function(){var t=s.scene.player,e=t.health,i=t.shield,r=t.maxHealth,o=t.maxShield;s.healthSprite.setCrop(0,0,n.rangeToRange(e>0?e:0,0,r,0,s.healthSprite.width),s.healthSprite.height),s.shieldSprite.setCrop(0,0,n.rangeToRange(i>0?i:0,0,o,0,s.shieldSprite.width),s.shieldSprite.height)},s.scene=i,s.barBackgroud=new Phaser.GameObjects.Sprite(s.scene,0,0,"items","bar"),s.healthSprite=new Phaser.GameObjects.Sprite(s.scene,e.HEALTH_BAR.x,e.HEALTH_BAR.y,"items","health_bar"),s.shieldSprite=new Phaser.GameObjects.Sprite(s.scene,e.SHIELD_BAR.x,e.SHIELD_BAR.y,"items","shield_bar"),s.add(s.barBackgroud),s.add(s.healthSprite),s.add(s.shieldSprite),s.setScrollFactor(0),s.setDepth(20),s.width=s.barBackgroud.width,s.height=s.barBackgroud.height,s.update2(),s}return r(i,t),i}(Phaser.GameObjects.Container),e.InfoBar=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1859))},function(t,e,i){var n,s,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(63),s=i(35),e.POSSITION={x:1141,y:139},e.MINIMAP_HALF_WIDTH=124,e.MINIMAP_RADIUS=95,e.RADIUS=1500,e.COLOR=15992840,r=function(){function t(t){var i,r=this;this.update2=function(){r.enemies.clear(),r.enemies.fillStyle(e.COLOR,3),r.scene.enemies.group.getChildren().forEach(r.updateEnemy),r.scene.shops.group.getChildren().forEach(r.updateShop)},this.updateEnemy=function(t){var i,o,a=t.pos,h=r.scene.player.pos;n.getDistance(a,h)>e.RADIUS||(i=s.rangeToRange(a.x-h.x,0,e.RADIUS,0,e.MINIMAP_HALF_WIDTH),o=s.rangeToRange(a.y-h.y,0,e.RADIUS,0,e.MINIMAP_HALF_WIDTH),r.enemies.fillCircle(i,o,3))},this.updateShop=function(t){var i=t.pos,n=r.scene.player.pos,o=s.rangeToRange(i.x-n.x,0,e.RADIUS,0,e.MINIMAP_HALF_WIDTH),a=s.rangeToRange(i.y-n.y,0,e.RADIUS,0,e.MINIMAP_HALF_WIDTH);r.shopSprite.x=o,r.shopSprite.y=a},this.scene=t,this.miniMapSprite=this.scene.add.sprite(e.POSSITION.x,e.POSSITION.y,"items","miniMap"),this.shopSprite=new Phaser.GameObjects.Sprite(this.scene,-1e3,-1e3,"items","miniMapShop"),this.container=this.scene.add.container(e.POSSITION.x,e.POSSITION.y),this.enemies=new Phaser.GameObjects.Graphics(this.scene),i=new Phaser.GameObjects.Graphics(this.scene),i.setScrollFactor(0),i.fillCircle(e.POSSITION.x,e.POSSITION.y,e.MINIMAP_RADIUS),this.container.setMask(i.createGeometryMask()),this.container.add(this.enemies),this.container.add(this.shopSprite),this.container.setScrollFactor(0),this.miniMapSprite.setScrollFactor(0),this.miniMapSprite.setDepth(19),this.container.setDepth(20)}return t}(),e.MiniMap=r},function(t,e,i){var n,s,r,o,a,h,u;Object.defineProperty(e,"__esModule",{value:!0}),n=i(242),s=i(63),r=i(82),o=i(35),a=i(359),e.SLOPE_STEP=1,e.SLOPE_DSC=.3,e.MISSILE_INC=5,e.MISSILE_RANGE=100,e.MINE_RANGE=100,e.RED_ZONE_INC=3,e.REZ_ZONE_DISTANCE=600,e.BODY_UPGRADE_AMOUNT=10,e.BODY_MAX_FRAME_INDEX=1,e.WINGS_UPGRADE_AMOUNT=5,e.WINGS_MAX_FRAME_INDEX=3,e.ENGINE_UPGRADE_AMOUNT=10,e.ENGINE_MAX_FRAME_INDEX=1,e.SHIELD_RENEW_TIMEOUT=2,e.SHOOT_RENEW_TIMEOUT=1.5,e.MAX_SLOPE=3,e.INIT_HEALTH=100,e.INIT_SHIELD=100,e.INIT_DMG=20,e.INIT_SPEED=100,e.INIT_CRIT=8,h=10,u=function(){function t(t){var e,i=this;this.healthBuff=0,this.dmgBuff=0,this.critBuff=0,this.speedBuff=0,this.shieldBuff=0,this.pWeapon=null,this.pAngle=s.MATH_PI/2,this.pHealth=100,this.pMaxHealth=100,this.pShield=100,this.pMaxShield=100,this.speed=100,this.crit=2,this.speedMax=100,this.slope=0,this.pDamage=20,this.cadency=150,this.shieldRenewTimeout=0,this.shootRenewTimeout=0,this.explosion=!1,this.shoot=function(){if(!i.shopping)switch(i.wingsLVL()){default:break;case 0:i.scene.shots.addItem(s.movePoint(i.pos,i.angle,33),i.angle,i.pDamage,"shot",3*i.speedMax);break;case 1:case 2:case 3:i.scene.shots.addItem(s.movePoint(i.pos,i.angle-s.MATH_PI/4,40),i.angle,i.pDamage,"shot",3*i.speedMax),i.scene.shots.addItem(s.movePoint(i.pos,i.angle+s.MATH_PI/4,40),i.angle,i.pDamage,"shot",3*i.speedMax)}},this.scene=t,this.container=this.scene.add.container(0,0),this.bodySprite=this.scene.add.sprite(h,0,"player","body0"),this.engineSprite=this.scene.add.sprite(h,0,"player","engine0"),this.wingsSprite=this.scene.add.sprite(h,0,"player","wings0"),this.shieldSprite=this.scene.add.sprite(0,0,"player","playerShield"),this.motorSprite=this.scene.add.sprite(-40,2,"player","speed0"),this.container.width=this.bodySprite.height,this.container.height=this.bodySprite.height,this.container.add(this.motorSprite),this.container.add(this.wingsSprite),this.container.add(this.bodySprite),this.container.add(this.engineSprite),this.container.add(this.shieldSprite),this.container.setRotation(-this.angle),this.shieldRadius=this.shieldSprite.width/2,this.rocketRadius=this.shieldRadius/2,this.container.setDepth(10),this.scene.physics.world.enable(this.container),this.showShield(),this.container.body.setImmovable(!0),e=r["default"].get(a.GLOBAL_BUFF_KEY)||{},this.healthBuff=e.health||0,this.dmgBuff=e.dmg||0,this.critBuff=e.crit||0,this.speedBuff=e.speed||0,this.shieldBuff=e.shield||0,this.updateVisuals(),this.updateStats(!0)}return Object.defineProperty(t.prototype,"pos",{get:function(){return{x:this.container.x,y:this.container.y}},set:function(t){this.container.x=t?t.x:0,this.container.y=t?t.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.pAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"critical",{get:function(){return this.crit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weapon",{get:function(){return this.pWeapon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"health",{get:function(){return this.pHealth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shield",{get:function(){return this.pShield},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHealth",{get:function(){return this.pMaxHealth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxShield",{get:function(){return this.pMaxShield},enumerable:!0,configurable:!0}),t.prototype.left=function(){this.slope+=e.SLOPE_STEP,this.slope>e.MAX_SLOPE&&(this.slope=e.MAX_SLOPE)},t.prototype.right=function(){this.slope-=e.SLOPE_STEP,this.slope<-e.MAX_SLOPE&&(this.slope=-e.MAX_SLOPE)},t.prototype.up=function(){this.speed+=.25*this.speedMax,this.speed>this.speedMax&&(this.speed=this.speedMax)},t.prototype.down=function(){this.speed-=.25*this.speedMax,this.speed<10&&(this.speed=10)},t.prototype.enter=function(){if(this.shootRenewTimeout>0)return void(this.weapon&&this.handleWeapon());this.shootTimer&&this.shootTimer.destroy(),this.shootRenewTimeout=e.SHOOT_RENEW_TIMEOUT,this.shootTimer=this.scene.time.addEvent({delay:this.cadency,callback:this.shoot,repeat:5})},t.prototype.damage=function(t){this.pHealth<=0||(this.shieldRenewTimeout=e.SHIELD_RENEW_TIMEOUT,this.pHealth-=this.damageShield(t),this.pHealth<=0&&(this.explode(),this.scene.gameOver()))},t.prototype.setWeapon=function(t){this.pWeapon=t},t.prototype.updateStats=function(t){void 0===t&&(t=!1),this.pMaxHealth=e.INIT_HEALTH+e.INIT_HEALTH*(.1*this.healthBuff),this.pMaxShield=e.INIT_SHIELD+e.INIT_SHIELD*(.1*this.shieldBuff),this.pDamage=e.INIT_DMG+e.INIT_DMG*(.1*this.dmgBuff),this.crit=e.INIT_CRIT+e.INIT_CRIT*(.1*this.critBuff),this.speedMax=e.INIT_SPEED+e.INIT_SPEED*(.1*this.speedBuff),t&&(this.pHealth=this.pMaxHealth,this.pShield=this.pMaxShield)},t.prototype.raiseBuff=function(t,e){switch(t){default:break;case"health":this.healthBuff+=e;break;case"shield":this.shieldBuff+=e;case"dmg":this.dmgBuff+=e;case"crit":this.critBuff+=e;break;case"speed":this.speedBuff+=1}this.updateVisuals(),this.updateStats()},t.prototype.getBuffLevel=function(t){return this[t+"Buff"]},t.prototype.update2=function(t){if(!this.explosion&&(this.shieldRenewTimeout-=t,this.shootRenewTimeout-=t,this.shieldRenewTimeout<0&&(this.pShield+=t*(.1*this.pMaxShield),this.showShield(),this.pShield>this.pMaxShield&&(this.pShield=this.pMaxShield),this.shopping&&(this.pHealth+=t*(.1*this.pMaxHealth),this.pHealth>this.pMaxHealth&&(this.pHealth=this.pMaxHealth))),!this.shopping)){this.handleSlope(t),this.rotate(s.turnAngle(this.angle,this.slope*t));var e=this.scene.physics.velocityFromRotation(this.container.rotation,this.speed),i=e.x,n=e.y;this.container.body.setVelocity(i,n),this.shieldSprite.alpha=.01*o.rangeToRange(this.shield,0,this.maxShield,0,100)}},t.prototype.explode=function(){var t=this;this.shootTimer&&this.shootTimer.remove(),this.explosion=!0,this.motorSprite.alpha=0,this.shieldSprite.alpha=0,this.wingsSprite.on("animationcomplete",function(){t.bodySprite.play(n.EXPLOSION_ANIN2)}),this.bodySprite.on("animationcomplete",function(){t.container.alpha=0}),this.engineSprite.play(n.EXPLOSION_ANIN2),this.wingsSprite.play(n.EXPLOSION_ANIN2)},t.prototype.rotate=function(t){this.pAngle=t,this.container.setRotation(-this.pAngle)},t.prototype.restartSlope=function(){this.slope=0},t.prototype.updateShield=function(){this.shield<=0?this.hideShield():this.showShield()},t.prototype.handleWeapon=function(t){var i=this;if(void 0===t&&(t=this.pWeapon),t){switch(t){default:return;case"missile":this.scene.shots.addItem(this.pos,this.angle,e.MISSILE_INC*this.pDamage,"missile",3*this.speedMax,e.MISSILE_RANGE);break;case"mine":this.scene.shots.addItem(this.pos,this.angle,e.MISSILE_INC*this.pDamage,"mine",-50,e.MINE_RANGE);break;case"heal":this.pHealth=this.pMaxHealth,this.pShield=this.pMaxShield;break;case"redZone":this.scene.redZoneEffect(),this.scene.time.delayedCall(700,function(){i.scene.shots.addItem(i.pos,i.angle,e.RED_ZONE_INC*i.pDamage,"redZone",0,e.REZ_ZONE_DISTANCE)},[],this)}this.pWeapon=null}},t.prototype.stopEngine=function(){this.motorSprite.anims.pause(),this.motorSprite.setVisible(!1),this.hideShield()},t.prototype.startEngine=function(){this.motorSprite.anims.resume(),this.motorSprite.setVisible(!0),this.showShield()},t.prototype.updateVisuals=function(){var t=Math.min(~~(this.speedBuff/e.ENGINE_UPGRADE_AMOUNT),e.ENGINE_MAX_FRAME_INDEX);this.bodySprite.setTexture("player","body"+Math.min(~~(this.healthBuff/e.BODY_UPGRADE_AMOUNT),e.BODY_MAX_FRAME_INDEX)),this.engineSprite.setTexture("player","engine"+t),this.wingsSprite.setTexture("player","wings"+this.wingsLVL()),this.shopping||(0===t?this.motorSprite.play(n.ENGINE_ANIM):(this.motorSprite.play(n.ENGINE_ANIM1),this.motorSprite.y=0))},t.prototype.damageShield=function(t){if(0===this.pShield)return t;var e=this.pShield;return this.pShield-=t,this.pShield<=0?(this.pShield=0,this.hideShield(),t-e):0},t.prototype.wingsLVL=function(){return Math.min(~~(this.dmgBuff/e.WINGS_UPGRADE_AMOUNT),e.WINGS_MAX_FRAME_INDEX)},t.prototype.hideShield=function(){this.container.body.setCircle(this.rocketRadius,this.container.width/2-this.rocketRadius,this.container.height/2-this.rocketRadius)},t.prototype.showShield=function(){this.container.body.setCircle(this.shieldRadius,this.container.width/2-this.shieldRadius,this.container.height/2-this.shieldRadius)},t.prototype.handleSlope=function(t){this.slope>=0?(this.slope-=e.SLOPE_DSC*t,this.slope<=0&&(this.slope=0)):(this.slope+=e.SLOPE_DSC*t,this.slope>0&&(this.slope=0))},t}(),e.Player=u},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(40),r=i(12),o=i(35),a=i(1862),h=i(63),u=i(82),l=i(1864),i(1867),c=["dmg","shield","health","speed","crit"],f=198,d=550,e.SHOP_PRICE=200,e.GLOBAL_GOLD_KEY=r["default"].CONFIG.gameName+"globalGoldKey",e.GLOBAL_BUFF_KEY=r["default"].CONFIG.gameName+"globalBuffKey",p={crit:"Critical chance",shield:"Shield",dmg:"Damage",health:"Health",speed:"Speed"},g=function(t){function i(){var e=t.call(this)||this;return e.id="ShopItemID-"+o.uuid(),e.listID="ShopItemListID-"+o.uuid(),e.list2ID="ShopItemListID2-"+o.uuid(),e.titleID="ShopTitleID-"+o.uuid(),e.goldID="ShopGoldID-"+o.uuid(),e.priceID="ShopPriceID-"+o.uuid(),e.levelID="ShopLevelID-"+o.uuid(),e.playerID="shopPlayerID-"+o.uuid(),e.gold=0,e.listIDs=[e.listID,e.list2ID],e.left=-f,e.items=[new a.ShopItem,new a.ShopItem,new a.ShopItem],e.items2=[new a.ShopItem,new a.ShopItem,new a.ShopItem],e.shopPlayer=new l.ShopPlayer,e.itemsLists=[e.items,e.items2],e.update=function(){var t,i,n;e.left=-f,e.moveBlocker=!1,t=(e.activeListIndex+1)%e.listIDs.length,i=0===e.focused?c.length-1:e.focused-1,n=(e.focused+1)%c.length,e.itemsLists[t][0].update(c[i]),e.itemsLists[t][1].update(c[e.focused]),e.itemsLists[t][2].update(c[n]),e.updateStyle(e.refs[e.listIDs[e.activeListIndex]],"display","none"),e.updateStyle(e.refs[e.listIDs[e.activeListIndex]],"left",e.left+"px"),e.updateStyle(e.refs[e.listIDs[t]],"display","block"),e.refs[e.titleID].innerHTML=s["default"](p[c[e.focused]],"font"),e.refs[e.goldID].innerHTML=s["default"]("Gold: "+h.getExp(Math.floor(e.gold)),"font"),e.refs[e.priceID].innerHTML=s["default"]("Gold: "+h.getExp(e.getPrice()),"font"),e.refs[e.levelID].innerHTML=s["default"]("Level: "+h.getExp(e.getLevel()),"font"),e.shopPlayer.update(e.globalBuff),e.activeListIndex=t},e.els=[e.playerID,e.id,e.listID,e.list2ID,e.titleID,e.goldID,e.levelID,e.priceID],e}return y(i,t),i.prototype.componentDidMount=function(){var t=this;this.items.forEach(function(e){e.mountAppend(t.refs[t.listID])}),this.items2.forEach(function(e){e.mountAppend(t.refs[t.list2ID])}),this.shopPlayer.mountAppend(this.refs[this.playerID]),this.activeListIndex=0,this.focused=0,this.moveBlocker=!1,this.gold=u["default"].get(e.GLOBAL_GOLD_KEY)||0,this.globalBuff=u["default"].get(e.GLOBAL_BUFF_KEY)||{crit:0,shield:0,dmg:0,health:0,speed:0},this.update(),this.update()},i.prototype.buy=function(){var t=this.getPrice();t<=this.gold&&(this.gold-=t,u["default"].set(e.GLOBAL_GOLD_KEY,this.gold),this.globalBuff[c[this.focused]]+=1,u["default"].set(e.GLOBAL_BUFF_KEY,this.globalBuff),this.update())},i.prototype.getPrice=function(){return(this.getLevel()+1)*e.SHOP_PRICE},i.prototype.getLevel=function(){return this.globalBuff[c[this.focused]]},i.prototype.moveRight=function(){this.moveBlocker||(this.moveBlocker=!0,this.left-=f,this.focused=(this.focused+1)%c.length,this.updateStyle(this.refs[this.listIDs[this.activeListIndex]],"left",this.left+"px"),setTimeout(this.update,d))},i.prototype.moveLeft=function(){this.moveBlocker||(this.moveBlocker=!0,this.focused=0===this.focused?c.length-1:this.focused-1,this.left+=f,this.updateStyle(this.refs[this.listIDs[this.activeListIndex]],"left",this.left+"px"),setTimeout(this.update,d))},i.prototype.render=function(){var t=r["default"].Device.disableAnimation;return'\n\t\t\t<div id="'+this.titleID+'" class="shopTitle"></div>\n\t\t\t<div id="'+this.goldID+'" class="shopGold"></div>\n\t\t\t<div id="'+this.priceID+'" class="shopPrice"></div>\n\t\t\t<div id="'+this.levelID+'" class="shopLevel"></div>\n\t\t\t<div id="'+this.playerID+'"></div>\n\t\t\t<div id="'+this.id+'" class="shop">\n\t\t\t\t<div id="'+this.listID+'" class="shopList '+(t?"":"animated")+'"></div>\n\t\t\t\t<div id="'+this.list2ID+'" class="shopList '+(t?"":"animated")+'"></div>\n\t\t\t</div>\n\t\t'},i}(n["default"]),e.ShopItemList=g},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(35),i(1863),r=function(t){function e(){var e=t.call(this)||this;return e.goldID="goldText-"+s.uuid(),e.levelID="levelText-"+s.uuid(),e.iconID="icon-"+s.uuid(),e.els=[e.iconID,e.goldID,e.levelID],e}return o(e,t),e.prototype.update=function(t){this.refs[this.iconID].className=t+" icon"},e.prototype.render=function(){return'\n\t\t\t<div class="shopItem">\n\t\t\t\t<div id="'+this.iconID+'"></div>\n\t\t\t</div>\n\t\t'},e}(n["default"]),e.ShopItem=r},function(t,e){},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1865))},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(51),s=i(35),r=i(666),i(1866),o=function(t){function e(){var e=t.call(this)||this;return e.wingsID="wingsID-"+s.uuid(),e.bodyID="bodyID-"+s.uuid(),e.engineID="engineID-"+s.uuid(),e.els=[e.wingsID,e.bodyID,e.engineID],e}return a(e,t),e.prototype.update=function(t){this.refs[this.wingsID].className="wings"+Math.min(~~(t.dmg/r.WINGS_UPGRADE_AMOUNT),r.WINGS_MAX_FRAME_INDEX)+" part",this.refs[this.bodyID].className="body"+Math.min(~~(t.health/r.BODY_UPGRADE_AMOUNT),r.BODY_MAX_FRAME_INDEX)+" part",this.refs[this.engineID].className="engine"+Math.min(~~(t.speed/r.ENGINE_UPGRADE_AMOUNT),r.ENGINE_MAX_FRAME_INDEX)+" part"},e.prototype.render=function(){return'\n\t\t\t<div class="shopPlayer">\n\t\t\t\t<div id="'+this.wingsID+'"></div>\n\t\t\t\t<div id="'+this.bodyID+'"></div>\n\t\t\t\t<div id="'+this.engineID+'"></div>\n\t\t\t</div>\n\t\t'},e}(n["default"]),e.ShopPlayer=o},function(t,e){},function(t,e){},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1869))},function(t,e,i){var n,s,r,o,a=this&&this.__assign||function(){return a=Object.assign||function(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++){e=arguments[i];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),n=i(1870),s=i(63),r=i(35),e.RADIUS=3500,e.RECYCLE_TIME=5e3,e.SPAWN_TIME=5e3,e.SPAWN_CHANCE=50,o=function(){function t(t){var i=this;this.pool=[],this.shopSpawn={x:0,y:0},this.checkOutOfRange=function(){i.group.getChildren().forEach(function(t){s.getDistance(t,i.scene.player.pos)>e.RADIUS&&i.killItem(t)})},this.checkSpawn=function(){var t,n,o,h=i.scene.player,u=h.pos,l=h.angle;s.getDistance(i.shopSpawn,u)>=e.RADIUS&&(t=s.movePoint(a({},u),l,1e3),n=t.x,o=t.y,r.getIntInInterval(0,100)<e.SPAWN_CHANCE&&i.addItem(),i.shopSpawn={x:n,y:o})},this.scene=t,this.group=this.scene.physics.add.group({removeCallback:function(t){i.pool.push(t)}}),this.scene.time.addEvent({delay:e.RECYCLE_TIME,callback:this.checkOutOfRange,loop:!0}),this.scene.time.addEvent({delay:e.SPAWN_TIME,callback:this.checkSpawn,loop:!0})}return t.prototype.addItem=function(){var t=this.scene.player,i=t.pos,n=t.angle,r=this.getItem();this.group.add(r,!0),r.spawn(s.movePoint(a({},i),n,e.RADIUS/2)),r.active=!0,r.visible=!0},t.prototype.killItem=function(t){this.group.killAndHide(t),this.group.remove(t)},t.prototype.getItem=function(){return this.pool.length>0?this.pool.pop():new n.Shop(this.scene)},t}(),e.Shops=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1871))},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(242),s=i(63),e.PLATFORM_AMOUNT=5,e.SHOP=["health","dmg","crit","shield","speed"],e.TITLE={health:"Health",dmg:"Damage",crit:"Critical",speed:"Speed",shield:" Shield"},r=function(t){function i(e){var i,n=t.call(this,e)||this;return n.pShopIndex=0,n.scene=e,i=new Phaser.GameObjects.Sprite(n.scene,0,0,"items","shop"),n.title=new Phaser.GameObjects.BitmapText(n.scene,0,-55,"font"),n.price=new Phaser.GameObjects.BitmapText(n.scene,-25,25,"font"),n.level=new Phaser.GameObjects.BitmapText(n.scene,-25,50,"font"),n.add(i),n.add(new Phaser.GameObjects.Sprite(n.scene,0,0,"items","health")),n.add(new Phaser.GameObjects.Sprite(n.scene,0,0,"items","dmg")),n.add(new Phaser.GameObjects.Sprite(n.scene,0,0,"items","critical-chance")),n.add(new Phaser.GameObjects.Sprite(n.scene,0,0,"items","shield")),n.add(new Phaser.GameObjects.Sprite(n.scene,0,0,"items","speed")),n.add(n.title),n.add(n.price),n.add(n.level),n.setDepth(7),n.width=i.width,n.height=i.height,n.shopPlatforms=n.getShopPlatforms(),n}return o(i,t),Object.defineProperty(i.prototype,"shopIndex",{get:function(){return this.pShopIndex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pos",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),i.prototype.getPlatformPos=function(){return{x:this.x,y:this.y+218}},i.prototype.left=function(){this.pShopIndex=this.shopIndex<=0?e.PLATFORM_AMOUNT-1:this.shopIndex-1,this.setIconsPosition()},i.prototype.right=function(){this.pShopIndex=this.shopIndex>=e.PLATFORM_AMOUNT-1?0:this.shopIndex+1,this.setIconsPosition()},i.prototype.spawn=function(t){this.x=t.x,this.y=t.y,this.pShopIndex=0,this.body.setCircle(this.width/2),this.body.setImmovable(!0),this.setIconsPosition(),this.scene.physics.add.existing(this)},i.prototype.getBuff=function(){return e.SHOP[this.pShopIndex]},i.prototype.getLevel=function(){return this.scene.player.getBuffLevel(this.getBuff())},i.prototype.getPrice=function(){return(this.getLevel()+1)*n.SHOP_PRICE},i.prototype.setIconsPosition=function(){var t,i,n,r=0,o=this.getAll().slice(1,6);for(t=this.shopIndex;t<e.PLATFORM_AMOUNT+this.shopIndex;t+=1)i=o[t%e.PLATFORM_AMOUNT],n=this.shopPlatforms[r],i.x=n.x,i.y=n.y,r+=1;this.title.text=e.TITLE[e.SHOP[this.shopIndex]],this.title.x=-this.title.width/2,this.price.text="Gold: "+s.getExp(this.getPrice()),this.level.text="Level: "+s.getExp(this.getLevel())},i.prototype.getShopPlatforms=function(){return[{x:0,y:218},{x:203,y:75},{x:140,y:-160},{x:-135,y:-160},{x:-203,y:75}]},i}(Phaser.GameObjects.Container),e.Shop=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1873))},function(t,e,i){var n,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(63),e.RADIUS=1e3,e.RECYCLE_TIME=3e3,e.SPEED=300,s=function(){function t(t){var i=this;this.pool=[],this.checkOutOfRange=function(){i.group.getChildren().forEach(function(t){n.getDistance(t,i.scene.player.pos)>e.RADIUS&&i.killItem(t)})},this.scene=t,this.group=this.scene.physics.add.group(),this.group.removeCallback=function(t){i.pool.push(t)},this.scene.time.addEvent({delay:e.RECYCLE_TIME,callback:this.checkOutOfRange,loop:!0})}return t.prototype.addItem=function(t,i,n,s,r,o){var a,h,u,l=this;void 0===r&&(r=e.SPEED),(a=this.getItem())&&(this.group.add(a,!0),a.x=t.x,a.y=t.y,a.damage=n,a.shotType=s,a.setDepth(5),"redZone"===s?(a.alpha=0,this.scene.time.delayedCall(200,function(){l.scene.shots.killItem(a)},[],this)):(a.setTexture("items",s),a.alpha=1),h=o||a.width/4,u=a.width/2-h,a.body.setCircle(h,u,u),a.setRotation(-i),this.scene.physics.velocityFromRotation(a.rotation,r,a.body.velocity),a.active=!0,a.visible=!0)},t.prototype.killItem=function(t){this.group.killAndHide(t),this.group.remove(t,!0)},t.prototype.getItem=function(){return this.pool.length>0?this.pool.pop():this.getNewItem()},t.prototype.getNewItem=function(t,e,i){var n,s=this;return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=""),n=this.scene.add.sprite(t,e,i),n.on("animationcomplete",function(){s.killItem(n)}),n},t}(),e.Shots=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1875))},function(t,e,i){var n,s,r,o=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(12),s=i(402),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.preload=function(){var t=window.location.href,e="";n["default"].CONFIG.baseUrl?e=n["default"].CONFIG.baseUrl:-1!==t.indexOf("index.html")&&(e=t.split("index.html")[0]),this.load.setPath(e),this.load.atlas("items","assets/items.png","assets/items.json"),this.load.atlas("player","assets/player.png","assets/player.json"),this.load.atlas("enemy","assets/enemy.png","assets/enemy.json"),this.load.image("redZone","assets/redZone.png"),this.load.bitmapFont("font","assets/fonts/font.png","assets/fonts/font.xml"),this.load.bitmapFont("big","assets/fonts/big.png","assets/fonts/big.xml"),this.load.bitmapFont("damage","assets/fonts/damageFont.png","assets/fonts/damageFont.xml"),this.load.bitmapFont("crit","assets/fonts/critFont.png","assets/fonts/critFont.xml")},e.prototype.create=function(){this.game.scene.stop("preload"),this.game.scene.start(s.MAIN_SCENE)},e}(Phaser.Scene),e.Preload=r},function(t,e,i){var n,s,r,o,a=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(1877),r=i(125),o=function(t){function e(){var e=t.call(this)||this;return e.quitGameModal=r["default"],e.allowRenderSwitching=!1,e}return a(e,t),e.prototype.render=function(){return'\n\t\t\t<div class="scene settings-scene">\n\t\t\t\t<div class="settings">\n\t\t\t\t\t<div class="redBG"></div>\n\t\t\t\t\t<h1>'+n["default"](this.header,"big")+'</h1>\n\t\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'">'+n["default"](t.text)+"</li>"}).join("")+"\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"},e}(s["default"]),e["default"]=o},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y,m=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(12),r=i(197),o=i(201),a=i(36),h=i(42),u=i(272),l="sounds_on",c="sounds_off",f="performance_check",d="render_canvas",p="render_legacy",g=[{id:l,text:a._("sounds")+": "+a._("on").toUpperCase()},{id:c,text:a._("sounds")+": "+a._("off").toUpperCase()},{id:f,text:a._("performance_check")},{id:d,text:a._("render")+": "+a._("canvas").toUpperCase()},{id:p,text:a._("render")+": "+a._("legacy").toUpperCase()}],y=function(t){function e(){var e=t.call(this)||this;return e.header=a._("settings"),e.allowRenderSwitching=!r["default"].disableCanvas,e.MENU_ITEMS=g,e.els=e.MENU_ITEMS.map(function(t){return t.id}),e.mouseInteractive=e.els.slice(),e.visibleMenuItems=e.els.slice(),e}return m(e,t),e.prototype.sceneWillMount=function(){if(t.prototype.sceneWillMount.call(this),!s["default"].Sounds.initialized){var e=this.visibleMenuItems.indexOf(l);0<=e&&this.visibleMenuItems.splice(e,1),0<=(e=this.visibleMenuItems.indexOf(c))&&this.visibleMenuItems.splice(e,1)}},e.prototype.sceneDidMount=function(){if(t.prototype.sceneDidMount.call(this),this.changeRender(s["default"].useCanvas()),!this.allowRenderSwitching){var e=this.visibleMenuItems.indexOf(d);0<=e&&this.visibleMenuItems.splice(e,1),0<=(e=this.visibleMenuItems.indexOf(p))&&this.visibleMenuItems.splice(e,1),this.hide(this.refs[d]),this.hide(this.refs[p])}s["default"].Sounds.initialized?this.changeSound(s["default"].Sounds.allowed):(this.hide(this.refs[l]),this.hide(this.refs[c]),o.focus(f))},e.prototype.render=function(){return'\n\t\t\t<div class="scene settings-scene">\n\t\t\t\t<h1>'+n["default"](this.header,"big")+'</h1>\n\t\t\t\t<ul class="unstyled">\n\t\t\t\t\t'+this.MENU_ITEMS.map(function(t){return'<li id="'+t.id+'">'+n["default"](t.text)+"</li>"}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"},e.prototype.enter=function(t){if(!t)return!0;switch(t.id){case l:this.changeSound(!1);break;case c:this.changeSound(!0);break;case f:h.routeTo("performance");break;case d:this.changeRender(!1);break;case p:this.changeRender(!0)}return!1},e.prototype.changeSound=function(t){t?this.switchVisibility(l,c):this.switchVisibility(c,l),s["default"].Sounds.setSounds(t),s["default"].SoundManager.setSounds(t)},e.prototype.changeRender=function(t){t?this.switchVisibility(d,p):this.switchVisibility(p,d),s["default"].setCanvas(t)},e.SOUNDS_ON=l,e.SOUNDS_OFF=c,e.PERFORMANCE_CHECK=f,e.RENDER_CANVAS=d,e.RENDER_LEGACY=p,e}(u["default"]),e["default"]=y},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g,y=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(40),s=i(12),r=i(45),o=i(104),a=i(42),h=i(272),u=i(82),l=i(359),c=i(667),f=i(125),d="START",p=s["default"].CONFIG.gameName+"ShopTutorial",g=function(t){function e(){var e=t.call(this)||this;return e.id="shopListWrap",e.shopItemID="shopListWrapID",e.startItemID="startButtonID",e.leftArrowID="leftArrowID",e.rightArrowID="rightArrowID",e.onArrowClick=function(t){var i=t.target;return i.id===e.leftArrowID?e.shopItemList.moveLeft():i.id===e.rightArrowID&&e.shopItemList.moveRight(),!1},e.quitGameModal=f["default"],e.backRoute="menu",e.horizontal=!1,e.els=[e.id,e.shopItemID,e.startItemID,e.leftArrowID,e.rightArrowID],e.mouseInteractive=[e.shopItemID,e.startItemID],e.visibleMenuItems=[e.shopItemID,e.startItemID],e.shopItemList=new l.ShopItemList,e}return y(e,t),e.prototype.sceneDidMount=function(){var e=this;t.prototype.sceneDidMount.call(this),u["default"].get(p)||o.showModal(c.InfoModal,"hangar").then(function(t){t||u["default"].set(p,!0),e.focus(e.startItemID)}),this.shopItemList.mountAppend(this.refs[this.id]),this.refs[this.leftArrowID].addEventListener("click",this.onArrowClick,!1),this.refs[this.rightArrowID].addEventListener("click",this.onArrowClick,!1),this.focus(this.startItemID)},e.prototype.sceneWillUnmount=function(){t.prototype.sceneWillUnmount.call(this),this.refs[this.leftArrowID].removeEventListener("click",this.onArrowClick,!1),this.refs[this.rightArrowID].removeEventListener("click",this.onArrowClick,!1)},e.prototype.onKeyDown=function(e){if(t.prototype.onKeyDown.call(this,e),e.target.id===this.shopItemID){switch(e.key){case r.Keys.LEFT:this.shopItemList.moveLeft();break;case r.Keys.RIGHT:this.shopItemList.moveRight()}return!0}},e.prototype.render=function(){return'\n\t\t\t<span class="scene shop-scene">\n\t\t\t\t<div id="'+this.id+'" class="shopBG"></div>\n\t\t\t\t<div id='+this.shopItemID+' class="shopItemFocus">\n\t\t\t\t\t<div id="'+this.leftArrowID+'" class="leftArrow"></div>\n\t\t\t\t\t<div id="'+this.rightArrowID+'" class="rightArrow"></div>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+this.startItemID+'" class="startButton">\n\t\t\t\t\t<div class="inline select"></div>\n\t\t\t\t\t<div class="inline">'+n["default"](d)+"</div>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t"},e.prototype.enter=function(t){var e=t.id;return e===this.startItemID?a.routeTo("phaserGame"):e===this.shopItemID&&this.shopItemList.buy(),!0},e}(h["default"]),e["default"]=g},function(t,e,i){var n,s,r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(1880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n["default"]),e["default"]=s},function(t,e,i){var n,s,r,o,a,h,u,l,c,f,d,p,g=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),n=i(141),s=i(42),r="signing-in",o="signed-in",a="message-1",h="message-2",u="gamer-tag",l="player-image",c="user-name",f="player-name",d=3e3,p=function(t){function e(){var e=t.call(this)||this;return e.els=[r,o,a,h,u,l,c,f],e}return g(e,t),e.prototype.sceneDidMount=function(){this.signIn()},e.prototype.render=function(){return'\n\t\t\t<div class="scene xboxlive-scene">\n\t\t\t\t<div id="'+r+'" class="user">\n\t\t\t\t\t<p id="'+a+'">Signing you in...</p>\n\t\t\t\t\t<p id="'+h+'">Please wait</p>\n\t\t\t\t</div>\n\t\t\t\t<div id="'+o+'">\n\t\t\t\t\t<div id="signed-in-message">You are now signed in</div>\n\t\t\t\t\t<div class="user">\n\t\t\t\t\t\t<table id="'+u+'">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<img id="'+l+'" class="image" alt="" />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<p id="'+c+'"></p>\n\t\t\t\t\t\t\t\t\t<p id="'+f+'"></p>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype.signIn=function(){var t,e,i,n,s=this;if(window.Microsoft&&window.Microsoft.Xbox&&window.Microsoft.Xbox.Services){t=window.Microsoft.Xbox.Services,e=t.System,i=t.XboxLiveContext,n=(0,t.XboxLiveUser)();try{n.signInAsync(null).then(function(t){t.status===e.SignInStatus.success?i(n).profileService.getUserProfileAsync(n.xboxUserId).then(function(t){s.user={playerId:n.xboxUserId,userName:"",playerName:n.gamertag,playerScore:n.gamerscore,playerImage:t.gameDisplayPictureResizeUri.rawUri},s.signInSuccess()}):t.status===e.SignInStatus.userCancel&&s.signInError()})}catch(t){this.signInError()}}else this.signInError()},e.prototype.signInSuccess=function(){this.refs[l].src=this.user.playerImage,this.refs[c].innerHTML=this.user.userName,this.refs[f].innerHTML=this.user.playerName,this.hidden(this.refs[r]),this.visible(this.refs[o]),this.signInFinish()},e.prototype.signInError=function(){this.refs[a].innerHTML="Something went wrong...",this.refs[h].innerHTML="Unable to sign in",this.signInFinish()},e.prototype.signInFinish=function(){setTimeout(function(){s.routeTo("menu")},d)},e}(n["default"]),e["default"]=p}]);